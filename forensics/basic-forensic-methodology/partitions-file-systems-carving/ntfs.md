# NTFS

## NTFS

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks** рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ PR рдЬрдорд╛ рдХрд░рдХреЗред**

</details>

## **NTFS**

**NTFS** (**рдиреНрдпреВ рдЯреЗрдХреНрдиреЛрд▓реЙрдЬреА рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо**) рдорд╛рдЗрдХреНрд░реЛрд╕реЙрдлреНрдЯ рджреНрд╡рд╛рд░рд╛ рд╡рд┐рдХрд╕рд┐рдд рдПрдХ рдкреНрд░рд╛рдзрд┐рдХреГрдд рдЬрд░реНрдирд▓рд┐рдВрдЧ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╣реИред

NTFS рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ NTFS рдореЗрдВ рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдЖрдХрд╛рд░ рдЗрдХрд╛рдИ рд╣реИ рдФрд░ рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдЖрдХрд╛рд░ рдкрд╛рд░реНрдЯреАрд╢рди рдХреЗ рдЖрдХрд╛рд░ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред

| рдкрд╛рд░реНрдЯреАрд╢рди рдХрд╛ рдЖрдХрд╛рд░       | рдХреНрд▓рд╕реНрдЯрд░ рдкреНрд░рддрд┐ рд╕реЗрдХреНрдЯрд░ | рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдЖрдХрд╛рд░ |
| ------------------------ | ------------------- | ------------ |
| 512MB рдпрд╛ рдЙрд╕рд╕реЗ рдХрдо         | 1                   | 512 рдмрд╛рдЗрдЯ    |
| 513MB-1024MB (1GB)       | 2                   | 1KB          |
| 1025MB-2048MB (2GB)      | 4                   | 2KB          |
| 2049MB-4096MB (4GB)      | 8                   | 4KB          |
| 4097MB-8192MB (8GB)      | 16                  | 8KB          |
| 8193MB-16,384MB (16GB)   | 32                  | 16KB         |
| 16,385MB-32,768MB (32GB) | 64                  | 32KB         |
| 32,768MB рд╕реЗ рдЕрдзрд┐рдХ         | 128                 | 64KB         |

### **рд╕реНрд▓реИрдХ-рд╕реНрдкреЗрд╕**

NTFS рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдЖрдХрд╛рд░ рдЗрдХрд╛рдИ рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрддреА рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдХрдИ рдкреВрд░реНрдг рдХреНрд▓рд╕реНрдЯрд░реЛрдВ рдХреЛ рдЖрдкрдиреЗ рд░рдЦ рд░рд╣реА рд╣реЛрдЧреАред рдлрд┐рд░, рдпрд╣ рдмрд╣реБрдд рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдЕрдзрд┐рдХ рд╕реНрдерд╛рди рд▓реЗ рд░рд╣реА рд╣реЛрдЧреАред рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рджреНрд╡рд╛рд░рд╛ рдмреБрдХ рдХрд┐рдП рдЧрдП рдЗрд╕ рдЦрд╛рд▓реА рд╕реНрдерд╛рди рдХреЛ рд╕реНрд▓реИрдХрд┐рдВрдЧ рд╕реНрдерд╛рди рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд▓реЛрдЧ рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХрд╛ рд▓рд╛рдн рдЙрдард╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЫрд┐рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

![](<../../../.gitbook/assets/image (498).png>)

### **NTFS рдмреВрдЯ рд╕реЗрдХреНрдЯрд░**

рдЬрдм рдЖрдк рдПрдХ NTFS рд╡реЙрд▓реНрдпреВрдо рдХреЛ рдлреЙрд░реНрдореЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдлреЙрд░реНрдореЗрдЯ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдмреВрдЯ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ 16 рд╕реЗрдХреНрдЯрд░ рдЖрд╡рдВрдЯрд┐рдд рдХрд░рддрд╛ рд╣реИред рдкрд╣рд▓рд╛ рд╕реЗрдХреНрдЯрд░ рдПрдХ рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ "рдмреВрдЯрд╕реНрдЯреНрд░реИрдк" рдХреЛрдб рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЖрдЧреЗ рдХреЗ 15 рд╕реЗрдХреНрдЯрд░ рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ рдХрд╛ рдЖрдИрдкреАрдПрд▓ (рдЖрджрд┐рдо рдкреНрд░реЛрдЧреНрд░рд╛рдо рд▓реЛрдбрд░) рд╣реЛрддреЗ рд╣реИрдВред рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, NTFS рдкрд╛рд░реНрдЯреАрд╢рди рдХрд╛ рдмрд╣реБрдд рдЖрдЦрд┐рд░реА рд╕реЗрдХреНрдЯрд░ рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ рдХреА рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред

### **рдорд╛рд╕реНрдЯрд░ рдлрд╝рд╛рдЗрд▓ рдЯреЗрдмрд▓ (MFT)**

NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдорд╛рд╕реНрдЯрд░ рдлрд╝рд╛рдЗрд▓ рдЯреЗрдмрд▓ (MFT) рдирд╛рдордХ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╣реЛрддреА рд╣реИред NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╡реЙрд▓реНрдпреВрдо рдкрд░ рд╣рд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо рдПрдХ MFT рдПрдВрдЯреНрд░реА рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рдореЗрдВ MFT рдЦреБрдж рдХреЛ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИред рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдм
| рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ | $Boot | 7 | рдпрд╣ рд╡реЙрд▓реНрдпреВрдо рдорд╛рдЙрдВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ BPB рдФрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рдмреВрдЯрд╕реНрдЯреНрд░реИрдк рд▓реЛрдбрд░ рдХреЛрдб рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╡реЙрд▓реНрдпреВрдо рдмреВрдЯ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реЛрддрд╛ рд╣реИред |
| рдмрдж рдХреНрд▓рд╕реНрдЯрд░ рдлрд╝рд╛рдЗрд▓ | $BadClus | 8 | рд╡реЙрд▓реНрдпреВрдо рдХреЗ рд▓рд┐рдП рдмреБрд░реЗ рдХреНрд▓рд╕реНрдЯрд░ рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИред |
| рд╕реБрд░рдХреНрд╖рд╛ рдлрд╝рд╛рдЗрд▓ | $Secure | 9 | рд╡реЙрд▓реНрдпреВрдо рдХреЗ рднреАрддрд░ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЕрджреНрд╡рд┐рддреАрдп рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рд╡рд░рдг рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИред |
| рдЕрдкрдХреЗрд╕ рдЯреЗрдмрд▓ | $Upcase | 10 | рд▓реЛрдЕрд░рдХреЗрд╕ рдЕрдХреНрд╖рд░реЛрдВ рдХреЛ рдорд┐рд▓рддреЗ рдпреВрдирд┐рдХреЛрдб рдЕрдкрд░рдХреЗрд╕ рдЕрдХреНрд╖рд░реЛрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИред |
| NTFS рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдлрд╝рд╛рдЗрд▓ | $Extend | 11 | рдХреЛрдЯрд╛, рдкреБрдирд░реНрдкреНрд░реЗрд╖рдг рдмрд┐рдВрджреБ рдбреЗрдЯрд╛ рдФрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдЬреИрд╕реЗ рд╡рд┐рднрд┐рдиреНрди рд╡реИрдХрд▓реНрдкрд┐рдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рд╣реЛрддрд╛ рд╣реИред |
| | | 12-15 | рднрд╡рд┐рд╖реНрдп рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рддред |
| рдХреЛрдЯрд╛ рдкреНрд░рдмрдВрдзрди рдлрд╝рд╛рдЗрд▓ | $Quota | 24 | рд╡реЙрд▓реНрдпреВрдо рд╕реНрдерд╛рди рдкрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреЛрдЯрд╛ рд╕реАрдорд╛рдПрдВ рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИред |
| рдСрдмреНрдЬреЗрдХреНрдЯ рдЖрдИрдбреА рдлрд╝рд╛рдЗрд▓ | $ObjId | 25 | рдлрд╝рд╛рдЗрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рдЖрдИрдбреА рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИред |
| рдкреБрдирд░реНрдкреНрд░реЗрд╖рдг рдмрд┐рдВрджреБ рдлрд╝рд╛рдЗрд▓ | $Reparse | 26 | рдпрд╣ рдлрд╝рд╛рдЗрд▓ рд╡реЙрд▓реНрдпреВрдо рдкрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдлрд╝реЛрд▓реНрдбрд░реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдкреБрдирд░реНрдкреНрд░реЗрд╖рдг рдмрд┐рдВрджреБ рдбреЗрдЯрд╛ рднреА рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИред |

### рдкреНрд░рддреНрдпреЗрдХ MFT рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд░реВрдк рдореЗрдВ рджрд┐рдЦрддреА рд╣реИ:

![](<../../../.gitbook/assets/image (499).png>)

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ "FILE" рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ 1024 рдмрд┐рдЯ рдХрд╛ рдЖрдХрд╛рд░ рд╣реЛрддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП MFT рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗ 1024 рдмрд┐рдЯ рдмрд╛рдж, рдЖрдкрдХреЛ рдЕрдЧрд▓реА рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдорд┐рд▓реЗрдЧреАред

[**Active Disk Editor**](https://www.disk-editor.org/index.html) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ MFT рдореЗрдВ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреА рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред рдлрд╝рд╛рдЗрд▓ рдкрд░ рджрд╛рдпреЗрдВ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ "Inspect File Record" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред

![](<../../../.gitbook/assets/image (500).png>)

![](<../../../.gitbook/assets/image (501).png>)

**"In use"** рдЭрдВрдбрд╛ рдЬрд╛рдВрдЪрдиреЗ рд╕реЗ рдмрд╣реБрдд рдЖрд╕рд╛рдиреА рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╣рдЯрд╛ рджреА рдЧрдИ рд╣реИ (0x0 рдХрд╛ рдорд╛рди рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛрддрд╛ рд╣реИ)ред

![](<../../../.gitbook/assets/image (510).png>)

FTKImager рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рдЯрд╛рдИ рдЧрдИ рдлрд╝рд╛рдЗрд▓реЗрдВ рднреА рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ:

![](<../../../.gitbook/assets/image (502).png>)

### MFT рдЧреБрдгрд╛рдВрдХ

рдкреНрд░рддреНрдпреЗрдХ MFT рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдореЗрдВ рдХрдИ рдЧреБрдгрд╛рдВрдХ рд╣реЛрддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдХрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:

![](<../../../.gitbook/assets/image (506).png>)

рдкреНрд░рддреНрдпреЗрдХ рдЧреБрдгрд╛рдВрдХ рдПрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рд╕реВрдЪрдирд╛ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рдХрд╛рд░ рджреНрд╡рд╛рд░рд╛ рдкрд╣рдЪрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ:

| рдкреНрд░рдХрд╛рд░ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ | рдирд╛рдо | рд╡рд┐рд╡рд░рдг |
| --------------- | ------------------------ | ----------------------------------------------------------------------------------------------------------------- |
| 16 | $STANDARD\_INFORMATION | рдзреНрд╡рдирд┐, рдЬреИрд╕реЗ рдзреНрд╡рдЬ; рдЕрдВрддрд┐рдо рдкрд╣реБрдВрдЪ, рд▓рд┐рдЦрд┐рдд рдФрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╕рдордп; рдФрд░ рдорд╛рд▓рд┐рдХ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдЖрдИрдбреАред |
| 32 | $ATTRIBUTE\_LIST | рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдЕрдиреНрдп рдЧреБрдгрд╛рдВрдХреЛрдВ рдХреА рд╕реВрдЪреА рдХрд╣рд╛рдВ рдорд┐рд▓ рд╕рдХрддреА рд╣реИред |
| 48 | $FILE\_NAME | рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╛рдо, рдпреВрдирд┐рдХреЛрдб рдореЗрдВ, рдФрд░ рдЕрдВрддрд┐рдо рдкрд╣реБрдВрдЪ, рд▓рд┐рдЦрд┐рдд рдФрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╕рдордпред |
| 64 | $VOLUME\_VERSION | рд╡реЙрд▓реНрдпреВрдо рд╕реВрдЪрдирд╛ред рдХреЗрд╡рд▓ рд╕рдВрд╕реНрдХрд░рдг 1.2 рдореЗрдВ рдореМрдЬреВрдж рд╣реЛрддрд╛ рд╣реИ (Windows NT)ред |
| 64 | $OBJECT\_ID | рдлрд╝рд╛рдЗрд▓ рдпрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ 16-рдмрд╛рдЗрдЯ рдпреВрдирд┐рдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ред рдХреЗрд╡рд▓ рд╕рдВрд╕реНрдХрд░рдг 3.0+ рдФрд░ рдмрд╛рдж рдореЗрдВ рдореМрдЬреВрдж рд╣реЛрддрд╛ рд╣реИ (Windows 2000+)ред |
| 80 | $SECURITY\_ DESCRIPTOR | рдлрд╝рд╛рдЗрд▓ рдХреА рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдЧреБрдгред |
| 96 | $VOLUME\_NAME | рд╡реЙрд▓реНрдпреВрдо рдХрд╛ рдирд╛рдоред |
| 112 | $VOLUME\_ INFORMATION | рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдЕрдиреНрдп рдзреНрд╡рдЬред |
| 128 | $DATA | рдлрд╝рд╛рдЗрд▓ рд╕рд╛рдордЧреНрд░реАред |
| 144 | $INDEX\_ROOT | рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдореВрд▓ рдиреЛрдбред |
| 160 | $INDEX\_ALLOCATION | $INDEX\_ROOT рдЧреБрдгрд╛рдВрдХ рдореЗрдВ рдЬрдбрд╝реЗ рд╣реБрдП рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдиреЛрдбред |
| 176 | $BITMAP | $MFT рдлрд╝рд╛рдЗрд▓ рдФрд░ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд┐рдЯрдореИрдкред |
| 192 | $SYMBOLIC\_
### NTFS рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк

![](<../../../.gitbook/assets/image (512).png>)

MFT рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдпреЛрдЧреА рдЙрдкрдХрд░рдг рд╣реИ [**MFT2csv**](https://github.com/jschicht/Mft2Csv) (mft рдлрд╝рд╛рдЗрд▓ рдпрд╛ рдЫрд╡рд┐ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдбрдВрдк рдХрд░реЗрдВ рдФрд░ рдирд┐рдХрд╛рд▓реЗрдВ рдФрд░ рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ)ред\
рдпрд╣ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рднреА MFT рдбреЗрдЯрд╛ рдХреЛ рдирд┐рдХрд╛рд▓реЗрдЧрд╛ рдФрд░ CSV рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдЧрд╛ред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

![](<../../../.gitbook/assets/image (513).png>)

### $LOGFILE

рдлрд╝рд╛рдЗрд▓ **`$LOGFILE`** рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рдХрд┐рдП рдЧрдП рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ **рд▓реЙрдЧ** рдЬрд╛рдирдХрд╛рд░реА рд░рдЦрддреА рд╣реИред рдпрд╣ рднреА **рдкреБрдирдГ рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ **рдХрд╛рд░реНрд░рд╡рд╛рдИ** рдФрд░ **рдкрд┐рдЫрд▓реЗ** **рд╕реНрдерд┐рддрд┐** рдореЗрдВ **рд╡рд╛рдкрд╕ рдЬрд╛рдиреЗ** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╡рд╛рд▓реА **рдХрд╛рд░реНрд░рд╡рд╛рдИ** рдХреЛ **рд╕рд╣реЗрдЬрддреА** рд╣реИред\
рдпреЗ рд▓реЙрдЧ MFT рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреА рддреНрд░реБрдЯрд┐ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЕрдзрд┐рдХрддрдо рдЖрдХрд╛рд░ **65536KB** рд╣реИред

`$LOGFILE` рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЗрд╕реЗ рдирд┐рдХрд╛рд▓рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА [**MFT2csv**](https://github.com/jschicht/Mft2Csv) рдХреЗ рд╕рд╛рде `$MFT` рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА рд╣реЛрдЧреАред\
рдлрд┐рд░ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЦрд┐рд▓рд╛рдл [**LogFileParser**](https://github.com/jschicht/LogFileParser) рдЪрд▓рд╛рдПрдВ рдФрд░ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ `$MFT` рдХреА рдЬрд╛рдВрдЪ рдХрд╛ CVSред рдЖрдкрдХреЛ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЗ рд▓реЙрдЧ рдХреЗ рд╕рд╛рде рдПрдХ CSV рдлрд╝рд╛рдЗрд▓ рдорд┐рд▓реЗрдЧреА рдЬрд┐рд╕реЗ `$LOGFILE` рд▓реЙрдЧ рджреНрд╡рд╛рд░рд╛ рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

![](<../../../.gitbook/assets/image (515).png>)

рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл рдХреНрд░рдорд╢рдГ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдХреЗ рдЖрдк **рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЦрд┐рд▓рд╛рдл рдХрд┐рдП рдЧрдП рд╕рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ** рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ:

![](<../../../.gitbook/assets/image (514).png>)

### $USNJnrl

рдлрд╝рд╛рдЗрд▓ `$EXTEND/$USNJnrl/$J` рдлрд╝рд╛рдЗрд▓ `$EXTEND$USNJnrl` рдХрд╛ рдПрдХ рд╡рд┐рдХрд▓реНрдк рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдо рд╣реИред рдпрд╣ рдЖрд░реНрдЯрд┐рдлреИрдХреНрдЯ `$LOGFILE` рд╕реЗ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ NTFS рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ рд╣реБрдП рдмрджрд▓рд╛рд╡реЛрдВ рдХрд╛ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рд░рдЦрддрд╛ рд╣реИред

рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдЙрдкрдХрд░рдг [**UsnJrnl2csv**](https://github.com/jschicht/UsnJrnl2Csv) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдлрд╝рд╛рдЗрд▓ рдХреЗ рдирд╛рдо рдХреЗ рджреНрд╡рд╛рд░рд╛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдХреЗ рдЖрдк **рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЦрд┐рд▓рд╛рдл рдХрд┐рдП рдЧрдП рд╕рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ** рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк рдорд╛рддрд╛ рдкреБрд╕реНрддрдХ рдореЗрдВ `MFTReference` рдвреВрдВрдврд╝рдХрд░ рдкрд╛рдПрдВрдЧреЗред рдлрд┐рд░ рдЙрд╕ `MFTReference` рдХреА рдУрд░ рджреЗрдЦрдХрд░ рдЖрдк рдорд╛рддрд╛ рдкреБрд╕реНрддрдХ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

![](<../../../.gitbook/assets/image (516).png>)

### $I30

рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╣рд░ **рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛** рдореЗрдВ рдПрдХ **`$I30`** **рд╡рд┐рд╢реЗрд╖рддрд╛** рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕реЗ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА рдореЗрдВ рдХреЛрдИ рдмрджрд▓рд╛рд╡ рд╣реЛрдиреЗ рдкрд░ рдмрдирд╛рдП рд░рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред рдЬрдм рдлрд╝рд╛рдЗрд▓реЗрдВ рдпрд╛ рдлрд╝реЛрд▓реНрдбрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реЗ рд╣рдЯрд╛рдИ рдЬрд╛рддреА рд╣реИрдВ, рддреЛ **`$I30`** рдЗрдВрдбреЗрдХреНрд╕ рд░рд┐рдХреЙрд░реНрдб рдЙрд╕рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдкреБрдирд░реНрд╡реНрдпрд╡рд╕реНрдерд┐рдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, **рдЗрдВрдбреЗрдХреНрд╕ рд░рд┐рдХреЙрд░реНрдб рдХреА рдкреБрдирд░реНрд╡реНрдпрд╡рд╕реНрдерд╛ рдореЗрдВ рд╣рдЯрд╛рдП рдЧрдП рдлрд╝рд╛рдЗрд▓/рдлрд╝реЛрд▓реНрдбрд░ рдПрдВрдЯреНрд░реА рдХреЗ рдЕрд╡рд╢реЗрд╖ рдЫреЛрдбрд╝ рджреЗрддреА рд╣реИрдВ**ред рдпрд╣ рдлреЛрд░реЗрдВрд╕рд┐рдХреНрд╕ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдбреНрд░рд╛рдЗрд╡ рдкрд░ рдореМрдЬреВрдж рдлрд╝рд╛рдЗрд▓реЗрдВ рдкрд╣рдЪрд╛рдиреА рдЬрд╛ рд╕рдХреЗрдВред

рдЖрдк **FTK Imager** рд╕реЗ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА `$I30` рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдХрд░рдг [Indx2Csv](https://github.com/jschicht/Indx2Csv) рдХреЗ рд╕рд╛рде рдЗрд╕реЗ рдЬрд╛рдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред

![](<../../../.gitbook/assets/image (519).png>)

рдЗрд╕ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде, рдЖрдк **рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рднреАрддрд░ рдХрд┐рдП рдЧрдП рдлрд╝рд╛рдЗрд▓ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ** рд▓реЗрдХрд┐рди рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╣рдЯрд╛рдиреЗ рдХрд╛ рд╕рдордп рдЗрд╕ рд▓реЙрдЧ рдореЗрдВ рд╕рд╣реЗрдЬ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) **рдореЗрдВ** рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud)ред

</details>
