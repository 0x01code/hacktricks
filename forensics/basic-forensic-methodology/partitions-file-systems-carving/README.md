# Partitions/File Systems/Carving

## Partitions/File Systems/Carving

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рд╣реЛ? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рд░рдЦрддреЗ рд╣реИрдВ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛** **рдЕрдиреБрд╕рд░рдг** рдХрд░реЗрдВред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ PRs рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ**

</details>

## Partitions

рдПрдХ рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡ рдпрд╛ рдПрдХ **SSD рдбрд┐рд╕реНрдХ рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкрд╛рд░реНрдЯреАрд╢рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ** рдЬрд┐рдирдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдбреЗрдЯрд╛ рдХреЛ рднреМрддрд┐рдХ рд░реВрдк рд╕реЗ рдЕрд▓рдЧ рдХрд░рдирд╛ рд╣реЛрддрд╛ рд╣реИред\
рдбрд┐рд╕реНрдХ рдХреА **рдиреНрдпреВрдирддрдо** рдЗрдХрд╛рдИ рд╕реЗрдХреНрдЯрд░ рд╣реЛрддреА рд╣реИ (рд╕рд╛рдорд╛рдиреНрдпрддрдГ 512B рдХреЗ рд╕рдВрдпреЛрдЬрди рд╕реЗ рдмрдиреА рд╣реЛрддреА рд╣реИ)ред рдЗрд╕рд▓рд┐рдП, рдкреНрд░рддреНрдпреЗрдХ рдкрд╛рд░реНрдЯреАрд╢рди рдХрд╛ рдЖрдХрд╛рд░ рдЗрд╕ рдЖрдХрд╛рд░ рдХреЗ рдЧреБрдгрдХ рдХрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред

### MBR (рдорд╛рд╕реНрдЯрд░ рдмреВрдЯ рд░рд┐рдХреЙрд░реНрдб)

рдпрд╣ **рдбрд┐рд╕реНрдХ рдХреЗ рдкрд╣рд▓реЗ рд╕реЗрдХреНрдЯрд░ рдореЗрдВ 446B рдХреЗ рдмреВрдЯ рдХреЛрдб рдХреЗ рдмрд╛рдж рдЖрд╡рдВрдЯрд┐рдд** рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рд╕реЗрдХреНрдЯрд░ PC рдХреЛ рдмрддрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ рдкрд╛рд░реНрдЯреАрд╢рди рдХрд╣рд╛рдВ рд╕реЗ рдорд╛рдЙрдВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред\
рдЗрд╕рдореЗрдВ **4 рдкрд╛рд░реНрдЯреАрд╢рди** рддрдХ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИ (рдЕрдзрд┐рдХрд╛рдВрд╢рддрдГ рдХреЗрд╡рд▓ **1** рдПрдХреНрдЯрд┐рд╡/**рдмреВрдЯреЗрдмрд▓** рд╣реЛ рд╕рдХрддрд╛ рд╣реИ)ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдЧрд░ рдЖрдкрдХреЛ рдЕрдзрд┐рдХ рдкрд╛рд░реНрдЯреАрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рддреЛ рдЖрдк **рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдкрд╛рд░реНрдЯреАрд╢рди** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рдкрд╣рд▓реЗ рд╕реЗрдХреНрдЯрд░ рдХрд╛ рдЕрдВрддрд┐рдо рдмрд╛рдЗрдЯ рдмреВрдЯ рд░рд┐рдХреЙрд░реНрдб рд╕рд┐рдЧреНрдиреЗрдЪрд░ **0x55AA** рд╣реЛрддрд╛ рд╣реИред рдХреЗрд╡рд▓ рдПрдХ рдкрд╛рд░реНрдЯреАрд╢рди рдХреЛ рдПрдХреНрдЯрд┐рд╡ рдорд╛рд░реНрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред\
MBR рдореЗрдВ **рдЕрдзрд┐рдХрддрдо 2.2TB** рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИред

![](<../../../.gitbook/assets/image (489).png>)

![](<../../../.gitbook/assets/image (490).png>)

MBR рдХреЗ **рдмрд╛рдЗрдЯ 440 рд╕реЗ 443** рддрдХ рдЖрдк **Windows Disk Signature** рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ (рдпрджрд┐ Windows рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ)ред рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдХрд╛ рд▓реЙрдЬрд┐рдХрд▓ рдбреНрд░рд╛рдЗрд╡ рдкрддреНрд░ Windows Disk Signature рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рд╕рд┐рдЧреНрдиреЗрдЪрд░ рдХреЛ рдмрджрд▓рдиреЗ рд╕реЗ Windows рдХреЗ рдмреВрдЯ рд╣реЛрдиреЗ рд╕реЗ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдЙрдкрдХрд░рдг: [**Active Disk Editor**](https://www.disk-editor.org/index.html)**)**ред

![](<../../../.gitbook/assets/image (493).png>)

**рдкреНрд░рд╛рд░реВрдк**

| Offset      | Length     | рдЖрдЗрдЯрдо                |
| ----------- | ---------- | ------------------- |
| 0 (0x00)    | 446(0x1BE) | рдмреВрдЯ рдХреЛрдб           |
| 446 (0x1BE) | 16 (0x10)  | рдкрд╣рд▓рд╛ рдкрд╛рд░реНрдЯреАрд╢рди     |
| 462 (0x1CE) | 16 (0x10)  | рджреВрд╕рд░рд╛ рдкрд╛рд░реНрдЯреАрд╢рди    |
| 478 (0x1DE) | 16 (0x10)  | рддреАрд╕рд░рд╛ рдкрд╛рд░реНрдЯреАрд╢рди     |
| 494 (0x1EE) | 16 (0x10)  | рдЪреМрдерд╛ рдкрд╛рд░реНрдЯреАрд╢рди    |
| 510 (0x1FE) | 2 (0x2)    | рд╕рд┐рдЧреНрдиреЗрдЪрд░ 0x55 0xAA |

**рдкрд╛рд░реНрдЯреАрд╢рди рд░рд┐рдХреЙрд░реНрдб рдкреНрд░рд╛рд░реВрдк**

| Offset    | Length   | рдЖрдЗрдЯрдо                                                   |
| --------- | -------- | ------------------------------------------------------ |
| 0 (0x00)  | 1 (0x01) | рдПрдХреНрдЯрд┐рд╡ рдлреНрд▓реИрдЧ (0x80 = рдмреВрдЯреЗрдмрд▓)                          |
| 1 (0x01)  | 1 (0x01) | рдкреНрд░рд╛рд░рдВрдн рд╣реЗрдб                                             |
| 2 (0x02)  | 1 (0x01) | рдкреНрд░рд╛рд░рдВрдн рд╕реЗрдХреНрдЯрд░ (рдмрд┐рдЯреНрд╕ 0-5); рд╕рд┐рд▓реЗрдВрдбрд░ рдХреЗ рдКрдкрд░реА рдмрд┐рдЯреНрд╕ (6- 7) |
| 3 (0x03)  | 1 (0x01) | рдкреНрд░рд╛рд░рдВрдн рд╕рд┐рд▓реЗрдВрдбрд░ рдХреЗ рдирд┐рдЪрд▓реЗ 8 рдмрд┐рдЯреНрд╕                           |
| 4 (0x04)  | 1 (0x01) | рдкрд╛рд░реНрдЯреАрд╢рди рдкреНрд░рдХрд╛рд░ рдХреЛрдб (0x83 = рд▓рд┐рдирдХреНрд╕)                     |
| 5 (0x05)  | 1 (0x01) | рдЕрдВрддрд┐рдо рд╣реЗрдб                                               |
| 6 (0x06)  | 1 (0x01) | рдЕрдВрддрд┐рдо рд╕реЗрдХреНрдЯрд░ (рдмрд┐рдЯреНрд╕ 0
```bash
#Mount MBR in Linux
mount -o ro,loop,offset=<Bytes>
#63x512 = 32256Bytes
mount -o ro,loop,offset=32256,noatime /path/to/image.dd /media/part/
```
**LBA (рд▓реЙрдЬрд┐рдХрд▓ рдмреНрд▓реЙрдХ рдкрддрд╛)**

**рд▓реЙрдЬрд┐рдХрд▓ рдмреНрд▓реЙрдХ рдкрддрд╛** (**LBA**) рдХрдВрдкреНрдпреВрдЯрд░ рд╕реНрдЯреЛрд░реЗрдЬ рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдбреЗрдЯрд╛ рдХреЗ рдмреНрд▓реЙрдХ рдХреЗ рд╕реНрдерд╛рди рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдпреЛрдЬрдирд╛ рд╣реИ, рдЖрдорддреМрд░ рдкрд░ рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдбреНрд░рд╛рдЗрд╡ рдХреА рддрд░рд╣ рдХреЗ рд╕реЗрдХреЗрдВрдбрд░реА рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдореЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИред LBA рдПрдХ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рд░рд▓ рд░реИрдЦрд┐рдХ рдкрддрд╛ рдпреЛрдЬрдирд╛ рд╣реИ; рдмреНрд▓реЙрдХреЛрдВ рдХреЛ рдПрдХ рдкреВрд░реНрдгрд╛рдВрдХ рд╕реВрдЪрдХрд╛рдВрдХ рджреНрд╡рд╛рд░рд╛ рд╕реНрдерд╛рдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдкрд╣рд▓рд╛ рдмреНрд▓реЙрдХ LBA 0 рд╣реЛрддрд╛ рд╣реИ, рджреВрд╕рд░рд╛ LBA 1 рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕реА рдкреНрд░рдХрд╛рд░ред

### GPT (GUID рдкрд╛рд░реНрдЯреАрд╢рди рдЯреЗрдмрд▓)

рдЗрд╕реЗ рдЧреНрд▓реЛрдмрд▓реА рдпреВрдирд┐рдХ рдЖрдИрдбреЗрдВрдЯрд┐рдлрд╛рдпрд░ рдХреЗ рдХрд╛рд░рдг GUID рдкрд╛рд░реНрдЯреАрд╢рди рдЯреЗрдмрд▓ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред

MBR рдХреА рддрд░рд╣ рдпрд╣ **рд╕реЗрдХреНрдЯрд░ 0** рдореЗрдВ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред MBR рдореЗрдВ 32 рдмрд┐рдЯ рд╣реЛрддреЗ рд╣реИрдВ рдЬрдмрдХрд┐ **GPT** рдореЗрдВ **64 рдмрд┐рдЯ** рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИред\
GPT **Windows рдореЗрдВ 128 рдкрд╛рд░реНрдЯреАрд╢рди рддрдХ** рдФрд░ **9.4ZB рддрдХ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкрд╛рд░реНрдЯреАрд╢рдиреЛрдВ рдХреЗ рдкрд╛рд╕ 36 рдЕрдХреНрд╖рд░реЛрдВ рдХрд╛ рдпреВрдирд┐рдХреЛрдб рдирд╛рдо рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

MBR рдбрд┐рд╕реНрдХ рдкрд░, рдкрд╛рд░реНрдЯреАрд╢рдирд┐рдВрдЧ рдФрд░ рдмреВрдЯ рдбреЗрдЯрд╛ рдПрдХ рд╣реА рд╕реНрдерд╛рди рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреЗ рд╣реИрдВред рдпрджрд┐ рдпрд╣ рдбреЗрдЯрд╛ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдпрд╛ рдХреНрд╖рддрд┐рдЧреНрд░рд╕реНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдореБрд╕реАрдмрдд рдореЗрдВ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, **GPT рдбрд┐рд╕реНрдХ рдкрд░ рдЗрд╕ рдбреЗрдЯрд╛ рдХреЗ рдХрдИ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐рдпрд╛рдБ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреА рд╣реИрдВ**, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдордЬрдмреВрдд рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдпрджрд┐ рдбреЗрдЯрд╛ рдХреНрд╖рддрд┐рдЧреНрд░рд╕реНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдЗрд╕реЗ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

GPT рднреА **рд╕рд╛рдЗрдХреНрд▓рд┐рдХ рд░реЗрдбрдВрдбреЗрдВрд╕реА рдЪреЗрдХ (CRC)** рдорд╛рдиреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдЬрд╛рдВрдЪ рд╕рдХреЗ рдХрд┐ рдЙрд╕рдХрд╛ рдбреЗрдЯрд╛ рд╕рдВрдкреВрд░реНрдг рд╣реИред рдпрджрд┐ рдбреЗрдЯрд╛ рдХреНрд╖рддрд┐рдЧреНрд░рд╕реНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ GPT рд╕рдорд╕реНрдпрд╛ рдХреЛ рдиреЛрдЯрд┐рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдбрд┐рд╕реНрдХ рдкрд░ рджреВрд╕рд░реЗ рд╕реНрдерд╛рди рд╕реЗ рдХреНрд╖рддрд┐рдЧреНрд░рд╕реНрдд рдбреЗрдЯрд╛ рдХреЛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

**рдкреНрд░реЛрдЯреЗрдХреНрдЯрд┐рд╡ MBR (LBA0)**

рдкреАрдЫреЗ рдХреА рдУрд░ рд╕рдВрдЧрддрддрд╛ рдХреЗ рд▓рд┐рдП, рдкреБрд░рд╛рдиреЗ MBR рдкрд░ рдЕрднреА рднреА рдЬрдЧрд╣ GPT рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рд╕рдВрд░рдХреНрд╖рд┐рдд рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдм рдЗрд╕реЗ рдПрдХ рдРрд╕реЗ рддрд░реАрдХреЗ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ MBR рдЖрдзрд╛рд░рд┐рдд рдбрд┐рд╕реНрдХ рдЙрдкрдпреЛрдЧрд┐рдпреЛрдВ рдХреЛ GPT рдбрд┐рд╕реНрдХ рдХреЛ рдЧрд▓рдд рд░реВрдк рд╕реЗ рдкрд╣рдЪрд╛рдирдиреЗ рдФрд░ рд╢рд╛рдпрдж рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕реЗ рдкреНрд░реЛрдЯреЗрдХреНрдЯрд┐рд╡ MBR рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред

![](<../../../.gitbook/assets/image (491).png>)

**рд╣рд╛рдЗрдмреНрд░рд┐рдб MBR (LBA 0 + GPT)**

рдЬреЛ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо GPT рдЖрдзрд╛рд░рд┐рдд рдмреВрдЯ рдХреЛ BIOS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ, рдЙрдирдореЗрдВ рдкрд╣рд▓рд╛ рд╕реЗрдХреНрдЯрд░ рдмреВрдЯрд▓реЛрдбрд░ рдХреЛрдб рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди **рд╕рдВрд╢реЛрдзрд┐рдд** рдХрд░рдХреЗ **GPT рдкрд╛рд░реНрдЯреАрд╢рди** рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдПред MBR рдореЗрдВ рдмреВрдЯрд▓реЛрдбрд░ 512 рдмрд╛рдЗрдЯ рдХрд╛ рд╕реЗрдХреНрдЯрд░ рдЖрдХрд╛рд░ рдХрд╛ рдирд╣реАрдВ рдорд╛рдирдирд╛ рдЪрд╛рд╣рд┐рдПред

**рдкрд╛рд░реНрдЯреАрд╢рди рдЯреЗрдмрд▓ рд╣реИрдбрд░ (LBA 1)**

рдкрд╛рд░реНрдЯреАрд╢рди рдЯреЗрдмрд▓ рд╣реИрдбрд░ рдбрд┐рд╕реНрдХ рдкрд░ рдЙрдкрдпреЛрдЧреА рдмреНрд▓реЙрдХреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдпрд╣рд╛рдВ рдмрдиреЗ рдкрд╛рд░реНрдЯреАрд╢рди рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЖрдХрд╛рд░ рдХреЛ рднреА рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ (рдЯреЗрдмрд▓ рдореЗрдВ 80 рдФрд░ 84 рдХреЗ рдСрдлрд╕реЗрдЯ)ред

| рдСрдлрд╕реЗрдЯ    | рд▓рдВрдмрд╛рдИ   | рд╕рд╛рдордЧреНрд░реА                                                                                                                                                                        |
| --------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 0 (0x00)  | 8 рдмрд╛рдЗрдЯ  | рд╣рд╕реНрддрд╛рдХреНрд╖рд░ ("EFI PART", 45h 46h 49h 20h 50h 41h 52h 54h рдпрд╛ 0x5452415020494645ULL[ ](https://en.wikipedia.org/wiki/GUID\_Partition\_Table#cite\_note-8)рд▓рд┐рдЯрд┐рд▓-рдПрдВрдбрд┐рдпрди рдорд╢реАрдиреЛрдВ рдкрд░) |
| 8 (0x08)  | 4 рдмрд╛рдЗрдЯ  | UEFI 2.8 рдХреЗ рд▓рд┐рдП рд╕рдВрд╢реЛрдзрди 1.0 (00h 00h 01h 00h)                                                                                                                                     |
| 12 (0x0C) | 4 рдмрд╛рдЗрдЯ  | рд▓рд┐рдЯрд┐рд▓-рдПрдВрдбрд┐рдпрди рдореЗрдВ рд╣реЗрдбрд░ рдХрд╛ рдЖрдХрд╛рд░ (рдмрд╛рдЗрдЯ рдореЗрдВ, рдЖрдорддреМрд░ рдкрд░ 5Ch 00h 00h 00h рдпрд╛ 92 рдмрд╛рдЗрдЯ)                                                                                                    |
| 16 (0x10) | 4 рдмрд╛рдЗрдЯ  | рд╣реЗрдбрд░ рдХрд╛ [CRC32](https://en.wikipedia.org/wiki/CRC32) (рдСрдлрд╕реЗрдЯ +0 рд╕реЗ рд╣реЗрдбрд░ рдХреЗ рдЖрдХрд╛рд░ рддрдХ) рд▓рд┐рдЯрд┐рд▓-рдПрдВрдбрд┐рдпрди рдореЗрдВ, рдЗрд╕ рдл
## рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо

### Windows рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╕реВрдЪреА

* **FAT12/16**: MSDOS, WIN95/98/NT/200
* **FAT32**: 95/2000/XP/2003/VISTA/7/8/10
* **ExFAT**: 2008/2012/2016/VISTA/7/8/10
* **NTFS**: XP/2003/2008/2012/VISTA/7/8/10
* **ReFS**: 2012/2016

### FAT

**FAT (File Allocation Table)** рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдирд╛рдо рдЗрд╕рдХреЗ рд╕рдВрдЧрдарди рдХреЗ рддрд░реАрдХреЗ, рдлрд╝рд╛рдЗрд▓ рдЖрд╡рдВрдЯрди рдЯреЗрдмрд▓ рдХреЗ рд▓рд┐рдП рд╣реИ, рдЬреЛ рд╡реЙрд▓реНрдпреВрдо рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддрд╛ рд╣реИред рд╡реЙрд▓реНрдпреВрдо рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП, рдЯреЗрдмрд▓ рдХреЗ **рджреЛ рдХреЙрдкрд┐рдпрд╛рдВ** рд░рдЦреА рдЬрд╛рддреА рд╣реИрдВ, рдпрджрд┐ рдПрдХ рдХреЙрдкреА рдХреНрд╖рддрд┐рдЧреНрд░рд╕реНрдд рд╣реЛ рдЬрд╛рддреА рд╣реИред рд╕рд╛рде рд╣реА, рдлрд╝рд╛рдЗрд▓ рдЖрд╡рдВрдЯрди рдЯреЗрдмрд▓ рдФрд░ рд░реВрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рдПрдХ **рдирд┐рд╢реНрдЪрд┐рдд рд╕реНрдерд╛рди** рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рддрд╛рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдвреВрдВрдврд╝реА рдЬрд╛ рд╕рдХреЗрдВред

![](<../../../.gitbook/assets/image (495).png>)

рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдиреНрдпреВрдирддрдо рд╕реНрдерд╛рди рдЗрдХрд╛рдИ рдХреЛ **рдХреНрд▓рд╕реНрдЯрд░** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ 512B (рдЬрд┐рд╕рдореЗрдВ рдХрдИ рд╕реЗрдХреНрдЯрд░ рд╣реЛрддреЗ рд╣реИрдВ) рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдирддрд╛ рд╣реИред

рдкрд╣рд▓реЗ **FAT12** рдореЗрдВ **12-рдмрд┐рдЯ** рдорд╛рдиреЛрдВ рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдкрддреЗ рд╣реЛрддреЗ рдереЗ рдЬрд┐рдирдореЗрдВ рддрдХрд░реАрдмрди **4078 рдХреНрд▓рд╕реНрдЯрд░** рдереЗ; рдпрд╣ UNIX рдХреЗ рд╕рд╛рде 4084 рдХреНрд▓рд╕реНрдЯрд░ рддрдХ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рдерд╛ред рдЕрдзрд┐рдХ рджрдХреНрд╖ **FAT16** рдореЗрдВ **16-рдмрд┐рдЯ** рдХреНрд▓рд╕реНрдЯрд░ рдкрддрд╛ рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдкреНрд░рддрд┐ рд╡реЙрд▓реНрдпреВрдо рддрдХ рдХреБрд▓ **65,517 рдХреНрд▓рд╕реНрдЯрд░** рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИред FAT32 32-рдмрд┐рдЯ рдХреНрд▓рд╕реНрдЯрд░ рдкрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдкреНрд░рддрд┐ рд╡реЙрд▓реНрдпреВрдо рддрдХ рдХреБрд▓ **268,435,456 рдХреНрд▓рд╕реНрдЯрд░** рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИред

**FAT рджреНрд╡рд╛рд░рд╛ рдЕрдиреБрдорддрд┐ рджреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЕрдзрд┐рдХрддрдо рдлрд╝рд╛рдЗрд▓ рдЖрдХрд╛рд░ 4GB** (рдПрдХ рдмрд╛рдЗрдЯ рдХрдо) рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдмрд╛рдЗрдЯ рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рдЖрдХрд╛рд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ 32-рдмрд┐рдЯ рдлрд╝реАрд▓реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдФрд░ 2^32 рдмрд╛рдЗрдЯ = 4 GiB рд╣реЛрддреЗ рд╣реИрдВред рдпрд╣ FAT12, FAT16 рдФрд░ FAT32 рдХреЗ рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИред

**рд░реВрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛** FAT12 рдФрд░ FAT16 рдХреЗ рд▓рд┐рдП рдПрдХ **рдирд┐рд╢реНрдЪрд┐рдд рд╕реНрдерд╛рди** рдХрд╛ рджрд╛рд╡рд╛ рдХрд░рддреА рд╣реИ (FAT32 рдореЗрдВ рдпрд╣ рдХрд┐рд╕реА рдЕрдиреНрдп рдлрд╝реЛрд▓реНрдбрд░ рдХреА рддрд░рд╣ рдПрдХ рд╕реНрдерд╛рди рдХрд╛ рджрд╛рд╡рд╛ рдХрд░рддреА рд╣реИ)ред рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓/рдлрд╝реЛрд▓реНрдбрд░ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдореЗрдВ рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИ:

* рдлрд╝рд╛рдЗрд▓/рдлрд╝реЛрд▓реНрдбрд░ рдХрд╛ рдирд╛рдо (8 рдЕрдзрд┐рдХрддрдо рд╡рд░реНрдг)
* рдЧреБрдг
* рдирд┐рд░реНрдорд╛рдг рдХреА рддрд╛рд░реАрдЦ
* рд╕рдВрд╢реЛрдзрди рдХреА рддрд╛рд░реАрдЦ
* рдЕрдВрддрд┐рдо рдкрд╣реБрдБрдЪ рдХреА рддрд╛рд░реАрдЦ
* рдлрд╝рд╛рдЗрд▓ рдХреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдХреНрд▓рд╕реНрдЯрд░ рдХреА FAT рдЯреЗрдмрд▓ рдХрд╛ рдкрддрд╛
* рдЖрдХрд╛рд░

рдЬрдм рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЛ FAT рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ "рд╣рдЯрд╛рдпрд╛" рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рд▓рдЧрднрдЧ **рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рд░рд╣рддреА рд╣реИ**, рдХреЗрд╡рд▓ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдирд╛рдо рдХреЗ **рдкрд╣рд▓реЗ рд╡рд░реНрдг рдХреЛ** (0xE5 рдореЗрдВ рд╕рдВрд╢реЛрдзрд┐рдд) рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, "рд╣рдЯрд╛рдИ рдЧрдИ" рдлрд╝рд╛рдЗрд▓ рдХреЗ рдирд╛рдо рдХрд╛ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╣рд┐рд╕реНрд╕рд╛, рдЙрд╕рдХреЗ рд╕рдордп рдЫрд╛рдк, рдлрд╝рд╛рдЗрд▓ рдХреА рд▓рдВрдмрд╛рдИ рдФрд░ тАФ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд░реВрдк рд╕реЗ тАФ рдбрд┐рд╕реНрдХ рдкрд░ рдЗрд╕рдХреА рднреМрддрд┐рдХ рд╕реНрдерд╛рдиред рддрдерд╛рдкрд┐, рдлрд╝рд╛рдЗрд▓ рдЖрд╡рдВрдЯрди рдЯреЗрдмрд▓ рд╕реЗ рдбрд┐рд╕реНрдХ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рд╕реВрдЪреА рдорд┐рдЯрд╛ рджреА рдЬрд╛рдПрдЧреА, рдЬрд┐рд╕рд╕реЗ рд╡реЗ рд╕реЗрдХреНрдЯрд░ рдЕрдиреНрдп рдлрд╝рд╛рдЗрд▓реЗрдВ рдмрдирд╛рдИ рдпрд╛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рдПрдВрдЧреЗред FAT32 рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░рдВрдн рдХреНрд▓рд╕реНрдЯрд░ рдорд╛рди рдХреЗ рдКрдкрд░реА 16 рдмрд┐рдЯ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдПрдХ рдорд┐рдЯрд╛ рдлрд╝реАрд▓реНрдб рднреА рд╣реЛрддрд╛ рд╣реИред

### **NTFS**

{% content-ref url="ntfs.md" %}
[ntfs.md](ntfs.md)
{% endcontent-ref %}

### EXT

**Ext2** рдиреЛрдЯ рдЬрд░реНрдирд▓рд┐рдВрдЧ рд╡рд╛рд▓реЗ рд╡рд┐рднрд╛рдЬрдиреЛрдВ (**рд╡рд┐рднрд╛рдЬрди рдЬреЛ рдмрд╣реБрдд рдмрджрд▓рддреЗ рдирд╣реАрдВ рд╣реИрдВ**) рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЖрдо рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╣реИред **Ext3/4** рдЬрд░реНрдирд▓рд┐рдВрдЧ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЖрдорддреМрд░ рдкрд░ **рдмрд╛рдХреА рд╡рд┐рднрд╛рдЬрдиреЛрдВ** рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рд╣реЛрддреЗ рд╣реИрдВред

{% content-ref url="ext.md" %}
[ext.md](ext.md)
{% endcontent-ref %}

## **рдореЗрдЯрд╛рдбреЗрдЯрд╛**

рдХреБрдЫ рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реЛрддреА рд╣реИ рдЬреЛ рдХрднреА-рдХрднреА рдПрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рдХреЗ рд▓рд┐рдП рджрд┐рд▓рдЪрд╕реНрдк рд╣реЛ рд╕рдХрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдк
## рд╕рдВрджрд░реНрдн

* [https://en.wikipedia.org/wiki/GUID\_Partition\_Table](https://en.wikipedia.org/wiki/GUID\_Partition\_Table)
* [http://ntfs.com/ntfs-permissions.htm](http://ntfs.com/ntfs-permissions.htm)
* [https://www.osforensics.com/faqs-and-tutorials/how-to-scan-ntfs-i30-entries-deleted-files.html](https://www.osforensics.com/faqs-and-tutorials/how-to-scan-ntfs-i30-entries-deleted-files.html)
* [https://docs.microsoft.com/en-us/windows-server/storage/file-server/volume-shadow-copy-service](https://docs.microsoft.com/en-us/windows-server/storage/file-server/volume-shadow-copy-service)
* **iHackLabs Certified Digital Forensics Windows**

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛** рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛** **рдЕрдиреБрд╕рд░рдг** рдХрд░реЗрдВред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ рдЕрдкрдирд╛ рдпреЛрдЧрджрд╛рди рджреЗрдВред**

</details>
