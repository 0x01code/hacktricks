# ラジオ

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)でAWSハッキングをゼロからヒーローまで学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見する、私たちの独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクション
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**テレグラムグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* **HackTricks**のPRを提出して、あなたのハッキングのコツを共有する [**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubリポジトリ。

</details>

## SigDigger

[**SigDigger**](https://github.com/BatchDrake/SigDigger)はGNU/LinuxとmacOS用の無料のデジタル信号アナライザーで、未知のラジオ信号の情報を抽出するために設計されています。SoapySDRを通じてさまざまなSDRデバイスをサポートし、FSK、PSK、ASK信号の調整可能な復調、アナログビデオのデコード、バースト信号の分析、アナログ音声チャンネルのリアルタイムでのリスニングが可能です。

### 基本設定

インストール後、いくつかの設定を検討することができます。\
設定（2番目のタブボタン）で、**SDRデバイス**を選択するか**ファイルを選択**して読み取り、同調する周波数とサンプルレートを選択できます（PCがサポートしている場合は最大2.56Mspsまで上げることをお勧めします）\\

![](<../../.gitbook/assets/image (655) (1).png>)

GUIの動作では、PCがサポートしている場合、いくつかの項目を有効にすることをお勧めします：

![](<../../.gitbook/assets/image (465) (2).png>)

{% hint style="info" %}
PCが何もキャプチャしていないことに気づいた場合は、OpenGLを無効にしてサンプルレートを下げてみてください。
{% endhint %}

### 用途

* 信号を**キャプチャして分析する**だけの場合は、必要な時間だけ「Push to capture」ボタンを押し続けてください。

![](<../../.gitbook/assets/image (631).png>)

* SigDiggerの**チューナー**は**より良い信号をキャプチャする**のに役立ちます（しかし、それによって信号が劣化することもあります）。理想的には0から始めて、必要な信号の改善がノイズの増加よりも大きくなるまで**大きくしていきます**。

![](<../../.gitbook/assets/image (658).png>)

### ラジオチャンネルとの同期

[**SigDigger**](https://github.com/BatchDrake/SigDigger)で聞きたいチャンネルと同期し、「Baseband audio preview」オプションを設定し、送信されている情報をすべて取得するための帯域幅を設定し、ノイズが本当に増加し始める前のレベルにチューナーを設定します：

![](<../../.gitbook/assets/image (389).png>)

## 興味深いコツ

* デバイスが情報のバーストを送信している場合、通常**最初の部分はプリアンブル**になるので、そこで情報が見つからない場合やエラーがある場合でも**心配する必要はありません**。
* 情報のフレームでは、通常、異なるフレームが互いによく整列しているべきです：

![](<../../.gitbook/assets/image (660) (1).png>)

![](<../../.gitbook/assets/image (652) (1) (1).png>)

* **ビットを回復した後、何らかの方法で処理する必要があるかもしれません**。たとえば、マンチェスター符号化では、上昇+下降が1または0になり、下降+上昇がもう一方になります。したがって、1と0のペア（上昇と下降）は実際の1または0になります。
* 信号がマンチェスター符号化を使用している場合（2つ以上の0または1が連続して見つかることは不可能です）、プリアンブルで複数の1または0が連続していることがあります！

### IQで変調タイプを明らかにする

信号に情報を格納する方法には3つあります：**振幅**、**周波数**、または**位相**の変調です。\
信号をチェックしている場合、使用されている情報格納方法を見つけるために試すことができるさまざまな方法があります（以下でさらに多くの方法を見つけることができます）が、良い方法の1つはIQグラフをチェックすることです。

![](<../../.gitbook/assets/image (630).png>)

* **AMの検出**：IQグラフにたとえば**2つの円**（おそらく1つは0で、もう1つは異なる振幅で）が現れた場合、これはAM信号である可能性があります。これは、IQグラフでは0と円の間の距離が信号の振幅であるため、異なる振幅が使用されているのが簡単に視覚化できるためです。
* **PMの検出**：前の画像のように、関連性のない小さな円が見つかった場合、位相変調が使用されている可能性があります。これは、IQグラフでは、点と0,0の間の角度が信号の位相であるため、4つの異なる位相が使用されていることを意味します。
* 位相が変化した事実に情報が隠されていて、位相自体にはない場合、異なる位相が明確に区別されているのを見ることはありません。
* **FMの検出**：IQには周波数を識別するフィールドがありません（中心までの距離が振幅で、角度が位相です）。\
したがって、FMを識別するには、このグラフで**基本的に円だけを見るべき**です。\
さらに、異なる周波数はIQグラフによって**円を横切る速度の加速**によって「表されます」（したがって、SysDiggerで信号を選択するとIQグラフが生成され、作成された円に加速または方向の変化が見られた場合、これはFMである可能性があります）：

## AMの例

{% file src="../../.gitbook/assets/sigdigger_20220308_165547Z_2560000_433500000_float32_iq.raw" %}

### AMを明らかにする

#### エンベロープをチェックする

[**SigDigger**](https://github.com/BatchDrake/SigDigger)でAM情報をチェックし、**エンベロープ**を見るだけで、異なる明確な振幅レベルが見えます。使用されている信号はAMで情報を送信するパルスを送信しており、これが1つのパルスのように見えます：

![](<../../.gitbook/assets/image (636).png>)

そして、これが波形でのシンボルの一部のように見えます：

![](<../../.gitbook/assets/image (650) (1).png>)

#### ヒストグラムをチェックする

情報が配置されている信号全体を**選択**し、**振幅**モードと**選択**を選択し、**ヒストグラム**をクリックします。2つの明確なレベルが見つかることが観察できます

![](<../../.gitbook/assets/image (647) (1) (1).png>)

たとえば、このAM信号で振幅の代わりに周波数を選択すると、1つの周波数しか見つかりません（周波数で変調された情報が1つの周波数しか使用していない場合）。

![](<../../.gitbook/assets/image (637) (1) (1).png>)

多くの周波数が見つかった場合、これはFMではない可能性が高く、おそらく信号の周波数がチャネルのために変更されただけです。

#### IQで

この例では、**大きな円**があることがわかりますが、**中心にも多くの点があります**。

![](<../../.gitbook/assets/image (640).png>)

### シンボルレートを取得する

#### 1つのシンボルで

見つけることができる最小のシンボルを選択します（それが1つだけであることを確認するため）し、「Selection freq」をチェックします。この場合、それは1.013kHz（したがって1kHz）になります。

![](<../../.gitbook/assets/image (638) (1).png>)

#### シンボルのグループで

選択するシンボルの数を示すこともでき、SigDiggerは1つのシンボルの周波数を計算します（選択されたシンボルが多いほど、おそらくより良いでしょう）。このシナリオでは、10個のシンボルを選択し、「Selection freq」は1.004 Khzです：

![](<../../.gitbook/assets/image (635).png>)

### ビットを取得する

これが**AM変調**信号であり、**シンボルレート**が見つかり（そしてこの場合、何かが上がっていると1で、何かが下がっていると0を意味することを知っているため）、信号にエンコードされたビットを非常に簡単に**取得できます**。したがって、情報を持つ信号を選択し、サンプリングと決定を設定し、サンプルを押します（**振幅**が選択されていること、発見された**シンボルレート**が設定されていること、**Gadnerクロックリカバリ**が選択されていることを確認してください）：

![](<../../.gitbook/assets/image (642) (1).png>)

* **選択間隔に同期**すると、以前にシンボルレートを見つけるために選択した間隔が使用されることを意味します。
* **マニュアル**は、指示されたシンボルレートが使用されることを意味します
* **固定間隔選択**では、選択されるべき間隔の数を示し、それからシンボルレートを計算します
* **Gadnerクロックリカバリ**は通常最良のオプションですが、いくつかの近似シンボルレートを示す必要があります。

サンプルを押すと、これが表示されます：

![](<../../.gitbook/assets/image (659).png>)

情報を運ぶレベルの範囲が**どこにあるか**をSigDiggerに理解させるためには、**最低レベル**をクリックして、最大レベルまでクリックしたままにする必要があります：

![](<../../.gitbook/assets/image (662) (1) (1) (1).png>)

たとえば、振幅の**4つの異なるレベル**があった場合、**シンボルごとのビットを2**に設定し、最小から最大まで選択する必要があります。

最後に、**ズームを増やし**、**行サイズを変更する**ことでビットを見ることができます（そして、すべてを選択してコピーすると、すべてのビットを取得できます）：

![](<../../.gitbook/assets/image (649) (1).png>)

信号にシンボルごとに1ビット以上がある場合（たとえば2つの場合）、SigDiggerはどのシンボルが00、01、10、11であるかを知る方法がないため、それぞれを表すために異なる**グレースケール**を使用します（そして、ビットをコピーすると、**0から3までの数字**を使用します、それらを処理する必要があります）。

また、**マンチェスター**などの**符号化**を使用し、**上昇+下降**が**1または0**になり、下降+上昇が1または0になる場合があります。そのような場合、得られた上昇（1）と下降（0）を処理して、01または10のペアを0または1として置き換える必要があります。

## FMの例

{%
