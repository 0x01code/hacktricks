# ACLs - DACLs/SACLs/ACEs

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=acls-dacls-sacls-aces) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рдмрд╕реЗ рдЙрдиреНрдирдд рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣** рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдирд┐рд░реНрдорд┐рдд рдХрд░реЗрдВ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░реЗрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪреЗрдВ:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=acls-dacls-sacls-aces" %}

<details>

<summary><strong>рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХрд╛ **рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **HackTricks** рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ **PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>

## **рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕реВрдЪреА (ACL)**

рдПрдХ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕реВрдЪреА (ACL) рдПрдХ рдХреНрд░рдордмрджреНрдз рд╕реЗрдЯ рдХреЗ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ (ACEs) рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдиреА рд╣реЛрддреА рд╣реИ рдЬреЛ рдПрдХ рд╡рд╕реНрддреБ рдФрд░ рдЙрд╕рдХреА рдЧреБрдгрд╡рддреНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрд░рдХреНрд╖рдг рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИред рд╕рд╛рд░рд╛рдВрд╢ рдореЗрдВ, ACL рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдПрдХ рджрд┐рдП рдЧрдП рд╡рд╕реНрддреБ рдкрд░ рдХрд┐рд╕ рд╕реБрд░рдХреНрд╖рд╛ рд╕рд┐рджреНрдзрд╛рдВрдд (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рд╕рдореВрд╣) рджреНрд╡рд╛рд░рд╛ рдХреМрди рд╕реЗ рдХрд╛рд░реНрд░рд╡рд╛рдИ рд╕реНрд╡реАрдХреГрдд рдпрд╛ рдирд┐рд╖реЗрдзрд┐рдд рд╣реИрдВред

рджреЛ рдкреНрд░рдХрд╛рд░ рдХреА ACL рд╣реЛрддреА рд╣реИрдВ:

* **рд╡рд┐рд╡реЗрдХрд╛рдзреАрди рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕реВрдЪреА (DACL):** рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдХрд┐рд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рд╕рдореВрд╣ рдХреЛ рдПрдХ рд╡рд╕реНрддреБ рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ рдпрд╛ рдирд╣реАрдВред
* **рд╕рд┐рд╕реНрдЯрдо рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕реВрдЪреА (SACL):** рдПрдХ рд╡рд╕реНрддреБ рдХреЗ рдкрд░рд╛рдорд░реНрд╢ рдкреНрд░рдпрд╛рд╕реЛрдВ рдХреА рд▓реЗрдЦрдиреА рдХрд╛ рдирд┐рдпрдВрддреНрд░рдг рдХрд░рддреА рд╣реИред

рдПрдХ рдлрд╝рд╛рдЗрд▓ рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ, рд╕рд┐рд╕реНрдЯрдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╣реБрдВрдЪ рдЯреЛрдХрди рдХреЗ рдЦрд┐рд▓рд╛рдл рд╡рд╕реНрддреБ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рд╡рд░рдгрдХрд░реНрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рдП рдФрд░ рдЙрд╕ рдкрд╣реБрдВрдЪ рдХреА рд╡реНрдпрд╛рдкрдХрддрд╛, ACEs рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛ рд╕рдХреЗред

### **рдореБрдЦреНрдп рдШрдЯрдХ**

* **DACL:** рдПрдХ рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдФрд░ рд╕рдореВрд╣реЛрдВ рдХреЛ рдкрд╣реБрдВрдЪ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рджреЗрдиреЗ рдпрд╛ рдирдХрд╛рд░рдиреЗ рд╡рд╛рд▓реА ACEs рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИред рдпрд╣ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдкрд╣реБрдВрдЪ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рдореБрдЦреНрдп ACL рд╣реИред
* **SACL:** рд╡рд╕реНрддреБрдУрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреА рд▓реЗрдЦрдиреА рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИ, рдЬрд╣рд╛рдВ ACEs рд╕реБрд░рдХреНрд╖рд╛ рдШрдЯрдирд╛ рд▓реЙрдЧ рдореЗрдВ рд▓реЙрдЧ рдХрд░рдиреЗ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИрдВред рдпрд╣ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рдкреНрд░рдпрд╛рд╕реЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдпрд╛ рдкрд╣реБрдВрдЪ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдореВрд▓реНрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

### **ACLs рдХреЗ рд╕рд╛рде рд╕рд┐рд╕реНрдЯрдо рдЗрдВрдЯрд░реЗрдХреНрд╢рди**

рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рддреНрд░ рд╕реЗ рдПрдХ рдкрд╣реБрдВрдЪ рдЯреЛрдХрди рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЙрд╕ рд╕рддреНрд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рд╕реВрдЪрдирд╛, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛, рд╕рдореВрд╣ рдкрд╣рдЪрд╛рди рдФрд░ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВред рдпрд╣ рдЯреЛрдХрди рдПрдХ рд▓реЙрдЧрдСрди SID рднреА рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╕рддреНрд░ рдХреЛ рдЕрджреНрд╡рд┐рддреАрдпрддрд╛ рд╕реЗ рдкрд╣рдЪрд╛рдирддрд╛ рд╣реИред

рд╕реНрдерд╛рдиреАрдп рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рд╛рдзрд┐рдХрд░рдг (LSASS) ACEs рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдкреНрд░рддрд┐ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╕реБрд░рдХреНрд╖рд╛ рд╕рд┐рджреНрдзрд╛рдВрдд рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╕реБрд░рдХреНрд╖рд╛ рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВред рдХреЛрдИ рд╕рдВрдмрдВрдзрд┐рдд ACEs рдирд╣реАрдВ рдорд┐рд▓рддреЗ рд╣реИрдВ рддреЛ рдкрд╣реБрдВрдЪ рддреБрд░рдВрдд рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИред рдЕрдиреНрдпрдерд╛, LSASS рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ SID рдХреЗ рд╕рд╛рде ACEs рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ рддрдХ рдкрд╣реБрдВрдЪ рдкрд╛рддреНрд░рддрд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред

### **рд╕рдВрдХреНрд╖реЗрдкрд┐рдд рдкреНрд░рдХреНрд░рд┐рдпрд╛**

* **ACLs:** DACLs рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдВрдЪ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИрдВ рдФрд░ SACLs рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЗрдЦрдиреА рдирд┐рдпрдо рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИрдВред
* **рдкрд╣реБрдВрдЪ рдЯреЛрдХрди:** рдПрдХ рд╕рддреНрд░ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛, рд╕рдореВрд╣ рдФрд░ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╕реВрдЪрдирд╛ рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИред
* **рдкрд╣реБрдВрдЪ рдирд┐рд░реНрдгрдп:** DACL ACEs рдХреЛ рдкрд╣реБрдВрдЪ рдЯреЛрдХрди рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рдХреЗ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ; рд▓реЗрдЦрдиреА рдирд┐рдпрдореЛрдВ рдХрд╛ рд▓реЗрдЦрди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### ACEs

**рддреАрди рдореБрдЦреНрдп рдкреНрд░рдХрд╛рд░ рдХреА рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ (ACEs)** рд╣реЛрддреА рд╣реИрдВ:

* **рдкрд╣реБрдВрдЪ рдирд┐рд╖реЗрдзрд┐рдд ACE**: рдЗрд╕ ACE рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдпрд╛ рд╕рдореВрд╣реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд╕реНрддреБ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд┐рд╖реЗрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ (DACL рдореЗрдВ)ред
* **рдкрд╣реБрдВрдЪ рдЕрдиреБрдордд ACE**: рдпрд╣ ACE рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдпрд╛ рд╕рдореВрд╣реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд╕реНрддреБ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ (DACL рдореЗрдВ)ред
* **рд╕рд┐рд╕реНрдЯрдо рдСрдбрд┐рдЯ ACE**: рдПрдХ рд╕рд┐рд╕реНрдЯрдо рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕реВрдЪреА (SACL) рдореЗрдВ рд╕реНрдерд┐рдд, рдпрд╣ ACE рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдпрд╛ рд╕рдореВрд╣реЛрдВ рджреНрд╡рд╛рд░рд╛ рдПрдХ рд╡рд╕реНрддреБ рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рдпрд╛рд╕реЛрдВ рдкрд░ рдСрдбрд┐рдЯ рд▓реЙрдЧ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкрд╣реБрдВрдЪ рдХреА рдЧрдИ рдереА рдпрд╛ рдирд╣реАрдВ рдФрд░ рдкрд╣реБрдВрдЪ рдХрд╛ рдкреНрд░рдХрд╛рд░ред

рдкреНрд░рддреНрдпреЗрдХ ACE рдореЗрдВ **рдЪрд╛рд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдХ** рд╣реЛрддреЗ рд╣реИрдВ:

1. рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рд╕рдореВрд╣ рдХрд╛ **рд╕реБрд░рдХреНрд╖рд╛ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ (SID)** (рдпрд╛ рдЙрдирдХрд╛ рдкреНрд░рдореБрдЦ рдирд╛рдо рдПрдХ рдЧреНрд░рд╛рдлрд┐рдХрд▓ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдореЗрдВ)ред
2. ACE рдкреНрд░рдХрд╛рд░ (рдкрд╣реБрдВрдЪ рдирд┐рд╖реЗрдзрд┐рдд, рдЕрдиреБрдордд рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рдСрдбрд┐рдЯ) рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рд╡рд╛рд▓рд╛ **рдзреНрд╡рдЬ**ред
3. рд╡рд┐рд░рд╛рд╕рдд рдзреНрд╡рдЬ рдЬреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдмрд╛рд▓рдХ рд╡рд╕реНрддреБ рдЕрдкрдиреЗ рдореВрд▓ рд╕реЗ ACE рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓реЗ рд╕рдХрддреА рд╣реИрдВред
4. рдПрдХ [**рдкрд╣реБрдВрдЪ рдорд╛рд╕реНрдХ**](https://docs.microsoft.com/en-us/openspecs/windows\_protocols/ms-dtyp/7a53f60e-e730-4dfe-bbe9-b21b62eb790b?redirectedfrom=MSDN), рдПрдХ 32-рдмрд┐рдЯ рдорд╛рди рдЬреЛ рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рджрддреНрдд рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред

рдкрд╣реБрдВрдЪ рдирд┐рд░реНрдзрд╛рд░рдг рдХреЛ рдХреНрд░рдордмрджреНрдз рд░реВрдк рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ ACE рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рддрдХ:

* рдПрдХ **рдкрд╣реБрдВрдЪ рдирд┐рд╖реЗрдзрд┐рдд ACE** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯреЛрдХрди рдореЗрдВ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╡рд┐рд╢реНрд╡рд╛рд╕реА рдХреЛ рдЕрдиреБрд░реЛрдзрд┐рдд рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд┐рд╖реЗрдзрд┐рдд рдХрд░рддрд╛ рд╣реИред
* **рдкрд╣реБрдВрдЪ рдЕрдиреБрдордд ACE(s)** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯреЛрдХрди рдореЗрдВ рд╡рд┐рд╢реНрд╡рд╛рд╕реА рдХреЛ рд╕рднреА рдЕрдиреБрд░реЛрдзрд┐рдд рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕
### GUI рдЙрджрд╛рд╣рд░рдг

[**рдпрд╣рд╛рдБ рд╕реЗ рдЙрджрд╛рд╣рд░рдг**](https://secureidentity.se/acl-dacl-sacl-and-the-ace/)

рдпрд╣ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рдХреНрд▓рд╛рд╕рд┐рдХ рд╕реБрд░рдХреНрд╖рд╛ рдЯреИрдм рд╣реИ рдЬреЛ ACL, DACL рдФрд░ ACEs рджрд┐рдЦрд╛рддрд╛ рд╣реИ:

![http://secureidentity.se/wp-content/uploads/2014/04/classicsectab.jpg](../../.gitbook/assets/classicsectab.jpg)

рдЕрдЧрд░ рд╣рдо **рдПрдбрд╡рд╛рдВрд╕реНрдб рдмрдЯрди** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВрдЧреЗ рддреЛ рд╣рдореЗрдВ рдЗрдирд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдЬреИрд╕реЗ рдЕрдзрд┐рдХ рд╡рд┐рдХрд▓реНрдк рдорд┐рд▓реЗрдВрдЧреЗ:

![http://secureidentity.se/wp-content/uploads/2014/04/aceinheritance.jpg](../../.gitbook/assets/aceinheritance.jpg)

рдФрд░ рдЕрдЧрд░ рдЖрдк рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдЬреЛрдбрд╝рддреЗ рдпрд╛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╣реИрдВ:

![http://secureidentity.se/wp-content/uploads/2014/04/editseprincipalpointers1.jpg](../../.gitbook/assets/editseprincipalpointers1.jpg)

рдФрд░ рдЕрдВрдд рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ Auditing рдЯреИрдм рдореЗрдВ SACL рд╣реИ:

![http://secureidentity.se/wp-content/uploads/2014/04/audit-tab.jpg](../../.gitbook/assets/audit-tab.jpg)

### рд╕рд░рд▓рд┐рддрд╛ рд╕реЗ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдХрд╛ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг

рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╕рдордп, рдЬреИрд╕реЗ рдХрд┐ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░, рд╣рдо рд╕реВрдЪреА рдФрд░ рдирд┐рдпрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕реВрдЪреА (ACLs) рдФрд░ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ (ACEs) рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдпреЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рдХрд┐рд╕ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред
#### Denying Access to a Specific Group

Imagine you have a folder named Cost, and you want everyone to access it except for a marketing team. By setting up the rules correctly, we can ensure that the marketing team is explicitly denied access before allowing everyone else. This is done by placing the rule to deny access to the marketing team before the rule that allows access to everyone.

#### Allowing Access to a Specific Member of a Denied Group

Let's say Bob, the marketing director, needs access to the Cost folder, even though the marketing team generally shouldn't have access. We can add a specific rule (ACE) for Bob that grants him access, and place it before the rule that denies access to the marketing team. This way, Bob gets access despite the general restriction on his team.

#### Understanding Access Control Entries

ACEs are the individual rules in an ACL. They identify users or groups, specify what access is allowed or denied, and determine how these rules apply to sub-items (inheritance). There are two main types of ACEs:

* **Generic ACEs**: These apply broadly, affecting either all types of objects or distinguishing only between containers (like folders) and non-containers (like files). For example, a rule that allows users to see the contents of a folder but not to access the files within it.
* **Object-Specific ACEs**: These provide more precise control, allowing rules to be set for specific types of objects or even individual properties within an object. For instance, in a directory of users, a rule might allow a user to update their phone number but not their login hours.

Each ACE contains important information like who the rule applies to (using a Security Identifier or SID), what the rule allows or denies (using an access mask), and how it's inherited by other objects.

#### Key Differences Between ACE Types

* **Generic ACEs** are suitable for simple access control scenarios, where the same rule applies to all aspects of an object or to all objects within a container.
* **Object-Specific ACEs** are used for more complex scenarios, especially in environments like Active Directory, where you might need to control access to specific properties of an object differently.

In summary, ACLs and ACEs help define precise access controls, ensuring that only the right individuals or groups have access to sensitive information or resources, with the ability to tailor access rights down to the level of individual properties or object types.

### Access Control Entry Layout
| ACE рдХреНрд╖реЗрддреНрд░   | рд╡рд┐рд╡рд░рдг                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| рдкреНрд░рдХрд╛рд░        | ACE рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рджрд░реНрд╢рд╛рдиреЗ рд╡рд╛рд▓рд╛ рдзреНрд╡рдЬред Windows 2000 рдФрд░ Windows Server 2003 рдЫрд╣ рдкреНрд░рдХрд╛рд░ рдХреЗ ACE рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ: рддреАрди рд╕рд╛рдорд╛рдиреНрдп ACE рдкреНрд░рдХрд╛рд░ рдЬреЛ рд╕рднреА рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд╕реНрддреБрдУрдВ рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВред рддреАрди рд╡рд╕реНрддреБ-рд╡рд┐рд╢рд┐рд╖реНрдЯ ACE рдкреНрд░рдХрд╛рд░ рдЬреЛ рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред                                                                                                                                                                                                                                                            |
| рдЭрдВрдбреЗ       | рд╡рд┐рд░рд╛рд╕рдд рдФрд░ рдСрдбрд┐рдЯрд┐рдВрдЧ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдмрд┐рдЯ рдЭрдВрдбреЗред                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| рдЖрдХрд╛рд░        | ACE рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрд┐рдд рдореЗрдореЛрд░реА рдмрд╛рдЗрдЯреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ред                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| рдкрд╣реБрдВрдЪ рдЪрд┐рд╣реНрди | рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ рдорд╛рди рдЬрд┐рд╕рдХреЗ рдмрд┐рдЯ рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╣реЛрддреЗ рд╣реИрдВред рдмрд┐рдЯ рдХреЛ рдпрд╛ рддреЛ рдЪрд╛рд▓реВ рдпрд╛ рдмрдВрдж рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реЗрдЯрд┐рдВрдЧ рдХрд╛ рдЕрд░реНрде ACE рдкреНрд░рдХрд╛рд░ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЙрд╕ рдмрд┐рдЯ рдХреЛ рдЬреЛ рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЙрд╕реЗ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ ACE рдкреНрд░рдХрд╛рд░ рдирд┐рд╖реЗрдз рд╣реИ, рддреЛ ACE рд╡рд╕реНрддреБ рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкрдврд╝рдиреЗ рдХреА рдЕрдзрд┐рдХрд╛рд░ рдХреЛ рдирд┐рд╖реЗрдзрд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ рд╡рд╣реА рдмрд┐рдЯ рдЪрд╛рд▓реВ рд╣реИ рд▓реЗрдХрд┐рди ACE рдкреНрд░рдХрд╛рд░ рдЕрдиреБрдорддрд┐ рд╣реИ, рддреЛ ACE рд╡рд╕реНрддреБ рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкрдврд╝рдиреЗ рдХреА рдЕрдзрд┐рдХрд╛рд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдкрд╣реБрдВрдЪ рдЪрд┐рд╣реНрди рдХреЗ рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг рдЕрдЧрд▓реЗ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВред |
| SID         | рдЗрд╕ ACE рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдпрд╛ рдореЙрдирд┐рдЯрд░ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рд╕рдореВрд╣ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рддрд╛ рд╣реИред                                                                                                                                                                                                                                                                                                                                                                                                                                 |

### рдкрд╣реБрдВрдЪ рдЪрд┐рд╣реНрди рд▓реЗрдЖрдЙрдЯ

| рдмрд┐рдЯ (рд╕реАрдорд╛) | рдЕрд░реНрде                            | рд╡рд┐рд╡рд░рдг/рдЙрджрд╛рд╣рд░рдг                       |
| ----------- | ---------------------------------- | ----------------------------------------- |
| 0 - 15      | рд╡рд╕реНрддреБ-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрд╣реБрдВрдЪ рдЕрдзрд┐рдХрд╛рд░      | рдбреЗрдЯрд╛ рдкрдврд╝реЗрдВ, рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди, рдбреЗрдЯрд╛ рдЬреЛрдбрд╝реЗрдВ           |
| 16 - 22     | рдорд╛рдирдХ рдкрд╣реБрдВрдЪ рдЕрдзрд┐рдХрд╛рд░             | рд╣рдЯрд╛рдПрдВ, рд▓рд┐рдЦреЗрдВ ACL, рдорд╛рд▓рд┐рдХ рд▓рд┐рдЦреЗрдВ            |
| 23          | рд╕реБрд░рдХреНрд╖рд╛ ACL рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИ            |                                           |
| 24 - 27     | рдЖрд░рдХреНрд╖рд┐рдд                           |                                           |
| 28          | рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рднреА (рдкрдврд╝реЗрдВ, рд▓рд┐рдЦреЗрдВ, рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди) | рд╕рдм рдХреБрдЫ рдиреАрдЪреЗ                          |
| 29          | рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди                    | рдХрд┐рд╕реА рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЪреАрдЬреЗрдВ |
| 30          | рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд▓рд┐рдЦреЗрдВ                      | рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЪреАрдЬреЗрдВ   |
| 31          | рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкрдврд╝реЗрдВ                       | рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЪреАрдЬреЗрдВ       |

## рд╕рдВрджрд░реНрдн

* [https://www.ntfs.com/ntfs-permissions-acl-use.htm](https://www.ntfs.com/ntfs-permissions-acl-use.htm)
* [https://secureidentity.se/acl-dacl-sacl-and-the-ace/](https://secureidentity.se/acl-dacl-sacl-and-the-ace/)
* [https://www.coopware.in2.info/\_ntfsacl\_ht.htm](https://www.coopware.in2.info/\_ntfsacl\_ht.htm)

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ **HackTricks** рдореЗрдВ рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдХреЛ PR рдЬрдорд╛ рдХрд░рдХреЗред

</details>

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=acls-dacls-sacls-aces) рдФрд░ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ** рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдирд╛рдПрдВ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░реЗрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=acls-dacls-sacls-aces" %}
