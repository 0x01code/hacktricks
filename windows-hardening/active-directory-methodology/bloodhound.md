# BloodHound рдФрд░ рдЕрдиреНрдп AD Enum рдЯреВрд▓реНрд╕

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк PEASS рдХреЗ **рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдБрдЪрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ред
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред
* **[**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks repo](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред**

</details>

## AD Explorer

[AD Explorer](https://docs.microsoft.com/en-us/sysinternals/downloads/adexplorer) Sysinternal Suite рд╕реЗ рд╣реИ:

> рдПрдХ рдЙрдиреНрдирдд Active Directory (AD) рд╡реНрдпреВрдЕрд░ рдФрд░ рдПрдбрд┐рдЯрд░ред рдЖрдк AD Explorer рдХрд╛ рдЙрдкрдпреЛрдЧ AD рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рдиреЗ, рдкрд╕рдВрджреАрджрд╛ рд╕реНрдерд╛рдиреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ, рдбрд╛рдпрд▓реЙрдЧ рдмреЙрдХреНрд╕ рдЦреЛрд▓реЗ рдмрд┐рдирд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдкреНрд░реЙрдкрд░реНрдЯреАрдЬ рдФрд░ рдПрдЯреНрд░рд┐рдмреНрдпреВрдЯреНрд╕ рджреЗрдЦрдиреЗ, рдкрд░рдорд┐рд╢рдиреНрд╕ рдПрдбрд┐рдЯ рдХрд░рдиреЗ, рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рд╕реНрдХреАрдорд╛ рджреЗрдЦрдиреЗ рдФрд░ рд╕реЛрдлрд┐рд╕реНрдЯрд┐рдХреЗрдЯреЗрдб рд╕рд░реНрдЪреЗрд╕ рдХреЛ рдПрдХреНрдЬреАрдХреНрдпреВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рд╕реЗрд╡ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рд╕реЗ рдПрдХреНрдЬреАрдХреНрдпреВрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### рд╕реНрдиреИрдкрд╢реЙрдЯреНрд╕

AD Explorer AD рдХреЗ рд╕реНрдиреИрдкрд╢реЙрдЯреНрд╕ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЗрд╕реЗ рдСрдлрд▓рд╛рдЗрди рдЪреЗрдХ рдХрд░ рд╕рдХреЗрдВред\
рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдСрдлрд▓рд╛рдЗрди рд╡рд▓реНрдиреНрд╕ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдпрд╛ рд╕рдордп рдХреЗ рд╕рд╛рде AD DB рдХреА рд╡рд┐рднрд┐рдиреНрди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЖрдкрдХреЛ AD рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпреВрдЬрд░рдиреЗрдо, рдкрд╛рд╕рд╡рд░реНрдб, рдФрд░ рджрд┐рд╢рд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

AD рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП, `File` --> `Create Snapshot` рдкрд░ рдЬрд╛рдПрдВ рдФрд░ рд╕реНрдиреИрдкрд╢реЙрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВред

## ADRecon

****[**ADRecon**](https://github.com/adrecon/ADRecon) рдПрдХ рдРрд╕рд╛ рдЯреВрд▓ рд╣реИ рдЬреЛ рдПрдХ AD рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рдЖрд░реНрдЯрд┐рдлреИрдХреНрдЯреНрд╕ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ рдФрд░ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдПрдХ **рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдлреЙрд░реНрдореЗрдЯреЗрдб** Microsoft Excel **рд░рд┐рдкреЛрд░реНрдЯ** рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕рд╛рд░рд╛рдВрд╢ рджреГрд╢реНрдп рдФрд░ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рд▓рдХреНрд╖рд┐рдд AD рд╡рд╛рддрд╛рд╡рд░рдг рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреА рдПрдХ рд╕рдордЧреНрд░ рддрд╕реНрд╡реАрд░ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред
```bash
# Run it
.\ADRecon.ps1
```
## BloodHound

> BloodHound рдПрдХ рдПрдХрд▓ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдПрдореНрдмреЗрдбреЗрдб React рдлреНрд░рдВрдЯрдПрдВрдб [Sigma.js](https://www.sigmajs.org/) рдХреЗ рд╕рд╛рде рдФрд░ рдПрдХ [Go](https://go.dev/) рдЖрдзрд╛рд░рд┐рдд REST API рдмреИрдХрдПрдВрдб рд╣реИред рдЗрд╕реЗ [Postgresql](https://www.postgresql.org/) рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ [Neo4j](https://neo4j.com) рдЧреНрд░рд╛рдл рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ [SharpHound](https://github.com/BloodHoundAD/SharpHound) рдФрд░ [AzureHound](https://github.com/BloodHoundAD/AzureHound) рдбреЗрдЯрд╛ рдХрд▓реЗрдХреНрдЯрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдлреАрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
>
>BloodHound рдЧреНрд░рд╛рдл рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ Active Directory рдпрд╛ Azure рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рднреАрддрд░ рдЫрд┐рдкреЗ рд╣реБрдП рдФрд░ рдЕрдХреНрд╕рд░ рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ рдмрдиреЗ рд╕рдВрдмрдВрдзреЛрдВ рдХреЛ рдкреНрд░рдХрдЯ рдХрд░рддрд╛ рд╣реИред рд╣рдорд▓рд╛рд╡рд░ BloodHound рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЙрди рдЬрдЯрд┐рд▓ рд╣рдорд▓реЗ рдХреЗ рдорд╛рд░реНрдЧреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЕрдиреНрдпрдерд╛ рдЬрд▓реНрджреА рд╕реЗ рдкрд╣рдЪрд╛рдирдирд╛ рдЕрд╕рдВрднрд╡ рд╣реЛрддрд╛ред рдбрд┐рдлреЗрдВрдбрд░реНрд╕ BloodHound рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реАрдВ рд╣рдорд▓реЗ рдХреЗ рдорд╛рд░реНрдЧреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рдорд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдиреАрд▓реА рдФрд░ рд▓рд╛рд▓ рдЯреАрдореЗрдВ рджреЛрдиреЛрдВ BloodHound рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ Active Directory рдпрд╛ Azure рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╕рдВрдмрдВрдзреЛрдВ рдХреА рдЧрд╣рд░реА рд╕рдордЭ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
>
>BloodHound CE рдХреЛ [BloodHound Enterprise Team](https://bloodhoundenterprise.io) рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд░рдЦрд░рдЦрд╛рд╡ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдореВрд▓ BloodHound рдХреЛ [@\_wald0](https://www.twitter.com/\_wald0), [@CptJesus](https://twitter.com/CptJesus), рдФрд░ [@harmj0y](https://twitter.com/harmj0y) рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ред
>
>[https://github.com/SpecterOps/BloodHound](https://github.com/SpecterOps/BloodHound) рд╕реЗ

рддреЛ, [Bloodhound](https://github.com/SpecterOps/BloodHound) рдПрдХ рдЕрджреНрднреБрдд рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рдбреЛрдореЗрди рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рд╣реЗрдЬ рд╕рдХрддрд╛ рд╣реИ, рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐ рдорд╛рд░реНрдЧреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЧреНрд░рд╛рдлрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджрд┐рдЦрд╛ рд╕рдХрддрд╛ рд╣реИред

Booldhound рдореЗрдВ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рджреЛ рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВ: **ingestors** рдФрд░ **рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди**ред

**ingestors** рдХрд╛ рдЙрдкрдпреЛрдЧ **рдбреЛрдореЗрди рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рдиреЗ рдФрд░ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдордЭ рд╕рдХрддрд╛ рд╣реИред

**рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди neo4j рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ** рдпрд╣ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреИрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ рдФрд░ рдбреЛрдореЗрди рдореЗрдВ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рдХреИрд╕реЗ рджрд┐рдЦрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### рд╕реНрдерд╛рдкрдирд╛
BloodHound CE рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рдмрд╛рдж, рдкреВрд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ Docker рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЖрд╕рд╛рдиреА рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рдЗрд╕рдХреЗ рдкреВрд░реНрд╡-рдирд┐рд░реНрдзрд╛рд░рд┐рдд Docker Compose рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред

1. Docker Compose рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВред рдпрд╣ [Docker Desktop](https://www.docker.com/products/docker-desktop/) рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд╕рд╛рде рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред
2. рдЪрд▓рд╛рдПрдБ:
```
curl -L https://ghst.ly/getbhce | docker compose -f - up
```
3. рдЯрд░реНрдорд┐рдирд▓ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ Docker Compose рдХреЗ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдЦреЛрдЬреЗрдВред
4. рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ, http://localhost:8080/ui/login рдкрд░ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░реЗрдВред admin рдирд╛рдо рдХреЗ рд╕рд╛рде рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ рдФрд░ рд▓реЙрдЧреНрд╕ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА рдФрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдирдпрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рддреИрдпрд╛рд░ рд╣реЛрдЧрд╛, рдЬрд┐рд╕рд╕реЗ рдЖрдк рд╕реАрдзреЗ рдЗрдиреНрдЬреЗрд╕реНрдЯрд░реНрд╕ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### SharpHound

рдЙрдирдХреЗ рдкрд╛рд╕ рдХрдИ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ рд▓реЗрдХрд┐рди рдпрджрд┐ рдЖрдк рдбреЛрдореЗрди рд╕реЗ рдЬреБрдбрд╝реЗ рдкреАрд╕реА рд╕реЗ SharpHound рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЕрдкрдиреЗ рд╡рд░реНрддрдорд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```
./SharpHound.exe --CollectionMethods All
Invoke-BloodHound -CollectionMethod All
```
> **CollectionMethod** рдФрд░ рд▓реВрдк рд╕реЗрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЖрдк рдпрд╣рд╛рдБ рдФрд░ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ [рдпрд╣рд╛рдБ](https://support.bloodhoundenterprise.io/hc/en-us/articles/17481375424795-All-SharpHound-Community-Edition-Flags-Explained)

рдпрджрд┐ рдЖрдк рдЕрд▓рдЧ рдкреНрд░рдорд╛рдгреАрдХрд░рдг (credentials) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ SharpHound рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк CMD netonly рд╕реЗрд╢рди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ SharpHound рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
```
runas /netonly /user:domain\user "powershell.exe -exec bypass"
```
[**ired.team рдкрд░ Bloodhound рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдЬрд╛рдиреЗрдВред**](https://ired.team/offensive-security-experiments/active-directory-kerberos-abuse/abusing-active-directory-with-bloodhound-on-kali-linux)

## рдкреБрд░рд╛рдирд╛ Bloodhound
### рд╕реНрдерд╛рдкрдирд╛

1. Bloodhound

рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ **neo4j** рдФрд░ **bloodhound рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред\
рдЗрд╕реЗ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рд╣реИ:
```
apt-get install bloodhound
```
рдЖрдк **neo4j рдХрд╛ рдХрдореНрдпреБрдирд┐рдЯреА рд╡рд░реНрдЬрди рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** [рдпрд╣рд╛рдБ рд╕реЗ](https://neo4j.com/download-center/#community).

1. рдЗрдиреНрдЬреЗрд╕реНрдЯрд░реНрд╕

рдЖрдк рдЗрдиреНрдЬреЗрд╕реНрдЯрд░реНрд╕ рдпрд╣рд╛рдБ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* https://github.com/BloodHoundAD/SharpHound/releases
* https://github.com/BloodHoundAD/BloodHound/releases
* https://github.com/fox-it/BloodHound.py

1. рдЧреНрд░рд╛рдл рд╕реЗ рдкрде рд╕реАрдЦреЗрдВ

Bloodhound рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдХреНрд╡реЗрд░реАрдЬрд╝ рд╣реЛрддреА рд╣реИрдВ рдЬреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╕рдордЭреМрддрд╛ рдкрде рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рддреА рд╣реИрдВред рдЗрд╕рдореЗрдВ рдХрд╕реНрдЯрдо рдХреНрд╡реЗрд░реАрдЬрд╝ рдЬреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡ рд╣реИ рддрд╛рдХрд┐ рдЦреЛрдЬ рдФрд░ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдзреЛрдВ рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ!

рдЗрд╕ рд░реЗрдкреЛ рдореЗрдВ рдХреНрд╡реЗрд░реАрдЬрд╝ рдХрд╛ рдЕрдЪреНрдЫрд╛ рд╕рдВрдЧреНрд░рд╣ рд╣реИ: https://github.com/CompassSecurity/BloodHoundQueries

рдЗрдВрд╕реНрдЯрд╛рд▓реЗрд╢рди рдкреНрд░рдХреНрд░рд┐рдпрд╛:
```
$ curl -o "~/.config/bloodhound/customqueries.json" "https://raw.githubusercontent.com/CompassSecurity/BloodHoundQueries/master/BloodHound_Custom_Queries/customqueries.json"
```
### рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдРрдк рдирд┐рд╖реНрдкрд╛рджрди

рдЖрд╡рд╢реНрдпрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб/рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдЗрдП рдЙрдиреНрд╣реЗрдВ рд╢реБрд░реВ рдХрд░реЗрдВред\
рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ **neo4j рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рд╢реБрд░реВ рдХрд░рдирд╛ рд╣реЛрдЧрд╛**:
```bash
./bin/neo4j start
#or
service neo4j start
```
рдкрд╣рд▓реА рдмрд╛рд░ рдЬрдм рдЖрдк рдЗрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ, рдЖрдкрдХреЛ [http://localhost:7474/browser/](http://localhost:7474/browser/) рдкрд░ рдЬрд╛рдирд╛ рд╣реЛрдЧрд╛ред рдЖрдкрд╕реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ (neo4j:neo4j) рдкреВрдЫреЗ рдЬрд╛рдПрдВрдЧреЗ рдФрд░ рдЖрдкрд╕реЗ **рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА**, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдмрджрд▓реЗрдВ рдФрд░ рдЗрд╕реЗ рднреВрд▓реЗрдВ рдирд╣реАрдВред

рдЕрдм, **bloodhound рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рд╢реБрд░реВ рдХрд░реЗрдВ:
```bash
./BloodHound-linux-x64
#or
bloodhound
```
рдЖрдкрд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рдкреВрдЫрд╛ рдЬрд╛рдПрдЧрд╛: **neo4j:\<рдЖрдкрдХрд╛ рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб>**

рдФрд░ bloodhound рдбреЗрдЯрд╛ рдЗрдиреНрдЬреЗрд╕реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛрдЧрд╛ред

![](<../../.gitbook/assets/image (171) (1).png>)

### **Python bloodhound**

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдбреЛрдореЗрди рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╣реИрдВ рддреЛ рдЖрдк рдХрд┐рд╕реА рднреА рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╕реЗ **python bloodhound ingestor рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ** рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ Windows рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рд░рд╣рдирд╛ рдкрдбрд╝реЗрдЧрд╛ред\
рдЗрд╕реЗ [https://github.com/fox-it/BloodHound.py](https://github.com/fox-it/BloodHound.py) рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рдпрд╛ `pip3 install bloodhound` рдХрд░рдХреЗред
```bash
bloodhound-python -u support -p '#00^BlackKnight' -ns 10.10.10.192 -d blackfield.local -c all
```
рдпрджрд┐ рдЖрдк рдЗрд╕реЗ proxychains рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рд╛ рд░рд╣реЗ рд╣реИрдВ рддреЛ DNS рд╕рдорд╛рдзрд╛рди рдХреЛ рдкреНрд░реЙрдХреНрд╕реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `--dns-tcp` рдЬреЛрдбрд╝реЗрдВред
```bash
proxychains bloodhound-python -u support -p '#00^BlackKnight' -ns 10.10.10.192 -d blackfield.local -c all --dns-tcp
```
### Python SilentHound

рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ **Active Directory Domain рдХреЛ LDAP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╢рд╛рдВрддрд┐рдкреВрд░реНрд╡рдХ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдЧреА**, рдЬрд┐рд╕рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ, рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХреЛрдВ, рд╕рдореВрд╣реЛрдВ рдЖрджрд┐ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рд╣реЛрддрд╛ рд╣реИред

рдЗрд╕реЗ [**SilentHound github**](https://github.com/layer8secure/SilentHound) рдкрд░ рджреЗрдЦреЗрдВред

### RustHound

BloodHound in Rust, [**рдпрд╣рд╛рдБ рдЬрд╛рдВрдЪреЗрдВ**](https://github.com/OPENCYBER-FR/RustHound)ред

## Group3r

[**Group3r**](https://github.com/Group3r/Group3r) **** рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ Active Directory рд╕реЗ рдЬреБрдбрд╝реА **Group Policy** рдореЗрдВ **рднреЗрджреНрдпрддрд╛рдУрдВ** рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИред \
рдЖрдкрдХреЛ рдбреЛрдореЗрди рдХреЗ рдЕрдВрджрд░ рдХреЗ рдХрд┐рд╕реА рднреА рд╣реЛрд╕реНрдЯ рд╕реЗ **group3r рдЪрд▓рд╛рдирд╛ рд╣реЛрдЧрд╛** **рдХрд┐рд╕реА рднреА рдбреЛрдореЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдПред
```bash
group3r.exe -f <filepath-name.log>
# -s sends results to stdin
# -f send results to file
```
## PingCastle

[**PingCastle**](https://www.pingcastle.com/documentation/) **AD рдкрд░реНрдпрд╛рд╡рд░рдг рдХреА рд╕реБрд░рдХреНрд╖рд╛ рд╕реНрдерд┐рддрд┐ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рддрд╛ рд╣реИ** рдФрд░ рдЧреНрд░рд╛рдлрд╝ рдХреЗ рд╕рд╛рде рдПрдХ рдЕрдЪреНрдЫреА **рд░рд┐рдкреЛрд░реНрдЯ** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк `PingCastle.exe` рдмрд╛рдЗрдирд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдореЗрдиреВ рдХреЗ рд╕рд╛рде рдПрдХ **рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд╕рддреНрд░** рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ред рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡рд┐рдХрд▓реНрдк **`healthcheck`** рд╣реИ рдЬреЛ **рдбреЛрдореЗрди** рдХрд╛ рдПрдХ рдмреЗрд╕рд▓рд╛рдЗрди **рдЕрд╡рд▓реЛрдХрди** рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдЧрд╛, рдФрд░ **рдЧрд▓рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди** рдФрд░ **рдХрдордЬреЛрд░рд┐рдпреЛрдВ** рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдЧрд╛ред

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк PEASS рдХреЗ **рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks repo](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ**ред

</details>
