# BloodHound рдФрд░ рдЕрдиреНрдп AD Enum рдЯреВрд▓

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рди**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ред
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ **рдореБрдЭреЗ** **Twitter** **ЁЯРж**[**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud)** рдХреЛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>

## AD Explorer

[AD Explorer](https://docs.microsoft.com/en-us/sysinternals/downloads/adexplorer) Sysinternal Suite рд╕реЗ рд╣реИ:

> рдПрдХ рдЙрдиреНрдирдд Active Directory (AD) рджрд░реНрд╢рдХ рдФрд░ рд╕рдВрдкрд╛рджрдХред рдЖрдк AD Explorer рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ AD рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдЖрд╕рд╛рдиреА рд╕реЗ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдкрд╕рдВрджреАрджрд╛ рд╕реНрдерд╛рдиреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдСрдмреНрдЬ
```bash
# Run it
.\ADRecon.ps1
```
## BloodHound

> BloodHound рдПрдХ рдореЛрдиреЛрд▓рд┐рдерд┐рдХ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдПрдореНрдмреЗрдбреЗрдб React рдлреНрд░рдВрдЯрдПрдВрдб рдФрд░ [Sigma.js](https://www.sigmajs.org/) рдХреЗ рд╕рд╛рде рдПрдХ [Go](https://go.dev/) рдЖрдзрд╛рд░рд┐рдд REST API рдмреИрдХрдПрдВрдб рд╣реИред рдЗрд╕реЗ рдПрдХ [Postgresql](https://www.postgresql.org/) рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ рдПрдХ [Neo4j](https://neo4j.com) рдЧреНрд░рд╛рдл рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдбрд┐рдкреНрд▓реЙрдп рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ [SharpHound](https://github.com/BloodHoundAD/SharpHound) рдФрд░ [AzureHound](https://github.com/BloodHoundAD/AzureHound) рдбреЗрдЯрд╛ рдХрд▓реЗрдХреНрдЯрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рднреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
>
>BloodHound рдЧреНрд░рд╛рдл рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдХреНрдЯрд┐рд╡ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдпрд╛ рдПрдЬрд╝реНрдпреВрд░ рдорд╛рд╣реМрд▓ рдореЗрдВ рдЫрд┐рдкреА рд╣реБрдИ рдФрд░ рдЕрдХреНрд╕рд░ рдЕрдирдЬрд╛рди рд░рд┐рд╢реНрддреЛрдВ рдХреЛ рдкреНрд░рдХрдЯ рдХрд░ рд╕рдХреЗред рд╣рдорд▓рд╛рд╡рд░ BloodHound рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЙрди рдЙрдЪреНрдЪ рдЬрдЯрд┐рд▓ рд╣рдорд▓реЗ рдХреЗ рдорд╛рд░реНрдЧреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЕрдиреНрдпрдерд╛ рддреЗрдЬреА рд╕реЗ рдкрд╣рдЪрд╛рдирдирд╛ рдЕрд╕рдВрднрд╡ рд╣реЛрдЧрд╛ред рд░рдХреНрд╖рдХ BloodHound рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреА рд╣рдорд▓реЗ рдХреЗ рдорд╛рд░реНрдЧреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдФрд░ рд╕рдорд╛рдкреНрддрд┐ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдиреАрд▓рд╛ рдФрд░ рд▓рд╛рд▓ рджрд▓ рджреЛрдиреЛрдВ BloodHound рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХреНрдЯрд┐рд╡ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдпрд╛ рдПрдЬрд╝реНрдпреВрд░ рдорд╛рд╣реМрд▓ рдореЗрдВ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╕рдВрдмрдВрдзреЛрдВ рдХреА рдЧрд╣рд░реА рд╕рдордЭ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рдиреА рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
>
>BloodHound CE рдХреЛ [BloodHound Enterprise Team](https://bloodhoundenterprise.io) рдиреЗ рдмрдирд╛рдпрд╛ рдФрд░ рдмрдирд╛рдП рд░рдЦрд╛ рд╣реИред рдореВрд▓ BloodHound рдХреЛ [@\_wald0](https://www.twitter.com/\_wald0), [@CptJesus](https://twitter.com/CptJesus), рдФрд░ [@harmj0y](https://twitter.com/harmj0y) рдиреЗ рдмрдирд╛рдпрд╛ рдерд╛ред
>
>рд╕реНрд░реЛрдд: [https://github.com/SpecterOps/BloodHound](https://github.com/SpecterOps/BloodHound)

рдЗрд╕рд▓рд┐рдП, [Bloodhound](https://github.com/SpecterOps/BloodHound) рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ рдПрдХ рдбреЛрдореЗрди рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рд╣реЗрдЬ рд╕рдХрддрд╛ рд╣реИ, рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдЙрдиреНрдирдпрди рдорд╛рд░реНрдЧреЛрдВ рдХреЛ рдЦреЛрдЬ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЧреНрд░рд╛рдл рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рджрд┐рдЦрд╛ рд╕рдХрддрд╛ рд╣реИред

Bloodhound 2 рдореБрдЦреНрдп рднрд╛рдЧреЛрдВ рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдирд╛ рд╣реИ: **рдЗрдирдЬреЗрд╕реНрдЯрд░реНрд╕** рдФрд░ **рд╡рд┐рдЬреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди**ред

**рдЗрдирдЬреЗрд╕реНрдЯрд░реНрд╕** рдХрд╛ рдЙрдкрдпреЛрдЧ **рдбреЛрдореЗрди рдХреЛ рдЧрдгрдирд╛ рдХрд░рдиреЗ рдФрд░ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд╡рд┐рдЬреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдордЭреЗрдЧрд╛ред

**рд╡рд┐рдЬреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди neo4j рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ** рддрд╛рдХрд┐ рджрд┐рдЦрд╛рдП рдХреИрд╕реЗ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ рдФрд░ рдбреЛрдореЗрди рдореЗрдВ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рджрд┐рдЦрд╛рдПред

### рд╕реНрдерд╛рдкрдирд╛
BloodHound CE рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рдмрд╛рдж, рдкреВрд░реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ Docker рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рдЗрд╕рдХрд╛ рдкреВрд░реНрд╡-рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ Docker Compose рд╡рд┐рдиреНрдпрд╛рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред

1. Docker Compose рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВред рдпрд╣ [Docker Desktop](https://www.docker.com/products/docker-desktop/) рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд╕рд╛рде рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред
2. рдЪрд▓рд╛рдПрдБ:
```
curl -L https://ghst.ly/getbhce | docker compose -f - up
```
3. рдбреЙрдХрд░ рдХрдВрдкреЛрдЬрд╝ рдХреЗ рдЯрд░реНрдорд┐рдирд▓ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВред
4. рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ, http://localhost:8080/ui/login рдкрд░ рдЬрд╛рдПрдВред рдПрдбрдорд┐рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рд▓реЙрдЧреНрд╕ рд╕реЗ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд╕рд╛рде рд▓реЙрдЧрд┐рди рдХрд░реЗрдВред

рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА рдФрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдирдпрд╛ рдЗрдВрдЯрд░рдлреЗрд╕ рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рд╕реЗ рдЖрдк рд╕реАрдзреЗ рдЗрдВрдЬреЗрд╕реНрдЯрд░реНрд╕ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### SharpHound

рдЙрдирдХреЗ рдкрд╛рд╕ рдХрдИ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдЖрдк рдбреЛрдореЗрди рд╕реЗ рдЬреБрдбрд╝реЗ рдПрдХ рдкреАрд╕реА рд╕реЗ SharpHound рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЕрдкрдиреЗ рд╡рд░реНрддрдорд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```
./SharpHound.exe --CollectionMethods All
Invoke-BloodHound -CollectionMethod All
```
> рдЖрдк **CollectionMethod** рдФрд░ рд▓реВрдк рд╕рддреНрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ [рдпрд╣рд╛рдБ](https://support.bloodhoundenterprise.io/hc/en-us/articles/17481375424795-All-SharpHound-Community-Edition-Flags-Explained)

рдпрджрд┐ рдЖрдк рд╡рд┐рднрд┐рдиреНрди рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ SharpHound рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдПрдХ CMD netonly рд╕рддреНрд░ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ SharpHound рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
```
runas /netonly /user:domain\user "powershell.exe -exec bypass"
```
[**рдЖрдИрдЖрд░рдИрдбреА рдЯреАрдо рдореЗрдВ рдмреНрд▓рдбрд╣рд╛рдЙрдВрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдиреЗрдВред**](https://ired.team/offensive-security-experiments/active-directory-kerberos-abuse/abusing-active-directory-with-bloodhound-on-kali-linux)

## рдкреБрд░рд╛рдирд╛ рдмреНрд▓рдбрд╣рд╛рдЙрдВрдб
### рд╕реНрдерд╛рдкрдирд╛

1. рдмреНрд▓рдбрд╣рд╛рдЙрдВрдб

рджреГрд╢реНрдпреАрдХрд░рдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ **рдиреЗрдУ4рдЬреЗ** рдФрд░ **рдмреНрд▓рдбрд╣рд╛рдЙрдВрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред\
рдЗрд╕реЗ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рдпрд╣ рд╣реИ:
```
apt-get install bloodhound
```
рдЖрдк **рдирд┐рдпреЛ4рдЬ рдХреА рд╕рдореБрджрд╛рдп рд╕рдВрд╕реНрдХрд░рдг** рдХреЛ [рдпрд╣рд╛рдБ рд╕реЗ](https://neo4j.com/download-center/#community) рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

1. рдЗрдВрдЬреЗрд╕реНрдЯрд░реНрд╕

рдЖрдк рдЗрдВрдЬреЗрд╕реНрдЯрд░реНрд╕ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реНрдерд╛рди рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* https://github.com/BloodHoundAD/SharpHound/releases
* https://github.com/BloodHoundAD/BloodHound/releases
* https://github.com/fox-it/BloodHound.py

1. рдЧреНрд░рд╛рдл рд╕реЗ рдкрде рд╕реАрдЦреЗрдВ

Bloodhound рд╡рд┐рднрд┐рдиреНрди рдХреНрд╡реЗрд░реА рдХреЗ рд╕рд╛рде рдЖрддрд╛ рд╣реИ рдЬреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдХрдореНрдкреНрд░реЛрдорд╛рдЗрд╕ рдкрде рдХреЛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЖрдк рдЦреЛрдЬ рдФрд░ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдз рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╕реНрдЯрдо рдХреНрд╡реЗрд░реА рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ!

рдЗрд╕ рд░реЗрдкреЛ рдореЗрдВ рдХреНрдпреВрд░реАрдЬ рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рд╕рдВрдЧреНрд░рд╣ рд╣реИ: https://github.com/CompassSecurity/BloodHoundQueries

рд╕реНрдерд╛рдкрдирд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛:
```
$ curl -o "~/.config/bloodhound/customqueries.json" "https://raw.githubusercontent.com/CompassSecurity/BloodHoundQueries/master/BloodHound_Custom_Queries/customqueries.json"
```
### рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди

рдЖрд╡рд╢реНрдпрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб/рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЙрдиреНрд╣реЗрдВ рд╢реБрд░реВ рдХрд░реЗрдВред\
рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ **рдирд┐рдпреЛ4рдЬ рдбреЗрдЯрд╛рдмреЗрд╕ рд╢реБрд░реВ рдХрд░рдирд╛ рд╣реЛрдЧрд╛**:
```bash
./bin/neo4j start
#or
service neo4j start
```
рдкрд╣рд▓реА рдмрд╛рд░ рдЬрдм рдЖрдк рдЗрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ рддреЛ рдЖрдкрдХреЛ [http://localhost:7474/browser/](http://localhost:7474/browser/) рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдкрд╕реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ (neo4j:neo4j) рдХреА рдорд╛рдВрдЧ рдХреА рдЬрд╛рдПрдЧреА рдФрд░ рдЖрдкрдХреЛ **рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓рдирд╛ рдЕрдирд┐рд╡рд╛рд░реНрдп рд╣реЛрдЧрд╛**, рдЗрд╕рд▓рд┐рдП рдЙрд╕реЗ рдмрджрд▓ рджреЗрдВ рдФрд░ рдЙрд╕реЗ рднреВрд▓ рди рдЬрд╛рдПрдВред

рдЕрдм, **bloodhound рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рд╢реБрд░реВ рдХрд░реЗрдВ:
```bash
./BloodHound-linux-x64
#or
bloodhound
```
рдЖрдкрд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдХреЗ рд▓рд┐рдП рдкреВрдЫрд╛ рдЬрд╛рдПрдЧрд╛: **neo4j:\<рдЖрдкрдХрд╛ рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб>**

рдФрд░ bloodhound рдбреЗрдЯрд╛ рдЗрдирдЬреЗрд╕реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред

![](<../../.gitbook/assets/image (171) (1).png>)


### **Python bloodhound**

рдЕрдЧрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдбреЛрдореЗрди рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рд╣реИрдВ рддреЛ рдЖрдк рдХрд┐рд╕реА рднреА рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╕реЗ **рдкрд╛рдпрдерди рдмреНрд▓рдбрд╣рд╛рдЙрдВрдб рдЗрдВрдЬреЗрд╕реНрдЯрд░ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ** рддрд╛рдХрд┐ рдЖрдкрдХреЛ Windows рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рд╣реЛрдирд╛ рдкрдбрд╝реЗред\
рдЗрд╕реЗ [https://github.com/fox-it/BloodHound.py](https://github.com/fox-it/BloodHound.py) рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рдпрд╛ `pip3 install bloodhound` рдХрд░реЗрдВред
```bash
bloodhound-python -u support -p '#00^BlackKnight' -ns 10.10.10.192 -d blackfield.local -c all
```
рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдкреНрд░реЙрдХреНрд╕реАрдЪреЗрдиреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рд╛ рд░рд╣реЗ рд╣реИрдВ рддреЛ DNS рд╕рдВрдХреНрд╖реЗрдк рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `--dns-tcp` рдЬреЛрдбрд╝реЗрдВред
```bash
proxychains bloodhound-python -u support -p '#00^BlackKnight' -ns 10.10.10.192 -d blackfield.local -c all --dns-tcp
```
### Python SilentHound

рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ **LDAP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ Active Directory рдбреЛрдореЗрди рдХреЛ рд╢рд╛рдВрддрд┐ рд╕реЗ рдЬрд╛рдВрдЪреЗрдЧрд╛** рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ, рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХреЛрдВ, рд╕рдореВрд╣ рдЖрджрд┐ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░реЗрдЧрд╛ред

рдЗрд╕реЗ рджреЗрдЦреЗрдВ [**SilentHound github**](https://github.com/layer8secure/SilentHound).

### RustHound

Rust рдореЗрдВ BloodHound, рдЗрд╕реЗ [**рдпрд╣рд╛рдБ рджреЗрдЦреЗрдВ**](https://github.com/OPENCYBER-FR/RustHound).

## Group3r

[**Group3r**](https://github.com/Group3r/Group3r) **** рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ Active Directory рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд **рд╕рдореВрд╣ рдиреАрддрд┐** рдореЗрдВ **рдХрдордЬреЛрд░рд┐рдпреЛрдВ** рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред \
рдЖрдкрдХреЛ **рдХрд┐рд╕реА рднреА рдбреЛрдореЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЛрдореЗрди рдХреЗ рднреАрддрд░ рд╕реЗ **рдЧреНрд░реБрдк3r рдЪрд▓рд╛рдирд╛** рд╣реЛрдЧрд╛ред
```bash
group3r.exe -f <filepath-name.log>
# -s sends results to stdin
# -f send results to file
```
## PingCastle

****[**PingCastle**](https://www.pingcastle.com/documentation/) **рдПрдбреА рд╡рд╛рддрд╛рд╡рд░рдг рдХреА рд╕реБрд░рдХреНрд╖рд╛ рд╕реНрдерд┐рддрд┐ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рддрд╛ рд╣реИ** рдФрд░ рдПрдХ рдЕрдЪреНрдЫреА **рд░рд┐рдкреЛрд░реНрдЯ** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЧреНрд░рд╛рдл рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, `PingCastle.exe` рдирд╛рдордХ рдмрд╛рдЗрдирд░реА рдХреЛ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдПрдХ **рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд╕рддреНрд░** рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рдПрдХ рдореЗрдиреВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡рд┐рдХрд▓реНрдк **`healthcheck`** рд╣реИ рдЬреЛ **рдбреЛрдореЗрди** рдХрд╛ рдПрдХ рдореВрд▓ **рдЕрд╡рд▓реЛрдХрди** рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдЧрд╛, рдФрд░ **misconfigurations** рдФрд░ **рд╡рдВрд▓рд░реЗрдмрд┐рд▓рд┐рдЯреАрдЬрд╝** рдХреЛ рдЦреЛрдЬреЗрдЧрд╛ред&#x20;
