# iOS ペンテスト チェックリスト

<figure><img src="../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) を使用して、世界で最も高度なコミュニティツールによって **自動化されたワークフロー** を簡単に構築します。\
今すぐアクセス:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE（HackTricks AWS Red Team Expert）で、ゼロからヒーローまでの AWS ハッキングを学びましょう</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>こちら</strong></a><strong>!</strong></summary>

HackTricks をサポートする他の方法:

* **HackTricks で企業を宣伝**したい場合や **HackTricks を PDF でダウンロード** したい場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) をチェックしてください！
* [**公式 PEASS & HackTricks スワッグ**](https://peass.creator-spring.com) を入手
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) を発見し、独占的な [**NFTs**](https://opensea.io/collection/the-peass-family) のコレクションを見つける
* 💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) に参加するか、[**telegram グループ**](https://t.me/peass) に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)** をフォローする**
* **ハッキングテクニックを共有するために、** [**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) の github リポジトリに PR を提出する

</details>

**Try Hard Security Group**

<figure><img src="../.gitbook/assets/telegram-cloud-document-1-5159108904864449420.jpg" alt=""><figcaption></figcaption></figure>

{% embed url="https://discord.gg/tryhardsecurity" %}

***

### 準備

* [ ] [**iOS Basics**](ios-pentesting/ios-basics.md) を読む
* [ ] [**iOS Testing Environment**](ios-pentesting/ios-testing-environment.md) を読んで環境を準備する
* [ ] [**iOS Initial Analysis**](ios-pentesting/#initial-analysis) のすべてのセクションを読んで、iOS アプリをペンテストするための一般的なアクションを学ぶ

### データの保存

* [ ] [**Plist ファイル**](ios-pentesting/#plist) には機密情報を保存できます。
* [ ] [**Core Data**](ios-pentesting/#core-data)（SQLite データベース）には機密情報を保存できます。
* [ ] [**YapDatabases**](ios-pentesting/#yapdatabase)（SQLite データベース）には機密情報を保存できます。
* [ ] [**Firebase**](ios-pentesting/#firebase-real-time-databases) の設定ミス。
* [ ] [**Realm データベース**](ios-pentesting/#realm-databases) には機密情報を保存できます。
* [ ] [**Couchbase Lite データベース**](ios-pentesting/#couchbase-lite-databases) には機密情報を保存できます。
* [ ] [**バイナリクッキー**](ios-pentesting/#cookies) には機密情報を保存できます
* [ ] [**キャッシュデータ**](ios-pentesting/#cache) には機密情報を保存できます
* [ ] [**自動スナップショット**](ios-pentesting/#snapshots) には視覚的に機密情報を保存できます
* [ ] [**Keychain**](ios-pentesting/#keychain) は通常、再販時に残される可能性のある機密情報を保存するために使用されます。
* [ ] 要するに、アプリケーションがファイルシステムに保存する機密情報をチェックするだけです

### キーボード

* [ ] アプリケーションが [**カスタムキーボードを使用できるように許可しているか**](ios-pentesting/#custom-keyboards-keyboard-cache) を確認しますか？
* [ ] 機密情報が [**キーボードキャッシュファイルに保存されているか**](ios-pentesting/#custom-keyboards-keyboard-cache) を確認しますか？

### **ログ**

* [ ] [**機密情報が記録されているか**](ios-pentesting/#logs) を確認しますか？

### バックアップ

* [ ] [**バックアップ**](ios-pentesting/#backups) を使用して、ファイルシステムに保存された機密情報にアクセスできます（このチェックリストの最初のポイントを確認してください）
* [ ] また、[**バックアップ**](ios-pentesting/#backups) を使用して、アプリケーションの一部の構成を変更し、その後バックアップを電話に **復元** し、 **変更された構成** が **ロード** されると、いくつかの（セキュリティ） **機能** が **バイパス** される可能性があります

### **アプリケーションのメモリ**

* [ ] [**アプリケーションのメモリ**](ios-pentesting/#testing-memory-for-sensitive-data) 内に機密情報がないかをチェックします

### **破られた暗号**

* [ ] 暗号化に使用される [**パスワードを見つけられるか**](ios-pentesting/#broken-cryptography) をチェックしますか？
* [ ] 送信/保存される機密データに [**非推奨/弱いアルゴリズムが使用されていないか**](ios-pentesting/#broken-cryptography) をチェックしますか？
* [ ] 暗号化関数を [**フックして監視**](ios-pentesting/#broken-cryptography) しますか？

### **ローカル認証**

* [ ] アプリケーションで [**ローカル認証**](ios-pentesting/#local-authentication) が使用されている場合、認証がどのように機能しているかを確認する必要があります。
* [ ] [**Local Authentication Framework**](ios-pentesting/#local-authentication-framework) を使用している場合、簡単にバイパスできる可能性があります
* [ ] [**キーチェーンを使用してローカル認証をバイパスする**](ios-pentesting/#local-authentication-using-keychain) ことができる関数を使用している場合、カスタム frida スクリプトを作成できます

### IPC を介した機密機能の露出

* [**カスタム URI ハンドラ / ディープリンク / カスタムスキーム**](ios-pentesting/#custom-uri-handlers-deeplinks-custom-schemes)
* [ ] アプリケーションが **どのようなプロトコル/スキームを登録しているか** を確認しますか？
* [ ] アプリケーションが **どのようなプロトコル/スキームを使用するように登録しているか** を確認しますか？
* [ ] アプリケーションがカスタムスキームから受信する可能性のある **機密情報をインターセプト** できるかを確認しますか？
* [ ] アプリケーションがカスタムスキームを介して **ユーザー入力をチェックおよび消毒していない** かどうかを確認し、いくつかの **脆弱性が悪用** される可能性があるかを確認しますか？
* [ ] アプリケーションがカスタムスキームを介して **どこからでも呼び出すことができる機密アクションを公開** していないかを確認しますか？
* [**Universal Links**](ios-pentesting/#universal-links)
* [ ] アプリケーションが **どのようなユニバーサルプロトコル/スキームを登録しているか** を確認しますか？
* [ ] `apple-app-site-association` ファイルを確認しますか？
* [ ] アプリケーションがカスタムスキームを介して **ユーザー入力をチェックおよび消毒していない** かどうかを確認し、いくつかの **脆弱性が悪用** される可能性があるかを確認しますか？
* [ ] アプリケーションがカスタムスキームを介して **どこからでも呼び出すことができる機密アクションを公開** していないかを確認しますか？
* [**UIActivity Sharing**](ios-pentesting/ios-uiactivity-sharing.md)
* [ ] アプリケーションが UIActivities を受信できるかどうかを確認し、特別に作成されたアクティビティでいくつかの脆弱性を悪用できるかを確認しますか？
* [**UIPasteboard**](ios-pentesting/ios-uipasteboard.md)
* [ ] アプリケーションが **一般のペーストボードに何かをコピーしているか** を確認しますか？
* [ ] アプリケーションが **一般のペーストボードからデータを使用しているか** を確認しますか？
* [ ] ペーストボードを監視して、コピーされた **機密データがないか** を確認しますか？
* [**App Extensions**](ios-pentesting/ios-app-extensions.md)
* [ ] アプリケーションが **どのような拡張機能を使用しているか** を確認しますか？
* [**WebViews**](ios-pentesting/ios-webviews.md)
* [ ] 使用されている WebViews の種類を確認しますか？
* [ ] **`javaScriptEnabled`**、**`JavaScriptCanOpenWindowsAutomatically`**、**`hasOnlySecureContent`** の状態を確認しますか？
* [ ] Webview が **`file://` プロトコルでローカルファイルにアクセスできるか** を確認しますか？（`allowFileAccessFromFileURLs`、`allowUniversalAccessFromFileURLs`）
* [ ] Javascript が **Native メソッドにアクセスできるか** を確認しますか？（`JSContext`、`postMessage`）
### ネットワーク通信

* [ ] [**通信へのMitM**](ios-pentesting/#network-communication)を実行し、Web脆弱性を検索します。
* [ ] [**証明書のホスト名**](ios-pentesting/#hostname-check)がチェックされているかどうかを確認します。
* [ ] [**証明書ピニング**](ios-pentesting/#certificate-pinning)をチェック/バイパスします。

### **その他**

* [ ] [**自動パッチ適用/更新**](ios-pentesting/#hot-patching-enforced-updateing)メカニズムをチェックします。
* [ ] [**悪意のあるサードパーティライブラリ**](ios-pentesting/#third-parties)をチェックします。

**Try Hard Security Group**

<figure><img src="../.gitbook/assets/telegram-cloud-document-1-5159108904864449420.jpg" alt=""><figcaption></figcaption></figure>

{% embed url="https://discord.gg/tryhardsecurity" %}

<details>

<summary><strong>htARTE（HackTricks AWS Red Team Expert）</strong>でゼロからヒーローまでAWSハッキングを学びましょう！</summary>

HackTricksをサポートする他の方法：

* **HackTricksで企業を宣伝**したい場合や**HackTricksをPDFでダウンロード**したい場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksスワッグ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)コレクションを見つける
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)を**フォロー**する。
* **HackTricks**と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出して、あなたのハッキングトリックを共有してください。

</details>

<figure><img src="../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks)を使用して、世界で最も高度なコミュニティツールによって強化された**ワークフローを簡単に構築**および**自動化**します。\
今すぐアクセスしてください：

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
