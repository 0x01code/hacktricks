# Checklist de Pentesting iOS

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) para construir e **automatizar fluxos de trabalho** com as ferramentas comunit√°rias **mais avan√ßadas** do mundo.\
Obtenha Acesso Hoje:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Aprenda hacking AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**merchandising oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do GitHub** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

### Prepara√ß√£o

* [ ] Leia [**Conceitos B√°sicos de iOS**](ios-pentesting/ios-basics.md)
* [ ] Prepare seu ambiente lendo [**Ambiente de Teste iOS**](ios-pentesting/ios-testing-environment.md)
* [ ] Leia todas as se√ß√µes de [**An√°lise Inicial iOS**](ios-pentesting/#initial-analysis) para aprender a√ß√µes comuns em pentest de uma aplica√ß√£o iOS

### Armazenamento de Dados

* [ ] [**Arquivos Plist**](ios-pentesting/#plist) podem ser usados para armazenar informa√ß√µes sens√≠veis.
* [ ] [**Core Data**](ios-pentesting/#core-data) (banco de dados SQLite) pode armazenar informa√ß√µes sens√≠veis.
* [ ] [**YapDatabases**](ios-pentesting/#yapdatabase) (banco de dados SQLite) pode armazenar informa√ß√µes sens√≠veis.
* [ ] [**Firebase**](ios-pentesting/#firebase-real-time-databases) m√° configura√ß√£o.
* [ ] [**Bancos de dados Realm**](ios-pentesting/#realm-databases) podem armazenar informa√ß√µes sens√≠veis.
* [ ] [**Bancos de dados Couchbase Lite**](ios-pentesting/#couchbase-lite-databases) podem armazenar informa√ß√µes sens√≠veis.
* [ ] [**Cookies bin√°rios**](ios-pentesting/#cookies) podem armazenar informa√ß√µes sens√≠veis
* [ ] [**Dados de cache**](ios-pentesting/#cache) podem armazenar informa√ß√µes sens√≠veis
* [ ] [**Snapshots autom√°ticos**](ios-pentesting/#snapshots) podem salvar informa√ß√µes visuais sens√≠veis
* [ ] [**Keychain**](ios-pentesting/#keychain) √© geralmente usado para armazenar informa√ß√µes sens√≠veis que podem ser deixadas ao revender o telefone.
* [ ] Em resumo, apenas **verifique se h√° informa√ß√µes sens√≠veis salvas pela aplica√ß√£o no sistema de arquivos**

### Teclados

* [ ] A aplica√ß√£o [**permite o uso de teclados personalizados**](ios-pentesting/#custom-keyboards-keyboard-cache)?
* [ ] Verifique se informa√ß√µes sens√≠veis s√£o salvas nos [**arquivos de cache do teclado**](ios-pentesting/#custom-keyboards-keyboard-cache)

### **Logs**

* [ ] Verifique se [**informa√ß√µes sens√≠veis est√£o sendo registradas**](ios-pentesting/#logs)

### Backups

* [ ] [**Backups**](ios-pentesting/#backups) podem ser usados para **acessar informa√ß√µes sens√≠veis** salvas no sistema de arquivos (verifique o ponto inicial desta lista)
* [ ] Al√©m disso, [**backups**](ios-pentesting/#backups) podem ser usados para **modificar algumas configura√ß√µes da aplica√ß√£o**, depois **restaurar** o backup no telefone, e a **configura√ß√£o modificada** √© **carregada** e alguma funcionalidade (de seguran√ßa) pode ser **burlada**

### **Mem√≥ria das Aplica√ß√µes**

* [ ] Verifique se h√° informa√ß√µes sens√≠veis dentro da [**mem√≥ria da aplica√ß√£o**](ios-pentesting/#testing-memory-for-sensitive-data)

### **Criptografia Quebrada**

* [ ] Verifique se voc√™ pode encontrar [**senhas usadas para criptografia**](ios-pentesting/#broken-cryptography)
* [ ] Verifique o uso de [**algoritmos obsoletos/fracos**](ios-pentesting/#broken-cryptography) para enviar/armazenar dados sens√≠veis
* [ ] [**Intercepte e monitore fun√ß√µes de criptografia**](ios-pentesting/#broken-cryptography)

### **Autentica√ß√£o Local**

* [ ] Se uma [**autentica√ß√£o local**](ios-pentesting/#local-authentication) √© usada na aplica√ß√£o, voc√™ deve verificar como a autentica√ß√£o est√° funcionando.
* [ ] Se estiver usando o [**Framework de Autentica√ß√£o Local**](ios-pentesting/#local-authentication-framework), ele pode ser facilmente burlado
* [ ] Se estiver usando uma [**fun√ß√£o que pode ser dinamicamente burlada**](ios-pentesting/#local-authentication-using-keychain), voc√™ poderia criar um script frida personalizado

### Exposi√ß√£o de Funcionalidades Sens√≠veis Atrav√©s de IPC

* [**Manipuladores de URI Personalizados / Deeplinks / Esquemas Personalizados**](ios-pentesting/#custom-uri-handlers-deeplinks-custom-schemes)
* [ ] Verifique se a aplica√ß√£o est√° **registrando algum protocolo/esquema**
* [ ] Verifique se a aplica√ß√£o est√° **registrada para usar** algum protocolo/esquema
* [ ] Verifique se a aplica√ß√£o **espera receber algum tipo de informa√ß√£o sens√≠vel** do esquema personalizado que pode ser **interceptado** por outra aplica√ß√£o registrando o mesmo esquema
* [ ] Verifique se a aplica√ß√£o **n√£o est√° verificando e higienizando** a entrada dos usu√°rios via o esquema personalizado e alguma **vulnerabilidade pode ser explorada**
* [ ] Verifique se a aplica√ß√£o **exp√µe alguma a√ß√£o sens√≠vel** que pode ser chamada de qualquer lugar via o esquema personalizado
* [**Links Universais**](ios-pentesting/#universal-links)
* [ ] Verifique se a aplica√ß√£o est√° **registrando algum protocolo/esquema universal**
* [ ] Verifique o arquivo `apple-app-site-association`
* [ ] Verifique se a aplica√ß√£o **n√£o est√° verificando e higienizando** a entrada dos usu√°rios via o esquema personalizado e alguma **vulnerabilidade pode ser explorada**
* [ ] Verifique se a aplica√ß√£o **exp√µe alguma a√ß√£o sens√≠vel** que pode ser chamada de qualquer lugar via o esquema personalizado
* [**Compartilhamento UIActivity**](ios-pentesting/ios-uiactivity-sharing.md)
* [ ] Verifique se a aplica√ß√£o pode receber UIActivities e se √© poss√≠vel explorar alguma vulnerabilidade com uma atividade especialmente criada
* [**UIPasteboard**](ios-pentesting/ios-uipasteboard.md)
* [ ] Verifique se a aplica√ß√£o est√° **copiando algo para o pasteboard geral**
* [ ] Verifique se a aplica√ß√£o est√° **usando dados do pasteboard geral para alguma coisa**
* [ ] Monitore o pasteboard para ver se algum **dado sens√≠vel √© copiado**
* [**Extens√µes de Aplicativos**](ios-pentesting/ios-app-extensions.md)
* [ ] A aplica√ß√£o est√° **usando alguma extens√£o**?
* [**WebViews**](ios-pentesting/ios-webviews.md)
* [ ] Verifique quais tipos de webviews est√£o sendo usados
* [ ] Verifique o status de **`javaScriptEnabled`**, **`JavaScriptCanOpenWindowsAutomatically`**, **`hasOnlySecureContent`**
* [ ] Verifique se a webview pode **acessar arquivos locais** com o protocolo **file://** **(**`allowFileAccessFromFileURLs`, `allowUniversalAccessFromFileURLs`)
* [ ] Verifique se o Javascript pode acessar **m√©todos Nativos** (`JSContext`, `postMessage`)

### Comunica√ß√£o de Rede

* [ ] Realize um [**MitM na comunica√ß√£o**](ios-pentesting/#network-communication) e procure por vulnerabilidades web.
* [ ] Verifique se o [**hostname do certificado**](ios-pentesting/#hostname-check) est√° sendo verificado
* [ ] Verifique/Burla [**Pinning de Certificado**](ios-pentesting/#certificate-pinning)

### **Diversos**

* [ ] Verifique por [**mecanismos autom√°ticos de patching/atualiza√ß√£o**](ios-pentesting/#hot-patching-enforced-updateing)
* [ ] Verifique por [**bibliotecas de terceiros maliciosas**](ios-pentesting/#third-parties)

<details>

<summary><strong>Aprenda hacking AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**merchandising oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do GitHub** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) para construir e **automatizar fluxos de trabalho** com as ferramentas comunit√°rias **mais avan√ßadas** do mundo.\
Obtenha Acesso Hoje:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
