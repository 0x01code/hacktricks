# iOS Pentesting Checklist

<figure><img src="/.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks)を使用して、世界で最も先進的なコミュニティツールによって強化された**ワークフローを簡単に構築**および**自動化**します。\
今すぐアクセスを取得：

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* **サイバーセキュリティ企業で働いていますか？** HackTricksで**会社を宣伝**したいですか？または、**最新バージョンのPEASSを入手**したり、HackTricksを**PDFでダウンロード**したりしたいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)をご覧ください。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです。
* [**公式のPEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を入手してください。
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter**で**フォロー**してください[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**。**
* **ハッキングのトリックを共有するには、**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **および** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **にPRを提出してください。**

</details>

### 準備

* [ ] [**iOSの基礎**](ios-pentesting/ios-basics.md)を読む
* [ ] [**iOSテスト環境**](ios-pentesting/ios-testing-environment.md)を読んで環境を準備する
* [ ] [**iOS初期分析**](ios-pentesting/#initial-analysis)のすべてのセクションを読んで、iOSアプリケーションのペントストを行うための一般的なアクションを学ぶ

### データの保存

* [ ] [**Plistファイル**](ios-pentesting/#plist)には、機密情報を保存するために使用できます。
* [ ] [**Core Data**](ios-pentesting/#core-data)（SQLiteデータベース）には、機密情報を保存することができます。
* [ ] [**YapDatabases**](ios-pentesting/#yapdatabase)（SQLiteデータベース）には、機密情報を保存することができます。
* [ ] [**Firebase**](ios-pentesting/#firebase-real-time-databases)の設定ミス。
* [ ] [**Realmデータベース**](ios-pentesting/#realm-databases)には、機密情報を保存することができます。
* [ ] [**Couchbase Liteデータベース**](ios-pentesting/#couchbase-lite-databases)には、機密情報を保存することができます。
* [ ] [**バイナリクッキー**](ios-pentesting/#cookies)には、機密情報を保存することができます。
* [ ] [**キャッシュデータ**](ios-pentesting/#cache)には、機密情報を保存することができます。
* [ ] [**自動スナップショット**](ios-pentesting/#snapshots)には、視覚的に機密情報を保存することができます。
* [ ] [**キーチェーン**](ios-pentesting/#keychain)は、通常、電話の再販時に残される可能性のある機密情報を保存するために使用されます。
* [ ] 要約すると、アプリケーションがファイルシステムに保存する機密情報をチェックするだけです。

### キーボード

* [ ] アプリケーションが[**カスタムキーボードの使用を許可**](ios-pentesting/#custom-keyboards-keyboard-cache)しているかどうかを確認します。
* [ ] 機密情報が[**キーボードキャッシュファイル**](ios-pentesting/#custom-keyboards-keyboard-cache)に保存されているかどうかを確認します。

### **ログ**

* [ ] [**機密情報がログに記録されているか**](ios-pentesting/#logs)を確認します。

### バックアップ

* [ ] [**バックアップ**](ios-pentesting/#backups)を使用して、ファイルシステムに保存された機密情報にアクセスできます（このチェックリストの最初のポイントを確認してください）。
* [ ] また、[**バックアップ**](ios-pentesting/#backups)を使用して、アプリケーションの一部の設定を変更し、バックアップを電話に**復元**することで、**変更された設定**が**ロード**されるため、いくつかの（セキュリティ）**機能**が**バイパス**される可能性があります。

### **アプリケーションのメモリ**

* [ ] [**アプリケーションのメモリ**](ios-pentesting/#testing-memory-for-sensitive-data)内に機密情報があるかどうかをチェックします。

### **破損した暗号化**

* [ ] 暗号化に使用される[**パスワード**](ios-pentesting/#broken-cryptography)を見つけることができるかどうかをチェックします。
* [ ] 送信/保存される機密データには、[**非推奨/弱いアルゴリズム**](ios-pentesting/#broken-cryptography)が使用されていないかどうかをチェックします。
* [ ] 暗号化関数を[**フックして監視**](ios-pentesting/#broken-cryptography)します。

### **ローカル認証**

* [ ] アプリケーションで[**ローカル認証**](ios-pentesting/#local-authentication)が使用されている場合、認証の動作を確認する必要があります。
* [ ] [**ローカル認証フレームワーク**](ios-pentesting/#local-authentication-framework)を使用している場合、簡単にバイパスできる可能性があります。
* [ ] [**キーチェーンを使用したローカル認証**](ios-pentesting/#local-authentication-using-keychain)を行う関数を使用している場合、カスタムのfridaスクリプトを作成できます。
### IPCを介した機密機能の公開

* [**カスタムURIハンドラー/ディープリンク/カスタムスキーム**](ios-pentesting/#custom-uri-handlers-deeplinks-custom-schemes)
* [ ] アプリケーションが**プロトコル/スキームを登録しているか**を確認する
* [ ] アプリケーションが**プロトコル/スキームを使用するために登録しているか**を確認する
* [ ] アプリケーションがカスタムスキームから**機密情報を受け取ることを期待しているか**を確認し、同じスキームを登録している別のアプリケーションによって**傍受**される可能性があるかを確認する
* [ ] アプリケーションがカスタムスキームを介してユーザーの入力を**チェックおよびサニタイズしていない**かどうかを確認する。そして、いくつかの**脆弱性が悪用**される可能性があるかを確認する
* [ ] アプリケーションがカスタムスキームを介して**どこからでも呼び出せるような機密なアクションを公開していないか**を確認する
* [**ユニバーサルリンク**](ios-pentesting/#universal-links)
* [ ] アプリケーションが**ユニバーサルプロトコル/スキームを登録しているか**を確認する
* [ ] `apple-app-site-association`ファイルを確認する
* [ ] アプリケーションがユニバーサルスキームを介してユーザーの入力を**チェックおよびサニタイズしていない**かどうかを確認する。そして、いくつかの**脆弱性が悪用**される可能性があるかを確認する
* [ ] アプリケーションがユニバーサルスキームを介して**どこからでも呼び出せるような機密なアクションを公開していないか**を確認する
* [**UIActivity共有**](ios-pentesting/ios-uiactivity-sharing.md)
* [ ] アプリケーションがUIActivitiesを受け取ることができ、特別に作成されたアクティビティで**脆弱性を悪用**することが可能かを確認する
* [**UIPasteboard**](ios-pentesting/ios-uipasteboard.md)
* [ ] アプリケーションが一般的なペーストボードに**何かをコピーしているか**を確認する
* [ ] アプリケーションが一般的なペーストボードのデータを何かに**使用しているか**を確認する
* [ ] ペーストボードを監視して、**機密データがコピーされているか**を確認する
* [**アプリ拡張**](ios-pentesting/ios-app-extensions.md)
* [ ] アプリケーションが**拡張機能を使用しているか**を確認する
* [**WebViews**](ios-pentesting/ios-webviews.md)
* [ ] 使用されているWebビューの種類を確認する
* [ ] **`javaScriptEnabled`**、**`JavaScriptCanOpenWindowsAutomatically`**、**`hasOnlySecureContent`**のステータスを確認する
* [ ] Webビューが**`file://`プロトコルでローカルファイルにアクセスできるか**を確認する（**`allowFileAccessFromFileURLs`**、**`allowUniversalAccessFromFileURLs`**）
* [ ] Javascriptが**ネイティブのメソッド**（`JSContext`、`postMessage`）にアクセスできるかを確認する

### ネットワーク通信

* [ ] 通信に対して[**MitM攻撃**](ios-pentesting/#network-communication)を実行し、ウェブの脆弱性を検索する
* [ ] 証明書の**ホスト名**（ios-pentesting/#hostname-check）がチェックされているかを確認する
* [ ] [**証明書ピニング**](ios-pentesting/#certificate-pinning)のチェック/バイパスを行う

### その他

* [ ] [**自動パッチング/更新**](ios-pentesting/#hot-patching-enforced-updateing)メカニズムを確認する
* [ ] [**悪意のあるサードパーティライブラリ**](ios-pentesting/#third-parties)を確認する

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* **サイバーセキュリティ企業で働いていますか？** HackTricksで**会社を宣伝**したいですか？または、**PEASSの最新バージョンやHackTricksのPDFをダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを見つけてください。
* [**公式のPEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう。
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**をフォロー**してください。
* **ハッキングのトリックを共有するには、**[**hacktricksリポジトリ**](https://github.com/carlospolop/hacktricks) **と** [**hacktricks-cloudリポジトリ**](https://github.com/carlospolop/hacktricks-cloud) **にPRを提出してください。**

</details>

<figure><img src="/.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks)を使用して、世界で最も高度なコミュニティツールによって強化されたワークフローを簡単に構築および自動化します。\
今すぐアクセスを取得：

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
