# iOS ペネトレーションテストチェックリスト

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
世界で**最も進んだ**コミュニティツールを駆使して、簡単に**ワークフローを構築**し**自動化**するために[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)を使用します。\
今すぐアクセス:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) で</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>AWS ハッキングをゼロからヒーローまで学ぶ</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告掲載**したい場合や、**HackTricksをPDFでダウンロード**したい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式のPEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見する、私たちの独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクション
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)や[**テレグラムグループ**](https://t.me/peass)に**参加する**か、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* [**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のgithubリポジトリにPRを提出して、あなたのハッキングテクニックを共有する。

</details>

### 準備

* [ ] [**iOSの基本**](ios-pentesting/ios-basics.md)を読む
* [ ] [**iOSテスト環境**](ios-pentesting/ios-testing-environment.md)を読んで環境を準備する
* [ ] [**iOS初期分析**](ios-pentesting/#initial-analysis)のすべてのセクションを読んで、iOSアプリケーションをペネトレーションテストする一般的なアクションを学ぶ

### データストレージ

* [ ] [**Plistファイル**](ios-pentesting/#plist)は機密情報を保存するために使用される可能性があります。
* [ ] [**Core Data**](ios-pentesting/#core-data) (SQLiteデータベース)は機密情報を保存する可能性があります。
* [ ] [**YapDatabases**](ios-pentesting/#yapdatabase) (SQLiteデータベース)は機密情報を保存する可能性があります。
* [ ] [**Firebase**](ios-pentesting/#firebase-real-time-databases)の設定ミス。
* [ ] [**Realmデータベース**](ios-pentesting/#realm-databases)は機密情報を保存する可能性があります。
* [ ] [**Couchbase Liteデータベース**](ios-pentesting/#couchbase-lite-databases)は機密情報を保存する可能性があります。
* [ ] [**バイナリクッキー**](ios-pentesting/#cookies)は機密情報を保存する可能性があります。
* [ ] [**キャッシュデータ**](ios-pentesting/#cache)は機密情報を保存する可能性があります。
* [ ] [**自動スナップショット**](ios-pentesting/#snapshots)は視覚的な機密情報を保存する可能性があります。
* [ ] [**キーチェーン**](ios-pentesting/#keychain)は通常、機密情報を保存するために使用され、電話を再販売する際に残される可能性があります。
* [ ] 要約すると、ファイルシステムにアプリケーションによって保存された機密情報を**チェックする**だけです。

### キーボード

* [ ] アプリケーションは[**カスタムキーボードの使用を許可していますか**](ios-pentesting/#custom-keyboards-keyboard-cache)？
* [ ] [**キーボードキャッシュファイル**](ios-pentesting/#custom-keyboards-keyboard-cache)に機密情報が保存されているかどうかを確認します。

### **ログ**

* [ ] [**機密情報がログに記録されているか**](ios-pentesting/#logs)を確認します。

### バックアップ

* [ ] [**バックアップ**](ios-pentesting/#backups)は、ファイルシステムに保存された**機密情報にアクセスする**ために使用できます（このチェックリストの最初のポイントを確認してください）。
* [ ] また、[**バックアップ**](ios-pentesting/#backups)は、アプリケーションのいくつかの設定を**変更する**ために使用され、その後バックアップを電話に**復元**すると、**変更された設定**が**読み込まれ**、いくつかの（セキュリティ）**機能**が**バイパスされる**可能性があります。

### **アプリケーションメモリ**

* [ ] [**アプリケーションのメモリ内**](ios-pentesting/#testing-memory-for-sensitive-data)の機密情報をチェックします。

### **暗号化の破損**

* [ ] [**暗号化に使用されるパスワード**](ios-pentesting/#broken-cryptography)を見つけることができるかどうかを確認します。
* [ ] [**非推奨/弱いアルゴリズム**](ios-pentesting/#broken-cryptography)の使用を確認し、機密データの送信/保存に使用されているかどうかを確認します。
* [ ] [**暗号化機能をフックして監視する**](ios-pentesting/#broken-cryptography)

### **ローカル認証**

* [ ] アプリケーションで[**ローカル認証**](ios-pentesting/#local-authentication)が使用されている場合、認証の動作を確認する必要があります。
* [ ] [**ローカル認証フレームワーク**](ios-pentesting/#local-authentication-framework)を使用している場合、簡単にバイパスされる可能性があります。
* [ ] [**動的にバイパスできる機能**](ios-pentesting/#local-authentication-using-keychain)を使用している場合、カスタムのfridaスクリプトを作成できます。

### IPCを通じた機密機能の露出

* [**カスタムURIハンドラー/ディープリンク/カスタムスキーム**](ios-pentesting/#custom-uri-handlers-deeplinks-custom-schemes)
* [ ] アプリケーションが**プロトコル/スキームを登録しているか**を確認します。
* [ ] アプリケーションが**プロトコル/スキームの使用を登録しているか**を確認します。
* [ ] アプリケーションがカスタムスキームから**機密情報を受け取ることを期待しているか**、そしてその情報が他のアプリケーションによって同じスキームを登録することで**傍受される可能性があるか**を確認します。
* [ ] アプリケーションがカスタムスキームを介してユーザーの入力を**チェックしてサニタイズしていないか**、そしていくつかの**脆弱性が悪用される可能性があるか**を確認します。
* [ ] アプリケーションがカスタムスキームを介してどこからでも呼び出すことができる**機密アクションを公開しているか**を確認します。
* [**ユニバーサルリンク**](ios-pentesting/#universal-links)
* [ ] アプリケーションが**ユニバーサルプロトコル/スキームを登録しているか**を確認します。
* [ ] `apple-app-site-association`ファイルを確認します。
* [ ] アプリケーションがカスタムスキームを介してユーザーの入力を**チェックしてサニタイズしていないか**、そしていくつかの**脆弱性が悪用される可能性があるか**を確認します。
* [ ] アプリケーションがカスタムスキームを介してどこからでも呼び出すことができる**機密アクションを公開しているか**を確認します。
* [**UIActivity共有**](ios-pentesting/ios-uiactivity-sharing.md)
* [ ] アプリケーションがUIActivitiesを受け取ることができ、特別に作成されたアクティビティで脆弱性を悪用することが可能かどうかを確認します。
* [**UIPasteboard**](ios-pentesting/ios-uipasteboard.md)
* [ ] アプリケーションが**一般的なペーストボードに何かをコピーしているか**を確認します。
* [ ] アプリケーションが**一般的なペーストボードからのデータを何かに使用しているか**を確認します。
* [ ] ペーストボードを監視して、**機密データがコピーされているか**を確認します。
* [**アプリ拡張**](ios-pentesting/ios-app-extensions.md)
* [ ] アプリケーションが**拡張機能を使用しているか**を確認します。
* [**WebViews**](ios-pentesting/ios-webviews.md)
* [ ] 使用されているWebViewsの種類を確認します。
* [ ] **`javaScriptEnabled`**、**`JavaScriptCanOpenWindowsAutomatically`**、**`hasOnlySecureContent`**の状態を確認します。
* [ ] Webviewが**file://**プロトコルを使用して**ローカルファイルにアクセスできるか**を確認します（`allowFileAccessFromFileURLs`, `allowUniversalAccessFromFileURLs`）。
* [ ] Javascriptが**ネイティブ** **メソッドにアクセスできるか**を確認します（`JSContext`, `postMessage`）。

### ネットワーク通信

* [ ] [**通信へのMitMを実行**](ios-pentesting/#network-communication)し、Webの脆弱性を探します。
* [ ] [**証明書のホスト名**](ios-pentesting/#hostname-check)がチェックされているかを確認します。
* [ ] [**証明書ピンニング**](ios-pentesting/#certificate-pinning)をチェック/バイパスします。

### **その他**

* [ ] [**自動パッチ適用/更新**](ios-pentesting/#hot-patching-enforced-updateing)メカニズムをチェックします。
* [ ] [**悪意のあるサードパーティライブラリ**](ios-pentesting/#third-parties)をチェックします。

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) で</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>AWS ハッキングをゼロからヒーローまで学ぶ</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告掲載**したい場合や、**HackTricksをPDFでダウンロード**したい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式のPEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見する、私たちの独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクション
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)や[**テレグラムグループ**](https://t.me/peass)に**参加する**か、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* [**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のgithubリポジトリにPRを提出して、あなたのハッキングテクニックを共有する。

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
世界で**最も進んだ**コミュニティツールを駆使して、簡単に**ワークフローを構築**し**自動化**するために[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)を使用します。\
今すぐアクセス:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
