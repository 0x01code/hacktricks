# Aplicativos Cordova

<details>

<summary><strong>Aprenda hacking AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras maneiras de apoiar o HackTricks:

* Se voc√™ deseja ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF** Confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**swag oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe seus truques de hacking enviando PRs para os** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) reposit√≥rios do github.

</details>

**Para mais detalhes, consulte [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)**. Este √© um resumo:

O Apache Cordova √© reconhecido por permitir o desenvolvimento de **aplicativos h√≠bridos** usando **JavaScript, HTML e CSS**. Ele permite a cria√ß√£o de aplicativos Android e iOS; no entanto, ele n√£o possui um mecanismo padr√£o para proteger o c√≥digo-fonte do aplicativo. Ao contr√°rio do React Native, o Cordova n√£o compila o c√≥digo-fonte por padr√£o, o que pode levar a vulnerabilidades de manipula√ß√£o de c√≥digo. O Cordova utiliza o WebView para renderizar aplicativos, expondo o c√≥digo HTML e JavaScript mesmo ap√≥s ser compilado em arquivos APK ou IPA. O React Native, por outro lado, utiliza uma VM JavaScript para executar o c√≥digo JavaScript, oferecendo uma melhor prote√ß√£o do c√≥digo-fonte.

### Clonando um Aplicativo Cordova

Antes de clonar um aplicativo Cordova, certifique-se de que o NodeJS est√° instalado juntamente com outros pr√©-requisitos como o Android SDK, Java JDK e Gradle. A [documenta√ß√£o](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) oficial do Cordova fornece um guia abrangente para essas instala√ß√µes.

Considere um aplicativo de exemplo chamado `Bank.apk` com o nome do pacote `com.android.bank`. Para acessar o c√≥digo-fonte, descompacte `bank.apk` e navegue at√© a pasta `bank/assets/www`. Esta pasta cont√©m o c√≥digo-fonte completo do aplicativo, incluindo arquivos HTML e JS. A configura√ß√£o do aplicativo pode ser encontrada em `bank/res/xml/config.xml`.

Para clonar o aplicativo, siga estes passos:
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
Copie o conte√∫do de `bank/assets/www` para `bank-new/www`, excluindo `cordova_plugins.js`, `cordova.js`, `cordova-js-src/` e o diret√≥rio `plugins/`.

Especifique a plataforma (Android ou iOS) ao criar um novo projeto Cordova. Para clonar um aplicativo Android, adicione a plataforma Android. Note que as vers√µes de plataforma do Cordova e os n√≠veis de API do Android s√£o distintos. Consulte a [documenta√ß√£o](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/) do Cordova para detalhes sobre as vers√µes de plataforma e APIs do Android suportadas.

Para determinar a vers√£o apropriada da plataforma Android do Cordova, verifique o `PLATFORM_VERSION_BUILD_LABEL` no arquivo `cordova.js` do aplicativo original.

Ap√≥s configurar a plataforma, instale os plugins necess√°rios. O arquivo `bank/assets/www/cordova_plugins.js` do aplicativo original lista todos os plugins e suas vers√µes. Instale cada plugin individualmente conforme mostrado abaixo:
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
Se um plugin n√£o estiver dispon√≠vel no npm, ele pode ser obtido no GitHub:
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
Certifique-se de que todos os pr√©-requisitos s√£o atendidos antes de compilar:
```bash
cd bank-new
cordova requirements
```
Para construir o APK, utilize o seguinte comando:
```bash
cd bank-new
cordova build android ‚Äî packageType=apk
```
Este comando gera um APK com a op√ß√£o de depura√ß√£o ativada, facilitando a depura√ß√£o via Google Chrome. √â crucial assinar o APK antes da instala√ß√£o, especialmente se a aplica√ß√£o incluir mecanismos de detec√ß√£o de adultera√ß√£o de c√≥digo.

### Ferramenta de Automa√ß√£o

Para aqueles que buscam automatizar o processo de clonagem, **[MobSecco](https://github.com/Anof-cyber/MobSecco)** √© uma ferramenta recomendada. Ela simplifica a clonagem de aplicativos Android, simplificando os passos descritos acima.

<details>

<summary><strong>Aprenda hacking AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras maneiras de apoiar o HackTricks:

* Se voc√™ deseja ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, verifique os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**swag oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe seus truques de hacking enviando PRs para os reposit√≥rios** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
