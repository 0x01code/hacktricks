# Aplicaciones Cordova

<details>

<summary><strong>Aprende a hackear AWS de cero a h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Experto en Equipos Rojos de HackTricks AWS)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n el [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repositorios de github.

</details>

**Para m√°s detalles, consulta [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)**. Esta es un resumen:

Apache Cordova es reconocido por permitir el desarrollo de **aplicaciones h√≠bridas** utilizando **JavaScript, HTML y CSS**. Permite la creaci√≥n de aplicaciones para Android e iOS; sin embargo, carece de un mecanismo predeterminado para asegurar el c√≥digo fuente de la aplicaci√≥n. A diferencia de React Native, Cordova no compila el c√≥digo fuente por defecto, lo que puede llevar a vulnerabilidades de manipulaci√≥n de c√≥digo. Cordova utiliza WebView para renderizar aplicaciones, exponiendo el c√≥digo HTML y JavaScript incluso despu√©s de ser compilado en archivos APK o IPA. Por otro lado, React Native emplea una m√°quina virtual de JavaScript para ejecutar el c√≥digo JavaScript, ofreciendo una mejor protecci√≥n del c√≥digo fuente.

### Clonando una Aplicaci√≥n Cordova

Antes de clonar una aplicaci√≥n Cordova, aseg√∫rate de que NodeJS est√© instalado junto con otros requisitos como el SDK de Android, Java JDK y Gradle. La [documentaci√≥n](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) oficial de Cordova proporciona una gu√≠a completa para estas instalaciones.

Considera una aplicaci√≥n de ejemplo llamada `Bank.apk` con el nombre de paquete `com.android.bank`. Para acceder al c√≥digo fuente, descomprime `bank.apk` y navega hasta la carpeta `bank/assets/www`. Esta carpeta contiene el c√≥digo fuente completo de la aplicaci√≥n, incluidos los archivos HTML y JS. La configuraci√≥n de la aplicaci√≥n se puede encontrar en `bank/res/xml/config.xml`.

Para clonar la aplicaci√≥n, sigue estos pasos:
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
Copie el contenido de `bank/assets/www` a `bank-new/www`, excluyendo `cordova_plugins.js`, `cordova.js`, `cordova-js-src/` y el directorio `plugins/`.

Especifique la plataforma (Android o iOS) al crear un nuevo proyecto de Cordova. Para clonar una aplicaci√≥n Android, agregue la plataforma Android. Tenga en cuenta que las versiones de plataforma de Cordova y los niveles de API de Android son distintos. Consulte la [documentaci√≥n](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/) de Cordova para obtener detalles sobre las versiones de plataforma y las API de Android admitidas.

Para determinar la versi√≥n de plataforma de Android de Cordova adecuada, verifique el `PLATFORM_VERSION_BUILD_LABEL` en el archivo `cordova.js` de la aplicaci√≥n original.

Despu√©s de configurar la plataforma, instale los plugins requeridos. El archivo `bank/assets/www/cordova_plugins.js` de la aplicaci√≥n original enumera todos los plugins y sus versiones. Instale cada plugin individualmente como se muestra a continuaci√≥n:
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
Si un plugin no est√° disponible en npm, se puede obtener desde GitHub:
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
Aseg√∫rate de que se cumplan todos los requisitos antes de compilar:
```bash
cd bank-new
cordova requirements
```
Para construir el APK, utiliza el siguiente comando:
```bash
cd bank-new
cordova build android ‚Äî packageType=apk
```
Este comando genera un APK con la opci√≥n de depuraci√≥n habilitada, facilitando la depuraci√≥n a trav√©s de Google Chrome. Es crucial firmar el APK antes de la instalaci√≥n, especialmente si la aplicaci√≥n incluye mecanismos de detecci√≥n de manipulaci√≥n de c√≥digo.

### Herramienta de Automatizaci√≥n

Para aquellos que buscan automatizar el proceso de clonaci√≥n, **[MobSecco](https://github.com/Anof-cyber/MobSecco)** es una herramienta recomendada. Simplifica la clonaci√≥n de aplicaciones de Android, simplificando los pasos descritos anteriormente.

<details>

<summary><strong>Aprende a hackear AWS desde cero hasta convertirte en un experto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n la [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) en GitHub.

</details>
