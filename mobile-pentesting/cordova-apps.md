# Cordova Apps

<details>

<summary><strong>ゼロからヒーローまでAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法：

- **HackTricksで企業を宣伝したい**または**HackTricksをPDFでダウンロードしたい**場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksスワッグ**](https://peass.creator-spring.com)を入手する
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)コレクションを見つける
- **💬 [Discordグループ](https://discord.gg/hRep4RUj7f)**または[telegramグループ](https://t.me/peass)に**参加**するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォロー**する。
- **ハッキングトリックを共有するには、[HackTricks](https://github.com/carlospolop/hacktricks)と[HackTricks Cloud](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してください。**

</details>

**詳細については、[https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)** をチェックしてください。これは要約です：

Apache Cordovaは、**JavaScript、HTML、およびCSS**を使用して**ハイブリッドアプリケーション**の開発を可能にすることで知られています。AndroidおよびiOSアプリケーションの作成を許可しますが、アプリケーションのソースコードを保護するデフォルトのメカニズムが欠けています。React Nativeとは対照的に、Cordovaはデフォルトでソースコードをコンパイルしないため、コード改ざんの脆弱性が発生する可能性があります。 CordovaはWebViewを使用してアプリケーションをレンダリングし、APKまたはIPAファイルにコンパイルされた後もHTMLおよびJavaScriptコードを公開します。一方、React NativeはJavaScript VMを使用してJavaScriptコードを実行し、ソースコードの保護を提供します。

### Cordovaアプリケーションのクローン

Cordovaアプリケーションをクローンする前に、NodeJSがインストールされていること、およびAndroid SDK、Java JDK、およびGradleなどの他の前提条件が満たされていることを確認してください。 公式のCordova [ドキュメント](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) には、これらのインストールに関する包括的なガイドが提供されています。

`Bank.apk`という名前の例のアプリケーションがあり、パッケージ名が`com.android.bank`であるとします。 ソースコードにアクセスするには、`bank.apk`を解凍し、`bank/assets/www`フォルダに移動します。 このフォルダには、HTMLおよびJSファイルを含むアプリケーションの完全なソースコードが含まれています。 アプリケーションの構成は`bank/res/xml/config.xml`にあります。

アプリケーションをクローンするには、次の手順に従ってください：
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
`bank/assets/www`の内容を`bank-new/www`にコピーします。ただし、`cordova_plugins.js`、`cordova.js`、`cordova-js-src/`、および`plugins/`ディレクトリは除外します。

新しいCordovaプロジェクトを作成する際には、プラットフォーム（AndroidまたはiOS）を指定します。Androidアプリをクローンする場合は、Androidプラットフォームを追加します。CordovaのプラットフォームバージョンとAndroid APIレベルは異なることに注意してください。プラットフォームバージョンとサポートされるAndroid APIについての詳細は、Cordovaの[ドキュメント](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/)を参照してください。

適切なCordova Androidプラットフォームバージョンを決定するには、元のアプリケーションの`cordova.js`ファイル内の`PLATFORM_VERSION_BUILD_LABEL`を確認します。

プラットフォームを設定した後、必要なプラグインをインストールします。元のアプリケーションの`bank/assets/www/cordova_plugins.js`ファイルには、すべてのプラグインとそのバージョンがリストされています。以下に示すように、各プラグインを個別にインストールします:
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
もしプラグインがnpmにない場合、GitHubから取得することができます:
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
すべての前提条件がコンパイル前に満たされていることを確認してください。
```bash
cd bank-new
cordova requirements
```
APKをビルドするには、次のコマンドを使用してください：
```bash
cd bank-new
cordova build android — packageType=apk
```
このコマンドは、デバッグオプションを有効にしてAPKを生成し、Google Chromeを介してデバッグを容易にします。特にアプリケーションにコード改ざん検出メカニズムが含まれている場合は、インストール前にAPKに署名することが重要です。

### 自動化ツール

クローニングプロセスを自動化したい人には、**[MobSecco](https://github.com/Anof-cyber/MobSecco)** がお勧めです。これは、Androidアプリケーションのクローニングを簡略化し、上記の手順を簡素化します。
