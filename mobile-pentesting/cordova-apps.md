# Cordova Apps

<details>

<summary><strong>ゼロからヒーローまでAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

HackTricks をサポートする他の方法:

* **HackTricks で企業を宣伝したい**または **HackTricks をPDFでダウンロードしたい**場合は [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) をチェックしてください！
* [**公式PEASS＆HackTricksスワッグ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な [**NFTs**](https://opensea.io/collection/the-peass-family) のコレクションを見つける
* **💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f) に参加するか、[**telegramグループ**](https://t.me/peass) に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live) をフォローする
* **ハッキングトリックを共有するためにPRを提出して** [**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) のGitHubリポジトリに

</details>

**詳細については [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)** をチェックしてください。これは要約です:

Apache Cordova は、**JavaScript、HTML、およびCSS** を使用して **ハイブリッドアプリケーション** の開発を可能にすることで知られています。Android およびiOSアプリケーションの作成を許可しますが、アプリケーションのソースコードを保護するデフォルトのメカニズムが欠けています。React Native とは対照的に、Cordova はデフォルトでソースコードをコンパイルしないため、コード改ざんの脆弱性が発生する可能性があります。 Cordova は WebView を使用してアプリケーションをレンダリングし、APKまたはIPAファイルにコンパイルされた後もHTMLとJavaScriptコードを公開します。一方、React Native はJavaScript VM を使用してJavaScriptコードを実行し、ソースコードの保護が向上します。

### Cordovaアプリケーションのクローン

Cordovaアプリケーションをクローンする前に、NodeJS がインストールされていること、Android SDK、Java JDK、およびGradleなどの他の前提条件が満たされていることを確認してください。公式の Cordova [documentation](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) には、これらのインストールに関する包括的なガイドが提供されています。

`Bank.apk` という名前の例のアプリケーションがあり、パッケージ名が `com.android.bank` です。ソースコードにアクセスするには、`bank.apk` を解凍し、`bank/assets/www` フォルダに移動します。このフォルダには、HTMLファイルやJSファイルを含むアプリケーションの完全なソースコードが含まれています。アプリケーションの構成は `bank/res/xml/config.xml` にあります。

アプリケーションをクローンするには、以下の手順に従ってください:
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
`bank/assets/www`の内容を`bank-new/www`にコピーします。ただし、`cordova_plugins.js`、`cordova.js`、`cordova-js-src/`、および`plugins/`ディレクトリは除外します。

新しいCordovaプロジェクトを作成する際には、プラットフォーム（AndroidまたはiOS）を指定します。Androidアプリをクローンする場合は、Androidプラットフォームを追加します。CordovaのプラットフォームバージョンとAndroid APIレベルは異なることに注意してください。プラットフォームバージョンとサポートされるAndroid APIについての詳細は、Cordovaの[ドキュメント](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/)を参照してください。

適切なCordova Androidプラットフォームバージョンを決定するには、元のアプリケーションの`cordova.js`ファイル内の`PLATFORM_VERSION_BUILD_LABEL`を確認します。

プラットフォームを設定した後、必要なプラグインをインストールします。元のアプリケーションの`bank/assets/www/cordova_plugins.js`ファイルには、すべてのプラグインとそのバージョンがリストされています。以下に示すように、各プラグインを個別にインストールしてください：
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
もしプラグインがnpmにない場合、GitHubから取得することができます:
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
すべての前提条件がコンパイル前に満たされていることを確認してください。
```bash
cd bank-new
cordova requirements
```
APKをビルドするには、次のコマンドを使用します:
```bash
cd bank-new
cordova build android — packageType=apk
```
このコマンドは、デバッグオプションを有効にしてAPKを生成し、Google Chromeを介してデバッグを容易にします。特にアプリケーションにコード改ざん検出メカニズムが含まれている場合は、インストール前にAPKに署名することが重要です。

### 自動化ツール

クローニングプロセスを自動化したい人には、**[MobSecco](https://github.com/Anof-cyber/MobSecco)** がおすすめです。これはAndroidアプリケーションのクローニングを簡略化し、上記の手順を簡素化します。
