# iOS рдореВрд▓ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдСрдкрд░реЗрд╢рдиреНрд╕

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рджреНрд╡рд╛рд░рд╛ **PRs рд╕рдмрдорд┐рдЯ** рдХрд░рдХреЗ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## **iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд╣рдЪрд╛рди рдФрд░ рдПрдХреНрд╕реЗрд╕ рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢**

### **iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреА UDID рдХреА рдкрд╣рдЪрд╛рди**

iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдкрд╣рдЪрд╛рди рдХреЗ рд▓рд┐рдП рдПрдХ 40-рдЕрдВрдХреАрдп рдЕрдиреБрдХреНрд░рдо рдХреЛ UDID рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред macOS Catalina рдпрд╛ рдирдП рд╡рд░реНрд╢рди рдкрд░, рдпрд╣ **Finder рдРрдк** рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ iTunes рдЕрдм рдФрд░ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИред рдбрд┐рд╡рд╛рдЗрд╕, рдЬрдм USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдлрд╛рдЗрдВрдбрд░ рдореЗрдВ рдЪрдпрдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЬрдм рдЙрд╕рдХреЗ рдирд╛рдо рдХреЗ рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рд╡рд┐рд╡рд░рдг рдкрд░ рдХреНрд▓рд┐рдХ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЕрдкрдирд╛ UDID рджрд┐рдЦрд╛рддрд╛ рд╣реИред

Catalina рд╕реЗ рдкрд╣рд▓реЗ macOS рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, iTunes UDID рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред рд╡рд┐рд╕реНрддреГрдд рдирд┐рд░реНрджреЗрд╢ рдпрд╣рд╛рдБ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ [рдпрд╣рд╛рдБ](http://www.iclarified.com/52179/how-to-find-your-iphones-udid)ред

рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рдЯреВрд▓реНрд╕ UDID рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реИрдХрд▓реНрдкрд┐рдХ рд╡рд┐рдзрд┐рдпрд╛рдБ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ:

* **I/O рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдЯреВрд▓ `ioreg` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛:**
```bash
$ ioreg -p IOUSB -l | grep "USB Serial"
```
* **рдореИрдХрдУрдПрд╕ (рдФрд░ рд▓рд┐рдирдХреНрд╕) рдХреЗ рд▓рд┐рдП `ideviceinstaller` рдХрд╛ рдЙрдкрдпреЛрдЧ:**
```bash
$ brew install ideviceinstaller
$ idevice_id -l
```
* **`system_profiler` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛:**
```bash
$ system_profiler SPUSBDataType | sed -n -e '/iPad/,/Serial/p;/iPhone/,/Serial/p;/iPod/,/Serial/p' | grep "Serial Number:"
```
* **рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП `рдЙрдкрдХрд░рдг` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛:**
```bash
$ instruments -s devices
```
### **рдбрд┐рд╡рд╛рдЗрд╕ рд╢реИрд▓ рддрдХ рдкрд╣реБрдВрдЪрдирд╛**

**SSH рдПрдХреНрд╕реЗрд╕** рдХреЛ **OpenSSH рдкреИрдХреЗрдЬ** рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдХреЗ рдЬреЗрд▓рдмреНрд░реЗрдХ рдХреЗ рдмрд╛рдж рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ `ssh root@<device_ip_address>` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ `root` рдФрд░ `mobile` рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб (`alpine`) рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдмрдирд╛рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред

**USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ SSH** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрдм рд╡рд╛рдИ-рдлрд╛рдИ рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдореЗрдВ, `iproxy` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкреЛрд░реНрдЯ рдХреЛ рдореИрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдпрд╣ рд╕реЗрдЯрдЕрдк USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ SSH рдПрдХреНрд╕реЗрд╕ рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рдЪрд▓рд╛рдХрд░ рдкреНрд░рд╛рд░рдВрдн рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
$ iproxy 2222 22
$ ssh -p 2222 root@localhost
```
**рдСрди-рдбрд┐рд╡рд╛рдЗрд╕ рд╢реИрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди**, рдЬреИрд╕реЗ NewTerm 2, рд╕реАрдзреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдЗрдВрдЯрд░реЗрдХреНрд╢рди рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рддреЗ рд╣реИрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреАред **рд░рд┐рд╡рд░реНрд╕ SSH рд╢реИрд▓** рднреА рд╣реЛрд╕реНрдЯ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рд░рд┐рдореЛрдЯ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### **рднреВрд▓реЗ рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб рд░реАрд╕реЗрдЯ рдХрд░рдирд╛**

рднреВрд▓реЗ рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ (`alpine`) рдкрд░ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `/private/etc/master.passwd` рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЗрд╕рдореЗрдВ рдореМрдЬреВрджрд╛ рд╣реИрд╢ рдХреЛ `root` рдФрд░ `mobile` рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдВрдЯреНрд░реА рдХреЗ рдмрдЧрд▓ рдореЗрдВ `alpine` рдХреЗ рд▓рд┐рдП рд╣реИрд╢ рдХреЗ рд╕рд╛рде рдкреБрдирдГ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред

## **рдбреЗрдЯрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рддрдХрдиреАрдХреЗрдВ**

### **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛**

**SSH рдФрд░ SCP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрдЧреНрд░рд╣рдг рдФрд░ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐:** рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ `tar` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдирд╛ рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ `scp` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рд╕рд░рд▓ рд╣реИред рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рдХрдорд╛рдВрдб рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ .tgz рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдлрд┐рд░ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдЦреАрдВрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```bash
tar czvf /tmp/data.tgz /private/var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693
exit
scp -P 2222 root@localhost:/tmp/data.tgz .
```
### **рдЧреНрд░рд╛рдлрд┐рдХрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлреЗрд╕ рдЙрдкрдХрд░рдг**

**iFunbox рдФрд░ iExplorer рдХрд╛ рдЙрдкрдпреЛрдЧ:** рдпреЗ GUI рдЙрдкрдХрд░рдг iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, iOS 8.4 рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрдХрд░, Apple рдиреЗ рдЗрди рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдкрд╣реБрдВрдЪ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рддрдХ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░ рджрд┐рдпрд╛ рд╣реИ рдЬрдм рддрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдЬреЗрд▓рдмреНрд░реЛрдХрди рди рд╣реЛред

### **рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП Objection рдХрд╛ рдЙрдкрдпреЛрдЧ**

**Objection рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд╢реИрд▓:** Objection рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рд╕реЗ рдПрдХ рдРрдк рдХреЗ Bundle рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдорд┐рд▓рддреА рд╣реИред рдпрд╣рд╛рдБ рд╕реЗ, рдЖрдк рдРрдк рдХреЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рддрдХ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ iOS рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдФрд░ рдЕрдкрд▓реЛрдб рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред
```bash
objection --gadget com.apple.mobilesafari explorer
cd /var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/Documents
file download <filename>
```
## **рдРрдкреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рдирд┐рдХрд╛рд▓рдирд╛**

### **IPA рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛**

**рдУрд╡рд░-рдж-рдПрдпрд░ (OTA) рд╡рд┐рддрд░рдг рд▓рд┐рдВрдХ:** OTA рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╡рд┐рддрд░рд┐рдд рдРрдкреНрд╕ рдХреЛ ITMS рд╕реЗрд╡рд╛рдУрдВ рдПрд╕реЗрдЯ рдбрд╛рдЙрдирд▓реЛрдбрд░ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ npm рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ IPA рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рд╕рд╣реЗрдЬрд╛ рдЬрд╛ рд╕рдХреЗред
```bash
npm install -g itms-services
itms-services -u "itms-services://?action=download-manifest&url=https://s3-ap-southeast-1.amazonaws.com/test-uat/manifest.plist" -o - > out.ipa
```
### **рдРрдк рдмрд╛рдЗрдирд░реА рдирд┐рдХрд╛рд▓рдирд╛**

1. **рдЖрдИрдкреАрдП рд╕реЗ:** рдЖрдИрдкреАрдП рдХреЛ рдЕрдирдЬрд╝рд┐рдк рдХрд░реЗрдВ рддрд╛рдХрд┐ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдРрдк рдмрд╛рдЗрдирд░реА рддрдХ рдкрд╣реБрдВрдЪрд╛ рдЬрд╛ рд╕рдХреЗред
2. **рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ:** рдРрдк рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ рдФрд░ рдореЗрдореЛрд░реА рд╕реЗ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрд╛рдЗрдирд░реА рдирд┐рдХрд╛рд▓реЗрдВред

### **рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд░рдХреНрд░рд┐рдпрд╛**

**рдореИрдиреБрдЕрд▓ рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди рдЕрд╡рд▓реЛрдХрди:** iOS рдРрдк рдмрд╛рдЗрдирд░реА рдХреЛ Apple рджреНрд╡рд╛рд░рд╛ FairPlay рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд░рд┐рд╡рд░реНрд╕-рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрд┐рд╕реА рдХреЛ рдореЗрдореЛрд░реА рд╕реЗ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрд╛рдЗрдирд░реА рдбрдВрдк рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ PIE рдлреНрд▓реИрдЧ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛, рдореЗрдореЛрд░реА рдлреНрд▓реИрдЧ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдирд╛, рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛, рдФрд░ рдлрд┐рд░ рдЗрд╕ рд╕реЗрдХреНрд╢рди рдХреЛ рдЙрд╕рдХреЗ рдбрд┐рдХреНрд░рд┐рдкреНрдЯреЗрдб рд░реВрдк рдореЗрдВ рдбрдВрдк рдФрд░ рдкреБрдирдГ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред

**PIE рдлреНрд▓реИрдЧ рдХреА рдЬрд╛рдВрдЪ рдФрд░ рд╕рдВрд╢реЛрдзрди:**
```bash
otool -Vh Original_App
python change_macho_flags.py --no-pie Original_App
otool -Vh Hello_World
```
**рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рдХреА рдкрд╣рдЪрд╛рди рдФрд░ рдореЗрдореЛрд░реА рдбрдВрдк рдХрд░рдирд╛:**

`otool` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рдХреА рд╢реБрд░реБрдЖрдд рдФрд░ рд╕рдорд╛рдкреНрдд рдкрддреЗ рддрдп рдХрд░реЗрдВ рдФрд░ gdb рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдореЗрдореЛрд░реА рдбрдВрдк рдХрд░реЗрдВред
```bash
otool -l Original_App | grep -A 4 LC_ENCRYPTION_INFO
dump memory dump.bin 0x8000 0x10a4000
```
**рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рдХреЛ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░рдирд╛:**

рдореВрд▓ рдРрдк рдмрд╛рдЗрдирд░реА рдореЗрдВ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдП рдЧрдП рдбрдВрдк рд╕реЗ рдмрджрд▓реЗрдВред
```bash
dd bs=1 seek=<starting_address> conv=notrunc if=dump.bin of=Original_App
```
**рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рдирд╛:** рдЙрдкрдХрд░рдгреЛрдВ рдЬреИрд╕реЗ **MachOView** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рдЗрдирд░реА рдХреА рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ рддрд╛рдХрд┐ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдХрд╛ рд╕рдВрдХреЗрдд рдорд┐рд▓реЗ, `cryptid` рдХреЛ 0 рд╕реЗрдЯ рдХрд░реЗрдВред

### **рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди (рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ)**

#### **frida-ios-dump**
[**frida-ios-dump**](https://github.com/AloneMonkey/frida-ios-dump) рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ **iOS рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдирд┐рдХрд╛рд▓рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдХрд┐рд╕реА рдХреЛ iOS рдЙрдкрдХрд░рдг рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `dump.py` рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЬреЛ **iproxy** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ localhost рдкрд░ рдкреЛрд░реНрдЯ 2222 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдпрд╛ рд╕реАрдзреЗ рдЙрдкрдХрд░рдг рдХреЗ IP рдкрддреЗ рдФрд░ рдкреЛрд░реНрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЙрдкрдХрд░рдг рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреА рд╕реВрдЪреА рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рджреА рдЬрд╛ рд╕рдХрддреА рд╣реИ:
```bash
$ python dump.py -l
```
рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдРрдк рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЬреИрд╕реЗ рдХрд┐ Telegram, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```bash
$ python3 dump.py -u "root" -p "<PASSWORD>" ph.telegra.Telegraph
```
рдпрд╣ рдХрдорд╛рдВрдб рдРрдк рдбрдВрдк рдХреА рд╢реБрд░реБрдЖрдд рдХрд░рддреА рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдореМрдЬреВрджрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ `Telegram.ipa` рдлрд╝рд╛рдЗрд▓ рдмрдирддреА рд╣реИред рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЬреЗрд▓рдмреНрд░реЛрдХрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЕрд╕рд╛рдЗрдВрдб рдпрд╛ рдлреЗрдХ-рд╕рд╛рдЗрдВрдб рдРрдкреНрд╕ рдХреЛ [**ios-deploy**](https://github.com/ios-control/ios-deploy) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреБрдирдГ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

#### **flexdecrypt**
[**flexdecrypt**](https://github.com/JohnCoates/flexdecrypt) рдЯреВрд▓, рдФрд░ рдЗрд╕рдХрд╛ рд░реИрдкрд░ [**flexdump**](https://gist.github.com/defparam/71d67ee738341559c35c684d659d40ac), рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдП рдЧрдП рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ IPA рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдЙрдкрдХрд░рдг рдкрд░ **flexdecrypt** рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдкрдирд╛ рдХрдорд╛рдВрдб рдореЗрдВ `.deb` рдкреИрдХреЗрдЬ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдФрд░ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред **flexdump** рдХрд╛ рдЙрдкрдпреЛрдЧ рдРрдкреНрд╕ рдХреА рд╕реВрдЪреА рдмрдирд╛рдиреЗ рдФрд░ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдбреЛрдВ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:
```bash
apt install zip unzip
wget https://gist.githubusercontent.com/defparam/71d67ee738341559c35c684d659d40ac/raw/30c7612262f1faf7871ba8e32fbe29c0f3ef9e27/flexdump -P /usr/local/bin; chmod +x /usr/local/bin/flexdump
flexdump list
flexdump dump Twitter.app
```
#### **рдмреИрдЧрдмреИрдХ**
[**рдмреИрдЧрдмреИрдХ**](https://github.com/ChiChou/bagbak), рдПрдХ рдФрд░ рдлреНрд░рд┐рдбрд╛-рдЖрдзрд╛рд░рд┐рдд рдЙрдкрдХрд░рдг рд╣реИ, рдЬреЛ рдРрдк рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди рдХреЗ рд▓рд┐рдП рдЬреЗрд▓рдмреНрд░реЛрдХреЗрди рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:
```bash
bagbak --raw Chrome
```
#### **r2flutch**
**r2flutch**, рдЬреЛ radare рдФрд░ frida рджреЛрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдРрдк рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди рдФрд░ рдбрдореНрдкрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдЗрд╕рдХреЗ [**GitHub рдкреЗрдЬ**](https://github.com/as0ler/r2flutch) рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред

### **рдРрдкреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛**

**рд╕рд╛рдЗрдбрд▓реЛрдбрд┐рдВрдЧ** рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдРрдк рд╕реНрдЯреЛрд░ рдХреЗ рдмрд╛рд╣рд░ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ **installd рдбреЗрдорди** рджреНрд╡рд╛рд░рд╛ рд╕рдВрднрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдРрдкреНрд╕ рдХреЛ рдПрдХ Apple рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХрд┐рдП рдЧрдП рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХреЗ рд╕рд╛рде рд╕рд╛рдЗрди рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕реЗрд╕ рдЗрд╕реЗ **AppSync** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЫрд▓рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рдирдХрд▓реА-рд╕рд╛рдЗрди рдЖрдИрдкреАрдП рдкреИрдХреЗрдЬ рдХреА рд╕реНрдерд╛рдкрдирд╛ рд╕рдВрднрд╡ рд╣реЛрддреА рд╣реИред

#### **рд╕рд╛рдЗрдбрд▓реЛрдбрд┐рдВрдЧ рдЯреВрд▓реНрд╕**

- **Cydia Impactor**: iOS рдкрд░ IPA рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рд╛рдЗрди рдФрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдгред рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛рдПрдБ рдФрд░ рд╕рдорд╕реНрдпрд╛ рд╕рдорд╛рдзрд╛рди [yalujailbreak.net](https://yalujailbreak.net/how-to-use-cydia-impactor/) рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред

- **libimobiledevice**: iOS рдбрд┐рд╡рд╛рдЗрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП рд▓рд┐рдирдХреНрд╕ рдФрд░ macOS рдХреЗ рд▓рд┐рдП рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпред рдРрдкреНрд╕ рдХреЛ USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП ideviceinstaller рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдкрдирд╛ рдХрдорд╛рдВрдб рдФрд░ рдЙрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдг рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рд╣реИрдВред

- **ipainstaller**: рдпрд╣ рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рдЙрдкрдХрд░рдг iOS рдбрд┐рд╡рд╛рдЗрд╕реЗрд╕ рдкрд░ рд╕реАрдзреА рдРрдк рд╕реНрдерд╛рдкрдирд╛ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

- **ios-deploy**: macOS рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП, ios-deploy рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ iOS рдРрдкреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред IPA рдХреЛ рдЕрдирдЬрд╝рд┐рдк рдХрд░рдирд╛ рдФрд░ рд╕реАрдзреА рдРрдк рд▓реЙрдиреНрдЪ рдХреЗ рд▓рд┐рдП `-m` рдлрд╝реНрд▓реИрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред

- **Xcode**: **Window/Devices and Simulators** рдкрд░ рдЬрд╛рдХрд░ **Installed Apps** рдореЗрдВ рдРрдк рдЬреЛрдбрд╝рдХрд░ рдРрдкреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Xcode рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

#### **рдЧреИрд░-рдЖрдИрдкреИрдб рдбрд┐рд╡рд╛рдЗрд╕реЗрд╕ рдкрд░ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдерд╛рдкрдирд╛ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдирд╛**
рдЖрдИрдкреИрдб-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдЖрдИрдлреЛрди рдпрд╛ рдЖрдИрдкреЙрдб рдЯрдЪ рдбрд┐рд╡рд╛рдЗрд╕реЗрд╕ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, **Info.plist** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ **UIDeviceFamily** рдорд╛рди рдХреЛ **1** рдореЗрдВ рдмрджрд▓рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдпрд╣ рд╕рдВрд╢реЛрдзрди, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдорд╛рдиреНрдпрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рдХрд╛рд░рдг IPA рдлрд╝рд╛рдЗрд▓ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕рд╛рдЗрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

**рдзреНрдпрд╛рди рджреЗрдВ**: рдпрджрд┐ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдкреБрд░рд╛рдиреЗ рдЖрдИрдлреЛрди рдпрд╛ рдЖрдИрдкреЙрдб рдЯрдЪ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдирдП рдЖрдИрдкреИрдб рдореЙрдбрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рдХреНрд╖рдорддрд╛рдУрдВ рдХреА рдорд╛рдВрдЧ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╡рд┐рдзрд┐ рд╡рд┐рдлрд▓ рд╣реЛ рд╕рдХрддреА рд╣реИред



## рд╕рдВрджрд░реНрдн
* [https://mas.owasp.org/MASTG/iOS/0x06b-iOS-Security-Testing/](ttps://mas.owasp.org/MASTG/iOS/0x06b-iOS-Security-Testing/)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0052/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0052/)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0053/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0053/)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0054/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0054/)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0056/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0056/)

<details>

<summary><strong>Learn AWS hacking from zero to hero with</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Other ways to support HackTricks:

* If you want to see your **company advertised in HackTricks** or **download HackTricks in PDF** Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** me on **Twitter** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Share your hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
