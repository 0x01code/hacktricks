# iOS рдореВрд▓рднреВрдд рдкрд░реАрдХреНрд╖рдг рдХрд╛рд░реНрдп

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ **рд╢рд╛рдорд┐рд▓** рд╣реЛрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**.
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ рдЕрдкрдирд╛ рдпреЛрдЧрджрд╛рди рджреЗрдВред**

</details>

## iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ UDID рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛

{% hint style="info" %}
**USB** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ **рдХрдиреЗрдХреНрдЯ** рдХрд░рдХреЗ рдФрд░ **рдбрд┐рд╡рд╛рдЗрд╕** **рдЕрдирд▓реЙрдХ** рдХрд░рдХреЗ рдЗрд╕ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдХрд░реЗрдВред
{% endhint %}

UDID рдПрдХ 40-рдЕрдВрдХреАрдп рдЕрджреНрд╡рд┐рддреАрдп рд╢реНрд░реГрдВрдЦрд▓рд╛ рд╣реИ рдЬреЛ рдПрдХ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдХреНрд╖рд░реЛрдВ рдФрд░ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЛ рдкрд╣рдЪрд╛рдирддреА рд╣реИред рдЖрдк macOS Catalina рд╕реЗ рдЖрдЧреЗ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдЕрдкрдиреЗ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ UDID **Finder рдРрдк** рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ Catalina рдореЗрдВ iTunes рдЕрдм рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред рдмрд╕ Finder рдореЗрдВ рдХрдиреЗрдХреНрдЯ рдХрд┐рдП рдЧрдП iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЪреБрдиреЗрдВ рдФрд░ рдЙрд╕рдХреЗ рдирд╛рдо рдХреЗ рдиреАрдЪреЗ рдЬрд╛рдирдХрд╛рд░реА рдкрд░ **рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ** рддрд╛рдХрд┐ рдЖрдк рдЙрд╕рдореЗрдВ рдЗрдЯрд░реЗрдЯ рдХрд░ рд╕рдХреЗрдВред UDID рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░, IMEI рдФрд░ рдЕрдиреНрдп рдЙрдкрдпреЛрдЧреА рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

![](<../../.gitbook/assets/image (471).png>)

рдпрджрд┐ рдЖрдк Catalina рд╕реЗ рдкрд╣рд▓реЗ рдХрд╛ рдХреЛрдИ macOS рд╕рдВрд╕реНрдХрд░рдг рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдк [iTunes рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдкрдиреЗ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ UDID](http://www.iclarified.com/52179/how-to-find-your-iphones-udid) рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдЪрдпрди рдХрд░рдХреЗ рдФрд░ рд╕рд╛рд░рд╛рдВрд╢ рдЯреИрдм рдореЗрдВ "рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗред рдЗрд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдкрд░ рдЖрдк iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЗрд╕рдХреЗ UDID рдХреЛ рднреА рдЗрдЯрд░реЗрдЯ рдХрд░реЗрдВрдЧреЗред

рдпрд╣ рднреА рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдбрд┐рд╡рд╛рдЗрд╕ USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реЛрдиреЗ рдХреЗ рджреМрд░рд╛рди macOS рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ UDID рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

*   [I/O Registry Explorer](https://developer.apple.com/library/archive/documentation/DeviceDrivers/Conceptual/IOKitFundamentals/TheRegistry/TheRegistry.html) рдЙрдкрдХрд░рдг `ioreg` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:

```bash
$ ioreg -p IOUSB -l | grep "USB Serial"
|         "USB Serial Number" = "9e8ada44246cee813e2f8c1407520bf2f84849ec"
```
*   [ideviceinstaller](https://github.com/libimobiledevice/ideviceinstaller) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ (рд▓рд┐рдирдХреНрд╕ рдкрд░ рднреА рдЙрдкрд▓рдмреНрдз):

```bash
$ brew install ideviceinstaller
$ idevice_id -l
316f01bd160932d2bf2f95f1f142bc29b1c62dbc
```
*   рд╕рд┐рд╕реНрдЯрдо\_рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:

```bash
$ system_profiler SPUSBDataType | sed -n -e '/iPad/,/Serial/p;/iPhone/,/Serial/p;/iPod/,/Serial/p' | grep "Serial Number:"
2019-09-08 10:18:03.920 system_profiler[13251:1050356] SPUSBDevice: IOCreatePlugInInterfaceForService failed 0xe00002be
Serial Number: 64655621de6ef5e56a874d63f1e1bdd14f7103b1
```
*   instruments рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:

```bash
$ instruments -s devices
```

## рдбрд┐рд╡рд╛рдЗрд╕ рд╢реИрд▓ рдореЗрдВ рдкрд╣реБрдВрдЪ

рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЬреЗрд▓рдмреНрд░реЗрдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ **Cydia** рдЬреИрд╕реЗ рдХреБрдЫ рдирдП рдРрдк рдкреНрд░рдмрдВрдзрдХ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред

### SSH

рдЕрдкрдиреЗ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП SSH рдкрд╣реБрдВрдЪ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк **OpenSSH** **рдкреИрдХреЗрдЬ** рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдХ рдмрд╛рд░ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк `ssh root@<device_ip_address>` рдЪрд▓рд╛ рдХрд░ рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ ssh рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЛ рд░реВрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░реЗрдЧрд╛:
```bash
$ ssh root@192.168.197.234
root@192.168.197.234's password:
iPhone:~ root#
```
рдЕрдкрдиреА iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдмрд╛рддреЛрдВ рдХрд╛ рдзреНрдпрд╛рди рджреЗрдВ:

* **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ `root` рдФрд░ `mobile` рд╣реИрдВ**ред
* рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ **рдкрд╛рд╕рд╡рд░реНрдб** **`alpine`** рд╣реИред

> рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЖрдкрдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ IP рдкрддреЗ рдХреЛ рдФрд░ рдЙрд╕реА рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдХрд┐рд╕реА рднреА рд╡реНрдпрдХреНрддрд┐ рдХреЛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЙрд╕реЗ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЙрд╕реЗ рдЖрдкрдХреА рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд░реВрдЯ рдПрдХреНрд╕реЗрд╕ рдорд┐рд▓реЗрдЧрд╛ред рдЗрд╕рд▓рд┐рдП рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЖрдк `root` рдФрд░ `mobile` рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдмрджрд▓ рджреЗрдВред

### **USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ SSH рдХреЗ рджреНрд╡рд╛рд░рд╛ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ**

рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХрд╛рд▓реЗ рдмреЙрдХреНрд╕ рдЯреЗрд╕реНрдЯ рдХреЗ рджреМрд░рд╛рди, рдПрдХ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп Wi-Fi рдХрдиреЗрдХреНрд╢рди рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЖрдк usbmuxd рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреА рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ SSH рд╕рд░реНрд╡рд░ рд╕реЗ USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

macOS рдХреЛ iOS рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ, iproxy рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ рдФрд░ рд╢реБрд░реВ рдХрд░реЗрдВ:
```bash
$ brew install libimobiledevice
$ iproxy 2222 22
waiting for connection
```
рдКрдкрд░ рдХрд╛ рдХрдорд╛рдВрдб iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдкреЛрд░реНрдЯ `22` рдХреЛ localhost рдкрд░ рдкреЛрд░реНрдЯ `2222` рд╕реЗ рдореИрдк рдХрд░рддрд╛ рд╣реИред рдЖрдк рдпрджрд┐ рдЪрд╛рд╣реЗрдВ рддреЛ [iproxy рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреАрдЫреЗ рдореЗрдВ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ](https://iphonedevwiki.net/index.php/SSH\_Over\_USB) рдпрджрд┐ рдЖрдк USB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ SSH рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рд░ рдмрд╛рд░ рдмрд╛рдЗрдирд░реА рдирд╣реАрдВ рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред

рдирдП рдЯрд░реНрдорд┐рдирд▓ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдЖрдк рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
$ ssh -p 2222 root@localhost
root@localhost's password:
iPhone:~ root#
```
> рдПрдХ iDevice рдХреЗ USB рдкрд░ рдЫреЛрдЯрд╛ рдиреЛрдЯ: iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рддрд╛рд▓реЗ рдмрдВрдж рд╣реЛрдиреЗ рдХреЗ 1 рдШрдВрдЯреЗ рдмрд╛рдж рдЖрдк рдбреЗрдЯрд╛ рдХрдиреЗрдХреНрд╢рди рдирд╣реАрдВ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрдм рддрдХ рдЖрдк рдЙрд╕реЗ рдлрд┐рд░ рд╕реЗ рдЕрдирд▓реЙрдХ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдпрд╣ USB Restricted Mode рдХреЗ рдХрд╛рд░рдг рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ iOS 11.4.1 рдХреЗ рд╕рд╛рде рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред

### рдСрди-рдбрд┐рд╡рд╛рдЗрд╕ рд╢реИрд▓ рдРрдк

рдЬрдмрдХрд┐ рдЖрдорддреМрд░ рдкрд░ рдПрдХ **рдСрди-рдбрд┐рд╡рд╛рдЗрд╕ рд╢реИрд▓** (рдЯрд░реНрдорд┐рдирд▓ рдПрдореНрдпреБрд▓реЗрдЯрд░) рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рд░рд┐рдореЛрдЯ рд╢реИрд▓ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдердХрд╛ рджреЗрдиреЗ рд╡рд╛рд▓рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╣ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╕рд╛рдмрд┐рдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдиреЗрдЯрд╡рд░реНрдХ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдпрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рдЗрд╕ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП [NewTerm 2](https://repo.chariz.io/package/ws.hbang.newterm2/) рдХреЛ Cydia рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдЗрд╕ рд▓реЗрдЦ рд▓рд┐рдЦрдиреЗ рдХреЗ рд╕рдордп iOS 6.0 рд╕реЗ 12.1.2 рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ)ред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХреБрдЫ рдЬреЗрд▓рдмреНрд░реЗрдХ рд╣реИрдВ рдЬреЛ рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рдЗрдирдХрдорд┐рдВрдЧ SSH рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рджреЗрддреЗ рд╣реИрдВред рдЙрди рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдПрдХ рдСрди-рдбрд┐рд╡рд╛рдЗрд╕ рд╢реИрд▓ рдРрдк рд╣реЛрдирд╛ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдк рдкрд╣рд▓реЗ рдЙрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдмрд╛рд╣рд░реА рд╢реИрд▓ рдХреЗ рд╕рд╛рде SSH рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЕрдкрдиреЗ рд╣реЛрд╕реНрдЯ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдЙрд╕рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд░рд┐рд╡рд░реНрд╕ рд╢реИрд▓ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ рдФрд░ рдЬрдм рдкреВрдЫрд╛ рдЬрд╛рдП, рддреЛ рд╣реЛрд╕реНрдЯ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ `mstg` рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВ:
```bash
ssh -R 2222:localhost:22 mstg@192.168.197.235
```
рдЕрдкрдиреЗ рд╣реЛрд╕реНрдЯ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ рдФрд░ рдЬрдм рдкреВрдЫрд╛ рдЬрд╛рдП, рддреЛ iOS рдЙрдкрдХрд░рдг рдХреЗ `root` рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВ:
```bash
$ ssh -p 2222 root@localhost
```
### **рднреВрд▓ рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб**

рдЕрдЧрд░ рдЖрдк рдЕрдкрдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рднреВрд▓ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ **`alpine`** рдкрд░ рд░реАрд╕реЗрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ:

1. рдЕрдкрдиреЗ jailbroken iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдСрди-рдбрд┐рд╡рд╛рдЗрд╕ **рдЯрд░реНрдорд┐рдирд▓** рдпрд╛ **Filza** рдпрд╛ **iFile** рдЬреИрд╕реЗ рдРрдкреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ `/private/etc/master.passwd` рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ
2. рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдвреВрдВрдврд╝реЗрдВ:

```bash
root:xxxxxxxxx:0:0::0:0:System Administrator:/var/root:/bin/sh
mobile:xxxxxxxxx:501:501::0:0:Mobile User:/var/mobile:/bin/sh
```
3. `xxxxxxxxx` рдХреЛ `/smx7MYTQIi2M` (рдЬреЛ рд╣реИрд╢ рд╡рд╛рд▓рд╛ рдкрд╛рд╕рд╡рд░реНрдб `alpine` рд╣реИ) рдореЗрдВ рдмрджрд▓реЗрдВ
4. рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдмрд╛рд╣рд░ рдирд┐рдХрд▓реЗрдВ

## рдбреЗрдЯрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг

### SSH рдФрд░ SCP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдРрдк рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓реЗрдВ рдХреЙрдкреА рдХрд░рдирд╛

рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдЕрдм рдЬрд╛рдирддреЗ рд╣реИрдВ, рд╣рдорд╛рд░реЗ рдРрдк рдХреА рдлрд╝рд╛рдЗрд▓реЗрдВ рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреА рд╣реИрдВред рдЕрдм рдЖрдк рд╕реАрдзреЗ `tar` рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдЖрд░реНрдХрд╛рдЗрд╡ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ `scp` рдХреЗ рд╕рд╛рде рдЙрд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
iPhone:~ root# tar czvf /tmp/data.tgz /private/var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693
iPhone:~ root# exit
$ scp -P 2222 root@localhost:/tmp/data.tgz .
```
### iFunbox рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

[**iFunbox**](https://www.i-funbox.com/en/page-download.html) рдПрдХ GUI рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрдИ рдЪреАрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдлрд╝рд╛рдЗрд▓реЗрдВ рдЕрдкрд▓реЛрдб/рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЗрдирдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ)ред\
рдЗрд╕ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ GUI рдЯреВрд▓ рд╣реИ [**iExplorer**](https://macroplant.com/iexplorer)ред

{% hint style="info" %}
iOS рд╕рдВрд╕реНрдХрд░рдг 8.4 рд╕реЗ рд╢реБрд░реВ рд╣реЛрдХрд░, Apple рдиреЗ **рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░ рджрд┐рдпрд╛ рд╣реИ**, рдЗрд╕рд▓рд┐рдП рдЕрдЧрд░ рдЙрдкрдХрд░рдг рдЬреЗрд▓рдмреНрд░реЗрдХ рдирд╣реАрдВ рд╣реИ рддреЛ iFunbox рдФрд░ iExplorer рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдЕрдм рдЙрдкрдХрд░рдг рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдРрдкреНрд╕ рд╕реЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд/рдкреБрдирдГрдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред
{% endhint %}

### Objection рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

рдЬрдм рдЖрдк objection (`objection --gadget com.apple.mobilesafari explorer`) рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк Bundle рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рднреАрддрд░ рдкреНрд░реЙрдореНрдкреНрдЯ рдкрд╛рдПрдВрдЧреЗред
```bash
org.owasp.MSTG on (iPhone: 10.3.3) [usb] # pwd print
Current directory: /var/containers/Bundle/Application/DABF849D-493E-464C-B66B-B8B6C53A4E76/org.owasp.MSTG.app
```
рдРрдк рдХреЗ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `env` рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЬрд╛рдПрдВред
```bash
org.owasp.MSTG on (iPhone: 10.3.3) [usb] # cd /var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/Documents
/var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/Documents
```
рдЖрдк `file download <filename>` рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде iOS рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдлрд╝рд╛рдЗрд▓ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдмрд╛рдж рдореЗрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```bash
org.owasp.MSTG on (iPhone: 10.3.3) [usb] # file download .com.apple.mobile_container_manager.metadata.plist
Downloading /var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/.com.apple.mobile_container_manager.metadata.plist to .com.apple.mobile_container_manager.metadata.plist
Streaming file from device...
Writing bytes to destination...
Successfully downloaded /var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/.com.apple.mobile_container_manager.metadata.plist to .com.apple.mobile_container_manager.metadata.plist
```
рдЖрдк рдЖрдИрдУрдПрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдлрд╝рд╛рдЗрд▓реЗрдВ рднреА рдЕрдкрд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ `file upload <local_file_path>` рдХреЗ рд╕рд╛рдеред

## рдРрдкреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рдирд┐рдХрд╛рд▓рдирд╛

### OTA рд╡рд┐рддрд░рдг рд▓рд┐рдВрдХ рд╕реЗ IPA рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛

рд╡рд┐рдХрд╛рд╕ рдХреЗ рджреМрд░рд╛рди, рдХрднреА-рдХрднреА рдРрдкреНрд╕ рдХреЛ рдЯреЗрд╕реНрдЯрд░реНрд╕ рдХреЛ рдУрд╡рд░-рдж-рдПрдпрд░ (OTA) рд╡рд┐рддрд░рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЖрдкрдХреЛ рдПрдХ itms-services рд▓рд┐рдВрдХ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛, рдЬреИрд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд:
```
itms-services://?action=download-manifest&url=https://s3-ap-southeast-1.amazonaws.com/test-uat/manifest.plist
```
рдЖрдк [ITMS рд╕реЗрд╡рд╛ рдПрд╕реЗрдЯ рдбрд╛рдЙрдирд▓реЛрдбрд░](https://www.npmjs.com/package/itms-services) рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ OTA рд╡рд┐рддрд░рдг URL рд╕реЗ IPA рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕реЗ npm рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ:
```bash
$ npm install -g itms-services
```
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде IPA рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рд╕рд╣реЗрдЬреЗрдВ:
```bash
# itms-services -u "itms-services://?action=download-manifest&url=https://s3-ap-southeast-1.amazonaws.com/test-uat/manifest.plist" -o - > out.ipa
```
### рдРрдк рдмрд╛рдЗрдирд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛

1. **IPA рд╕реЗ**:

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ IPA рд╣реИ (рд╕рдВрднрд╡рддрдГ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХреА рдЧрдИ рдРрдк рдмрд╛рдЗрдирд░реА рдХреЗ рд╕рд╛рде), рддреЛ рдЗрд╕реЗ рдЕрдирдЬрд╝рд┐рдк рдХрд░реЗрдВ рдФрд░ рдЖрдк рддреИрдпрд╛рд░ рд╣реИрдВред рдРрдк рдмрд╛рдЗрдирд░реА рдореБрдЦреНрдп рдмрдВрдбрд▓ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддреА рд╣реИ (.app), рдЙрджрд╛ред `Payload/Telegram X.app/Telegram X`ред рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЗ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЧрд▓реЗ рдЙрдкрдЕрдиреБрднрд╛рдЧ рдХреЛ рджреЗрдЦреЗрдВред

> macOS рдХреЗ рдлрд╛рдЗрдВрдбрд░ рдкрд░, .app рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ рдЙрдиреНрд╣реЗрдВ рджрд╛рдпрд╛рдВ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдЦреЛрд▓реА рдЬрд╛рддреА рд╣реИрдВ рдФрд░ "рдкреИрдХреЗрдЬ рд╕рд╛рдордЧреНрд░реА рджрд┐рдЦрд╛рдПрдВ" рдХрд╛ рдЪрдпрди рдХрд░рдХреЗред рдЯрд░реНрдорд┐рдирд▓ рдкрд░ рдЖрдк рдЙрдирдореЗрдВ рд╕реАрдбреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
2. **рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ**:

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдореВрд▓ IPA рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдПрдХ рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдЖрдк рдРрдк рдХреЛ **рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВрдЧреЗ** (рдЙрджрд╛ред рдПрдк рд╕реНрдЯреЛрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ)ред рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ **рдореЗрдореЛрд░реА рд╕реЗ рдРрдк рдмрд╛рдЗрдирд░реА рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ рдФрд░ IPA рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкреБрдирдГ рдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдВ**ред DRM рдХреЗ рдХрд╛рд░рдг, рдЬрдм рдРрдк рдмрд╛рдЗрдирд░реА рдЖрдИрдУрдПрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рдпрд╣ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмрд╕ рдЗрд╕реЗ рдмрдВрдбрд▓ рд╕реЗ рдирд┐рдХрд╛рд▓рдирд╛ (SSH рдпрд╛ Objection рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ) рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдЗрд╕реЗ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП (рдЕрдЧрд▓реЗ рдЦрдВрдб рдХреЛ рдкрдврд╝реЗрдВ)ред

### рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди (рдореИрдиреНрдпреБрдЕрд▓)

рдПрдХ рдЖрдИрдУрдПрд╕ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдмрд╛рдЗрдирд░реА рдХреЛ рдПрдХ рдПрдВрдбреНрд░реЙрдЗрдб рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рддреБрд▓рдирд╛ рдореЗрдВ **рдХреЗрд╡рд▓ рдбрд┐рд╕рдЕрд╕реЗрдВрдмрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ** рдФрд░ рдирд╣реАрдВ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
рдЬрдм рдПрдХ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдРрдк рд╕реНрдЯреЛрд░ рдореЗрдВ рд╕рдмрдорд┐рдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ Apple рдкрд╣рд▓реЗ рдРрдк рдХреЗ рдЖрдЪрд░рдг рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ рдРрдк рд╕реНрдЯреЛрд░ рдкрд░ рдЬрд╛рд░реА рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдмрд╛рдЗрдирд░реА рдХреЛ [**FairPlay**](https://developer.apple.com/streaming/fps/) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП рдРрдк рд╕реНрдЯреЛрд░ рд╕реЗ рдмрд╛рдЗрдирд░реА рдбрд╛рдЙрдирд▓реЛрдб рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╣реЛрддреА рд╣реИ рдФрд░ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдЬрдЯрд┐рд▓ рдмрдирд╛рддреА рд╣реИред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЕрдиреНрдп **рддреГрддреАрдп рдкрдХреНрд╖ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдмрд╛рдЗрдирд░реА рдХреЛ рдЕрд╕реНрдкрд╖реНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ**ред

рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдмрд╛рдЗрдирд░реА рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЗрд╕реЗ рдореЗрдореЛрд░реА рдореЗрдВ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдлрд┐рд░, рдореЗрдореЛрд░реА рд╕реЗ **рдбрд┐рдХреНрд░рд┐рдкреНрдЯреЗрдб рдмрд╛рдЗрдирд░реА рдХреЛ рдбрдВрдк рдХрд░рдирд╛ рд╕рдВрднрд╡** рд╣реЛрддрд╛ рд╣реИред

рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдмрд╛рдЗрдирд░реА PIE (рдкреЛрдЬреАрд╢рди рдЗрдВрдбрд┐рдкреЗрдВрдбреЗрдВрдЯ рдХреЛрдб) рдлрд╝реНрд▓реИрдЧ рдХреЗ рд╕рд╛рде рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЧрдИ рд╣реИ рдпрд╛ рдирд╣реАрдВ:
```bash
otool -Vh Original_App #Check the last word of the last line of this code
Home:
Mach header
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC_64   X86_64        ALL  0x00     EXECUTE    47       6080   NOUNDEFS DYLDLINK TWOLEVEL PIE
```
рдпрджрд┐ рдпрд╣ рд╕реЗрдЯ рд╣реИ, рддреЛ рдЖрдк рдкрд╛рдпрдерди 2 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреНрд░рд┐рдкреНрдЯ [`change_macho_flags.py`](https://chromium.googlesource.com/chromium/src/+/49.0.2623.110/build/mac/change\_mach\_o\_flags.py) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
python change_mach_o_flags.py --no-pie Original_App
otool -Vh Hello_World
Hello_World:
Mach header
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC      ARM         V7  0x00     EXECUTE    22       2356   NOUNDEFS DYLDLINK TWOLEVEL MH_NO_HEAP_EXECUTION
```
рдЕрдм рдЬрдм PIE рдлреНрд▓реИрдЧ рд╕реЗрдЯ рдирд╣реАрдВ рд╣реИ, рддреЛ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рд╣рд░ рдмрд╛рд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдПрдХ **рдирд┐рд╢реНрдЪрд┐рдд рдкреНрд░рд╛рд░рдВрдн рд╕реНрдерд╛рди** рдкрд░ рд▓реЛрдб рдХрд░реЗрдЧрд╛ред рдЗрд╕ **рд╕реНрдерд╛рди** рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
otool -l Original_App | grep -A 3 LC_SEGMENT | grep -A 1 __TEXT
segname __TEXT
vmaddr 0x00004000
```
рддрдм, рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдбрдВрдк рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдореЗрдореЛрд░реА рд░реЗрдВрдЬ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛рдП:
```bash
otool -l Original_App | grep -A 4 LC_ENCRYPTION_INFO
cmd LC_ENCRYPTION_INFO
cmdsize 20
cryptoff 16384
cryptsize 17416192
cryptid 0
```
**`cryptoff`** рдХреА рдорд╛рди рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕рд╛рдордЧреНрд░реА рдХреЗ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдкрддреЗ рдХреЛ рджрд░реНрд╢рд╛рддреА рд╣реИ рдФрд░ **`cryptsize`** рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдЖрдХрд╛рд░ рджрд░реНрд╢рд╛рддреА рд╣реИред

рдЗрд╕рд▓рд┐рдП, рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `рд╢реБрд░реБрдЖрддреА рдкрддрд╛` рд╣реЛрдЧрд╛ `vmaddr + cryptoff` рдФрд░ `рд╕рдорд╛рдкреНрддрд┐ рдкрддрд╛` рд╣реЛрдЧрд╛ `рд╢реБрд░реБрдЖрддреА рдкрддрд╛ + cryptsize`\
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ: `рд╢реБрд░реБрдЖрддреА_рдкрддрд╛ = 0x4000 + 0x4000 = 0x8000` рдФрд░ `рд╕рдорд╛рдкреНрддрд┐_рдкрддрд╛ = 0x8000 + 0x109c000 = 0x10a4000`

рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд╕рд╛рде, рдЬреЗрд▓рдмреНрд░реЛрдХрди рдЙрдкрдХрд░рдг рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЪрд▓рд╛рдиреЗ, gdb (`gdb -p <pid>`) рдХреЗ рд╕рд╛рде рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЬреБрдбрд╝рдиреЗ рдФрд░ рдореЗрдореЛрд░реА рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА:
```bash
dump memory dump.bin 0x8000 0x10a4000
```
рдмрдзрд╛рдИ рд╣реЛ! рдЖрдкрдиреЗ dump.bin рдореЗрдВ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд░ рд▓рд┐рдпрд╛ рд╣реИред рдЕрдм **рдЗрд╕ dump рдХреЛ рдЕрдкрдиреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд░реЗрдВ рдФрд░ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реЗрдХреНрд╢рди рд╕реЗ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░реЗрдВ**:
```bash
dd bs=1 seek=<starting_address> conv=notrunc if=dump.bin of=Original_App
```
рдПрдХ рдкреВрд░реНрдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдХрджрдо рд╣реИред рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрднреА рднреА рдЕрдкрдиреЗ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдореЗрдВ рдЗрдВрдбрд┐рдХреЗрдЯ рдХрд░ рд░рд╣реА рд╣реИ рдХрд┐ рдпрд╣ **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб** рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИред рдлрд┐рд░, рдЬрдм рдЗрд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЙрдкрдХрд░рдг рдЗрд╕реЗ рдкрд╣рд▓реЗ рд╣реА рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдП рдЧрдП рдЦрдВрдб рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдЧрд╛ рдФрд░ рдпрд╣ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред\
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЖрдк [**MachOView**](https://sourceforge.net/projects/machoview/) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред рдмрд╕ рдмрд╛рдЗрдирд░реА рдЦреЛрд▓реЗрдВ рдФрд░ **cryptid** рдХреЛ 0 рд╕реЗрдЯ рдХрд░реЗрдВ:

![](<../../.gitbook/assets/image (470).png>)

### рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди (рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ)

#### frida-ios-dump

рдЖрдк [**frida-ios-dump**](https://github.com/AloneMonkey/frida-ios-dump) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдРрдк рдХреА рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдФрд░ рдПрдХ рдРрдк рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ **Frida-ios-dump** `dump.py` рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдпрд╛ рддреЛ **iproxy** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп localhost рдФрд░ рдкреЛрд░реНрдЯ 2222 рдкрд░ рд╕реЗрдЯ рд╣реИ, рдпрд╛ рдЙрд╕ рдЙрдкрдХрд░рдг рдХреЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЖрдИрдкреА рдкрддреЗ рдФрд░ рдкреЛрд░реНрдЯ рдкрд░ рд╕реЗрдЯ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЖрдк рдмрд╛рдЗрдирд░реА рдбрдВрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред

рдЕрдм рдЖрдк рдЙрдкрдХрд░рдг рдкрд░ рд╕реНрдерд╛рдкрд┐рдд **рдРрдкреНрд╕** рдХреА **рд╕реВрдЪреА** рдХреЛ **рдЧрдгрдирд╛** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
$ python dump.py -l
PID  Name             Identifier
----  ---------------  -------------------------------------
860  Cydia            com.saurik.Cydia
1130  Settings         com.apple.Preferences
685  Mail             com.apple.mobilemail
834  Telegram         ph.telegra.Telegraph
-  Stocks           com.apple.stocks
...
```
рдФрд░ рдЖрдк рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ **рдбрдВрдк** **рдПрдХ** рд╕реВрдЪреАрдмрджреНрдз рдмрд╛рдЗрдирд░реА рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ:
```bash
$ python3 dump.py -u "root" -p "<PASSWORD>" ph.telegra.Telegraph

Start the target app ph.telegra.Telegraph
Dumping Telegram to /var/folders/qw/gz47_8_n6xx1c_lwq7pq5k040000gn/T
[frida-ios-dump]: HockeySDK.framework has been loaded.
[frida-ios-dump]: Load Postbox.framework success.
[frida-ios-dump]: libswiftContacts.dylib has been dlopen.
...
start dump /private/var/containers/Bundle/Application/14002D30-B113-4FDF-BD25-1BF740383149/Telegram.app/Frameworks/libswiftsimd.dylib
libswiftsimd.dylib.fid: 100%|тЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИ| 343k/343k [00:00<00:00, 1.54MB/s]
start dump /private/var/containers/Bundle/Application/14002D30-B113-4FDF-BD25-1BF740383149/Telegram.app/Frameworks/libswiftCoreData.dylib
libswiftCoreData.dylib.fid: 100%|тЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИ| 82.5k/82.5k [00:00<00:00, 477kB/s]
5.m4a: 80.9MB [00:14, 5.85MB/s]
0.00B [00:00, ?B/s]Generating "Telegram.ipa"
```
рдЗрд╕рдХреЗ рдмрд╛рдж, `Telegram.ipa` рдлрд╝рд╛рдЗрд▓ рдЖрдкрдХреЗ рдореМрдЬреВрджрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдмрдирд╛рдИ рдЬрд╛рдПрдЧреАред рдЖрдк рдРрдк рдХреЛ рд╣рдЯрд╛рдХрд░ рдлрд┐рд░ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдХреЗ (рдЙрджрд╛.рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ [**ios-deploy**](https://github.com/ios-control/ios-deploy) `ios-deploy -b Telegram.ipa`) рдбрдВрдк рдХреА рд╕рдлрд▓рддрд╛ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рдЬреЗрд▓рдмреНрд░реЗрдХ рдХрд┐рдП рдЧрдП рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рдХрд╛рдо рдХрд░реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЕрдиреНрдпрдерд╛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдорд╛рдиреНрдп рдирд╣реАрдВ рд╣реЛрдЧрд╛ред

#### flexdecrypt

рдПрдХ рд╕реНрдерд╛рдкрд┐рдд рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ **ipa рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдЖрдк рдЯреВрд▓ [**flexdecrypt**](https://github.com/JohnCoates/flexdecrypt) рдпрд╛ рдЯреВрд▓ рдХреЗ рдПрдХ рд╡реНрд░реИрдкрд░ [**flexdump**](https://gist.github.com/defparam/71d67ee738341559c35c684d659d40ac) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
рд╣рд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рдореЗрдВ рдЖрдкрдХреЛ рдЙрдкрдХрд░рдг рдореЗрдВ **flexdecrypt рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЬреИрд╕реЗ:
```markup
wget https://github.com/JohnCoates/flexdecrypt/releases/download/1.1/flexdecrypt.deb
dpkg -i flexdecrypt.deb
rm flexdecrypt.deb
```
рдФрд░ **flexdump** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
apt install zip unzip
wget https://gist.githubusercontent.com/defparam/71d67ee738341559c35c684d659d40ac/raw/30c7612262f1faf7871ba8e32fbe29c0f3ef9e27/flexdump -P /usr/local/bin; chmod +x /usr/local/bin/flexdump
flexdump list #List apps
flexdump dump Twitter.app #Create .ipa file from app
```
#### bagbak

рдПрдХ рдФрд░ frida рдЖрдзрд╛рд░рд┐рдд рдРрдк рдбрд┐рдХреНрд░рд┐рдкреНрдЯрд░ред рдЬреЗрд▓рдмреНрд░реЛрдХрди iOS рдбрд┐рд╡рд╛рдЗрд╕ рдФрд░ [frida.re](https://www.frida.re/) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
```bash
bagbak --raw Chrome
```
#### r2flutch

[**r2flutch**](https://github.com/as0ler/r2flutch) рдПрдХ рдЯреВрд▓ рд╣реИ рдЬреЛ **radare** рдФрд░ **frida** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ iOS рдРрдкреНрд╕ рдХреЛ **decrypt** рдФрд░ **dump** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП **github** рджреЗрдЦреЗрдВред

## рдРрдкреНрд╕ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХрд░рдирд╛

рдЬрдм рдЖрдк Apple рдХреЗ App Store рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░рддреЗ рд╣реБрдП рдПрдХ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕реЗ **sideloading** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рд╕рд╛рдЗрдбрд▓реЛрдбрд┐рдВрдЧ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ рдЬреЛ рдиреАрдЪреЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВред iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕реНрдерд╛рдкрдирд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ **installd** **daemon** рджреНрд╡рд╛рд░рд╛ рд╕рдВрднрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ **unpack** рдФрд░ **install** рдХрд░реЗрдЧрд╛ред рдРрдк рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдпрд╛ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рднреА **рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ Apple рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХрд┐рдП рдЧрдП рдкреНрд░рдорд╛рдгрдкрддреНрд░ рд╕реЗ рд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП**ред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдХреЛрдб рд╕рд╛рдЗрди рдХреА рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕рддреНрдпрд╛рдкрди рдХреЗ рдмрд╛рдж рд╣реА рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЬреЗрд▓рдмреНрд░реЛрдХрди рдлреЛрди рдкрд░, рдЖрдк [**AppSync**](http://repo.hackyouriphone.org/appsyncunified) рдХреЗ рд╕рд╛рде рдЗрд╕ рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрд╡рд┐рдзрд╛ рдХреЛ **рджреМрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**, рдЬреЛ Cydia рд╕реНрдЯреЛрд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдПрдХ рдкреИрдХреЗрдЬ рд╣реИред рдЗрд╕рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдЙрдкрдпреЛрдЧреА рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдЬреЛ рдЬреЗрд▓рдмреНрд░реЗрдХ-рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рд░реВрдЯ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрдирддрддрд╛ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд░рддреА рд╣реИрдВред **AppSync рдПрдХ рдЯреНрд╡реАрдХ рд╣реИ рдЬреЛ installd рдХреЛ рдкреИрдЪ рдХрд░рддрд╛ рд╣реИ**, рдЬрд┐рд╕рд╕реЗ fake-signed IPA рдкреИрдХреЗрдЬ рдХреА рд╕реНрдерд╛рдкрдирд╛ рд╕рдВрднрд╡ рд╣реЛрддреА рд╣реИред

iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ IPA рдкреИрдХреЗрдЬ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рдореМрдЬреВрдж рд╣реИрдВ, рдЬреЛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдиреАрдЪреЗ рд╡рд░реНрдгрд┐рдд рд╣реИрдВред

> рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ macOS Catalina рдореЗрдВ рдЕрдм iTunes рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред рдпрджрд┐ рдЖрдк рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ macOS рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ iTunes рдЕрднреА рднреА рдЙрдкрд▓рдмреНрдз рд╣реИ, рд▓реЗрдХрд┐рди iTunes 12.7 рдХреЗ рдмрд╛рдж рд╕реЗ рдРрдкреНрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред

#### Cydia Impactor

[Cydia Impactor](http://www.cydiaimpactor.com) рдореВрд▓ рд░реВрдк рд╕реЗ iPhones рдХреЛ рдЬреЗрд▓рдмреНрд░реЗрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ рддрд╛рдХрд┐ IPA рдкреИрдХреЗрдЬ рдХреЛ рд╕рд╛рдЗрдбрд▓реЛрдбрд┐рдВрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕рд╛рдЗрди рдФрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ (рдФрд░ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ APK рдлрд╝рд╛рдЗрд▓реЗрдВ Android рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рднреА)ред Cydia Impactor Windows, macOS рдФрд░ Linux рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реИред [yalujailbreak.net рдкрд░ рдПрдХ рдХрджрдо-рджрд░-рдХрджрдо рдЧрд╛рдЗрдб рдФрд░ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХрджрдо рдЙрдкрд▓рдмреНрдз рд╣реИрдВ](https://yalujailbreak.net/how-to-use-cydia-impactor/)ред

#### libimobiledevice

Linux рдФрд░ macOS рдкрд░, рдЖрдк [libimobiledevice](https://www.libimobiledevice.org) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ iOS рдбрд┐рд╡рд╛рдЗрд╕реЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдиреАрдп рд╕рдВрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд░реЙрд╕-рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдФрд░ рдЙрдкрдХрд░рдг рд╕реЗрдЯ рд╣реИред рдЗрд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдЖрдк ideviceinstaller рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдХреЗ USB рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдРрдкреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдХрдиреЗрдХреНрд╢рди USB рдорд▓реНрдЯреАрдкреНрд▓реЗрдХреНрд╕рд┐рдВрдЧ рдбреЗрдорди [usbmuxd](https://www.theiphonewiki.com/wiki/Usbmux) рдХреЗ рд╕рд╛рде рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ USB рдкрд░ рдПрдХ TCP рдЯрдирд▓ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

libimobiledevice рдХреЗ рд▓рд┐рдП рдкреИрдХреЗрдЬ рдЖрдкрдХреЗ Linux рдкреИрдХреЗрдЬ рдкреНрд░рдмрдВрдзрдХ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ред macOS рдкрд░ рдЖрдк brew рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ libimobiledevice рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
$ brew install libimobiledevice
$ brew install ideviceinstaller
```
рдкреНрд░рддреНрдпреЗрдХ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рдмрд╛рдж рдЖрдкрдХреЗ рдкрд╛рд╕ рдХрдИ рдирдП рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдЯреВрд▓ рдЙрдкрд▓рдмреНрдз рд╣реЛрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ `ideviceinfo`, `ideviceinstaller` рдпрд╛ `idevicedebug`ред
```bash
# The following command will show detailed information about the iOS device connected via USB.
$ ideviceinfo
# The following command will install the IPA to your iOS device.
$ ideviceinstaller -i iGoat-Swift_v1.0-frida-codesigned.ipa
...
Install: Complete
# The following command will start the app in debug mode, by providing the bundle name. The bundle name can be found in the previous command after "Installing".
$ idevicedebug -d run OWASP.iGoat-Swift
```
#### ipainstaller

рдЖрдИрдкреАрдП рдХреЛ рднреА рд╕реАрдзреЗ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдИрдУрдПрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ [ipainstaller](https://github.com/autopear/ipainstaller) рдХреЗ рд╕рд╛рдеред рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП scp рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдХреЙрдкреА рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЖрдИрдкреАрдП рдХреЗ рдлрд╝рд╛рдЗрд▓ рдирд╛рдо рдХреЗ рд╕рд╛рде ipainstaller рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
$ ipainstaller App_name.ipa
```
#### ios-deploy

macOS рдкрд░ рдЖрдк рднреА **ios-deploy** рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ iOS рдРрдкреНрд╕ рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдкрдХреЛ рдЕрдкрдиреЗ IPA рдХреЛ рдЕрдирдЬрд╝рд┐рдк рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА рдХреНрдпреЛрдВрдХрд┐ ios-deploy рдРрдкреНрд╕ рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдРрдк рдмрдВрдбрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
```bash
$ unzip Name.ipa
$ ios-deploy --bundle 'Payload/Name.app' -W -d -v
```
рдЖрдИрдУрдПрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдРрдк рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЗрд╕реЗ рд╕реАрдзреЗ рдбрд┐рдмрдЧрд┐рдВрдЧ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `-m` рдлреНрд▓реИрдЧ рдЬреЛрдбрд╝рдХрд░ рдЗрд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд┐рдирд╛ рдРрдк рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдПред
```bash
$ ios-deploy --bundle 'Payload/Name.app' -W -d -v -m
```
#### Xcode

рдпрд╣ рднреА рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдЖрдк Xcode IDE рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ iOS рдРрдкреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ:

1. Xcode рд╢реБрд░реВ рдХрд░реЗрдВ
2. **Window/Devices and Simulators** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ
3. рдХрдиреЗрдХреНрдЯреЗрдб iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ **Installed Apps** рдореЗрдВ **+** рдЪрд┐рд╣реНрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред

#### рдЧреИрд░-iPad рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдерд╛рдкрдирд╛ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдВ

рдХрднреА-рдХрднреА рдХреЛрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди iPad рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ iPhone рдпрд╛ iPod touch рдбрд┐рд╡рд╛рдЗрд╕ рд╣реИрдВ, рддреЛ рдЖрдк рдРрд╕реЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдордЬрдмреВрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдЗрд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рдЖрдк **Info.plist** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ **UIDeviceFamily** рдЧреБрдг рдХреА рдорд╛рди рдХреЛ **1** рдХреЗ рд░реВрдк рдореЗрдВ рдмрджрд▓рдХрд░ред
```markup
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>

<key>UIDeviceFamily</key>
<array>
<integer>1</integer>
</array>

</dict>
</plist>
```
рдЗрд╕ рд╡реИрд▓реНрдпреВ рдХреЛ рдмрджрд▓рдиреЗ рдХрд╛ рдзреНрдпрд╛рди рджреЗрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рд╕реЗ IPA рдлрд╝рд╛рдЗрд▓ рдХреА рдореВрд▓ рд╕рд╛рдЗрдиреЗрдЪрд░ рдЯреВрдЯ рдЬрд╛рдПрдЧреА, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдЕрджреНрдпрддрди рдХреЗ рдмрд╛рдж IPA рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕рд╛рдЗрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рддрд╛рдХрд┐ рдЬрд┐рди рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рд╕рд╛рдЗрдиреЗрдЪрд░ рд╕рддреНрдпрд╛рдкрди рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдирд╣реАрдВ рдЧрдпрд╛ рд╣реИ, рдЙрди рдкрд░ рдЗрд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред

рдпрджрд┐ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдРрд╕реА рдХреНрд╖рдорддрд╛рдПрдВ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдЖрдкрдХреЗ рдЖрдИрдлреЛрди рдпрд╛ рдЖрдИрдкреЙрдб рд╕реЗ рдереЛрдбрд╝реА рдкреБрд░рд╛рдиреА рд╣реЛ рд╕рдХрддреА рд╣реИрдВ, рддреЛ рдпрд╣ рдмрд╛рдИрдкрд╛рд╕ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

[UIDeviceFamily](https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple\_ref/doc/uid/TP40009252-SW11) рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд╡рд┐рдд рдорд╛рди рдПрдкреНрдкрд▓ рдбреЗрд╡рд▓рдкрд░ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдореЗрдВ рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВред

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рд╣реЛ? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ**ред

</details>
