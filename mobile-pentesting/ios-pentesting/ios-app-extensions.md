# Vipengele vya Programu za iOS

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka mwanzo hadi kuwa bingwa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa kipekee wa [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwenye** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

Vipengele vya programu huongeza utendaji wa programu kwa kuwaruhusu kuingiliana na programu nyingine au mfumo, kutoa huduma au maudhui ya kipekee. Vipengele hivi ni pamoja na:

- **Kibodi Maalum**: Inatoa kibodi ya kipekee kwenye programu zote, ikichukua nafasi ya kibodi ya iOS ya msingi.
- **Shiriki**: Inawezesha kushiriki kwenye mitandao ya kijamii au na wengine moja kwa moja.
- **Leo (Vidude)**: Inatoa maudhui au kutekeleza kazi haraka kutoka kwenye Tazama ya Kituo cha Arifa.

Wakati mtumiaji anashirikiana na vipengele hivi, kama vile kushiriki maandishi kutoka kwenye programu mwenyeji, kipengele hicho kinaprocessinga kuingia huko ndani ya muktadha wake, kwa kutumia habari iliyoshirikiwa kutekeleza kazi yake, kama ilivyoelezwa katika nyaraka za Apple.

### **Mambo ya Kuzingatia kuhusu Usalama**

Mambo muhimu ya usalama ni pamoja na:

- Vipengele na programu zinazowahifadhi huchangamana kupitia mawasiliano ya kati ya michakato, sio moja kwa moja.
- **Kifaa cha leo** ni kipekee kwa kuwa kinaweza kuomba programu yake ifunguliwe kupitia njia maalum.
- Upatikanaji wa data ulioshirikiwa unaruhusiwa ndani ya chombo cha kibinafsi, lakini upatikanaji wa moja kwa moja umepunguzwa.
- APIs fulani, pamoja na HealthKit, haziruhusiwi kwa vipengele vya programu, ambavyo pia haviruhusiwi kuanza kazi ndefu, kupata kamera, au kipaza sauti, isipokuwa kwa vipengele vya iMessage.

### Uchambuzi Statisa

#### **Kutambua Vipengele vya Programu**

Ili kupata vipengele vya programu katika msimbo wa chanzo, tafuta `NSExtensionPointIdentifier` kwenye Xcode au angalia mfuko wa programu kwa faili za `.appex` zinazoonyesha vipengele. Bila msimbo wa chanzo, tumia grep au SSH kuona vitambulisho hivi ndani ya mfuko wa programu.

#### **Aina za Data Zinazoungwa mkono**

Angalia faili ya `Info.plist` ya kipengele cha programu ili kutambua aina za data zinazoungwa mkono na `NSExtensionActivationRule`. Hii inahakikisha kuwa ni aina za data zinazolingana tu zinazosababisha kipengele kwenye programu mwenyeji.

#### **Kushiriki Data**

Kushiriki data kati ya programu na kipengele chake kunahitaji chombo cha kushiriki, kilichowekwa kupitia "Vikundi vya Programu" na kupatikana kupitia `NSUserDefaults`. Nafasi hii iliyoshirikiwa ni muhimu kwa uhamishaji wa nyuma ulioanzishwa na vipengele.

#### **Kuweka Vizuizi kwa Vipengele**

Programu zinaweza kuweka vizuizi kwa aina fulani za vipengele, haswa kibodi maalum, kuhakikisha kuwa utunzaji wa data nyeti unalingana na itifaki za usalama.

### Uchambuzi wa Kudumu

Uchambuzi wa kudumu unajumuisha:

- **Kuchunguza Vitu Vilivyoshiriki**: Unganisha kwenye `NSExtensionContext - inputItems` ili kuona aina za data zilizoshirikiwa na asili yake.
- **Kutambua Vipengele**: Gund
