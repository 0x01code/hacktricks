# Configurazione di Burp Suite per iOS

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Esperto Red Team AWS di HackTricks)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**La Famiglia PEASS**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR a** [**HackTricks**](https://github.com/carlospolop/hacktricks) e ai repository github di [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Usa [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) per creare e **automatizzare flussi di lavoro** alimentati dagli strumenti della comunit√† pi√π avanzati al mondo.\
Ottieni l'accesso oggi:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Installazione del Certificato Burp sui Dispositivi iOS

Per l'analisi sicura del traffico web e il pinning SSL sui dispositivi iOS, √® possibile utilizzare Burp Suite tramite il **Burp Mobile Assistant** o tramite configurazione manuale. Di seguito √® riportata una guida riassuntiva su entrambi i metodi:

### Installazione Automatica con Burp Mobile Assistant

Il **Burp Mobile Assistant** semplifica il processo di installazione del Certificato Burp, della configurazione del proxy e del pinning SSL. √à possibile trovare una guida dettagliata sulla [documentazione ufficiale di PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Passaggi di Installazione Manuale

1. **Configurazione del Proxy:** Inizia impostando Burp come proxy nelle impostazioni Wi-Fi dell'iPhone.
2. **Download del Certificato:** Naviga su `http://burp` sul browser del dispositivo per scaricare il certificato.
3. **Installazione del Certificato:** Installa il profilo scaricato tramite **Impostazioni** > **Generali** > **VPN e gestione dispositivi**, quindi abilita la fiducia per il CA di PortSwigger in **Impostazioni Fiducia Certificati**.

### Configurazione di un Proxy di Interception

La configurazione consente l'analisi del traffico tra il dispositivo iOS e Internet tramite Burp, richiedendo una rete Wi-Fi che supporti il traffico da client a client. Se non disponibile, una connessione USB tramite usbmuxd pu√≤ fungere da alternativa. I tutorial di PortSwigger forniscono istruzioni dettagliate sulla [configurazione del dispositivo](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) e sull'[installazione del certificato](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Configurazione Avanzata per Dispositivi Jailbroken

Per gli utenti con dispositivi jailbroken, SSH tramite USB (tramite **iproxy**) offre un metodo per instradare il traffico direttamente attraverso Burp:

1.  **Stabilire una Connessione SSH:** Utilizza iproxy per inoltrare SSH a localhost, consentendo la connessione dal dispositivo iOS al computer in esecuzione Burp.

```bash
iproxy 2222 22
```
2.  **Inoltro Porta Remota:** Inoltra la porta 8080 del dispositivo iOS al localhost del computer per abilitare l'accesso diretto all'interfaccia di Burp.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Impostazione del Proxy Globale:** Infine, configura le impostazioni Wi-Fi del dispositivo iOS per utilizzare un proxy manuale, instradando tutto il traffico web attraverso Burp.

### Monitoraggio/Sniffing Completo della Rete

Il monitoraggio del traffico del dispositivo non HTTP pu√≤ essere effettuato in modo efficiente utilizzando **Wireshark**, uno strumento in grado di catturare tutte le forme di traffico dati. Per i dispositivi iOS, il monitoraggio del traffico in tempo reale √® facilitato dalla creazione di un'Interfaccia Virtuale Remota, un processo dettagliato in [questo post di Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Prima di iniziare, l'installazione di **Wireshark** su un sistema macOS √® un prerequisito.

La procedura coinvolge diversi passaggi chiave:

1. Inizia una connessione tra il dispositivo iOS e l'host macOS tramite USB.
2. Verifica l'**UDID** del dispositivo iOS, un passaggio necessario per il monitoraggio del traffico. Questo pu√≤ essere fatto eseguendo un comando nel Terminale macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Dopo l'identificazione dell'UDID, **Wireshark** deve essere aperto e selezionata l'interfaccia "rvi0" per la cattura dei dati.
4. Per il monitoraggio mirato, come la cattura del traffico HTTP relativo a un indirizzo IP specifico, √® possibile utilizzare i Filtri di cattura di Wireshark:

## Installazione del Certificato Burp nel Simulatore

* **Esporta il Certificato Burp**

In _Proxy_ --> _Opzioni_ --> _Esporta certificato CA_ --> _Certificato in formato DER_

![](<../../.gitbook/assets/image (534).png>)

* **Trascina e rilascia** il certificato all'interno dell'Emulatore
* **All'interno dell'emulatore** vai su _Impostazioni_ --> _Generali_ --> _Profilo_ --> _PortSwigger CA_, e **verifica il certificato**
* **All'interno dell'emulatore** vai su _Impostazioni_ --> _Generali_ --> _Info_ --> _Impostazioni fiducia certificati_, e **abilita PortSwigger CA**

![](<../../.gitbook/assets/image (1048).png>)

**Congratulazioni, hai configurato con successo il Certificato CA di Burp nel simulatore iOS**

{% hint style="info" %}
**Il simulatore iOS utilizzer√† le configurazioni proxy di MacOS.**
{% endhint %}

### Configurazione Proxy MacOS

Passaggi per configurare Burp come proxy:

* Vai su _Preferenze di Sistema_ --> _Rete_ --> _Avanzate_
* Nella scheda _Proxy_ seleziona _Proxy Web (HTTP)_ e _Proxy Web Sicuro (HTTPS)_
* In entrambe le opzioni configura _127.0.0.1:8080_

![](<../../.gitbook/assets/image (431).png>)

* Clicca su _**Ok**_ e poi su _**Applica**_

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Utilizza [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) per creare e **automatizzare facilmente flussi di lavoro** supportati dagli strumenti della comunit√† pi√π avanzati al mondo.\
Ottieni l'accesso oggi:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Impara l'hacking su AWS da zero a esperto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se desideri vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di esclusive [**NFT**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repository di Github.

</details>
