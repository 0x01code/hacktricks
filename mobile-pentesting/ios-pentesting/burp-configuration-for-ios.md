# iOS Burp Suite Yapılandırması

<details>

<summary><strong>AWS hacklemeyi sıfırdan kahraman seviyesine öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong> ile!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamınızı görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)'u takip edin.
* **Hacking püf noktalarınızı paylaşarak PR'lar göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

\
Dünyanın **en gelişmiş** topluluk araçları tarafından desteklenen **iş akışlarını kolayca oluşturun ve otomatikleştirin** için [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)'i kullanın.\
Bugün Erişim Alın:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## iOS Cihazlarında Burp Sertifikasının Yüklenmesi

iOS cihazlarında güvenli web trafiği analizi ve SSL pinning için, Burp Suite ya **Burp Mobile Assistant** aracılığıyla ya da manuel yapılandırma ile kullanılabilir. İşte her iki yöntem için özetlenmiş bir kılavuz:

### Burp Mobile Assistant ile Otomatik Yükleme

**Burp Mobile Assistant**, Burp Sertifikası'nın yüklenmesi, proxy yapılandırması ve SSL Pinning işlemini basitleştirir. Detaylı rehberliği [PortSwigger'ın resmi belgelerinde](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing) bulabilirsiniz.

### Manuel Yükleme Adımları

1. **Proxy Yapılandırması:** İlk olarak, iPhone'un Wi-Fi ayarları altında Burp'u proxy olarak ayarlayarak başlayın.
2. **Sertifika İndirme:** Cihazınızın tarayıcısında `http://burp` adresine giderek sertifikayı indirin.
3. **Sertifika Yüklemesi:** İndirilen profili **Ayarlar** > **Genel** > **VPN ve Cihaz Yönetimi** altından yükleyin, ardından **Sertifika Güven Ayarları** altında PortSwigger CA için güveni etkinleştirin.

### İnterception Proxy Yapılandırma

Bu yapılandırma, iOS cihazı ile internet arasındaki trafiği Burp üzerinden analiz etmeyi sağlar ve istemci-istemci trafiğini destekleyen bir Wi-Fi ağı gerektirir. Mevcut değilse, usbmuxd aracılığıyla USB bağlantısı alternatif olarak hizmet verebilir. PortSwigger'ın eğitimleri, [cihaz yapılandırması](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) ve [sertifika yükleme](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device) konusunda detaylı talimatlar sağlar.

### Jailbreak Yapılmış Cihazlar için Gelişmiş Yapılandırma

Jailbreak yapılmış cihazlara sahip kullanıcılar için, SSH üzerinden USB (via **iproxy**) trafiği doğrudan Burp üzerinden yönlendirmenin bir yöntemi sunar:

1.  **SSH Bağlantısı Kurma:** SSH'yi localhost'a yönlendirmek için iproxy kullanarak SSH bağlantısı kurun, böylece iOS cihazından Burp çalıştıran bilgisayara bağlantı sağlanır.

```bash
iproxy 2222 22
```
2.  **Uzak Port Yönlendirme:** iOS cihazının 8080 portunu bilgisayarın localhost'una yönlendirerek Burp'un arayüzüne doğrudan erişimi sağlamak için.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Global Proxy Ayarı:** Son olarak, iOS cihazının Wi-Fi ayarlarını manuel bir proxy kullanacak şekilde yapılandırarak tüm web trafiğini Burp üzerinden yönlendirin.

### Tam Ağ İzleme/Sniffing

**Wireshark** kullanılarak HTTP olmayan cihaz trafiğinin etkin bir şekilde izlenmesi sağlanabilir, tüm veri trafiğini yakalayabilen bir araçtır. iOS cihazları için, gerçek zamanlı trafik izlemesi, bir Uzak Sanal Arayüz oluşturularak kolaylaştırılır, bu süreç [bu Stack Overflow gönderisinde](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819) detaylı olarak açıklanmıştır. Başlamadan önce, macOS sistemine **Wireshark**'ın yüklenmesi gerekmektedir.

Prosedür birkaç temel adımı içerir:

1. iOS cihazı ile macOS ana bilgisayar arasında USB üzerinden bir bağlantı başlatın.
2. Trafik izleme için gerekli olan iOS cihazının **UDID**'sini belirleyin. Bu, macOS Terminal'de bir komut çalıştırılarak yapılabilir:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. UDID'nin tespit edilmesinden sonra, **Wireshark** açılmalı ve veri yakalamak için "rvi0" arayüzü seçilmelidir.
4. Belirli bir IP adresi ile ilgili HTTP trafiğini yakalamak gibi hedefli izleme için, Wireshark'ın Yakalama Filtreleri kullanılabilir:

## Simülatöre Burp Sertifikası Kurulumu

* **Burp Sertifikasını Dışa Aktar**

_Proxy_ --> _Seçenekler_ --> _CA sertifikasını dışa aktar_ --> _DER formatında Sertifika_

![](<../../.gitbook/assets/image (531).png>)

* Sertifikayı Emülatöre **sürükleyip bırakın**
* **Emülatör içinde** _Ayarlar_ --> _Genel_ --> _Profil_ --> _PortSwigger CA_, ve **sertifikayı doğrulayın**
* **Emülatör içinde** _Ayarlar_ --> _Genel_ --> _Hakkında_ --> _Sertifika Güven Ayarları_, ve **PortSwigger CA'yı etkinleştirin**

![](<../../.gitbook/assets/image (1045).png>)

**Tebrikler, iOS simülatöründe Burp CA Sertifikasını başarıyla yapılandırdınız**

{% hint style="info" %}
**iOS simülatörü, MacOS'un proxy yapılandırmalarını kullanacaktır.**
{% endhint %}

### MacOS Proxy Yapılandırması

Proxy olarak Burp'u yapılandırma adımları:

* _Sistem Tercihleri_ --> _Ağ_ --> _Gelişmiş_'e gidin
* _Vekiller_ sekmesinde _Web Vekili (HTTP)_ ve _Güvenli Web Vekili (HTTPS)_ işaretleyin
* Her iki seçenekte de _127.0.0.1:8080_ şeklinde yapılandırın

![](<../../.gitbook/assets/image (428).png>)

* _**Tamam**_ düğmesine tıklayın ve _**Uygula**_'ya basın

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dünyanın **en gelişmiş** topluluk araçlarıyla desteklenen **otomatik iş akışları** oluşturabilir ve **otomatikleştirebilirsiniz**.\
Bugün Erişim Alın:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olacak şekilde AWS hackleme öğrenin</summary>

HackTricks'i desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerine**](https://peass.creator-spring.com) sahip olun
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**'u takip edin**.
* **Hacking püf noktalarınızı göndererek HackTricks ve HackTricks Cloud** github depolarına PR'lar gönderin.

</details>
