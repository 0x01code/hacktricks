# Konfiguracja Burp Suite dla iOS

<details>

<summary><strong>Naucz się hakować AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** nas na **Twitterze** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

\
Użyj [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks), aby łatwo budować i **automatyzować przepływy pracy** z wykorzystaniem najbardziej zaawansowanych narzędzi społeczności.\
Zdobądź dostęp już dziś:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Instalacja Certyfikatu Burp na Urządzeniach iOS

Dla bezpiecznej analizy ruchu sieciowego i przypinania SSL na urządzeniach iOS można wykorzystać Burp Suite, zarówno za pomocą **Burp Mobile Assistant**, jak i poprzez konfigurację ręczną. Poniżej znajduje się zwięzły przewodnik dotyczący obu metod:

### Automatyczna Instalacja za pomocą Burp Mobile Assistant

**Burp Mobile Assistant** upraszcza proces instalacji certyfikatu Burp, konfiguracji proxy i przypinania SSL. Szczegółowe wskazówki można znaleźć w [oficjalnej dokumentacji PortSwiggera](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Kroki Instalacji Ręcznej

1. **Konfiguracja Proxy:** Zacznij od ustawienia Burp jako proxy w ustawieniach Wi-Fi iPhone'a.
2. **Pobieranie Certyfikatu:** Przejdź do `http://burp` w przeglądarce urządzenia, aby pobrać certyfikat.
3. **Instalacja Certyfikatu:** Zainstaluj pobrany profil poprzez **Ustawienia** > **Ogólne** > **VPN i Zarządzanie Urządzeniem**, a następnie włącz zaufanie dla PortSwigger CA w **Ustawieniach Zaufania Certyfikatu**.

### Konfiguracja Proxy Przechwytywania

Konfiguracja umożliwia analizę ruchu między urządzeniem iOS a internetem za pośrednictwem Burp, wymagając sieci Wi-Fi obsługującej ruch klient-klient. W przypadku braku takiej sieci, alternatywą może być połączenie USB za pośrednictwem usbmuxd. Samouczki PortSwiggera zawierają szczegółowe instrukcje dotyczące [konfiguracji urządzenia](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) i [instalacji certyfikatu](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Zaawansowana Konfiguracja dla Urządzeń z Jailbreakiem

Dla użytkowników posiadających urządzenia z jailbreakiem, SSH przez USB (za pomocą **iproxy**) oferuje metodę przekierowania ruchu bezpośrednio przez Burp:

1.  **Ustanowienie Połączenia SSH:** Użyj iproxy do przekierowania SSH na localhost, umożliwiając połączenie z urządzenia iOS do komputera z uruchomionym Burp.

```bash
iproxy 2222 22
```
2.  **Przekierowanie Portu Zdalnego:** Przekaż port 8080 urządzenia iOS na localhost komputera, umożliwiając bezpośredni dostęp do interfejsu Burp.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Konfiguracja Globalnego Proxy:** Na koniec skonfiguruj ustawienia Wi-Fi urządzenia iOS, aby korzystały z ręcznego proxy, kierując cały ruch sieciowy przez Burp.

### Pełne Monitorowanie/Sniffing Sieci

Monitorowanie ruchu urządzenia nieobsługiwanego przez HTTP można efektywnie przeprowadzić za pomocą **Wiresharka**, narzędzia zdolnego do przechwytywania wszystkich form ruchu danych. Dla urządzeń iOS monitorowanie ruchu w czasie rzeczywistym jest ułatwione poprzez utworzenie Zdalnego Wirtualnego Interfejsu, proces szczegółowo opisany w [tym poście na Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Przed rozpoczęciem, instalacja **Wiresharka** na systemie macOS jest wymagana.

Procedura obejmuje kilka kluczowych kroków:

1. Nawiązanie połączenia między urządzeniem iOS a hostem macOS za pomocą USB.
2. Określenie **UDID** urządzenia iOS, niezbędne do monitorowania ruchu. Można to zrobić, wykonując polecenie w Terminalu macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Po zidentyfikowaniu UDID, należy otworzyć **Wireshark** i wybrać interfejs "rvi0" do przechwytywania danych.
4. W celu monitorowania określonych danych, takich jak przechwytywanie ruchu HTTP związane z określonym adresem IP, można użyć filtrów przechwytywania Wireshark:

## Instalacja certyfikatu Burp w symulatorze

* **Eksport certyfikatu Burp**

W _Proxy_ --> _Opcje_ --> _Eksportuj certyfikat CA_ --> _Certyfikat w formacie DER_

![](<../../.gitbook/assets/image (531).png>)

* **Przeciągnij i upuść** certyfikat do środowiska Emulatora
* **Wewnątrz emulatora** przejdź do _Ustawienia_ --> _Ogólne_ --> _Profil_ --> _PortSwigger CA_, i **zweryfikuj certyfikat**
* **Wewnątrz emulatora** przejdź do _Ustawienia_ --> _Ogólne_ --> _Informacje_ --> _Ustawienia zaufania certyfikatu_, i **włącz PortSwigger CA**

![](<../../.gitbook/assets/image (1045).png>)

**Gratulacje, pomyślnie skonfigurowałeś certyfikat CA Burp w symulatorze iOS**

{% hint style="info" %}
**Symulator iOS będzie korzystał z konfiguracji proxy z systemu MacOS.**
{% endhint %}

### Konfiguracja proxy w MacOS

Kroki do skonfigurowania Burp jako proxy:

* Przejdź do _Preferencje systemowe_ --> _Sieć_ --> _Zaawansowane_
* W zakładce _Proksy_ zaznacz _Serwer proxy WWW (HTTP)_ i _Bezpieczny serwer proxy WWW (HTTPS)_
* W obu opcjach skonfiguruj _127.0.0.1:8080_

![](<../../.gitbook/assets/image (428).png>)

* Kliknij _**OK**_ i potwierdź _**Zastosuj**_

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

\
Użyj [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) aby łatwo tworzyć i **automatyzować workflowy** zasilane przez najbardziej zaawansowane narzędzia społeczności na świecie.\
Zdobądź dostęp już dziś:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Zacznij od zera i zostań ekspertem od hakowania AWS z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** nas na **Twitterze** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
