# Configurazione di Burp Suite per iOS

<details>

<summary><strong>Impara l'hacking di AWS da zero a esperto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di esclusive [**NFT**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR a** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Usa [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) per creare e **automatizzare flussi di lavoro** con gli strumenti della community pi√π avanzati al mondo.\
Ottieni l'accesso oggi stesso:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Installazione del certificato Burp sui dispositivi iOS

Per l'analisi del traffico web sicuro e l'SSL pinning sui dispositivi iOS, √® possibile utilizzare Burp Suite tramite **Burp Mobile Assistant** o tramite configurazione manuale. Di seguito √® riportata una guida riassuntiva su entrambi i metodi:

### Installazione automatica con Burp Mobile Assistant
Il **Burp Mobile Assistant** semplifica il processo di installazione del certificato Burp, la configurazione del proxy e l'SSL Pinning. Una guida dettagliata pu√≤ essere trovata nella [documentazione ufficiale di PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Passaggi di installazione manuale
1. **Configurazione del proxy:** Inizia impostando Burp come proxy nelle impostazioni Wi-Fi dell'iPhone.
2. **Download del certificato:** Accedi a `http://burp` sul browser del tuo dispositivo per scaricare il certificato.
3. **Installazione del certificato:** Installa il profilo scaricato tramite **Impostazioni** > **Generali** > **VPN e gestione dispositivi**, quindi abilita la fiducia per PortSwigger CA in **Impostazioni fiducia certificati**.

### Configurazione di un proxy di intercettazione
La configurazione consente l'analisi del traffico tra il dispositivo iOS e Internet tramite Burp, richiedendo una rete Wi-Fi che supporti il traffico da client a client. Se non disponibile, una connessione USB tramite usbmuxd pu√≤ essere un'alternativa. I tutorial di PortSwigger forniscono istruzioni dettagliate sulla [configurazione del dispositivo](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) e sull'[installazione del certificato](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Configurazione avanzata per dispositivi jailbroken
Per gli utenti con dispositivi jailbroken, SSH tramite USB (tramite **iproxy**) offre un metodo per instradare il traffico direttamente attraverso Burp:

1. **Stabilire una connessione SSH:** Usa iproxy per inoltrare SSH a localhost, consentendo la connessione dal dispositivo iOS al computer in esecuzione Burp.
```bash
iproxy 2222 22
```
2. **Inoltro della porta remota:** Inoltra la porta 8080 del dispositivo iOS al localhost del computer per consentire l'accesso diretto all'interfaccia di Burp.
```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Impostazione del proxy globale:** Infine, configura le impostazioni Wi-Fi del dispositivo iOS per utilizzare un proxy manuale, instradando tutto il traffico web attraverso Burp.


### Monitoraggio completo della rete/Sniffing

Il monitoraggio del traffico del dispositivo non-HTTP pu√≤ essere effettuato in modo efficiente utilizzando **Wireshark**, uno strumento in grado di catturare tutte le forme di traffico dati. Per i dispositivi iOS, il monitoraggio del traffico in tempo reale √® facilitato dalla creazione di un'interfaccia virtuale remota, un processo dettagliato in [questo post di Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Prima di iniziare, l'installazione di **Wireshark** su un sistema macOS √® un prerequisito.

La procedura prevede diversi passaggi chiave:

1. Avvia una connessione tra il dispositivo iOS e l'host macOS tramite USB.
2. Verifica l'**UDID** del dispositivo iOS, un passaggio necessario per il monitoraggio del traffico. Ci√≤ pu√≤ essere fatto eseguendo un comando nel Terminale macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Dopo aver identificato l'UDID, aprire **Wireshark** e selezionare l'interfaccia "rvi0" per la cattura dei dati.
4. Per il monitoraggio mirato, come la cattura del traffico HTTP relativo a un indirizzo IP specifico, √® possibile utilizzare i filtri di cattura di Wireshark:

## Installazione del certificato Burp nel simulatore

* **Esportare il certificato Burp**

In _Proxy_ --> _Opzioni_ --> _Esporta certificato CA_ --> _Certificato in formato DER_

![](<../../.gitbook/assets/image (459).png>)

* **Trascinare e rilasciare** il certificato all'interno dell'Emulatore
* **All'interno dell'Emulatore** andare su _Impostazioni_ --> _Generali_ --> _Profilo_ --> _PortSwigger CA_, e **verificare il certificato**
* **All'interno dell'Emulatore** andare su _Impostazioni_ --> _Generali_ --> _Informazioni_ --> _Impostazioni fiducia certificati_, e **abilitare PortSwigger CA**

![](<../../.gitbook/assets/image (460).png>)

**Congratulazioni, hai configurato con successo il certificato Burp CA nel simulatore iOS**

{% hint style="info" %}
**Il simulatore iOS utilizzer√† le configurazioni del proxy di MacOS.**
{% endhint %}

### Configurazione del proxy MacOS

Passaggi per configurare Burp come proxy:

* Andare su _Preferenze di Sistema_ --> _Rete_ --> _Avanzate_
* Nella scheda _Proxy_ selezionare _Proxy Web (HTTP)_ e _Proxy Web Sicuro (HTTPS)_
* In entrambe le opzioni configurare _127.0.0.1:8080_

![](<../../.gitbook/assets/image (461).png>)

* Fare clic su _**Ok**_ e poi su _**Applica**_

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Utilizza [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) per creare e **automatizzare flussi di lavoro** con gli strumenti della community pi√π avanzati al mondo.\
Ottieni l'accesso oggi stesso:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Impara l'hacking di AWS da zero a esperto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di esclusive [**NFT**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository github di** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
