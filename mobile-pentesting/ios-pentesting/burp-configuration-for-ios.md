# iOS Burp Suite Konfiguration

<details>

<summary><strong>Lernen Sie das Hacken von AWS von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks bewerben m√∂chten** oder **HackTricks als PDF herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegramm-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositories senden.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Verwenden Sie [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks), um Workflows einfach zu erstellen und zu automatisieren, die von den fortschrittlichsten Community-Tools der Welt unterst√ºtzt werden.\
Erhalten Sie noch heute Zugriff:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Installation des Burp-Zertifikats auf iOS-Ger√§ten

F√ºr die Analyse des sicheren Webverkehrs und das SSL-Pinning auf iOS-Ger√§ten kann die Burp Suite entweder √ºber den **Burp Mobile Assistant** oder √ºber eine manuelle Konfiguration verwendet werden. Im Folgenden finden Sie eine zusammengefasste Anleitung zu beiden Methoden:

### Automatische Installation mit Burp Mobile Assistant
Der **Burp Mobile Assistant** vereinfacht den Installationsprozess des Burp-Zertifikats, der Proxy-Konfiguration und des SSL-Pinning. Detaillierte Anleitungen finden Sie in der [offiziellen Dokumentation von PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Manuelle Installationsschritte
1. **Proxy-Konfiguration:** Beginnen Sie damit, Burp als Proxy in den Wi-Fi-Einstellungen des iPhones einzustellen.
2. **Zertifikat herunterladen:** Gehen Sie auf Ihrem Ger√§t mit dem Browser zu `http://burp`, um das Zertifikat herunterzuladen.
3. **Zertifikat installieren:** Installieren Sie das heruntergeladene Profil √ºber **Einstellungen** > **Allgemein** > **VPN & Ger√§teverwaltung** und aktivieren Sie dann das Vertrauen f√ºr die PortSwigger-CA unter **Zertifikatvertrauenseinstellungen**.

### Konfiguration eines Interception Proxys
Die Einrichtung erm√∂glicht die Analyse des Datenverkehrs zwischen dem iOS-Ger√§t und dem Internet √ºber Burp und erfordert ein Wi-Fi-Netzwerk, das den Client-zu-Client-Verkehr unterst√ºtzt. Wenn dies nicht verf√ºgbar ist, kann eine USB-Verbindung √ºber usbmuxd als Alternative dienen. PortSwiggers Tutorials bieten detaillierte Anleitungen zur [Ger√§tekonfiguration](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) und zur [Zertifikatsinstallation](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Erweiterte Konfiguration f√ºr gejailbreakte Ger√§te
F√ºr Benutzer mit gejailbreakten Ger√§ten bietet SSH √ºber USB (√ºber **iproxy**) eine Methode, um den Datenverkehr direkt √ºber Burp zu leiten:

1. **SSH-Verbindung herstellen:** Verwenden Sie iproxy, um SSH an localhost weiterzuleiten, sodass eine Verbindung vom iOS-Ger√§t zum Computer, auf dem Burp l√§uft, hergestellt werden kann.
```bash
iproxy 2222 22
```
2. **Remote Port Forwarding:** Leiten Sie den Port 8080 des iOS-Ger√§ts an localhost des Computers weiter, um einen direkten Zugriff auf die Benutzeroberfl√§che von Burp zu erm√∂glichen.
```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Globale Proxy-Einstellung:** Konfigurieren Sie abschlie√üend die Wi-Fi-Einstellungen des iOS-Ger√§ts so, dass ein manueller Proxy verwendet wird, der den gesamten Webverkehr √ºber Burp leitet.


### Vollst√§ndige Netzwerk√ºberwachung/Sniffing

Die √úberwachung des nicht-HTTP-Ger√§teverkehrs kann effizient mit **Wireshark** durchgef√ºhrt werden, einem Tool, das in der Lage ist, alle Arten von Datenverkehr zu erfassen. F√ºr iOS-Ger√§te wird die Echtzeit-Verkehrs√ºberwachung durch die Erstellung einer Remote-Virtual-Interface erm√∂glicht, ein Vorgang, der in [diesem Stack Overflow-Beitrag](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819) detailliert beschrieben ist. Vor Beginn ist die Installation von **Wireshark** auf einem macOS-System Voraussetzung.

Der Vorgang umfasst mehrere wichtige Schritte:

1. Stellen Sie eine Verbindung zwischen dem iOS-Ger√§t und dem macOS-Host √ºber USB her.
2. Ermitteln Sie die **UDID** des iOS-Ger√§ts, ein notwendiger Schritt f√ºr die Verkehrs√ºberwachung. Dies kann durch Ausf√ºhren eines Befehls im macOS-Terminal erfolgen:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Nach der Identifizierung der UDID wird **Wireshark** ge√∂ffnet und die Schnittstelle "rvi0" f√ºr die Datenerfassung ausgew√§hlt.
4. F√ºr gezielte √úberwachung, wie z.B. das Erfassen von HTTP-Verkehr in Bezug auf eine bestimmte IP-Adresse, k√∂nnen in Wireshark Capture-Filter verwendet werden:

## Installation des Burp-Zertifikats im Simulator

* **Exportieren des Burp-Zertifikats**

In _Proxy_ --> _Optionen_ --> _CA-Zertifikat exportieren_ --> _Zertifikat im DER-Format_

![](<../../.gitbook/assets/image (459).png>)

* **Ziehen und Ablegen** des Zertifikats in den Emulator
* **Im Emulator** zu _Einstellungen_ --> _Allgemein_ --> _Profil_ --> _PortSwigger CA_ gehen und das Zertifikat **√ºberpr√ºfen**
* **Im Emulator** zu _Einstellungen_ --> _Allgemein_ --> _Info_ --> _Zertifikat-Vertrauenseinstellungen_ gehen und **PortSwigger CA** aktivieren

![](<../../.gitbook/assets/image (460).png>)

**Herzlichen Gl√ºckwunsch, Sie haben das Burp-CA-Zertifikat erfolgreich im iOS-Simulator konfiguriert**

{% hint style="info" %}
**Der iOS-Simulator verwendet die Proxy-Konfigurationen von MacOS.**
{% endhint %}

### MacOS-Proxy-Konfiguration

Schritte zur Konfiguration von Burp als Proxy:

* Gehen Sie zu _Systemeinstellungen_ --> _Netzwerk_ --> _Erweitert_
* Markieren Sie im Tab _Proxy_ die Optionen _Webproxy (HTTP)_ und _Sicherer Webproxy (HTTPS)_
* Konfigurieren Sie in beiden Optionen _127.0.0.1:8080_

![](<../../.gitbook/assets/image (461).png>)

* Klicken Sie auf _**OK**_ und dann auf _**√úbernehmen**_

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Verwenden Sie [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks), um Workflows einfach zu erstellen und zu automatisieren, die von den fortschrittlichsten Community-Tools der Welt unterst√ºtzt werden.\
Erhalten Sie noch heute Zugriff:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Lernen Sie AWS-Hacking von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks bewerben m√∂chten** oder **HackTricks als PDF herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder folgen Sie uns auf **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Github-Repositories senden.

</details>
