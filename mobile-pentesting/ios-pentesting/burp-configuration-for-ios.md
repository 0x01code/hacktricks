# Διαμόρφωση του Burp Suite για iOS

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Ειδικός Ερυθρού Συνεργείου HackTricks AWS)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε** στην 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα τηλεγραφήματος**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs** στα [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Χρησιμοποιήστε το [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) για εύκολη δημιουργία και **αυτοματοποίηση ροών εργασίας** με τα πιο προηγμένα εργαλεία της κοινότητας.\
Αποκτήστε πρόσβαση σήμερα:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Εγκατάσταση του Πιστοποιητικού Burp σε Συσκευές iOS

Για ασφαλή ανάλυση κίνησης στον ιστό και SSL pinning σε συσκευές iOS, το Burp Suite μπορεί να χρησιμοποιηθεί είτε μέσω του **Burp Mobile Assistant** είτε μέσω χειροκίνητης διαμόρφωσης. Παρακάτω παρουσιάζεται ένα περίληψη οδηγού για και τις δύο μεθόδους:

### Αυτόματη Εγκατάσταση με το Burp Mobile Assistant

Το **Burp Mobile Assistant** απλοποιεί τη διαδικασία εγκατάστασης του Πιστοποιητικού Burp, τη διαμόρφωση του proxy και το SSL Pinning. Λεπτομερείς οδηγίες μπορούν να βρεθούν στην [επίσημη τεκμηρίωση της PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Βήματα Χειροκίνητης Εγκατάστασης

1. **Διαμόρφωση Proxy:** Ξεκινήστε με την ρύθμιση του Burp ως proxy στις ρυθμίσεις Wi-Fi του iPhone.
2. **Λήψη Πιστοποιητικού:** Μεταβείτε στη διεύθυνση `http://burp` στο πρόγραμμα περιήγησης της συσκευής σας για να κατεβάσετε το πιστοποιητικό.
3. **Εγκατάσταση Πιστοποιητικού:** Εγκαταστήστε το προφίλ που κατεβάσατε μέσω **Ρυθμίσεις** > **Γενικές** > **VPN & Διαχείριση Συσκευής**, στη συνέχεια ενεργοποιήστε την εμπιστοσύνη για το PortSwigger CA στις **Ρυθμίσεις Εμπιστοσύνης Πιστοποιητικού**.

### Διαμόρφωση Ενδιάμεσου Proxy

Η ρύθμιση επιτρέπει την ανάλυση κίνησης μεταξύ της συσκευής iOS και του διαδικτύου μέσω του Burp, απαιτώντας ένα δίκτυο Wi-Fi που υποστηρίζει κίνηση από πελάτη σε πελάτη. Αν δεν είναι διαθέσιμο, μια σύνδεση USB μέσω του usbmuxd μπορεί να λειτουργήσει ως εναλλακτική λύση. Οι οδηγίες της PortSwigger παρέχουν λεπτομερείς οδηγίες για τη [ρύθμιση της συσκευής](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) και την [εγκατάσταση πιστοποιητικού](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Προηγμένη Διαμόρφωση για Συσκευές με Jailbreak

Για χρήστες με συσκευές με Jailbreak, το SSH μέσω USB (μέσω **iproxy**) προσφέρει μια μέθοδο για τη δρομολόγηση της κίνησης απευθείας μέσω του Burp:

1.  **Καθιέρωση Σύνδεσης SSH:** Χρησιμοποιήστε το iproxy για να προωθήσετε το SSH στο localhost, επιτρέποντας τη σύνδεση από τη συσκευή iOS στον υπολογιστή που εκτελεί το Burp.

```bash
iproxy 2222 22
```
2.  **Απομακρυσμένη Προώθηση Θύρας:** Προωθήστε τη θύρα 8080 της συσκευής iOS στο localhost του υπολογιστή για να επιτρέψετε την άμεση πρόσβαση στη διεπαφή του Burp.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Ρύθμιση Παγίου Proxy:** Τέλος, ρυθμίστε τις ρυθμίσεις Wi-Fi της συσκευής iOS για χρήση ενός εγχειρίδιου proxy, καθοδηγώντας όλη την κίνηση στον ιστό μέσω του Burp.

### Πλήρης Παρακολούθηση/Καταγραφή Δικτύου

Η παρακολούθηση της κίνησης συσκευών μη-HTTP μπορεί να πραγματοποιηθεί αποτελεσματικά χρησιμοποιώντας το **Wireshark**, ένα εργαλείο ικανό να καταγράψει όλα τα είδη δεδομένων κίνησης. Για συσκευές iOS, η παρακολούθηση πραγματικού χρόνου κίνησης διευκολύνεται μέσω της δημιουργίας Απομακρυσμένης Εικονικής Διεπαφής, μια διαδικασία που αναλύεται λεπτομερώς σε [αυτήν την ανάρτηση στο Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Πριν ξεκινήσετε, η εγκατάσταση του **Wireshark** σε ένα σύστημα macOS είναι προϋπόθεση.

Η διαδικασία περιλαμβάνει αρκετά βασικά βήματα:

1. Εκκινήστε μια σύνδεση μεταξύ της συσκευής iOS και του υπολογιστή macOS μέσω USB.
2. Βεβαιωθείτε για το **UDID** της συσκευής iOS, ένα απαραίτητο βήμα για την παρακολούθηση της κίνησης. Αυτό μπορεί να γίνει εκτελώντας έναν εντολή στο Terminal του macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Μετά τον εντοπισμό του UDID, πρέπει να ανοίξετε το **Wireshark** και να επιλέξετε τη διεπαφή "rvi0" για την καταγραφή δεδομένων.
4. Για στοχευμένη παρακολούθηση, όπως η καταγραφή κίνησης HTTP που σχετίζεται με μια συγκεκριμένη διεύθυνση IP, μπορούν να χρησιμοποιηθούν οι Φίλτρα Καταγραφής του Wireshark:

## Εγκατάσταση Πιστοποιητικού Burp στον Προσομοιωτή

* **Εξαγωγή Πιστοποιητικού Burp**

Σε _Proxy_ --> _Επιλογές_ --> _Εξαγωγή πιστοποιητικού CA_ --> _Πιστοποιητικό σε μορφή DER_

![](<../../.gitbook/assets/image (459).png>)

* **Σύρετε και Αφήστε** το πιστοποιητικό μέσα στον Προσομοιωτή
* **Μέσα στον προσομοιωτή** πηγαίνετε σε _Ρυθμίσεις_ --> _Γενικά_ --> _Προφίλ_ --> _PortSwigger CA_, και **επιβεβαιώστε το πιστοποιητικό**
* **Μέσα στον προσομοιωτή** πηγαίνετε σε _Ρυθμίσεις_ --> _Γενικά_ --> _Σχετικά με_ --> _Ρυθμίσεις Εμπιστοσύνης Πιστοποιητικού_, και **ενεργοποιήστε το PortSwigger CA**

![](<../../.gitbook/assets/image (460).png>)

**Συγχαρητήρια, έχετε εγκαταστήσει με επιτυχία το Πιστοποιητικό CA του Burp στον προσομοιωτή iOS**

{% hint style="info" %}
**Ο προσομοιωτής iOS θα χρησιμοποιήσει τις ρυθμίσεις διαμεσολαβητή του MacOS.**
{% endhint %}

### Ρυθμίσεις Διαμεσολαβητή MacOS

Βήματα για τη ρύθμιση του Burp ως διαμεσολαβητή:

* Πηγαίνετε σε _Προτιμήσεις Συστήματος_ --> _Δίκτυο_ --> _Προηγμένες ρυθμίσεις_
* Στην καρτέλα _Διαμεσολαβητές_ επιλέξτε _Διαμεσολαβητής Ιστού (HTTP)_ και _Ασφαλής Διαμεσολαβητής Ιστού (HTTPS)_
* Σε και τα δύο επιλογές ρυθμίστε το _127.0.0.1:8080_

![](<../../.gitbook/assets/image (461).png>)

* Κάντε κλικ στο _**Οκ**_ και μετά στο _**Εφαρμογή**_

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Χρησιμοποιήστε το [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) για εύκολη δημιουργία και **αυτοματοποίηση ροών εργασίας** με τα πιο προηγμένα εργαλεία της κοινότητας.\
Αποκτήστε Πρόσβαση Σήμερα:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε** στη 💬 ομάδα [**Discord**](https://discord.gg/hRep4RUj7f) ή στην ομάδα [**telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
