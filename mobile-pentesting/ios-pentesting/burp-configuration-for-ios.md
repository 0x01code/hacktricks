# Konfiguracija Burp Suite-a za iOS

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Koristite [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) da lako izgradite i **automatizujete radne tokove** uz pomoć najnaprednijih alata zajednice.\
Danas se prijavite:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Instalacija Burp sertifikata na iOS uređajima

Za analizu sigurnog web saobraćaja i SSL pinning na iOS uređajima, može se koristiti Burp Suite putem **Burp Mobile Assistant**-a ili putem ručne konfiguracije. U nastavku je sažet vodič za oba metoda:

### Automatska instalacija pomoću Burp Mobile Assistant-a
**Burp Mobile Assistant** pojednostavljuje proces instalacije Burp sertifikata, konfiguracije proksija i SSL Pinning-a. Detaljno uputstvo možete pronaći na [zvaničnoj dokumentaciji PortSwigger-a](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Ručna instalacija koraka
1. **Konfiguracija proksija:** Počnite tako što ćete postaviti Burp kao proksi u postavkama Wi-Fi-ja na iPhone-u.
2. **Preuzimanje sertifikata:** Idite na `http://burp` u pretraživaču uređaja da biste preuzeli sertifikat.
3. **Instalacija sertifikata:** Instalirajte preuzeti profil putem **Settings** > **General** > **VPN & Device Management**, a zatim omogućite poverenje za PortSwigger CA pod **Certificate Trust Settings**.

### Konfiguracija proksija za presretanje
Ova postavka omogućava analizu saobraćaja između iOS uređaja i interneta putem Burp-a, zahtevajući Wi-Fi mrežu koja podržava saobraćaj između klijenata. Ako nije dostupna, USB veza putem usbmuxd-a može poslužiti kao alternativa. PortSwigger-ovi tutorijali pružaju detaljna uputstva o [konfiguraciji uređaja](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) i [instalaciji sertifikata](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Napredna konfiguracija za jailbroken uređaje
Za korisnike jailbroken uređaja, SSH preko USB-a (putem **iproxy**) nudi metodu za rutiranje saobraćaja direktno preko Burp-a:

1. **Uspostavljanje SSH veze:** Koristite iproxy za prosleđivanje SSH-a na localhost, omogućavajući povezivanje sa iOS uređajem na računar na kojem se izvršava Burp.
```bash
iproxy 2222 22
```
2. **Daljinsko prosleđivanje porta:** Prosledite port 8080 iOS uređaja na localhost računara kako biste omogućili direktan pristup Burp-ovom interfejsu.
```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Globalno podešavanje proksija:** Na kraju, konfigurišite postavke Wi-Fi-ja na iOS uređaju da koriste ručni proksi, usmeravajući sav web saobraćaj preko Burp-a.


### Potpuno praćenje/snifovanje mreže

Praćenje saobraćaja uređaja koji nije HTTP može se efikasno sprovoditi pomoću **Wireshark**-a, alata koji je sposoban za snimanje svih vrsta podataka saobraćaja. Za iOS uređaje, praćenje saobraćaja u realnom vremenu omogućeno je kreiranjem Remote Virtual Interface-a, postupkom koji je detaljno opisan u [ovom Stack Overflow postu](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Pre početka, instalacija **Wireshark**-a na macOS sistemu je preduslov.

Postupak uključuje nekoliko ključnih koraka:

1. Uspostavite vezu između iOS uređaja i macOS hosta putem USB-a.
2. Utvrdite **UDID** iOS uređaja, neophodan korak za praćenje saobraćaja. To možete uraditi izvršavanjem komande u macOS Terminalu:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Nakon identifikacije UDID-a, treba otvoriti **Wireshark** i odabrati interfejs "rvi0" za snimanje podataka.
4. Za ciljano praćenje, kao što je snimanje HTTP saobraćaja koji se odnosi na određenu IP adresu, mogu se koristiti Wireshark-ovi Capture Filters:

## Instalacija Burp sertifikata u Simulatoru

* **Izvoz Burp sertifikata**

U _Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../.gitbook/assets/image (459).png>)

* **Prevucite i ispustite** sertifikat unutar Emulatora
* **Unutar emulatora** idite na _Settings_ --> _General_ --> _Profile_ --> _PortSwigger CA_, i **verifikujte sertifikat**
* **Unutar emulatora** idite na _Settings_ --> _General_ --> _About_ --> _Certificate Trust Settings_, i **omogućite PortSwigger CA**

![](<../../.gitbook/assets/image (460).png>)

**Čestitamo, uspešno ste konfigurisali Burp CA sertifikat u iOS simulatoru**

{% hint style="info" %}
**iOS simulator će koristiti proxy konfiguracije MacOS-a.**
{% endhint %}

### Konfiguracija Proxy-ja na MacOS-u

Koraci za konfiguraciju Burp-a kao proxy-ja:

* Idite na _System Preferences_ --> _Network_ --> _Advanced_
* Na kartici _Proxies_ označite _Web Proxy (HTTP)_ i _Secure Web Proxy (HTTPS)_
* U obe opcije konfigurišite _127.0.0.1:8080_

![](<../../.gitbook/assets/image (461).png>)

* Kliknite na _**Ok**_ i zatim na _**Apply**_

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Koristite [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) da biste lako izgradili i **automatizovali radne tokove** uz pomoć najnaprednijih alata zajednice.\
Dobijte pristup danas:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju oglašenu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
