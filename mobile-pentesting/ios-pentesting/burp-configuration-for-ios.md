# iOS Burp Suite Yapılandırması

<details>

<summary><strong>AWS hacklemeyi sıfırdan kahraman olmaya öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzdaki özel [**NFT'leri**](https://opensea.io/collection/the-peass-family) keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR göndererek paylaşın.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Dünyanın en gelişmiş topluluk araçları tarafından desteklenen **iş akışlarını kolayca oluşturun ve otomatikleştirin** için [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)'i kullanın.\
Bugün Erişim Alın:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## iOS Cihazlarda Burp Sertifikasının Yüklenmesi

iOS cihazlarda güvenli web trafiği analizi ve SSL pinning için Burp Suite, **Burp Mobile Assistant** veya manuel yapılandırma yoluyla kullanılabilir. İki yöntem hakkında özetlenmiş bir kılavuz aşağıda verilmiştir:

### Burp Mobile Assistant ile Otomatik Yükleme
**Burp Mobile Assistant**, Burp Sertifikası, proxy yapılandırması ve SSL Pinning'in kurulum sürecini basitleştirir. Detaylı rehberlik için [PortSwigger'ın resmi belgelerine](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing) bakabilirsiniz.

### Manuel Yükleme Adımları
1. **Proxy Yapılandırması:** İPhone'un Wi-Fi ayarları altında Burp'u proxy olarak ayarlayarak başlayın.
2. **Sertifika İndirme:** Cihazınızın tarayıcısında `http://burp` adresine giderek sertifikayı indirin.
3. **Sertifika Yüklemesi:** İndirilen profilin **Ayarlar** > **Genel** > **VPN ve Cihaz Yönetimi** altından yükleyin ve ardından **Sertifika Güven Ayarları** altında PortSwigger CA için güveni etkinleştirin.

### İnterception Proxy Yapılandırma
Bu yapılandırma, iOS cihazı ile internet arasındaki trafiği Burp üzerinden analiz etmeyi sağlar ve istemci-istemci trafiğini destekleyen bir Wi-Fi ağı gerektirir. Kullanılamıyorsa, usbmuxd aracılığıyla USB bağlantısı alternatif olarak kullanılabilir. PortSwigger'ın eğitimleri, [cihaz yapılandırması](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) ve [sertifika yüklemesi](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device) konusunda detaylı talimatlar sağlar.

### Jailbreakli Cihazlar için Gelişmiş Yapılandırma
Jailbreakli cihazlara sahip kullanıcılar için SSH üzerinden USB (via **iproxy**) doğrudan trafiği Burp üzerinden yönlendirmek için bir yöntem sunar:

1. **SSH Bağlantısı Kurma:** iproxy kullanarak SSH'yi localhost'a yönlendirerek iOS cihazından Burp çalıştıran bilgisayara bağlantıya izin verin.
```bash
iproxy 2222 22
```
2. **Uzaktan Port Yönlendirme:** iOS cihazının 8080 numaralı bağlantı noktasını bilgisayarın localhost'una yönlendirerek Burp'un arayüzüne doğrudan erişimi etkinleştirin.
```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Genel Proxy Ayarı:** Son olarak, iOS cihazının Wi-Fi ayarlarını manuel bir proxy kullanacak şekilde yapılandırarak tüm web trafiğini Burp üzerinden yönlendirin.


### Tam Ağ İzleme/Sniffing

iOS cihazlarda HTTP olmayan cihaz trafiğinin izlenmesi, tüm veri trafiğini yakalayabilen bir araç olan **Wireshark** kullanılarak verimli bir şekilde gerçekleştirilebilir. iOS cihazlar için gerçek zamanlı trafik izlemesi, bir Uzak Sanal Arayüz oluşturarak kolaylaştırılır ve bu işlem [bu Stack Overflow gönderisinde](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819) ayrıntılı olarak açıklanmıştır. Başlamadan önce, bir macOS sisteminde **Wireshark**'ın kurulu olması gerekmektedir.

İşlem birkaç önemli adım içerir:

1. iOS cihazı ile macOS ana bilgisayar arasında USB aracılığıyla bir bağlantı başlatın.
2. Trafik izlemek için iOS cihazının **UDID**'sini belirleyin. Bu, macOS Terminalinde bir komut çalıştırılarak yapılabilir:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. UDID'nin tespit edilmesinden sonra, **Wireshark** açılmalı ve veri yakalamak için "rvi0" arayüzü seçilmelidir.
4. Belirli bir IP adresiyle ilgili HTTP trafiğini yakalamak gibi hedeflenen izleme için, Wireshark'ın Yakalama Filtreleri kullanılabilir:

## Simülatöre Burp Sertifikası Yükleme

* **Burp Sertifikasını Dışa Aktar**

_Proxy_ --> _Seçenekler_ --> _CA sertifikasını dışa aktar_ --> _DER formatında sertifika_

![](<../../.gitbook/assets/image (459).png>)

* Sertifikayı Emülatöre **sürükleyip bırakın**
* **Emülatör içinde** _Ayarlar_ --> _Genel_ --> _Profil_ --> _PortSwigger CA_'ya gidin ve **sertifikayı doğrulayın**
* **Emülatör içinde** _Ayarlar_ --> _Genel_ --> _Hakkında_ --> _Sertifika Güven Ayarları_'na gidin ve **PortSwigger CA'yı etkinleştirin**

![](<../../.gitbook/assets/image (460).png>)

**Tebrikler, iOS simülatöründe Burp CA Sertifikasını başarıyla yapılandırdınız**

{% hint style="info" %}
**iOS simülatörü, MacOS'un proxy yapılandırmalarını kullanacaktır.**
{% endhint %}

### MacOS Proxy Yapılandırması

Burp'u proxy olarak yapılandırma adımları:

* _Sistem Tercihleri_ --> _Ağ_ --> _Gelişmiş_ bölümüne gidin
* _Proxyler_ sekmesinde _Web Proxy (HTTP)_ ve _Güvenli Web Proxy (HTTPS)_ işaretleyin
* Her iki seçenekte de _127.0.0.1:8080_ olarak yapılandırın

![](<../../.gitbook/assets/image (461).png>)

* _**Tamam**_ düğmesine tıklayın ve _**Uygula**_ düğmesine tıklayın

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dünyanın en gelişmiş topluluk araçları tarafından desteklenen **iş akışlarını kolayca oluşturun ve otomatikleştirin**.\
Bugün Erişim Alın:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklam vermek isterseniz veya HackTricks'i PDF olarak indirmek isterseniz** [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerine**](https://peass.creator-spring.com) göz atın
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın veya bizi Twitter'da 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)** takip edin.**
* Hacking hilelerinizi göndererek HackTricks ve HackTricks Cloud github reposuna PR göndererek **hacking hilelerinizi paylaşın**.

</details>
