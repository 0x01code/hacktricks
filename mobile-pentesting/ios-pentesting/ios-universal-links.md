# –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è iOS


<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é –≤ —Ä–µ–∫–ª–∞–º—ñ –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—ñ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub**.

</details>


## –í—Å—Ç—É–ø

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –ø—Ä–æ–ø–æ–Ω—É—é—Ç—å **–±–µ–∑—à–æ–≤–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è** –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –≤—ñ–¥–∫—Ä–∏–≤–∞—é—á–∏ –≤–º—ñ—Å—Ç –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –¥–æ–¥–∞—Ç–∫—É, –æ–±—Ö–æ–¥—è—á–∏ –ø–æ—Ç—Ä–µ–±—É —É –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ñ Safari. –¶—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —î **—É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏** —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–º–∏, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö –Ω–µ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—à—ñ –¥–æ–¥–∞—Ç–∫–∏. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î—Ç—å—Å—è —à–ª—è—Ö–æ–º —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è —Ñ–∞–π–ª—É JSON `apple-app-site-association` –≤ –∫–æ—Ä–µ–Ω–µ–≤–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ –≤–µ–±-—Å–∞–π—Ç—É, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é—á–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –º—ñ–∂ –≤–µ–±-—Å–∞–π—Ç–æ–º —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–º. –£ –≤–∏–ø–∞–¥–∫–∞—Ö, –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, Safari –±–µ—Ä–µ –Ω–∞ —Å–µ–±–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ø—Ä–∞–≤–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫—É, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å –¥–æ–¥–∞—Ç–∫–∞.

–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫—ñ–≤ –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–µ–Ω–Ω—è —Ñ–∞–π–ª `apple-app-site-association` —î –æ—Å–æ–±–ª–∏–≤–æ —Ü—ñ–∫–∞–≤–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –º–æ–∂–µ —Ä–æ–∑–∫—Ä–∏—Ç–∏ **—á—É—Ç–ª–∏–≤—ñ —à–ª—è—Ö–∏**, –º–æ–∂–ª–∏–≤–æ, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –Ω–µ–≤–∏–ø—É—â–µ–Ω–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏.

### **–ê–Ω–∞–ª—ñ–∑ –ü–æ–≤'—è–∑–∞–Ω–∏—Ö –î–æ–º–µ–Ω—ñ–≤ –£–ø–æ–≤–Ω–æ–≤–∞–∂–µ–Ω—å**

–†–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –∞–∫—Ç–∏–≤—É—é—Ç—å –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –ü–æ—Å–∏–ª–∞–Ω–Ω—è, –Ω–∞–ª–∞—à—Ç–æ–≤—É—é—á–∏ **–ü–æ–≤'—è–∑–∞–Ω—ñ –î–æ–º–µ–Ω–∏** –≤–æ –≤–∫–ª–∞–¥—Ü—ñ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ Xcode –∞–±–æ —ñ–Ω—Å–ø–µ–∫—Ç—É—é—á–∏ —Ñ–∞–π–ª `.entitlements`. –ö–æ–∂–µ–Ω –¥–æ–º–µ–Ω –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `applinks:`. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Telegram –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:
```xml
<key>com.apple.developer.associated-domains</key>
<array>
<string>applinks:telegram.me</string>
<string>applinks:t.me</string>
</array>
```
–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó, –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è –¥–æ [–∞—Ä—Ö—ñ–≤–Ω–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ Apple](https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html#//apple_ref/doc/uid/TP40016308-CH12-SW2).

–Ø–∫—â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–∏–º –¥–æ–¥–∞—Ç–∫–æ–º, entitlements –º–æ–∂–Ω–∞ –≤–∏–¥–æ–±—É—Ç–∏, —è–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ [—Ü—å–æ–º—É –∫–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤—ñ](extracting-entitlements-from-compiled-application.md).

### **–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ–∞–π–ª—É Apple App Site Association**

–§–∞–π–ª `apple-app-site-association` —Å–ª—ñ–¥ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑ —Å–µ—Ä–≤–µ—Ä–∞, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–æ–º–µ–Ω–∏, –≤–∫–∞–∑–∞–Ω—ñ –≤ entitlements. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ HTTPS –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑–∞ –∞–¥—Ä–µ—Å–æ—é `https://<domain>/apple-app-site-association`. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —Ç–∞–∫—ñ —è–∫ [Apple App Site Association (AASA) Validator](https://branch.io/resources/aasa-validator/), –º–æ–∂—É—Ç—å –¥–æ–ø–æ–º–æ–≥—Ç–∏ —É —Ü—å–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ.

### **–û–±—Ä–æ–±–∫–∞ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å —É –¥–æ–¥–∞—Ç–∫—É**

–î–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å. –û—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥, –Ω–∞ —è–∫–∏–π –≤–∞—Ä—Ç–æ –∑–≤–µ—Ä–Ω—É—Ç–∏ —É–≤–∞–≥—É, - [`application:continueUserActivity:restorationHandler:`](https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623072-application). –í–∞–∂–ª–∏–≤–æ, —â–æ–± —Å—Ö–µ–º–∞ URL, —è–∫—É –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è, –±—É–ª–∞ HTTP –∞–±–æ HTTPS, –æ—Å–∫—ñ–ª—å–∫–∏ —ñ–Ω—à—ñ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è.

#### **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–µ—Ç–æ–¥—É –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö**

–ö–æ–ª–∏ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–æ–¥–∞—Ç–æ–∫, –æ–±'—î–∫—Ç `NSUserActivity` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫—É —Ä–∞–∑–æ–º –∑ URL. –ü–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é —Ü—å–æ–≥–æ URL –≤–∞–∂–ª–∏–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∞ –æ—á–∏—Å—Ç–∏—Ç–∏ –π–æ–≥–æ –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Ä–∏–∑–∏–∫–∞–º –±–µ–∑–ø–µ–∫–∏. –û—Å—å –ø—Ä–∏–∫–ª–∞–¥ –Ω–∞ Swift, —è–∫–∏–π –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ü–µ–π –ø—Ä–æ—Ü–µ—Å:
```swift
func application(_ application: UIApplication, continue userActivity: NSUserActivity,
restorationHandler: @escaping ([UIUserActivityRestoring]?) -> Void) -> Bool {
// Check for web browsing activity and valid URL
if userActivity.activityType == NSUserActivityTypeBrowsingWeb, let url = userActivity.webpageURL {
application.open(url, options: [:], completionHandler: nil)
}

return true
}
```
URL-–∞–¥—Ä–µ—Å–∏ —Å–ª—ñ–¥ —Ä–µ—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, –æ—Å–æ–±–ª–∏–≤–æ —è–∫—â–æ –≤–æ–Ω–∏ –º—ñ—Å—Ç—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, —â–æ–± –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏—Å—è –≤—ñ–¥ –º–æ–∂–ª–∏–≤–æ–≥–æ –ø—ñ–¥—Ä–æ–±–ª–µ–Ω–Ω—è –∞–±–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö. API `NSURLComponents` –∫–æ—Ä–∏—Å–Ω–∏–π –¥–ª—è —Ü—ñ—î—ó —Ü—ñ–ª—ñ, —è–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂—á–µ:
```swift
func application(_ application: UIApplication,
continue userActivity: NSUserActivity,
restorationHandler: @escaping ([Any]?) -> Void) -> Bool {
guard userActivity.activityType == NSUserActivityTypeBrowsingWeb,
let incomingURL = userActivity.webpageURL,
let components = NSURLComponents(url: incomingURL, resolvingAgainstBaseURL: true),
let path = components.path,
let params = components.queryItems else {
return false
}

if let albumName = params.first(where: { $0.name == "albumname" })?.value,
let photoIndex = params.first(where: { $0.name == "index" })?.value {
// Process the URL with album name and photo index

return true

} else {
// Handle invalid or missing parameters

return false
}
}
```
–ß–µ—Ä–µ–∑ **–¥—ñ–ª–æ–≤—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É**, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –º–æ–∂—É—Ç—å –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏, —â–æ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –ø–æ–∫—Ä–∞—â—É—é—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –¥–æ—Å–≤—ñ–¥, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ.

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0070/#static-analysis](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0070/#static-analysis)
* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)

<details>
<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:
* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF-—Ñ–æ—Ä–º–∞—Ç—ñ**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.
</details>
