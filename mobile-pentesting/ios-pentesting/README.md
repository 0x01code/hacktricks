# iOS Pentesting

<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрд┐рд▓реНрдб рдХрд░реЗрдВ рдФрд░ **рдСрдЯреЛрдореЗрдЯрд┐рдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ** рдмрдирд╛рдПрдВ рдЬреЛ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рд╛рдореБрджрд╛рдпрд┐рдХ рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рдЪрд╛рд╣рд┐рдП? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛** рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ рдЕрдкрдирд╛ рдпреЛрдЧрджрд╛рди рджреЗрдВред**

</details>

## iOS Basics

{% content-ref url="ios-basics.md" %}
[ios-basics.md](ios-basics.md)
{% endcontent-ref %}

## Testing Environment

рдЗрд╕ рдкреЗрдЬ рдкрд░ рдЖрдкрдХреЛ **iOS рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░**, **рдПрдореНрдпреБрд▓реЗрдЯрд░** рдФрд░ **рдЬреЗрд▓рдмреНрд░реЗрдХрд┐рдВрдЧ** рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓реЗрдЧреА:

{% content-ref url="ios-testing-environment.md" %}
[ios-testing-environment.md](ios-testing-environment.md)
{% endcontent-ref %}

## Initial Analysis

### Basic iOS Testing Operations

рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рджреМрд░рд╛рди **рдХрдИ рдСрдкрд░реЗрд╢рди рд╕реБрдЭрд╛рдП рдЬрд╛рдПрдВрдЧреЗ** (рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ, рдлрд╝рд╛рдЗрд▓реЗрдВ рдкрдврд╝реЗрдВ/рд▓рд┐рдЦреЗрдВ/рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ/рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ, рдХреБрдЫ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ...). рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЛ рдЗрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдХреГрдкрдпрд╛ **рдкреЗрдЬ рдкрдврд╝рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ**:

{% content-ref url="basic-ios-testing-operations.md" %}
[basic-ios-testing-operations.md](basic-ios-testing-operations.md)
{% endcontent-ref %}

{% hint style="info" %}
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП **рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд** рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ **IPA рдлрд╝рд╛рдЗрд▓** рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд▓рд┐рдпрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред\
рдЗрд╕реЗ рдХреИрд╕реЗ рдХрд░реЗрдВ рдЗрд╕рдХреЗ рд▓рд┐рдП [Basic iOS Testing Operations](basic-ios-testing-operations.md) рдкреЗрдЬ рдкрдврд╝реЗрдВред
{% endhint %}

### Basic Static Analysis

IPA рдлрд╝рд╛рдЗрд▓ рдкрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕реНрдерд┐рд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг [**MobSF**](https://github.com/MobSF/Mobile-Security-Framework-MobSF) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдмрд╛рдЗрдирд░реА рдореЗрдВ рдореМрдЬреВрдж **рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрд░рдХреНрд╖рд╛** рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдВ:

*   **PIE (Position Independent Executable)**: рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдкрд░, рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╣рд░ рдмрд╛рд░ рд▓реЙрдиреНрдЪ рд╣реЛрдиреЗ рдкрд░ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдореЗрдореЛрд░реА рдкрддреЗ рдореЗрдВ рд▓реЛрдб рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЗрд╕рдХрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдореЗрдореЛрд░реА рдкрддрд╛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдХрд░рдирд╛ рдХрдард┐рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

```bash
otool -hv <app-binary> | grep PIE   # рдЗрд╕рдореЗрдВ PIE рдлрд╝реНрд▓реИрдЧ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
```
*   **Stack Canaries**: рд╕реНрдЯреИрдХ рдХреА рдЕрдЦрдВрдбрддрд╛ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ 'рдХреИрдирд░реА' рдорд╛рди рд╕реНрдЯреИрдХ рдкрд░ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдХрд┐рд╕реА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдФрд░ рдлрд┐рд░ рдлрд╝рдВрдХреНрд╢рди рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рдкрд░ рдкреБрдирдГ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

```bash
otool -I -v <app-binary> | grep stack_chk   # рдЗрд╕рдореЗрдВ stack_chk_guard рдФрд░ stack_chk_fail рдкреНрд░рддреАрдХ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдП
```
*   **ARC (Automatic Reference Counting
### рдореВрд▓рднреВрдд рдЧрддрд┐рд╡рд┐рдзрд┐ рд╡рд┐рд╢реНрд▓реЗрд╖рдг

[**MobSF**](https://github.com/MobSF/Mobile-Security-Framework-MobSF) рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдореВрд▓рднреВрдд рдЧрддрд┐рд╡рд┐рдзрд┐ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред рдЖрдкрдХреЛ рд╡рд┐рднрд┐рдиреНрди рджреГрд╢реНрдпреЛрдВ рдореЗрдВ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рдиреЗ рдФрд░ рдЙрдирдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди рдпрд╣ рдХрдИ рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рд╣реБрдХ рдХрд░реЗрдЧрд╛ рдФрд░ рдЕрдиреНрдп рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд░реЗрдЧрд╛ рдФрд░ рдЬрдм рдЖрдк рд╕рдВрдкрдиреНрди рд╣реЛ рдЬрд╛рдПрдВрдЧреЗ рддреЛ рдПрдХ рд░рд┐рдкреЛрд░реНрдЯ рддреИрдпрд╛рд░ рдХрд░реЗрдЧрд╛ред

### рд╕реНрдерд╛рдкрд┐рдд рдРрдкреНрд╕ рдХреА рд╕реВрдЪреА

рдпрджрд┐ рдЖрдк рдЙрд╕ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЬреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рд╣реИ, рддреЛ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдЙрд╕ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕рд╣реА рдмрдВрдбрд▓ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╣реЛрдЧрд╛ред рдЖрдк `frida-ps -Uai` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЖрдк рд╕рднреА рдРрдкреНрд╕ (`-a`) рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВ рдЬреЛ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХрдиреЗрдХреНрдЯреЗрдб USB рдЙрдкрдХрд░рдг (`-U`) рдкрд░ рд╕реНрдерд╛рдкрд┐рдд (`-i`) рд╣реИрдВ:
```bash
$ frida-ps -Uai
PID  Name                 Identifier
----  -------------------  -----------------------------------------
6847  Calendar             com.apple.mobilecal
6815  Mail                 com.apple.mobilemail
-  App Store            com.apple.AppStore
-  Apple Store          com.apple.store.Jolly
-  Calculator           com.apple.calculator
-  Camera               com.apple.camera
-  iGoat-Swift          OWASP.iGoat-Swift
```
### рдореВрд▓рднреВрдд рдЬрд╛рдВрдЪ рдФрд░ рд╣реБрдХрд┐рдВрдЧ

рд╕реАрдЦреЗрдВ рдХрд┐ рдХреИрд╕реЗ **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдШрдЯрдХреЛрдВ рдХреА рдЬрд╛рдВрдЪ** рдХрд░реЗрдВ рдФрд░ рдХреИрд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ **рд╡рд┐рдзрд┐рдпреЛрдВ рдФрд░ рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рд╣реБрдХ рдХрд░реЗрдВ** objection рдХреЗ рд╕рд╛рде:

{% content-ref url="ios-hooking-with-objection.md" %}
[ios-hooking-with-objection.md](ios-hooking-with-objection.md)
{% endcontent-ref %}

### IPA рд╕рдВрд░рдЪрдирд╛

`.ipa` рдлрд╝рд╛рдЗрд▓реЗрдВ **рдЬрд╝рд┐рдк рдХреА рдЧрдИ** **рдкреИрдХреЗрдЬ** рд╣реЛрддреА рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдЗрд╕реЗ `.zip` рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ **рдбреАрдХрдВрдкреНрд░реЗрд╕** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдХ **рдкреВрд░реНрдг** **рдкреИрдХреЗрдЬ** рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЬреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛрддрд╛ рд╣реИ, рдЖрдорддреМрд░ рдкрд░ рдПрдХ **рдмрдВрдбрд▓** рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИред\
рдЙрдиреНрд╣реЗрдВ рдбреАрдХрдВрдкреНрд░реЗрд╕ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ `<рдирд╛рдо>.app` рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛, рдПрдХ рдЬрд╝рд┐рдк рдЖрд░реНрдХрд╛рдЗрд╡ рдЬреЛ рд╢реЗрд╖ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдореЗрдд рдХрд░рддрд╛ рд╣реИред

* `Info.plist`: рдПрдХ рдлрд╝рд╛рдЗрд▓ рдЬреЛ рдХреБрдЫ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреА рд╣реИред
* `_CodeSignature/` рдПрдХ рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдмрдВрдбрд▓ рдореЗрдВ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдкрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рд╣реЛрддреЗ рд╣реИрдВред
* `Assets.car`: рдПрдХ рдФрд░ рдЬрд╝рд┐рдк рдЖрд░реНрдХрд╛рдЗрд╡ рдЬреЛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ (рдЖрдЗрдХрди) рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред
* `Frameworks/` рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрдерд╛рдиреАрдп рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ .dylib рдпрд╛ .framework рдлрд╝рд╛рдЗрд▓реЗрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред
* `PlugIns/` .appex рдлрд╝рд╛рдЗрд▓реЗрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдРрдк рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ)ред
* [`Core Data`](https://developer.apple.com/documentation/coredata): рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рдХреЛ рдСрдлрд╝рд▓рд╛рдЗрди рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рд╕рд╣реЗрдЬрдиреЗ, рдЕрд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╢ рдХрд░рдиреЗ рдФрд░ рдПрдХрд▓ рдЙрдкрдХрд░рдг рдкрд░ рдЕрдкрдиреЗ рдРрдк рдореЗрдВ рдЕрдирдбреВ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдХ рдЖрдЗрдХреНрд▓рд╛рдЙрдб рдЦрд╛рддреЗ рдореЗрдВ рдХрдИ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рд╕рд┐рдВрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХреЛрд░ рдбреЗрдЯрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдкрдХреА рд╕реНрдХреАрдорд╛ рдХреЛ рдПрдХ рдХреНрд▓рд╛рдЙрдбрдХрд┐рдЯ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдорд┐рд░рд░ рдХрд░рддрд╛ рд╣реИред
* [`PkgInfo`](https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPRuntimeConfig/Articles/ConfigApplications.html): `PkgInfo` рдлрд╝рд╛рдЗрд▓ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рдмрдВрдбрд▓ рдХреЗ рдкреНрд░рдХрд╛рд░ рдФрд░ рдирд┐рд░реНрдорд╛рддрд╛ рдХреЛрдб рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рддрд░реАрдХрд╛ рд╣реИред
* **en.lproj, fr.proj, Base.lproj**: рдпреЗ рднрд╛рд╖рд╛ рдкреИрдХ рд╣реИрдВ рдЬреЛ рдЙрди рд╡рд┐рд╢реЗрд╖ рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрд╕рд╛рдзрди рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдВрд╕рд╛рдзрди рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рд╕реА рднрд╛рд╖рд╛ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдЖрдИрдУрдПрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдпреВрдЖрдИ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ: _рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб_, _рдирд┐рдм_ рдпрд╛ _рдПрдХреНрд╕рдЖрдИрдм_ рдлрд╝рд╛рдЗрд▓реЗрдВред

**Info.plist**

рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдкрддреНрддрд┐ рд╕реВрдЪреА рдпрд╛ `Info.plist` рдПрдХ рдЖрдИрдУрдПрд╕ рдРрдк рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореБрдЦреНрдп рд╕реНрд░реЛрдд рд╣реИред рдЗрд╕рдореЗрдВ рдПрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╡рд░реНрдгрдирд╛рддреНрдордХ рд░реВрдк рдореЗрдВ рд╕рдВрд░рдЪрд┐рдд рдлрд╝рд╛рдЗрд▓ рд╣реЛрддреА рд╣реИред рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕рднреА рдмрдВрдбрд▓ рдПрдХреНрдЬреАрдХреНрдпреВрдЯреЗрдмрд▓ (рдРрдк рдПрдХреНрд╕рдЯреЗрдВрд╢рди, рдлрд╝реНрд░реЗрдорд╡рд░реНрдХ рдФрд░ рдРрдк) рдХреА **рдЙрдореНрдореАрдж рдХреА рдЬрд╛рддреА рд╣реИ** рдХрд┐ рдПрдХ `Info.plist` рдлрд╝рд╛рдЗрд▓ рд╣реЛрдЧреАред рдЖрдк [**Apple Developer Documentation**](https://developer.apple.com/documentation/bundleresources/information\_property\_list?language=objc) рдореЗрдВ рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рдХреБрдВрдЬреА рдвреВрдВрдв рд╕рдХрддреЗ рд╣реИрдВред

рдлрд╝рд╛рдЗрд▓ XML рдпрд╛ рдмрд╛рдЗрдирд░реА (bplist) рд░реВрдк рдореЗрдВ рд╕реНрд╡рд░реВрдкрд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИред рдЖрдк рдЗрд╕реЗ рдПрдХ рд╕рд░рд▓ рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде **XML рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд░реВрдкрд╛рдВрддрд░рд┐рдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

*   macOS рдкрд░ `plutil` рдХреЗ рд╕рд╛рде, рдЬреЛ macOS 10.2 рдФрд░ рдЙрдЪреНрдЪрддрд░ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрд╡рддрдГ рдЖрддрд╛ рд╣реИ (рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХреЛрдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдСрдирд▓рд╛рдЗрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ):

```bash
$ plutil -convert xml1 Info.plist
```
*   рд▓рд┐рдирдХреНрд╕ рдкрд░:

```bash
$ apt install libplist-utils
$ plistutil -i Info.plist -o Info_xml.plist
```

рдпрд╣рд╛рдВ рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА рдФрд░ рдЙрд╕рдХреЗ рд╕рдВрдмрдВрдзрд┐рдд рдХреАрд╡рд░реНрдбреЛрдВ рдХреА рдПрдХ рдЕрдкреВрд░реНрдг рд╕реВрдЪреА рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ `Info.plist` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ, рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рдпрд╛ `grep -i <keyword> Info.plist` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:

* рдРрдк рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд╕реНрдЯреНрд░рд┐рдВрдЧ: `UsageDescription`
* рдХрд╕реНрдЯрдо URL рд╕реНрдХреАрдо: `CFBundleURLTypes`
* рдирд┐рд░реНрдпрд╛рдд/рдЖрдпрд╛рдд рдХрд┐рдП рдЧрдП _рдХрд╕реНрдЯрдо рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкреНрд░рдХрд╛рд░_: `UTExportedTypeDeclarations` / `UTImportedTypeDeclarations`
* рдРрдк рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рд╕реБрд░рдХреНрд╖рд╛ (ATS) рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди: `NSAppTransportSecurity`

рдХреГрдкрдпрд╛ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рдЕрдзреНрдпрд╛рдпреЛрдВ рдХрд╛ рд╕рдВрджрд░реНрдн рджреЗрдХрд░ рдЗрди рд╕рднреА рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдЯреЗрд╕реНрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдиреЗрдВред

**рдбреЗрдЯрд╛ рдкрде**

рдЖрдИрдУрдПрд╕ рдкрд░, **рд╕рд┐рд╕реНрдЯрдо рдРрдкреНрд▓рд┐рдХреЗрд╢рди `/Applications`** рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдмрдХрд┐ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рд╕реНрдерд╛рдкрд┐рдд** рдРрдкреНрд╕ **`/private/var/containers/`** рдХреЗ рддрд╣рдд рдЙрдкрд▓рдмреНрдз рд╣реЛрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд╣реА рдлрд╝реЛрд▓реНрдбрд░ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдПрдХ рдЖрд╕рд╛рди рдХрд╛рд░реНрдп рдирд╣реАрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ **рдкреНрд░рддреНрдпреЗрдХ рдРрдк рдХреЛ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ 128-рдмрд┐рдЯ UUID** (рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдп
```bash
OWASP.iGoat-Swift on (iPhone: 11.1.2) [usb] # env

Name               Path
-----------------  -------------------------------------------------------------------------------------------
BundlePath         /var/containers/Bundle/Application/3ADAF47D-A734-49FA-B274-FBCA66589E67/iGoat-Swift.app
CachesDirectory    /var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693/Library/Caches
DocumentDirectory  /var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693/Documents
LibraryDirectory   /var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693/Library
```
рдЖрдк рдпрд╣рд╛рдВ **`/private/var/containers`** рдореЗрдВ рдРрдк рдХрд╛ рдирд╛рдо рднреА рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
find /private/var/containers -name "Progname*"
```
рдпрд╛ **`ps`** рдФрд░ **`lsof`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:
```bash
ps -ef | grep -i <app-name>
lsof -p <pid> | grep -i "/containers" | head -n 1
```
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдРрдкреНрд╕ рдХреЗ рджреЛ рдореБрдЦреНрдп рд╕реНрдерд╛рди рд╣реЛрддреЗ рд╣реИрдВ:

* **рдмрдВрдбрд▓ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛** (`/var/containers/Bundle/Application/3ADAF47D-A734-49FA-B274-FBCA66589E67/`).
* **рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛** (`/var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693/`).

рдЗрди рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП рдХреНрдпреЛрдВрдХрд┐ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реБрд░рдХреНрд╖рд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЗ рджреМрд░рд╛рди (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣реАрдд рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддреЗ рд╕рдордп) рдЗрд╕рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИред

**рдмрдВрдбрд▓ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛:**

* **AppName.app**
* рдпрд╣ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдВрдбрд▓ рд╣реИ рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рд╕реЗ рджреЗрдЦрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛, рд╕реНрдерд┐рд░ рд╕рд╛рдордЧреНрд░реА рдФрд░ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╕рдВрдХрд▓рд┐рдд рдмрд╛рдЗрдирд░реА рд╣реЛрддрд╛ рд╣реИред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрддреЗ** рд╣реИрдВред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА **рдмреИрдХрдЕрдк рдирд╣реАрдВ рд╣реЛрддреА** рд╣реИред
* рдЗрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдХреА рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЛрдб рд╕рд╛рдЗрдиреЗрдЪрд░ рдХреА **рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

**рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛:**

* **Documents/**
* рдЗрд╕рдореЗрдВ рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИред рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдВрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕ рдбреЗрдЯрд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдкреНрд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИред
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ рдФрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ**ред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА **рдмреИрдХрдЕрдк рд╣реЛрддреА рд╣реИ**ред
* рдРрдкреНрд▓рд┐рдХреЗрд╢рди `NSURLIsExcludedFromBackupKey` рдХреЛ рд╕реЗрдЯ рдХрд░рдХреЗ рдкрдереЛрдВ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред
* **Library/**
* рдЗрд╕рдореЗрдВ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реЛрдиреЗ рд╡рд╛рд▓реА** рд╕рднреА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реЛрддреА рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ **рдХреИрд╢**, **рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдБ**, **рдХреБрдХреАрдЬрд╝**, рдФрд░ рдкреНрд░реЙрдкрд░реНрдЯреА рд╕реВрдЪреА (рдкреНрд▓рд┐рд╕реНрдЯ) рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВред
* iOS рдРрдкреНрд╕ рдЖрдорддреМрд░ рдкрд░ `Application Support` рдФрд░ `Caches` рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдкрдиреЗ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреЛ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред
* **Library/Caches/**
* рдЗрд╕рдореЗрдВ **рдЕрд░реНрдз-рд╕реНрдерд╛рдпреА рдХреИрд╢ рдлрд╝рд╛рдЗрд▓реЗрдВ** рд╣реЛрддреА рд╣реИрдВред
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддреА рд╣реИ рдФрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрддреЗ** рд╣реИрдВред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА **рдмреИрдХрдЕрдк рдирд╣реАрдВ рд╣реЛрддреА** рд╣реИред
* рдЬрдм рдРрдк рдирд╣реАрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реНрдерд╛рди рдХрдо рд╣реЛ рд░рд╣рд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИред
* **Library/Application Support/**
* рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ **рд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓реЗрдВ** рд╣реЛрддреА рд╣реИрдВред
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ **рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддреА** рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА **рдмреИрдХрдЕрдк рд╣реЛрддреА рд╣реИ**ред
* рдРрдкреНрд▓рд┐рдХреЗрд╢рди `NSURLIsExcludedFromBackupKey` рдХреЛ рд╕реЗрдЯ рдХрд░рдХреЗ рдкрдереЛрдВ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред
* **Library/Preferences/**
* рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рднреА **рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдмрдиреЗ рд░рд╣рдиреЗ рд╡рд╛рд▓реА** рдЧреБрдгреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* рдЬрд╛рдирдХрд╛рд░реА, рдПрдХ рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рдЕрдиреЗрдХреНрд░рд┐рдкреНрдЯреЗрдб рд░реВрдк рдореЗрдВ, рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИ рдЬрд┐рд╕рдХрд╛ рдирд╛рдо \[BUNDLE\_ID].plist рд╣реЛрддрд╛ рд╣реИред
* `NSUserDefaults` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд┐рдП рдЧрдП рд╕рднреА рдХреБрдВрдЬреА/рдорд╛рди рдЬреЛрдбрд╝реЗ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред
* **tmp/**
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдРрд╕реА **рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓реЗрдВ** рд▓рд┐рдЦреЗрдВ рдЬреЛ рдРрдк рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреЗ рдмреАрдЪ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдмрдиреА рд░рд╣рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред
* рдЕрд╕реНрдерд╛рдпреА рдХреИрд╢ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реЛрддреА рд╣реИрдВред
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ **рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддреА** рд╣реИред
* рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА рдмреИрдХрдЕрдк рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред
* рдЬрдм рдРрдк рдирд╣реАрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реНрдерд╛рди рдХрдо рд╣реЛ рд░рд╣рд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЪрд▓рд┐рдП iGoat-Swift рдХреА рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдВрдбрд▓ (.app) рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдмрдВрдбрд▓ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ (`/var/containers/Bundle/Application/3ADAF47D-A734-49FA-B274-FBCA66589E67/iGoat-Swift.app`) рдХреЗ рдЕрдВрджрд░ рд╕реЗ рдФрд░ рдЕрдзрд┐рдХ рдирдЬрджреАрдХ рд╕реЗ рджреЗрдЦреЗрдВ:
```bash
OWASP.iGoat-Swift on (iPhone: 11.1.2) [usb] # ls
NSFileType      Perms  NSFileProtection    ...  Name
------------  -------  ------------------  ...  --------------------------------------
Regular           420  None                ...  rutger.html
Regular           420  None                ...  mansi.html
Regular           420  None                ...  splash.html
Regular           420  None                ...  about.html

Regular           420  None                ...  LICENSE.txt
Regular           420  None                ...  Sentinel.txt
Regular           420  None                ...  README.txt
```
### рдмрд╛рдЗрдирд░реА рд░рд┐рд╡рд░реНрд╕рд┐рдВрдЧ

`<application-name>.app` рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ рдЖрдкрдХреЛ `<application-name>` рдирд╛рдордХ рдПрдХ рдмрд╛рдЗрдирд░реА рдлрд╝рд╛рдЗрд▓ рдорд┐рд▓реЗрдЧреАред рдпрд╣ рдлрд╝рд╛рдЗрд▓ рд╣реА **рдПрдХреНрдЬрд╝реАрдХреНрдпреВрдЯ** рдХреА рдЬрд╛рдПрдЧреАред рдЖрдк рдЙрдкрдХрд░рдг **`otool`** рдХреЗ рд╕рд╛рде рдмрд╛рдЗрдирд░реА рдХреА рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
otool -Vh DVIA-v2 #Check some compilation attributes
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC_64    ARM64        ALL  0x00     EXECUTE    65       7112   NOUNDEFS DYLDLINK TWOLEVEL WEAK_DEFINES BINDS_TO_WEAK PIE

otool -L DVIA-v2 #Get third party libraries
DVIA-v2:
/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 400.9.1)
/usr/lib/libsqlite3.dylib (compatibility version 9.0.0, current version 274.6.0)
/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.11)
@rpath/Bolts.framework/Bolts (compatibility version 1.0.0, current version 1.0.0)
[...]
```
**рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдРрдк рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╣реИ**

рдпрд╣ рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдЖрдЙрдЯрдкреБрдЯ рд╣реИ:
```bash
otool -l <app-binary> | grep -A 4 LC_ENCRYPTION_INFO
```
**рдмрд╛рдЗрдирд░реА рдХреЛ рдбрд┐рд╕рдЕрд╕реЗрдВрдмрд▓ рдХрд░рдирд╛**

рдЯреЗрдХреНрд╕реНрдЯ рд╕реЗрдХреНрд╢рди рдХреЛ рдбрд┐рд╕рдЕрд╕реЗрдВрдмрд▓ рдХрд░реЗрдВ:
```bash
otool -tV DVIA-v2
DVIA-v2:
(__TEXT,__text) section
+[DDLog initialize]:
0000000100004ab8    sub    sp, sp, #0x60
0000000100004abc    stp    x29, x30, [sp, #0x50]   ; Latency: 6
0000000100004ac0    add    x29, sp, #0x50
0000000100004ac4    sub    x8, x29, #0x10
0000000100004ac8    mov    x9, #0x0
0000000100004acc    adrp    x10, 1098 ; 0x10044e000
0000000100004ad0    add    x10, x10, #0x268
```
рдЙрджрд╛рд╣рд░рдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ **Objective-C рд╕реЗрдЧрдореЗрдВрдЯ** рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
otool -oV DVIA-v2
DVIA-v2:
Contents of (__DATA,__objc_classlist) section
00000001003dd5b8 0x1004423d0 _OBJC_CLASS_$_DDLog
isa        0x1004423a8 _OBJC_METACLASS_$_DDLog
superclass 0x0 _OBJC_CLASS_$_NSObject
cache      0x0 __objc_empty_cache
vtable     0x0
data       0x1003de748
flags          0x80
instanceStart  8
```
рдПрдХ рдФрд░ рд╕рдВрдХреНрд╖реЗрдкрд┐рдд Objective-C рдХреЛрдб рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк [**class-dump**](http://stevenygard.com/projects/class-dump/) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
class-dump some-app
//
//     Generated by class-dump 3.5 (64 bit).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.
//

#pragma mark Named Structures

struct CGPoint {
double _field1;
double _field2;
};

struct CGRect {
struct CGPoint _field1;
struct CGSize _field2;
};

struct CGSize {
double _field1;
double _field2;
};
```
рдлрд┐рд░ рднреА, рдмрд╛рдЗрдирд░реА рдХреЛ рдбрд┐рд╕рдЕрд╕реЗрдВрдмрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреЗ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ: [**Hopper**](https://www.hopperapp.com/download.html?) рдФрд░ [**IDA**](https://www.hex-rays.com/products/ida/support/download\_freeware/).

<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрд╕рд╛рдиреА рд╕реЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдмрдирд╛ рд╕рдХреЗрдВ рдФрд░ рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рдмрд╕реЗ рдЙрдиреНрдирдд рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рдХрд╛рд░реНрдпрд╡рд╛рд╣реА рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░реЗрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рдг

рдпрджрд┐ рдЖрдк рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ iOS рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреИрд╕реЗ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЗрд╕ рдкреЗрдЬ рдХреЛ рдкрдврд╝реЗрдВ:

{% content-ref url="ios-basics.md" %}
[ios-basics.md](ios-basics.md)
{% endcontent-ref %}

{% hint style="warning" %}
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрдЧрд╣реЛрдВ рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХреА рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж**, **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕рднреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рдЬрд╛рдВрдЪ рдХреЗ рдмрд╛рдж** рдФрд░ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ **рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рд▓реЙрдЧрдЖрдЙрдЯ рдХрд░рдХреЗ рдПрдХ рдЕрд▓рдЧ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдореЗрдВ рд▓реЙрдЧрдЗрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рднреА**ред\
рд▓рдХреНрд╖реНрдп рд╣реИ рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди (рдкрд╛рд╕рд╡рд░реНрдб, рдЯреЛрдХрди) рдХреА **рд╕рдВрд░рдХреНрд╖рд┐рдд рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА**, рд╡рд░реНрддрдорд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рд▓реЙрдЧрдЗрди рдХрд┐рдП рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдЦреЛрдЬ рдХреА рдЬрд╛рдПред
{% endhint %}

### рдкреНрд▓рд┐рд╕реНрдЯ

**рдкреНрд▓рд┐рд╕реНрдЯ** рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕рдВрд░рдЪрд┐рдд XML рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реЛрддреА рд╣реИрдВ рдЬреЛ **рдХреБрдВрдЬреА-рдорд╛рди-рдЬреЛрдбрд╝** рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддреА рд╣реИрдВред рдпрд╣ рд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХрднреА-рдХрднреА рдЖрдкрдХреЛ рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓ рд╕рдХрддреА рд╣реИ**ред рдпрджрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдФрд░ рдЗрд╕реЗ рдЕрдзрд┐рдХ рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдирдИ рдбреЗрдЯрд╛ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред

рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХрд╛ **NSUserDefaults** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИ **`Library/Preferences/<appBundleID>.plist`** рдореЗрдВ

[`NSUserDefaults`](https://developer.apple.com/documentation/foundation/nsuserdefaults) рдХрдХреНрд╖рд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдорд╛рддреНрдордХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рд┐рд╕реНрдЯрдо рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЕрдкрдиреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдУрдВ** рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред `NSUserDefaults` рджреНрд╡рд╛рд░рд╛ рд╕рд╣реЗрдЬреЗ рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдВрдбрд▓ рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдХрдХреНрд╖рд╛ рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рдкреНрд▓рд┐рд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдЫреЛрдЯреА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред

рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реАрдзреЗ рдПрдХреНрд╕реЗрд╕ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ **рдмреИрдХрдЕрдк** рдХрд░рдХреЗ рдЗрд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЖрдк objection рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **`NSUserDefaults`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд╣реЗрдЬреА рдЧрдИ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ **рдбрдВрдк** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдкреНрд▓рд┐рд╕реНрдЯ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк `/private/var/mobile/Containers/Data/Application/{APPID}` рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
find ./ -name "*.plist"
```
рдлрд╝рд╛рдЗрд▓ XML рдпрд╛ рдмрд╛рдЗрдирд░реА (bplist) рдлрд╝реЙрд░реНрдореЗрдЯ рдореЗрдВ рд╣реЛ рд╕рдХрддреА рд╣реИред рдЖрдк рдЗрд╕реЗ рдПрдХ рд╕рд░рд▓ рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде XML рдлрд╝реЙрд░реНрдореЗрдЯ рдореЗрдВ рдХрдирд╡рд░реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

*   macOS рдкрд░ `plutil` рдХреЗ рд╕рд╛рде, рдЬреЛ macOS 10.2 рдФрд░ рдЙрд╕рд╕реЗ рдКрдкрд░ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдиреЗрдЯрд┐рд╡ рд░реВрдк рд╕реЗ рдЖрддрд╛ рд╣реИ (рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХреЛрдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдСрдирд▓рд╛рдЗрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ):

```bash
$ plutil -convert xml1 Info.plist
```
*   рд▓рд┐рдирдХреНрд╕ рдкрд░:

```bash
$ apt install libplist-utils
$ plistutil -i Info.plist -o Info_xml.plist
```
*   objection рдХреЗ рд╕рддреНрд░ рдкрд░:

```bash
ios plist cat /private/var/mobile/Containers/Data/Application/AF1F534B-1B8F-0825-ACB21-C0301AB7E56D/Library/Preferences/com.some.package.app.plist
```

### рдХреЛрд░ рдбреЗрдЯрд╛

[`рдХреЛрд░ рдбреЗрдЯрд╛`](https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CoreData/nsfetchedresultscontroller.html#//apple\_ref/doc/uid/TP40001075-CH8-SW1) рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдореЙрдбрд▓ рд▓реЗрдпрд░ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝реНрд░реЗрдорд╡рд░реНрдХ рд╣реИред [рдХреЛрд░ рдбреЗрдЯрд╛ SQLite рдХреЛ рдЕрдкрдиреЗ рд╕реНрдерд╛рдпреА рд╕рдВрдЧреНрд░рд╣ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИ](https://cocoacasts.com/what-is-the-difference-between-core-data-and-sqlite/), рд▓реЗрдХрд┐рди рдлрд╝реНрд░реЗрдорд╡рд░реНрдХ рдЦреБрдж рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдирд╣реАрдВ рд╣реИред\
рдХреЛрд░рдбреЗрдЯрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЕрдкрдирд╛ рдбреЗрдЯрд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, CoreData рдореЗрдВ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдкрд░рдд рдЬреЛрдбрд╝реА рдЬрд╛ рд╕рдХрддреА рд╣реИред рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП [GitHub Repo](https://github.com/project-imas/encrypted-core-data) рджреЗрдЦреЗрдВред

рдЖрдк рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА SQLite рдХреЛрд░ рдбреЗрдЯрд╛ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдкрде `/private/var/mobile/Containers/Data/Application/{APPID}/Library/Application Support` рдореЗрдВ рдвреВрдВрдв рд╕рдХрддреЗ рд╣реИрдВ

**рдпрджрд┐ рдЖрдк SQLite рдЦреЛрд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдиреЗ рдПрдХ рдЧрд▓рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЦреЛрдЬ рд▓реА рд╣реИред**

{% code title="iGoat рд╕реЗ рдХреЛрдб" %}
```objectivec
-(void)storeDetails {
AppDelegate * appDelegate = (AppDelegate *)(UIApplication.sharedApplication.delegate);

NSManagedObjectContext *context =[appDelegate managedObjectContext];

User *user = [self fetchUser];
if (user) {
return;
}
user = [NSEntityDescription insertNewObjectForEntityForName:@"User"
inManagedObjectContext:context];
user.email = CoreDataEmail;
user.password = CoreDataPassword;
NSError *error;
if (![context save:&error]) {
NSLog(@"Error in saving data: %@", [error localizedDescription]);

}else{
NSLog(@"data stored in core data");
}
}
```
{% endcode %}

### YapDatabase

[YapDatabase](https://github.com/yapstudios/YapDatabase) рдПрдХ SQLite рдХреЗ рдКрдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдХреА/рдореВрд▓реНрдп рд╕рдВрдЧреНрд░рд╣ рд╣реИред\
Yap рдбреЗрдЯрд╛рдмреЗрд╕ SQLite рдбреЗрдЯрд╛рдмреЗрд╕ рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдкрд┐рдЫрд▓реЗ рдЦрдВрдб рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдЖрджреЗрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВред

### рдЕрдиреНрдп SQLite рдбреЗрдЯрд╛рдмреЗрд╕

рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдЕрдкрдирд╛ рдЦреБрдж рдХрд╛ SQLite рдбреЗрдЯрд╛рдмреЗрд╕ рдмрдирд╛рдирд╛ рд╕рд╛рдорд╛рдиреНрдп рд╣реИред рд╡реЗ рдЙрдирдореЗрдВ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓** **рдбреЗрдЯрд╛** рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдЕрд╡рд┐рд▓рдВрдмрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рд▓рд┐рдП, рд╣рдореЗрд╢рд╛ рд░реБрдЪрд┐рдХрд░ рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╣рд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рдПред рдЗрд╕рд▓рд┐рдП рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЬрд╛рдПрдВ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ (`/private/var/mobile/Containers/Data/Application/{APPID}`)
```bash
find ./ -name "*.sqlite" -or -name "*.db"
```
### Firebase Real-Time Databases

рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡реЗ рдПрдХ NoSQL рдХреНрд▓рд╛рдЙрдб-рд╣реЛрд╕реНрдЯреЗрдб рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдФрд░ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░ рд╕рдХреЗрдВред рдбреЗрдЯрд╛ рдХреЛ JSON рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдпрд╣ рд░реАрдпрд▓-рдЯрд╛рдЗрдо рдореЗрдВ рд╣рд░ рдХрдиреЗрдХреНрдЯреЗрдб рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд╕рд╛рде рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдЙрдкрд▓рдмреНрдз рд░рд╣рддрд╛ рд╣реИ рдЬрдм рднреА рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдСрдлрд╝рд▓рд╛рдЗрди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

рдЖрдк рдпрд╣рд╛рдВ рдорд┐рд╕рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реНрдб рдлрд╝рд╛рдпрд░рдмреЗрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреИрд╕реЗ рдкрддрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="../../network-services-pentesting/pentesting-web/buckets/firebase-database.md" %}
[firebase-database.md](../../network-services-pentesting/pentesting-web/buckets/firebase-database.md)
{% endcontent-ref %}

### Realm databases

[Realm Objective-C](https://realm.io/docs/objc/latest/) рдФрд░ [Realm Swift](https://realm.io/docs/swift/latest/) Apple рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрдиреНрд╣реЗрдВ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ рдлрд┐рд░ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рдпреЗ рд╕рдм рдХреБрдЫ рдЕрдирдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВ, рдЬрдм рддрдХ рдХрд┐ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рд╕рдХреНрд╖рдо рди рд╣реЛред

рдЖрдк рдЗрди рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ `/private/var/mobile/Containers/Data/Application/{APPID}` рдореЗрдВ рдкрд╛рдПрдВрдЧреЗред
```bash
iPhone:/private/var/mobile/Containers/Data/Application/A079DF84-726C-4AEA-A194-805B97B3684A/Documents root# ls
default.realm  default.realm.lock  default.realm.management/  default.realm.note|

$ find ./ -name "*.realm*"
```
рдЖрдк рдЗрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреВрд▓ [**Realm Studio**](https://github.com/realm/realm-studio) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдЖрдк рдХреИрд╕реЗ рдПрдХ Realm рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```swift
// Open the encrypted Realm file where getKey() is a method to obtain a key from the Keychain or a server
let config = Realm.Configuration(encryptionKey: getKey())
do {
let realm = try Realm(configuration: config)
// Use the Realm as normal
} catch let error as NSError {
// If the encryption key is wrong, `error` will say that it's an invalid database
fatalError("Error opening realm: \(error)")
}
```
### рдХрд╛рдЙрдЪрдмреЗрд╕ рд▓рд╛рдЗрдЯ рдбреЗрдЯрд╛рдмреЗрд╕

[Couchbase Lite](https://github.com/couchbase/couchbase-lite-ios) рдПрдХ рд╣рд▓реНрдХрд╛, рд╕рдВрд▓рдЧреНрди, рджрд╕реНрддрд╛рд╡реЗрдЬрд╝-рдЕрднрд┐рдиреНрдпрд╛рд╕ (NoSQL) рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЬрди рд╣реИ рдЬрд┐рд╕реЗ рд╕рд┐рдВрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ iOS рдФрд░ macOS рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдХрдВрдкрд╛рдЗрд▓ рд╣реЛрддрд╛ рд╣реИред

`/private/var/mobile/Containers/Data/Application/{APPID}/Library/Application Support/` рдореЗрдВ рдХрд╛рдЙрдЪрдмреЗрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рд╕рдВрднрд╛рд╡рд┐рддрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред

### рдХреБрдХреАрдЬрд╝

iOS рдРрдкреНрд╕ рдХреА рдХреБрдХреАрдЬрд╝ рдХреЛ **`Library/Cookies/cookies.binarycookies`** рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рд╣рд░ рдРрдкреНрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдбреЗрд╡рд▓рдкрд░ рдХрднреА-рдХрднреА рдЙрдиреНрд╣реЗрдВ **рдХреАрдЪреЗрди рдореЗрдВ рд╕рд╣реЗрдЬрдиреЗ** рдХрд╛ рдлрд╝реИрд╕рд▓рд╛ рдХрд░рддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд **рдХреБрдХреАрдЬрд╝ рдлрд╝рд╛рдЗрд▓ рдмреИрдХрдЕрдк рдореЗрдВ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред

рдХреБрдХреАрдЬрд╝ рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдЖрдк [**рдЗрд╕ рдкрд╛рдпрдерди рд╕реНрдХреНрд░рд┐рдкреНрдЯ**](https://github.com/mdegrazia/Safari-Binary-Cookie-Parser) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ objection рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ **`ios cookies get`**ред\
**рдЖрдк objection рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ** рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ JSON рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдХреЗ рдФрд░ рдбреЗрдЯрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```bash
...itudehacks.DVIAswiftv2.develop on (iPhone: 13.2.3) [usb] # ios cookies get --json
[
{
"domain": "highaltitudehacks.com",
"expiresDate": "2051-09-15 07:46:43 +0000",
"isHTTPOnly": "false",
"isSecure": "false",
"name": "username",
"path": "/",
"value": "admin123",
"version": "0"
}
]
```
### рдХреИрд╢

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, NSURLSession рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╢.db рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ **HTTP рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдБ**. рдпрджрд┐ рдЯреЛрдХрди, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдпрд╛ рдХреЛрдИ рдЕрдиреНрдп рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреИрд╢ рдХреА рдЧрдИ рд╣реИ, рддреЛ рдпрд╣ рдбреЗрдЯрд╛рдмреЗрд╕ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛** рднреА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ. рдХреИрд╢ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдвреВрдВрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдРрдк рдХреЗ рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ (`/var/mobile/Containers/Data/Application/<UUID>`) рдХреЛ рдЦреЛрд▓реЗрдВ рдФрд░ `/Library/Caches/<Bundle Identifier>` рдкрд░ рдЬрд╛рдПрдВ. **WebKit рдХреИрд╢ рднреА рдХреИрд╢.db рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛ рд░рд╣рд╛ рд╣реИ**. **Objection** рдХрдорд╛рдВрдб `sqlite connect Cache.db` рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдЦреЛрд▓рдХрд░ рдФрд░ рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдПрдХ **рд╕рд╛рдзрд╛рд░рдг SQLite рдбреЗрдЯрд╛рдмреЗрд╕** рд╣реИред

рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╢ рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдЕрдиреБрд░реЛрдз рдпрд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИред рдиреАрдЪреЗ рджреА рдЧрдИ рд╕реВрдЪреА рдореЗрдВ рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рджрд┐рдЦрд╛рдП рдЧрдП рд╣реИрдВ:

1. рд▓реЙрдЧрдЖрдЙрдЯ рдХреЗ рдмрд╛рдж рдХреИрд╢реНрдб рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╣рдЯрд╛рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕реЗ Apple рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ рд╡рд┐рдзрд┐ [`removeAllCachedResponses`](https://developer.apple.com/documentation/foundation/urlcache/1417802-removeallcachedresponses) рдХреЗ рд╕рд╛рде рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЖрдк рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд░реВрдк рдореЗрдВ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

`URLCache.shared.removeAllCachedResponses()`

рдпрд╣ рд╡рд┐рдзрд┐ рдХреИрд╢.db рдлрд╝рд╛рдЗрд▓ рд╕реЗ рд╕рднреА рдХреИрд╢ рдХрд┐рдП рдЧрдП рдЕрдиреБрд░реЛрдзреЛрдВ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╣рдЯрд╛ рджреЗрдЧреАред
2. рдпрджрд┐ рдЖрдкрдХреЛ рдХреБрдХреАрдЬрд╝ рдХрд╛ рд▓рд╛рдн рдЙрдард╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ URLSession рдХреА [.ephemeral](https://developer.apple.com/documentation/foundation/urlsessionconfiguration/1410529-ephemeral) рд╡рд┐рдиреНрдпрд╛рд╕ рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рд╕реЗ рдХреБрдХреАрдЬрд╝ рдФрд░ рдХреИрд╢ рдХреЛ рд╕рд╣реЗрдЬрдирд╛ рдЕрдХреНрд╖рдо рд╣реЛ рдЬрд╛рдПрдЧрд╛ред

[Apple рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг](https://developer.apple.com/documentation/foundation/urlsessionconfiguration/1410529-ephemeral):

`рдПрдХ ephemeral рд╕рддреНрд░ рд╡рд┐рдиреНрдпрд╛рд╕ рд╡рд╕реНрддреБ рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рддреНрд░ рд╡рд┐рдиреНрдпрд╛рд╕ (default рджреЗрдЦреЗрдВ) рдХреЗ рд╕рдорд╛рди рд╣реЛрддрд╛ рд╣реИ, рдХреЗрд╡рд▓ рдЗрд╕рдХреЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рддреНрд░ рд╡рд╕реНрддреБ рдбрд┐рд╕реНрдХ рдореЗрдВ рдХреИрд╢, рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдВрдЧреНрд░рд╣ рдпрд╛ рдХреЛрдИ рднреА рд╕рддреНрд░ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдмрдЬрд╛рдп рдЗрд╕рдХреЗ, рд╕рддреНрд░ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛ RAM рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИред ephemeral рд╕рддреНрд░ рдХреЗрд╡рд▓ рддрдм рдбреЗрдЯрд╛ рдбрд┐рд╕реНрдХ рдкрд░ рд▓рд┐рдЦрддрд╛ рд╣реИ рдЬрдм рдЖрдк рдЗрд╕реЗ рдПрдХ URL рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддреЗ рд╣реИрдВред`
3. рдХреИрд╢ рдХреЛ [.notAllowed](https://developer.apple.com/documentation/foundation/urlcache/storagepolicy/notallowed) рдкреЙрд▓рд┐рд╕реА рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ рдХреИрд╢ рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдХрд┐рд╕реА рднреА рддрд░реАрдХреЗ рд╕реЗ рдХреИрд╢ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдирд╛ рдЕрдХреНрд╖рдо рдХрд░ рджреЗрдЧрд╛, рдЪрд╛рд╣реЗ рд╡рд╣ рдореЗрдореЛрд░реА рдореЗрдВ рд╣реЛ рдпрд╛ рдбрд┐рд╕реНрдХ рдкрд░ред

### рд╕реНрдиреИрдкрд╢реЙрдЯреНрд╕

рдЬрдм рдЖрдк рд╣реЛрдо рдмрдЯрди рджрдмрд╛рддреЗ рд╣реИрдВ, iOS **рд╡рд░реНрддрдорд╛рди рд╕реНрдХреНрд░реАрди рдХрд╛ рдПрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ** рд▓реЗрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдХреЛ рдмрд╣реБрдд рд╣реА рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рддрд░реАрдХреЗ рд╕реЗ рдХрд░ рд╕рдХреЗред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рд╡рд░реНрддрдорд╛рди рд╕реНрдХреНрд░реАрди рдореЗрдВ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛** рдореМрдЬреВрдж рд╣реИ, рддреЛ рдпрд╣ **рдЫрд╡рд┐ рдореЗрдВ рд╕рд╣реЗрдЬрд╛** рдЬрд╛рдПрдЧрд╛ (рдЬреЛ **рд░рд┐рдмреВрдЯ рдХреЗ рдмрд╛рдж рднреА рдмрдиреА рд░рд╣рддреА рд╣реИ**). рдпреЗ рд╕реНрдиреИрдкрд╢реЙрдЯреНрд╕ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рдЖрдк рд╣реЛрдо рд╕реНрдХреНрд░реАрди рдкрд░ рджреЛрд╣рд░реА рдЯреИрдк рдХрд░рдХреЗ рдРрдкреНрд╕ рдХреЗ рдмреАрдЪ рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╣реИрдВред

рдЬрдм рддрдХ iPhone рдЬреЗрд▓рдмреНрд░реЛрдХрди рдирд╣реАрдВ рд╣реИ, **рд╣рдорд▓рд╛рд╡рд░** рдХреЛ рдЗрди рд╕реНрдиреИрдкрд╢реЙрдЯреНрд╕ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг рдХреЛ рдЕрдирдмреНрд▓реЙрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдЕрдВрддрд┐рдо рд╕реНрдиреИрдкрд╢реЙрдЯ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдореЗрдВ `Library/Caches/Snapshots/` рдпрд╛ `Library/SplashBoard/Snapshots` рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИ (рднрд░реЛрд╕реЗ рдорд╛рдиреЗ рдЧрдП рдХрдВрдкреНрдпреВрдЯрд░ iOX 7.0 рд╕реЗ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ)ред

рдЗрд╕ рдЦрд░рд╛рдм рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд░реЛрдХрдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рдЦрд╛рд▓реА рд╕реНрдХреНрд░реАрди рдпрд╛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рд╣рдЯрд╛рдирд╛, `ApplicationDidEnterBackground()` рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рдирдореВрдирд╛ рдЙрдкрдЪрд╛рд░ рд╡рд┐рдзрд┐ рд╣реИ рдЬреЛ рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд╕реЗрдЯ рдХрд░реЗрдЧреАред

Swift:
```swift
private var backgroundImage: UIImageView?

func applicationDidEnterBackground(_ application: UIApplication) {
let myBanner = UIImageView(image: #imageLiteral(resourceName: "overlayImage"))
myBanner.frame = UIScreen.main.bounds
backgroundImage = myBanner
window?.addSubview(myBanner)
}

func applicationWillEnterForeground(_ application: UIApplication) {
backgroundImage?.removeFromSuperview()
}
```
рдЙрджреНрджреЗрд╢реНрдп-рд╕реА:
```
@property (UIImageView *)backgroundImage;

- (void)applicationDidEnterBackground:(UIApplication *)application {
UIImageView *myBanner = [[UIImageView alloc] initWithImage:@"overlayImage.png"];
self.backgroundImage = myBanner;
self.backgroundImage.bounds = UIScreen.mainScreen.bounds;
[self.window addSubview:myBanner];
}

- (void)applicationWillEnterForeground:(UIApplication *)application {
[self.backgroundImage removeFromSuperview];
}
```
рдпрд╣ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдореЗрдВ рд╣реЛрдиреЗ рдкрд░ `overlayImage.png` рдХреЛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдЗрдореЗрдЬ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ `overlayImage.png` рд╣рдореЗрд╢рд╛ рдореМрдЬреВрджрд╛ рд╡реНрдпреВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░ рджреЗрдЧрд╛, рдЬрд┐рд╕рд╕реЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд▓реАрдХ рдирд╣реАрдВ рд╣реЛрдЧреАред

### рдХреАрдЪреЗрди

[**Keychain-Dumper**](https://github.com/ptoomey3/Keychain-Dumper) рдЬреИрд╕реЗ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреАрдЪреЗрди рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЬреЗрд▓рдмреНрд░реЛрдХрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП)ред\
рдЖрдк [**Objection**](https://github.com/sensepost/objection) рд╕реЗ `ios keychain dump` рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

**NSURLCredential**

**NSURLCredential** рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рдХрдХреНрд╖рд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреАрдЪреЗрди рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред NSUserDefaults рдпрд╛ рдХрд┐рд╕реА рднреА рдХреАрдЪреЗрди рд░реИрдкрд░ рдХреЗ рд╕рд╛рде рдкрд░реЗрд╢рд╛рди рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред\
рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд▓реЙрдЧ рдЗрди рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЙрд╕рдХрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреАрдЪреЗрди рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```swift
NSURLCredential *credential;

credential = [NSURLCredential credentialWithUser:username password:password persistence:NSURLCredentialPersistencePermanent];
[[NSURLCredentialStorage sharedCredentialStorage] setCredential:credential forProtectionSpace:self.loginProtectionSpace];
```
рдЖрдк рдЗрди рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **Objection** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред `ios nsurlcredentialstorage dump`ред

## рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдб / рдХреАрдмреЛрд░реНрдб рдХреИрд╢

iOS 8.0 рд╕реЗ Apple рдиреЗ iOS рдХреЗ рд▓рд┐рдП рдХрд╕реНрдЯрдо рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рдЬреИрд╕реЗ рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдбреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреА рд╣реИред\
рд╕реНрдерд╛рдкрд┐рдд рдХреАрдмреЛрд░реНрдбреНрд╕ рдХреЛ **рд╕реЗрдЯрд┐рдВрдЧреНрд╕** > **рд╕рд╛рдорд╛рдиреНрдп** > **рдХреАрдмреЛрд░реНрдб** > **рдХреАрдмреЛрд░реНрдбреНрд╕** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред\
рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдбреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ **рдХреАрд╕реНрдЯреНрд░реЛрдХреНрд╕** рдХреЛ **рд╕реНрдирд┐рдлрд╝** рдХрд░рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣рдорд▓рд╛рд╡рд░ рд╕рд░реНрд╡рд░ рдкрд░ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд░рдЦрдиреЗ рд╡рд╛рд▓реЗ рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдбреНрд╕ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕реВрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред**\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдкрдиреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рднреАрддрд░ рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХ рд╕рдХрддреА рд╣реИ** (рдпрд╛ рдХрдо рд╕реЗ рдХрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рд▓рд┐рдП)ред

{% hint style="warning" %}
рдпрджрд┐ рдЖрдкрдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЗрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреА, рддреЛ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреА рдХреАрдмреЛрд░реНрдб рдХреА рдЕрдиреБрдорддрд┐ рди рджреЗрдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред
{% endhint %}

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдСрдЯреЛ-рд╕реБрдзрд╛рд░ рдФрд░ рдСрдЯреЛ-рд╕реБрдЭрд╛рд╡ рдХреЗ рдХрд╛рд░рдг, рдбрд┐рдлрд╝реЙрд▓реНрдЯ iOS рдХреАрдмреЛрд░реНрдб рдЕрдЧрд░ рд╡рд┐рд╢реЗрд╖ рд╢рдмреНрджреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **securetTextEntry** рдХреЛ **true** рдкрд░ рд╕реЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдпрд╛ рдпрджрд┐ **autoCorrectionType** рдХреЛ **UITextAutoCorrectionTypeNo** рдкрд░ рд╕реЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдкреНрд░рддреНрдпреЗрдХ рдЧреИрд░-рдорд╛рдирдХ рд╢рдмреНрдж рдХреЛ рдПрдХ рдХреИрд╢ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдХреИрдкреНрдЪрд░ рдФрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдЧрд╛ред

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдХреАрдмреЛрд░реНрдб **рдЗрд╕ рдХреИрд╢ рдХреЛ** `Library/Keyboard/{locale}-dynamic-text.dat` рдлрд╝рд╛рдЗрд▓ рдпрд╛ `/private/var/mobile/Library/Keyboard/dynamic-text.dat` рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдХрд╣реАрдВ рдЕрдиреНрдп рдЬрдЧрд╣ рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬ рд░рд╣рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред\
рдХреИрд╢ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ _**рд╕реЗрдЯрд┐рдВрдЧреНрд╕**_ > _**рд╕рд╛рдорд╛рдиреНрдп**_ > _**рд░реАрд╕реЗрдЯ**_ > _**рдХреАрдмреЛрд░реНрдб рд╢рдмреНрджрдХреЛрд╢ рд░реАрд╕реЗрдЯ рдХрд░реЗрдВ**_

{% hint style="info" %}
рдЗрд╕рд▓рд┐рдП, **рд╣рдореЗрд╢рд╛ рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ** рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** рдХреЗ рд▓рд┐рдП рдЦреЛрдЬреЗрдВред\
**рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдЕрд╡рд░реЛрдзрд┐рдд рдХрд░рдирд╛** рдПрдХ рдФрд░ рддрд░реАрдХрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЬрд╛рдВрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХрд╕реНрдЯрдо рдХреАрдмреЛрд░реНрдб рдХреНрдпрд╛ рд░рд┐рдореЛрдЯ рд╕рд░реНрд╡рд░ рдХреЛ рдХреАрд╕реНрдЯреНрд░реЛрдХреНрд╕ рднреЗрдЬ рд░рд╣рд╛ рд╣реИред
{% endhint %}

рдХреАрдмреЛрд░реНрдб рдХреИрд╢рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП [UITextInputTraits protocol](https://developer.apple.com/reference/uikit/uitextinputtraits) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред UITextField, UITextView, рдФрд░ UISearchBar рдХрдХреНрд╖рд╛рдПрдВ рдЗрд╕ protocol рдХрд╛ рд╕рдорд░реНрдерди рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрд░рддреА рд╣реИрдВ рдФрд░ рдЗрд╕рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЧреБрдг рд╣реЛрддреЗ рд╣реИрдВ:

* `var autocorrectionType: UITextAutocorrectionType` рдЯрд╛рдЗрдк рдХрд░рддреЗ рд╕рдордп рдСрдЯреЛ-рд╕реБрдзрд╛рд░ рд╕рдХреНрд╖рдо рд╣реИ рдпрд╛ рдирд╣реАрдВ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред рдЬрдм рдСрдЯреЛ-рд╕реБрдзрд╛рд░ рд╕рдХреНрд╖рдо рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдкрд╛рда рдСрдмреНрдЬреЗрдХреНрдЯ рдЕрдЬреНрдЮрд╛рдд рд╢рдмреНрджреЛрдВ рдХрд╛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреБрдХреНрдд рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╕реБрдЭрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдХреЛ рдЕрдзрд┐рд░реЛрд╣рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрдж рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЯрд╛рдЗрдк рдХрд┐рдП рдЧрдП рдкрд╛рда рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рдЧреБрдг рдХреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди `UITextAutocorrectionTypeDefault` рд╣реИ, рдЬреЛ рдЕрдзрд┐рдХрд╛рдВрд╢ рдЗрдирдкреБрдЯ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдСрдЯреЛ-рд╕реБрдзрд╛рд░ рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред
* `var secureTextEntry: BOOL` `UITextField` рдХреЗ рд▓рд┐рдП рдкрд╛рда рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдФрд░ рдкрд╛рда рдХреИрд╢рд┐рдВрдЧ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рджрд░реНрдЬ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рдкрд╛рда рдХреЛ рдЫрд┐рдкрд╛рддрд╛ рд╣реИред рдЗрд╕ рдЧреБрдг рдХреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди `NO` рд╣реИред

**рдХреЛрдб рдореЗрдВ рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:**

* рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕рдорд╛рди рдЕрдорд▓ рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рдЬреИрд╕реЗ
```objectivec
textObject.autocorrectionType = UITextAutocorrectionTypeNo;
textObject.secureTextEntry = YES;
```
* Xcode рдХреЗ `Interface Builder` рдореЗрдВ xib рдФрд░ storyboard рдлрд╝рд╛рдЗрд▓реЗрдВ рдЦреЛрд▓реЗрдВ рдФрд░ рдЙрдЪрд┐рдд рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП `Attributes Inspector` рдореЗрдВ `Secure Text Entry` рдФрд░ `Correction` рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВред

рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЯреЗрдХреНрд╕реНрдЯ рдлрд╝реАрд▓реНрдб рдореЗрдВ рджрд░реНрдЬ рдХреА рдЧрдИ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдХреИрд╢рд┐рдВрдЧ рдХреЛ рд░реЛрдХрдирд╛ рдЪрд╛рд╣рд┐рдПред рдЖрдк рдЗрд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирд┐рдХ рд░реВрдк рд╕реЗ рдЕрдХреНрд╖рдо рдХрд░рдХреЗ рдХреИрд╢рд┐рдВрдЧ рдХреЛ рд░реЛрдХ рд╕рдХрддреЗ рд╣реИрдВ, `textObject.autocorrectionType = UITextAutocorrectionTypeNo` рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрдЪреНрдЫрд┐рдд UITextFields, UITextViews рдФрд░ UISearchBars рдореЗрдВред рдкрд┐рди рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдЬреИрд╕реЗ рдорд╛рд╕реНрдХ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП, `textObject.secureTextEntry` рдХреЛ `YES` рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВред
```objectivec
UITextField *textField = [ [ UITextField alloc ] initWithFrame: frame ];
textField.autocorrectionType = UITextAutocorrectionTypeNo;
```
## **рд▓реЙрдЧ**

рдХреЛрдб рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХреЗ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ рд▓реЙрдЧрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди **рд▓реЙрдЧ рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд┐рдВрдЯ рдХрд░ рд╕рдХрддреА рд╣реИ**ред\
iOS рд╕рдВрд╕реНрдХрд░рдг 6 рдФрд░ рдЙрд╕рд╕реЗ рдкрд╣рд▓реЗ, рд▓реЙрдЧ рд╡рд░реНрд▓реНрдб рд░реАрдбреЗрдмрд▓ рдереЗ (рдПрдХ рдЦрддрд░рдирд╛рдХ рдРрдк рдЕрдиреНрдп рдРрдкреНрд╕ рдХреЗ рд▓реЙрдЧ рдкрдврд╝ рд╕рдХрддрд╛ рдерд╛ рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рдерд╛)ред **рдЖрдЬрдХрд▓, рдРрдкреНрд╕ рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ рд▓реЙрдЧ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ**ред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ **рд╣рдорд▓рд╛рд╡рд░** рдЬрд┐рд╕рдХреЗ рдкрд╛рд╕ рдПрдХ **рдЕрдирд▓реЙрдХ** рдХрд┐рдпрд╛ рд╣реБрдЖ рдЙрдкрдХрд░рдг рд╣реИ, рдЙрд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдЬреЛрдбрд╝рдХрд░ рдЙрд╕рдХреЗ **рд▓реЙрдЧ рдкрдврд╝ рд╕рдХрддрд╛ рд╣реИ** (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдХ рдРрдк рджреНрд╡рд╛рд░рд╛ рдбрд┐рд╕реНрдХ рдкрд░ рд▓рд┐рдЦреЗ рдЧрдП рд▓реЙрдЧ рдРрдк рдХреЛ рдЕрдирдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдкрд░ рднреА рд╣рдЯрд╛рдП рдирд╣реАрдВ рдЬрд╛рддреЗ рд╣реИрдВ)ред

рдпрд╣ рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдРрдк рдХреЗ рд╕рднреА рд╕реНрдХреНрд░реАрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рднреНрд░рдордг рдХрд░реЗрдВ** рдФрд░ **рд╣рд░** UI рддрддреНрд╡ рдХреЗ рд╕рд╛рде **рд╕рдВрд╡рд╛рдж** рдХрд░реЗрдВ рдФрд░ рд╕рднреА рдкрд╛рда рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдЗрдирдкреБрдЯ рдкрд╛рда рдкреНрд░рджрд╛рди рдХрд░реЗрдВ рдФрд░ **рд▓реЙрдЧ рдХреА рд╕рдореАрдХреНрд╖рд╛** рдХрд░реЗрдВ, рд╕рдВрд╡реЗрджрдирд╢реАрд▓ **рдЬрд╛рдирдХрд╛рд░реА** рдХреЗ рд▓рд┐рдП рдЦреЛрдЬреЗрдВред

рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдФрд░ рдЕрдВрддрд░реНрдирд┐рд░реНрдорд┐рдд рд▓реЙрдЧрд┐рдВрдЧ рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдРрдк рдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреАрд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:

* рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдФрд░ рдЕрдВрддрд░реНрдирд┐рд░реНрдорд┐рдд рдлрдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП:
* NSLog
* NSAssert
* NSCAssert
* fprintf
* рдЕрдиреБрдХреВрд▓рд┐рдд рдлрдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП:
* рд▓реЙрдЧрд┐рдВрдЧ
* рд▓реЙрдЧрдлрд╝рд╛рдЗрд▓

**рд╕рд┐рд╕реНрдЯрдо рд▓реЙрдЧ рдХреА рдирд┐рдЧрд░рд╛рдиреА**

рдХрдИ рдРрдкреНрд╕ рдЬрд╛рдирдХрд╛рд░реАрдкреВрд░реНрдг (рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓) рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдХрдВрд╕реЛрд▓ рд▓реЙрдЧ рдореЗрдВ рд▓реЙрдЧ рдХрд░рддреЗ рд╣реИрдВред рд▓реЙрдЧ рдореЗрдВ рдХреНрд░реИрд╢ рд░рд┐рдкреЛрд░реНрдЯ рдФрд░ рдЕрдиреНрдп рдЙрдкрдпреЛрдЧреА рдЬрд╛рдирдХрд╛рд░реА рднреА рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИред

рдЖрдк рдЗрди рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
idevice_id --list   # To find the device ID
idevicesyslog -u <id> (| grep <app>)   # To get the device logs
```
рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░реАрдХреЗ рд╕реЗ Xcode рдХреЗ **рдбрд┐рд╡рд╛рдЗрд╕** рд╡рд┐рдВрдбреЛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдВрд╕реЛрд▓ рд▓реЙрдЧреНрд╕ рдХреЛ рдХрд▓реЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

1. Xcode рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред
2. рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЕрдкрдиреЗ рд╣реЛрд╕реНрдЯ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред
3. **рд╡рд┐рдВрдбреЛ** -> **рдбрд┐рд╡рд╛рдЗрд╕ рдФрд░ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред
4. рдбрд┐рд╡рд╛рдЗрд╕ рд╡рд┐рдВрдбреЛ рдХреЗ рдмрд╛рдПрдВ рднрд╛рдЧ рдореЗрдВ рдЕрдкрдиреЗ рдХрдиреЗрдХреНрдЯреЗрдб iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред
5. рд╕рдорд╕реНрдпрд╛ рдХреЛ рдкреБрдирдГ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВред
6. рдбрд┐рд╡рд╛рдЗрд╕ рд╡рд┐рдВрдбреЛ рдХреЗ рдКрдкрд░реА рджрд╛рд╣рд┐рдиреЗ рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рд╕реНрдерд┐рдд **рдУрдкрди рдХрдВрд╕реЛрд▓** рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрдк рдПрдХ рдЕрд▓рдЧ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдХрдВрд╕реЛрд▓ рд▓реЙрдЧреНрд╕ рджреЗрдЦ рд╕рдХреЗрдВред

![](<../../.gitbook/assets/image (466) (2) (2) (2) (2) (2) (2) (2) (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1
```bash
iPhone:~ root# socat - UNIX-CONNECT:/var/run/lockdown/syslog.sock

========================
ASL is here to serve you
> watch
OK

Jun  7 13:42:14 iPhone chmod[9705] <Notice>: MS:Notice: Injecting: (null) [chmod] (1556.00)
Jun  7 13:42:14 iPhone readlink[9706] <Notice>: MS:Notice: Injecting: (null) [readlink] (1556.00)
Jun  7 13:42:14 iPhone rm[9707] <Notice>: MS:Notice: Injecting: (null) [rm] (1556.00)
Jun  7 13:42:14 iPhone touch[9708] <Notice>: MS:Notice: Injecting: (null) [touch] (1556.00)
...
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдмрдирд╛рдПрдВ рдФрд░ рдЕрдЯреЛрдореЗрдЯ рдХрд░реЗрдВ, рдЬреЛ рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рдмрд╕реЗ рдЙрдиреНрдирдд рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## рдмреИрдХрдЕрдк

iOS рдореЗрдВ рдСрдЯреЛ-рдмреИрдХрдЕрдк рд╕реБрд╡рд┐рдзрд╛рдПрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдЬреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдбреЗрдЯрд╛ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рддреА рд╣реИрдВред рдЖрдк iTunes (macOS Catalina рддрдХ) рдпрд╛ Finder (macOS Catalina рдХреЗ рдмрд╛рдж рд╕реЗ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ рд╣реЛрд╕реНрдЯ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ iOS рдмреИрдХрдЕрдк рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ iCloud рдмреИрдХрдЕрдк рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреА рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред рджреЛрдиреЛрдВ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдмреИрдХрдЕрдк рдореЗрдВ Apple Pay рдЬрд╛рдирдХрд╛рд░реА рдФрд░ Touch ID рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдЬреИрд╕реЗ рдЕрддреНрдпрдВрдд рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рдЫреЛрдбрд╝рдХрд░, iOS рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕рдВрдЧреНрд░рд╣рд┐рдд рд▓рдЧрднрдЧ рд╕рднреА рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИред

iOS рдмреИрдХрдЕрдк рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдРрдкреНрд╕ рдФрд░ рдЙрдирдХреЗ рдбреЗрдЯрд╛ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ рд╕реНрдкрд╖реНрдЯ рдЪрд┐рдВрддрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдРрдк рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛** рдмреИрдХрдЕрдк рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ рд▓реАрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ**ред рдПрдХ рдФрд░ рдЪрд┐рдВрддрд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдХрдо рд╕реНрдкрд╖реНрдЯ, рдпрд╣ рд╣реИ рдХрд┐ рдХреНрдпрд╛ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реЗрдЯрд┐рдВрдЧреНрд╕** рдЬреЛ рдбреЗрдЯрд╛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдпрд╛ рдРрдк рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рд╣реЛрддреА рд╣реИрдВ, рд╕рдВрд╢реЛрдзрд┐рдд рдмреИрдХрдЕрдк рдХреЛ рдмрд╣рд╛рд▓ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдРрдк рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рджреНрд╡рд╛рд░рд╛ рдЫреЗрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рджреЛрдиреЛрдВ рдЪрд┐рдВрддрд╛рдПрдВ рдорд╛рдиреНрдп рд╣реИрдВ рдФрд░ рдЖрдЬ рдХреЗ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдРрдкреНрд╕ рдореЗрдВ рдпреЗ рд╕рдВрдХрдЯ рд╣реЛрдиреЗ рдХрд╛ рд╕рд╛рдмрд┐рдд рд╣реБрдЖ рд╣реИред

рдПрдХ рдореЛрдмрд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдЧрдП рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдмреИрдХрдЕрдк рд╕рднреА рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ (рдХреЗрд╡рд▓ `Library/Caches/` рдХреЛ рдЫреЛрдбрд╝рдХрд░) рдФрд░ [рдРрдк рдХреЗ рдирд┐рдЬреА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛](https://developer.apple.com/library/content/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html#//apple\_ref/doc/uid/TP40010672-CH2-SW12) рдореЗрдВ рд╕реНрдерд┐рдд рд╕рднреА рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдФрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рд╢рд╛рдорд┐рд▓ рд╣реЛрдЧреАред\
рдЗрд╕рд▓рд┐рдП, **рдРрдк рдХреЗ рдирд┐рдЬреА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдпрд╛ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдореЗрдВ рдХрд┐рд╕реА рднреА рдлрд╝рд╛рдЗрд▓ рдпрд╛ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕рд╛рджрд╛ рдкрд╛рда рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рд╕реЗ рдмрдЪреЗрдВ**ред

рд╣рд╛рд▓рд╛рдВрдХрд┐, `Documents/` рдФрд░ `Library/Application Support/` рдореЗрдВ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣рдореЗрд╢рд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдмреИрдХрдЕрдк рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдЖрдк [рдмреИрдХрдЕрдк рд╕реЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ](https://developer.apple.com/library/content/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html#//apple\_ref/doc/uid/TP40010672-CH2-SW28) `NSURL setResourceValue:forKey:error:` рдХреЛ `NSURLIsExcludedFromBackupKey` рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдХреЙрд▓ рдХрд░рдХреЗред\
рдЖрдк [NSURLIsExcludedFromBackupKey](https://developer.apple.com/reference/foundation/nsurl#//apple\_ref/c/data/NSURLIsExcludedFromBackupKey) рдФрд░ [CFURLIsExcludedFromBackupKey](https://developer.apple.com/reference/corefoundation/cfurl-rd7#//apple\_ref/c/data/kCFURLIsExcludedFromBackupKey) рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдЧреБрдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ рдмреИрдХрдЕрдк рд╕реЗ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред

{% hint style="warning" %}
рдЗрд╕рд▓рд┐рдП, рдЬрдм рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдмреИрдХрдЕрдк рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд░рд╣реЗ рд╣реЛ рддреЛ рдпрд╣ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ **рдХреЛрдИ рднреА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** рдЙрдкрд▓рдмреНрдз рд╣реИ рдФрд░ рдХреНрдпрд╛ рдЖрдк рдмреИрдХрдЕрдк рдХреА рдХреБрдЫ рд╕реЗрдЯрд┐рдВрдЧ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдХреЗ рдРрдк рдХреЗ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд** рдХрд░ рд╕рдХрддреЗ рд╣реЛ
{% endhint %}

**рдХреИрд╕реЗ рдЯреЗрд╕реНрдЯ рдХрд░реЗрдВ**

рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, **рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдмреИрдХрдЕрдк рдмрдирд╛рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ** (рдЖрдк рдЗрд╕реЗ Finder рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ) рдФрд░ рдмреИрдХрдЕрдк рдХреЛ рдХрд╣рд╛рдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдпрд╣ рдЦреЛрдЬреЗрдВред рдЖрдзрд┐рдХрд╛рд░рд┐рдХ Apple рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдЖрдкрдХреА рдорджрдж рдХрд░реЗрдЧрд╛ [рдЕрдкрдиреЗ iPhone, iPad рдФрд░ iPod touch рдХреЗ рдмреИрдХрдЕрдк рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ](https://support.apple.com/en-us/HT204215)ред

рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдмреИрдХрдЕрдк рдЦреЛрдЬ рд▓рд┐рдпрд╛ рд╣реИ (`/Users/carlos.martin/Library/Application Support/MobileSync/Backup/{deviceID}`), рдЖрдк grep рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдпрд╛ [iMazing](https://imazing.com) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдЦреЛрдЬрдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдПрдХ рдмреИрдХрдЕрдк рдЬреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╣реИ рдпрд╛ рдирд╣реАрдВ, рдЗрд╕реЗ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдмреИрдХрдЕрдк рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдореВрд▓ рдореЗрдВ рд╕реНрдерд┐рдд "Manifest.plist" рдлрд╝рд╛рдЗрд▓ рд╕реЗ "IsEncrypted" рдирд╛рдордХ рдХреБрдВрдЬреА рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдПрдХ рдРрд╕реА рд╡рд┐рдиреНрдпрд╛рд╕рд┐рдХрддрд╛ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдмреИрдХрдЕрдк рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╣реИ:
```markup
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
...
<key>Date</key>
<date>2021-03-12T17:43:33Z</date>
<key>IsEncrypted</key>
<true/>
...
</plist>
```
рдпрджрд┐ рдЖрдк рдПрдХ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдмреИрдХрдЕрдк рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ [DinoSec рдХреЗ GitHub рд░реЗрдкреЛ](https://github.com/dinosec/iphone-dataprotection/tree/master/python\_scripts) рдореЗрдВ рдХреБрдЫ Python рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ **backup\_tool.py** рдФрд░ **backup\_passwd.py**, рдЬреЛ рдПрдХ рдЕрдЪреНрдЫреА рд╢реБрд░реБрдЖрддреА рдмрд┐рдВрджреБ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░реЗрдВрдЧреЗред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╡реЗ рдирд╡реАрдирддрдо iTunes/Finder рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред

рдЖрдк рдПрдХ рдЯреВрд▓ [**iOSbackup**](https://pypi.org/project/iOSbackup/) рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рд╕реЗ рдЖрдк рдПрдХ рдкрд╛рд╕рд╡рд░реНрдб-рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб iOS рдмреИрдХрдЕрдк рд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдкрдврд╝ рдФрд░ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред

**рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдХреИрд╕реЗ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ**

рдУрдкрди рд╕реЛрд░реНрд╕ рдмрд┐рдЯрдХреЙрдЗрди рд╡реЙрд▓реЗрдЯ рдРрдк [Bither](https://github.com/bither/bither-ios) рдореЗрдВ, рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ UI рдХреЛ рд▓реЙрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ PIN рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред\
рдпрд╣ PIN **pin\_code** **key** рдХреЗ рд░реВрдк рдореЗрдВ **net.bither.plist** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИред\
рдпрджрд┐ рдЖрдк рдЗрд╕ рдкрд┐рди рдХреЛ рдЙрд╕ рдмреИрдХрдЕрдк рдореЗрдВ рдкреНрд▓рд┐рд╕реНрдЯ рд╕реЗ рд╣рдЯрд╛ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рдмреИрдХрдЕрдк рдХреЛ рдмрд╣рд╛рд▓ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╡реЙрд▓реЗрдЯ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреЗрдВрдЧреЗред

## рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдХрд╛ рдкрд░реАрдХреНрд╖рдг

рдХрд┐рд╕реА рди рдХрд┐рд╕реА рд╕рдордп рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдореЗрдореЛрд░реА рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдЙрджреНрджреЗрд╢реНрдп рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдЬрд┐рддрдиреА рдЬрд▓реНрджреА рд╣реЛ рд╕рдВрдХреЗрддрд┐рдд рд╣реЛред

рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдореЗрдореЛрд░реА рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╣рд▓реЗ рдПрдХ **рдореЗрдореЛрд░реА рдбрдВрдк** рдмрдирд╛рдПрдВред рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдЖрдк рдПрдХ рдбрд┐рдмрдЧрд░ рдХреЗ рд╕рд╛рде рдореЗрдореЛрд░реА рдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЪрд╛рд╣реЗ рдЖрдк рдХрд┐рд╕реА рднреА рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдпрд╣ рдПрдХ рдмрд╣реБрдд рд╣реА рддреНрд░реБрдЯрд┐-рдкреНрд░рд╡реГрддреНрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдбрдВрдкреНрд╕ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЫреЛрдбрд╝реЗ рдЧрдП рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЖрдк рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЪрд░рдгреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рджреМрд░рд╛рди рдбреЗрдЯрд╛ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рдирд╛ рдХрд╛рдлреА рдЖрд╕рд╛рди рд╣реИ рдЬрдм рддрдХ рдЖрдк рдЙрд╕ рдбреЗрдЯрд╛ рдХреЗ рдлрд╝реБрдЯрдкреНрд░рд┐рдВрдЯ рдХреЛ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ (рдпрд╛ рдЙрд╕рдХреЗ рд╕рдЯреАрдХ рдорд╛рди рдпрд╛ рдлрд╝реЙрд░реНрдореЗрдЯ рдХреЛ)ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдРрдк рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рд╕рдордорд┐рдд рдХреБрдВрдЬреА рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдЙрд╕ рдХреБрдВрдЬреА рдХреЛ рдореЗрдореЛрд░реА рдореЗрдВ рдирд╣реАрдВ рджреЗрдЦреЗрдВрдЧреЗ рдЬрдм рддрдХ рдЖрдк рдЙрд╕рдХреЗ рдорд╛рди рдХреЛ рдЕрдиреНрдп рд╕рд╛рдзрдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд╣реАрдВ рдвреВрдВрдврд╝рддреЗ рд╣реИрдВред

**рдореЗрдореЛрд░реА рдбрдВрдк рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдирд╛**

рдЪрд╛рд╣реЗ рдЖрдк рдЬреЗрд▓рдмреНрд░реЛрдХрди рдпрд╛ рдЧреИрд░-рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реЛрдВ, рдЖрдк [objection](https://github.com/sensepost/objection) рдФрд░ [Fridump](https://github.com/Nightbringer21/fridump) рдХреЗ рд╕рд╛рде рдРрдк рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдореЛрд░реА рдХреЛ рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдореЗрдореЛрд░реА рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж (рдЬреИрд╕реЗ рдХрд┐ "memory" рдирд╛рдордХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ), рдЖрдкрдХреЛ рдЬрд┐рд╕ рдбреЗрдЯрд╛ рдХреА рддрд▓рд╛рд╢ рд╣реИ, рдЙрд╕реЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдПрдХ рд╕реЗрдЯ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЗ рд▓рд┐рдП рдХрдорд╛рдВрдб `strings` рдпрд╛ `rabin2 -zz` рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рд╡реЗ рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдирд┐рдХрд╛рд▓ рд╕рдХреЗрдВред
```bash
# using strings
$ strings memory > strings.txt

# using rabin2
$ rabin2 -ZZ memory > strings.txt
```
рдЕрдкрдиреЗ рдкрд╕рдВрджреАрджрд╛ рд╕рдВрдкрд╛рджрдХ рдореЗрдВ `strings.txt` рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ рдЗрд╕реЗ рдЫрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪреЗрдВ рддрд╛рдХрд┐ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдВред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рдЖрдк рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рдбреЗрдЯрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк radare2 рдФрд░ рдЗрд╕рдХреА рдЦреЛрдЬ рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдФрд░ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд▓рд┐рдП radare2 рдХреЗ рд╕рд╣рд╛рдпрддрд╛ рдкрд░ рдЬрд╛рдПрдВ рдФрд░ рдЦреЛрдЬ рдХрдорд╛рдВрдб (`/?`) рдкрд░ рджреЗрдЦреЗрдВред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЗрд╡рд▓ рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рджрд┐рдЦрд╛рддрд╛ рд╣реИ:
```bash
$ r2 <name_of_your_dump_file>

[0x00000000]> /?
Usage: /[!bf] [arg]  Search stuff (see 'e??search' for options)
|Use io.va for searching in non virtual addressing spaces
| / foo\x00                    search for string 'foo\0'
| /c[ar]                       search for crypto materials
| /e /E.F/i                    match regular expression
| /i foo                       search for string 'foo' ignoring case
| /m[?][ebm] magicfile         search for magic, filesystems or binary headers
| /v[1248] value               look for an `cfg.bigendian` 32bit value
| /w foo                       search for wide string 'f\0o\0o\0'
| /x ff0033                    search for hex string
| /z min max                   search for strings of given size
...
```
**рдЪрд▓рд╛рдиреЗ рдХреЗ рджреМрд░рд╛рди рд░рдирдЯрд╛рдЗрдо рдореЗрдореЛрд░реА рд╡рд┐рд╢реНрд▓реЗрд╖рдг**

[**r2frida**](https://github.com/nowsecure/r2frida) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк рдРрдк рдХреА рдореЗрдореЛрд░реА рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдФрд░ рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдмрдХрд┐ рдЙрд╕реЗ рдбрдВрдк рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк r2frida рд╕реЗ рдкрд┐рдЫрд▓реЗ рдЦреЛрдЬ рдХрдорд╛рдВрдб рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдореЗрдореЛрд░реА рдореЗрдВ рд╕реНрдЯреНрд░рд┐рдВрдЧ, рд╣реЗрдХреНрд╕рд╛рдбреЗрд╕рд┐рдорд▓ рдорд╛рди рдЖрджрд┐ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВред рдРрд╕рд╛ рдХрд░рддреЗ рд╕рдордп, рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЦреЛрдЬ рдХрдорд╛рдВрдб (рдФрд░ рдХрд┐рд╕реА рдЕрдиреНрдп r2frida рд╡рд┐рд╢реЗрд╖ рдХрдорд╛рдВрдб) рдХреЛ `r2 frida://usb//<name_of_your_app>` рдХреЗ рд╕рд╛рде рд╕реЗрд╢рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдПрдХ рдмреИрдХрд╕реНрд▓реИрд╢ `\` рдХреЗ рд╕рд╛рде рдкреНрд░реАрдкреЗрдВрдб рдХрд░реЗрдВред

## рдЯреВрдЯреА рд╣реБрдИ рдЧрдгрдирд╛

### рдЦрд░рд╛рдм рдХреБрдВрдЬреА рдкреНрд░рдмрдВрдзрди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ

рдХреБрдЫ рдбреЗрд╡рд▓рдкрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрдерд╛рдиреАрдп рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдХреЛрдб рдореЗрдВ рд╣рд╛рд░реНрдбрдХреЛрдб/рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд┐рдд рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рддреЗ рд╣реИрдВред рдпрд╣ рдХрд┐рдпрд╛ рдирд╣реАрдВ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХреНрдпреЛрдВрдХрд┐ рдХреБрдЫ рд░рд┐рд╡рд░реНрд╕рд┐рдВрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рдорд▓рд╛рд╡рд░реЛрдВ рдХреЛ рдЧреЛрдкрдиреАрдп рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИред

### рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдФрд░/рдпрд╛ рдЕрдкреНрд░рдЪрд▓рд┐рдд рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ

рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдЕрдкреНрд░рдЪрд▓рд┐рдд рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЬрд╛рдВрдЪ, рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣ рдпрд╛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдПред рдЗрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рд╣реИрдВ: RC4, MD4, MD5, SHA1... рдпрджрд┐ рдкрд╛рд╕рд╡рд░реНрдб рд╕рдВрдЧреНрд░рд╣ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдирдордХ рдХреЗ рд╕рд╛рде рд╣реИрд╢ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдкреНрд░рддрд┐рд░реЛрдзреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рдЬрд╛рдВрдЪ

рдпрджрд┐ рдЖрдк рдХреЛрдб рдореЗрдВ **рд╣рд╛рд░реНрдбрдХреЛрдб** рдкрд╛рд╕рд╡рд░реНрдб/рдЧреБрдкреНрдд рдЬрд╛рдирдХрд╛рд░реА рдвреВрдВрдв рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдпрджрд┐ рд╡реЗ **рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд┐рдд** рд╣реИрдВ, рдФрд░ рдпрджрд┐ рдХреЛрдб рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХреЗ **рдХрдордЬреЛрд░** **рдЧрдгрдирд╛** рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред

рдпрд╣ рдЬрд╛рдирдирд╛ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ рдЖрдк **objection** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреБрдЫ **рдХреНрд░рд┐рдкреНрдЯреЛ** **рд▓рд╛рдЗрдмреНрд░реЗрд░реА** рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдореЙрдирд┐рдЯрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```swift
ios monitor crypt
```
рдЖрдИрдУрдПрд╕ рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯрд┐рдХ рдПрдкреАрдЖрдИ рдФрд░ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ **рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА** рдХреЗ рд▓рд┐рдП [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06e-testing-cryptography](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06e-testing-cryptography) рдкрд░ рдЬрд╛рдПрдВред

## рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг

рдЯреЗрд╕реНрдЯрд░ рдХреЛ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ **рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рд╣рдореЗрд╢рд╛ рдПрдХ рджреВрд░рд╕реНрде рдЕрдВрддрдмрд┐рдВрджреБ рдкрд░ рдкреНрд░рдпреЛрдЬрдирд╢реАрд▓ рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП** рдпрд╛ рдПрдХ рдФрд╖рдзрд╛рддреНрдордХ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рд╣рдорд▓рд╛рд╡рд╛рд░ рдЖрд╕рд╛рдиреА рд╕реЗ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЕрдЧрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реЗ рдХреЛрдИ рдбреЗрдЯрд╛ рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИред

[**рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ**](https://developer.apple.com/documentation/localauthentication) рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реЗрдЯ рдХреЗ рдПрдкреАрдЖрдИ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рдпреЛрдХреНрддрд╛ рдХреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдВрд╡рд╛рдж рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдПрдХ рджреВрд░рд╕реНрде рд╕реЗрд╡рд╛ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдЗрд╕реЗ (рдФрд░ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) [рдХреАрдЪреЗрди](https://developer.apple.com/library/content/documentation/Security/Conceptual/keychainServConcepts/01introduction/introduction.html) рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рдлрд┐рдВрдЧрд░рдкреНрд░рд┐рдВрдЯ рдЖрдИрдбреА** рд╕реЗрдВрд╕рд░ [рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдХреНрд▓реЗрд╡ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛрдкреНрд░реЛрд╕реЗрд╕рд░](https://www.blackhat.com/docs/us-16/materials/us-16-Mandt-Demystifying-The-Secure-Enclave-Processor.pdf) рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЛ рдлрд┐рдВрдЧрд░рдкреНрд░рд┐рдВрдЯ рдбреЗрдЯрд╛ рдХрд╛ рдкреНрд░рдХрдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдЯрдЪ рдЖрдИрдбреА рдХреЗ рдкрд╛рд╕, Apple рдиреЗ _рдлреЗрд╕ рдЖрдИрдбреА_ рднреА рдкреЗрд╢ рдХрд┐рдпрд╛ рд╣реИ: рдЬрд┐рд╕рдореЗрдВ рдЪреЗрд╣рд░реЗ рдХреА рдкрд╣рдЪрд╛рди рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИред

рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЗ рдкрд╛рд╕ рдЯрдЪ рдЖрдИрдбреА / рдлреЗрд╕ рдЖрдИрдбреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рд╡рд┐рдХрд▓реНрдк рд╣реЛрддреЗ рд╣реИрдВ:

* `LocalAuthentication.framework` рдПрдХ рдЙрдЪреНрдЪ рд╕реНрддрд░реАрдп рдПрдкреАрдЖрдИ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЯрдЪ рдЖрдИрдбреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдРрдк рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд╛рдорд╛рдВрдХрд┐рдд рдлрд┐рдВрдЧрд░рдкреНрд░рд┐рдВрдЯ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдХреЛрдИ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ рдФрд░ рдХреЗрд╡рд▓ рд╕реВрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдлрд▓ рд░рд╣рд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред
* `Security.framework` [рдХреАрдЪреЗрди рд╕реЗрд╡рд╛рдУрдВ](https://developer.apple.com/documentation/security/keychain\_services) рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд┐рдЪрд▓реЗ рд╕реНрддрд░реАрдп рдПрдкреАрдЖрдИ рд╣реИред рдпрд╣ рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд┐рдХрд▓реНрдк рд╣реИ рдЕрдЧрд░ рдЖрдкрдХреЗ рдРрдк рдХреЛ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд╕рд╛рде рдХреБрдЫ рдЧреБрдкреНрдд рдбреЗрдЯрд╛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕рд┐рд╕реНрдЯрдо рд╕реНрддрд░ рдкрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЕрдирджреЗрдЦрд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред `Security.framework` рдореЗрдВ рдПрдХ рд╕реА рдПрдкреАрдЖрдИ рд╣реИ, рд▓реЗрдХрд┐рди рдХрдИ [рдУрдкрди рд╕реЛрд░реНрд╕ рд░реИрдкрд░реНрд╕ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ](https://www.raywenderlich.com/147308/secure-ios-user-data-keychain-touch-id), рдЬрд┐рдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХреАрдЪреЗрди рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП NSUserDefaults рдХреА рддрд░рд╣ рд╕рд░рд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

{% hint style="danger" %}
рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ `LocalAuthentication.framework` рдпрд╛ `Security.framework` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдХреЗрд╡рд▓ рдПрдХ рд╣рд┐рдореНрдорддрд╡рд╛рд▓рд╛ рд╣рдорд▓рд╛рд╡рд░ рджреНрд╡рд╛рд░рд╛ рдЕрдирджреЗрдЦрд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓рд╛ рдирд┐рдпрдВрддреНрд░рдг рд╣реЛрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рдмреВрд▓рд┐рдпрди рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдФрд░ рдХреЛрдИ рдбреЗрдЯрд╛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддрд╛ рд╣реИ рдирд╣реАрдВред рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП [Don't touch me that way, by David Lindner et al](https://www.youtube.com/watch?v=XhXIHVGCFFM) рджреЗрдЦреЗрдВред
{% endhint %}

### рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ

рдбреЗрд╡рд▓рдкрд░реНрд╕ рддрдм **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░реЙрдореНрдкреНрдЯ** рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдмрдХрд┐ **`LAContext`** рдХрдХреНрд╖рд╛ рдХреЗ **`evaluatePolicy`** рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рджреЛ рдЙрдкрд▓рдмреНрдз рдиреАрддрд┐рдпрд╛рдБ рд╕реНрд╡реАрдХрд╛рд░реНрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд╕реНрд╡рд░реВрдк рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИрдВ:

* `deviceOwnerAuthentication`(Swift) рдпрд╛ `LAPolicyDeviceOwnerAuthentication`(Objective-C): рдЬрдм рдЙрдкрд▓рдмреНрдз рд╣реЛ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЯрдЪ рдЖрдИрдбреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрджрд┐ рдЯрдЪ рдЖрдИрдбреА рд╕рдХреНрд░рд┐рдп рдирд╣реАрдВ рд╣реИ, рддреЛ рдЙрдкрдХрд░рдг рдкрд╛рд╕рдХреЛрдб рдХреА рдЬрдЧрд╣ рдорд╛рдВрдЧрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрджрд┐ рдЙрдкрдХрд░рдг рдкрд╛рд╕рдХреЛрдб рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИ, рдиреАрддрд┐ рдореВрд▓реНрдпрд╛рдВрдХрди рдЕрд╕рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред
* `deviceOwnerAuthenticationWithBiometrics` (Swift) рдпрд╛ `LAPolicyDeviceOwnerAuthenticationWithBiometrics`(Objective-C): рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкрд░ рд╕реАрдорд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЯрдЪ рдЖрдИрдбреА рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред

**`evaluatePolicy` рдлрд╝рдВрдХреНрд╢рди рдПрдХ рдмреВрд▓рд┐рдпрди рдорд╛рди** рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд┐рдпрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЗрд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЕрдирджреЗрдЦрд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдиреАрдЪреЗ рджреЗрдЦреЗрдВ)

### рдХреАрдЪреЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг

**рдЖрдИрдУрдПрд╕ рдХреАрдЪреЗрди рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди, рдРрдк рдХрд┐рд╕реА рдЧреБрдкреНрдд рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЯреЛрдХ
```swift
// 1. create AccessControl object that will represent authentication settings

var error: Unmanaged<CFError>?

guard let accessControl = SecAccessControlCreateWithFlags(kCFAllocatorDefault,
kSecAttrAccessibleWhenPasscodeSetThisDeviceOnly,
SecAccessControlCreateFlags.biometryCurrentSet,
&error) else {
// failed to create AccessControl object

return
}

// 2. define keychain services query. Pay attention that kSecAttrAccessControl is mutually exclusive with kSecAttrAccessible attribute

var query: [String: Any] = [:]

query[kSecClass as String] = kSecClassGenericPassword
query[kSecAttrLabel as String] = "com.me.myapp.password" as CFString
query[kSecAttrAccount as String] = "OWASP Account" as CFString
query[kSecValueData as String] = "test_strong_password".data(using: .utf8)! as CFData
query[kSecAttrAccessControl as String] = accessControl

// 3. save item

let status = SecItemAdd(query as CFDictionary, nil)

if status == noErr {
// successfully saved
} else {
// error while saving
}
```
{% endtab %}

{% tab title="Objective-C" %}рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛:

1. рд╡рд╕реНрддреБ рдХреЛ рдмрдирд╛рдПрдВ рдпрд╛ рдЕрджреНрдпрддрд┐рдд рдХрд░реЗрдВ: рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЛ рдмрдирд╛рдиреЗ рдпрд╛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Objective-C рдХреЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЧреБрдг, рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

2. рд╡рд╕реНрддреБ рдХреЛ рдкрдврд╝реЗрдВ: рдЖрдкрдХреЛ Objective-C рдХреЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╕реНрддреБ рдХреЛ рдкрдврд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЧреБрдг, рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

3. рд╡рд╕реНрддреБ рдХреЛ рд╣рдЯрд╛рдПрдВ: рдЖрдкрдХреЛ Objective-C рдХреЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╕реНрддреБ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЧреБрдг, рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

4. рд╡рд╕реНрддреБ рдХреЛ рдЦреЛрдЬреЗрдВ: рдЖрдкрдХреЛ Objective-C рдХреЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╕реНрддреБ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЧреБрдг, рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

5. рд╡рд╕реНрддреБ рдХреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ: рдЖрдкрдХреЛ Objective-C рдХреЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╕реНрддреБ рдХреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЧреБрдг, рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

6. рд╡рд╕реНрддреБ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░реЗрдВ: рдЖрдкрдХреЛ Objective-C рдХреЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╕реНрддреБ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЧреБрдг, рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

рдЗрди рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ, рдЖрдк Objective-C рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ, рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЕрджреНрдпрддрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред {% endtab %}
```objectivec
// 1. create AccessControl object that will represent authentication settings
CFErrorRef *err = nil;

SecAccessControlRef sacRef = SecAccessControlCreateWithFlags(kCFAllocatorDefault,
kSecAttrAccessibleWhenPasscodeSetThisDeviceOnly,
kSecAccessControlUserPresence,
err);

// 2. define keychain services query. Pay attention that kSecAttrAccessControl is mutually exclusive with kSecAttrAccessible attribute
NSDictionary* query = @{
(_ _bridge id)kSecClass: (__bridge id)kSecClassGenericPassword,
(__bridge id)kSecAttrLabel: @"com.me.myapp.password",
(__bridge id)kSecAttrAccount: @"OWASP Account",
(__bridge id)kSecValueData: [@"test_strong_password" dataUsingEncoding:NSUTF8StringEncoding],
(__bridge id)kSecAttrAccessControl: (__bridge_transfer id)sacRef
};

// 3. save item
OSStatus status = SecItemAdd((__bridge CFDictionaryRef)query, nil);

if (status == noErr) {
// successfully saved
} else {
// error while saving
}
```
{% endtab %}
{% endtabs %}

рдЕрдм рд╣рдо рдХреАрдЪреЗрди рд╕реЗ рд╕рд╣реЗрдЬреЗ рдЧрдП рдЖрдЗрдЯрдо рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдХреАрдЪреЗрди рд╕реЗрд╡рд╛рдПрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдбрд╛рдпрд▓реЙрдЧ рдкреНрд░рджрд╛рди рдХрд░реЗрдВрдЧреА рдФрд░ рдЙрдкрдпреБрдХреНрдд рдлрд┐рдВрдЧрд░рдкреНрд░рд┐рдВрдЯ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЬрд╛рдиреЗ рдкрд░ рдбреЗрдЯрд╛ рдпрд╛ рдирд┐рд▓ рд▓реМрдЯрд╛рдПрдВрдЧреАред

{% tabs %}
{% tab title="рд╕реНрд╡рд┐рдлреНрдЯ" %}
```swift
// 1. define query
var query = [String: Any]()
query[kSecClass as String] = kSecClassGenericPassword
query[kSecReturnData as String] = kCFBooleanTrue
query[kSecAttrAccount as String] = "My Name" as CFString
query[kSecAttrLabel as String] = "com.me.myapp.password" as CFString
query[kSecUseOperationPrompt as String] = "Please, pass authorisation to enter this area" as CFString

// 2. get item
var queryResult: AnyObject?
let status = withUnsafeMutablePointer(to: &queryResult) {
SecItemCopyMatching(query as CFDictionary, UnsafeMutablePointer($0))
}

if status == noErr {
let password = String(data: queryResult as! Data, encoding: .utf8)!
// successfully received password
} else {
// authorization not passed
}
```
{% endtab %}

{% tab title="Objective-C" %}рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛:

1. рд╡рд╕реНрддреБ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЙрд╕рдХреЗ setter рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рд╣реЛрдЧрд╛ред рдпрд╣ рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХреЗ рдирд╛рдо рдХреЗ рд╕рд╛рде "set" рд╢рдмреНрдж рдЬреЛрдбрд╝рдХрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рд╡рд╕реНрддреБ рдХрд╛ рдирд╛рдо "name" рд╣реИ, рддреЛ рдЙрд╕рдХрд╛ setter "setName" рд╣реЛрдЧрд╛ред

2. рдЕрдм, рдЖрдкрдХреЛ setter рдХреЛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╕реНрддреБ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЖрдк setter рдХреЛ рдЙрд╕реА рддрд░реАрдХреЗ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдЖрдк рдПрдХ рд╡рд╕реНрддреБ рдХреЛ рдмрдирд╛рддреЗ рд╕рдордп рдХрд░рддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХрд╛ рдирд╛рдо "person" рд╣реИ рдФрд░ рдЖрдк рдЙрд╕рдХреЗ "name" рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```objective-c
[person setName:@"John"];
```

3. рдЕрджреНрдпрддрд┐рдд рд╡рд╕реНрддреБ рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЙрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЛ рд╡рд╕реНрддреБ рдХрд╛ рдирд╛рдо "person" рд╣реИ рдФрд░ рдЖрдк рдЙрд╕реЗ рдЕрджреНрдпрддрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```objective-c
NSString *updatedName = [person name];
```

рдЗрд╕ рддрд░рд╣, рдЖрдк Objective-C рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЕрджреНрдпрддрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```objectivec
// 1. define query
NSDictionary *query = @{(__bridge id)kSecClass: (__bridge id)kSecClassGenericPassword,
(__bridge id)kSecReturnData: @YES,
(__bridge id)kSecAttrAccount: @"My Name1",
(__bridge id)kSecAttrLabel: @"com.me.myapp.password",
(__bridge id)kSecUseOperationPrompt: @"Please, pass authorisation to enter this area" };

// 2. get item
CFTypeRef queryResult = NULL;
OSStatus status = SecItemCopyMatching((__bridge CFDictionaryRef)query, &queryResult);

if (status == noErr){
NSData* resultData = ( __bridge_transfer NSData* )queryResult;
NSString* password = [[NSString alloc] initWithData:resultData encoding:NSUTF8StringEncoding];
NSLog(@"%@", password);
} else {
NSLog(@"Something went wrong");
}
```
{% endtab %}
{% endtabs %}

### рдкрддрд╛ рд▓рдЧрд╛рдирд╛

рдРрдк рдореЗрдВ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рднреА рдРрдк рдмрд╛рдЗрдирд░реА рдХреА рд╕рд╛рдЭрд╛ рдбрд╛рдпрдирд╛рдорд┐рдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреА рд╕реВрдЪреА рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдХреЗ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕реЗ `otool` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
$ otool -L <AppName>.app/<AppName>
```
рдпрджрд┐ рдПрдХ рдРрдк рдореЗрдВ `LocalAuthentication.framework` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЛ рд▓рд╛рдЗрдиреЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреА (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ `LocalAuthentication.framework` рдЗрдВрдбрд░ рдж рд╣реБрдб рдореЗрдВ `Security.framework` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ):
```bash
/System/Library/Frameworks/LocalAuthentication.framework/LocalAuthentication
/System/Library/Frameworks/Security.framework/Security
```
рдпрджрд┐ `Security.framework` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдХреЗрд╡рд▓ рджреВрд╕рд░рд╛ рджрд┐рдЦрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

### рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ рдмрд╛рдИрдкрд╛рд╕

#### рдЖрдкрддреНрддрд┐

[**рдЖрдкрддреНрддрд┐ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХреНрд╕ рдмрд╛рдИрдкрд╛рд╕**](https://github.com/sensepost/objection/wiki/Understanding-the-iOS-Biometrics-Bypass) рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдмрд╛рдИрдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЖрдкрддреНрддрд┐ **`evaluatePolicy` рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЗрдВрд╕реНрдЯреНрд░реБрдореЗрдВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлреНрд░реАрдбрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ `True` рд▓реМрдЯрд╛рдП**, рднрд▓реЗ рд╣реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдирд╣реАрдВ рд╣реБрдЖ рд╣реЛред рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдмрд╛рдИрдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `ios ui biometrics_bypass` рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рдЖрдкрддреНрддрд┐ рдПрдХ рдиреМрдХрд░реА рдкрдВрдЬреАрдХреГрдд рдХрд░реЗрдЧрд╛, рдЬреЛ `evaluatePolicy` рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдмрджрд▓ рджреЗрдЧреАред рдпрд╣ рд╕реНрд╡рд┐рдлреНрдЯ рдФрд░ рдСрдмреНрдЬреЗрдХреНрдЯрд┐рд╡-рд╕реА рджреЛрдиреЛрдВ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред
```bash
...itudehacks.DVIAswiftv2.develop on (iPhone: 13.2.3) [usb] # ios ui biometrics_bypass
(agent) Registering job 3mhtws9x47q. Type: ios-biometrics-disable
...itudehacks.DVIAswiftv2.develop on (iPhone: 13.2.3) [usb] # (agent) [3mhtws9x47q] Localized Reason for auth requirement: Please authenticate yourself
(agent) [3mhtws9x47q] OS authentication response: false
(agent) [3mhtws9x47q] Marking OS response as True instead
(agent) [3mhtws9x47q] Biometrics bypass hook complete
```
рдпрджрд┐ рд╕рдВрдХрдЯрдЧреНрд░рд╕реНрдд рд╣реЛ, рддреЛ рдореЙрдбреНрдпреВрд▓ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд▓реЙрдЧрд┐рди рдлреЙрд░реНрдо рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░ рджреЗрдЧрд╛ред

#### Frida

рдПрдХ рдЙрджрд╛рд╣рд░рдг **`evaluatePolicy`** рдХрд╛ рдЙрдкрдпреЛрдЧ [DVIA-v2 рдПрдкреНрд▓рд┐рдХреЗрд╢рди](https://github.com/prateek147/DVIA-v2) рд╕реЗ:
```swift
+(void)authenticateWithTouchID {
LAContext *myContext = [[LAContext alloc] init];
NSError *authError = nil;
NSString *myLocalizedReasonString = @"Please authenticate yourself";

if ([myContext canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:&authError]) {
[myContext evaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics
localizedReason:myLocalizedReasonString
reply:^(BOOL success, NSError *error) {
if (success) {
dispatch_async(dispatch_get_main_queue(), ^{
[TouchIDAuthentication showAlert:@"Authentication Successful" withTitle:@"Success"];
});
} else {
dispatch_async(dispatch_get_main_queue(), ^{
[TouchIDAuthentication showAlert:@"Authentication Failed !" withTitle:@"Error"];
});
}
}];
} else {
dispatch_async(dispatch_get_main_queue(), ^{
[TouchIDAuthentication showAlert:@"Your device doesn't support Touch ID or you haven't configured Touch ID authentication on your device" withTitle:@"Error"];
});
}
}
```
рдЬрдм рд╣рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рдирд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдПрдХ рдлреНрд░рд┐рдбрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦрдирд╛ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдЙрдкрд░реЛрдХреНрдд "evaluatePolicy" рдЬрд╛рдВрдЪ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рддрд╛ рд╣реИред рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдКрдкрд░ рджрд┐рдП рдЧрдП рдХреЛрдб рд╕реНрдирд┐рдкреЗрдЯ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, "evaluatePolicy" рдПрдХ "рдХреЙрд▓рдмреИрдХ" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ "рдкрд░рд┐рдгрд╛рдо" рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рд╣реИрдХ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рд╣реИ рдЙрд╕ "рдХреЙрд▓рдмреИрдХ" рдХреЛ рдЕрд╡рд░реЛрдзрд┐рдд рдХрд░рдирд╛ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдХрд┐ рдпрд╣ рд╣рдореЗрд╢рд╛ "рд╕рдлрд▓рддрд╛=1" рд▓реМрдЯрд╛рддрд╛ рд╣реИред
```swift
// from https://securitycafe.ro/2022/09/05/mobile-pentesting-101-bypassing-biometric-authentication/
if(ObjC.available) {
console.log("Injecting...");
var hook = ObjC.classes.LAContext["- evaluatePolicy:localizedReason:reply:"];
Interceptor.attach(hook.implementation, {
onEnter: function(args) {
var block = new ObjC.Block(args[4]);
const callback = block.implementation;
block.implementation = function (error, value)  {

console.log("Changing the result value to true")
const result = callback(1, null);
return result;
};
},
});
} else {
console.log("Objective-C Runtime is not available!");
}
```

```
frida -U -f com.highaltitudehacks.DVIAswiftv2 --no-pause -l fingerprint-bypass-ios.js
```
## IPC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓рддрд╛ рдХреА рдЙрдЬрд╛рдЧрд░реА

### рдХрд╕реНрдЯрдо URI рд╣реИрдВрдбрд▓рд░ / рдбреАрдкрд▓рд┐рдВрдХреНрд╕ / рдХрд╕реНрдЯрдо рд╕реНрдХреАрдо

{% content-ref url="ios-custom-uri-handlers-deeplinks-custom-schemes.md" %}
[ios-custom-uri-handlers-deeplinks-custom-schemes.md](ios-custom-uri-handlers-deeplinks-custom-schemes.md)
{% endcontent-ref %}

### рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рд▓рд┐рдВрдХреНрд╕

{% content-ref url="ios-universal-links.md" %}
[ios-universal-links.md](ios-universal-links.md)
{% endcontent-ref %}

### UIActivity рд╕рд╛рдЭрд╛ рдХрд░рдирд╛

{% content-ref url="ios-uiactivity-sharing.md" %}
[ios-uiactivity-sharing.md](ios-uiactivity-sharing.md)
{% endcontent-ref %}

### UIPasteboard

{% content-ref url="ios-uipasteboard.md" %}
[ios-uipasteboard.md](ios-uipasteboard.md)
{% endcontent-ref %}

### рдРрдк рдПрдХреНрд╕рдЯреЗрдВрд╢рди

{% content-ref url="ios-app-extensions.md" %}
[ios-app-extensions.md](ios-app-extensions.md)
{% endcontent-ref %}

### рд╡реЗрдмрд╡реНрдпреВ

{% content-ref url="ios-webviews.md" %}
[ios-webviews.md](ios-webviews.md)
{% endcontent-ref %}

### рд╕рдВрдХрд▓рди рдФрд░ рдХреЛрдбрд┐рдВрдЧ

{% content-ref url="ios-serialisation-and-encoding.md" %}
[ios-serialisation-and-encoding.md](ios-serialisation-and-encoding.md)
{% endcontent-ref %}

## рдиреЗрдЯрд╡рд░реНрдХ рд╕рдВрдЪрд╛рд░

рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдЬрд╛рдВрдЪрд╛ рдЬрд╛рдП рдХрд┐ рдХреЛрдИ рд╕рдВрдЪрд╛рд░ **рдмрд┐рдирд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди** рдХреЗ рд╣реЛ рд░рд╣рд╛ рд╣реИ рдФрд░ рд╕рд╛рде рд╣реА рдпрд╣ рднреА рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдП рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд░реНрд╡рд░ рдХрд╛ **TLS рдкреНрд░рдорд╛рдгрдкрддреНрд░** рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИред\
рдЗрди рдкреНрд░рдХрд╛рд░ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдмрд░реНрдк рдЬреИрд╕реЗ рдкреНрд░реЙрдХреНрд╕реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="burp-configuration-for-ios.md" %}
[burp-configuration-for-ios.md](burp-configuration-for-ios.md)
{% endcontent-ref %}

### рд╣реЛрд╕реНрдЯрдирд╛рдо рдЬрд╛рдВрдЪ

TLS рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХреА рд╕рддреНрдпрд╛рдкрдирд╛ рдХрд░рдиреЗ рдХреА рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛ рд╣реИ рдХрд┐ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХреЛ рдПрдХ **рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп** **рд╕реАрдП** рджреНрд╡рд╛рд░рд╛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди **рдпрд╣ рдирд╣реАрдВ рдЬрд╛рдВрдЪрд╛ рдЬрд╛рддрд╛** рд╣реИ рдХрд┐ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХрд╛ рд╣реЛрд╕реНрдЯрдирд╛рдо рд╡рд╣реА рд╣реЛрд╕реНрдЯрдирд╛рдо рд╣реИ рдЬрд┐рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред\
рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд░реНрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЖрдИрдлреЛрди рдореЗрдВ рдмрд░реНрдк рд╕реАрдП рдХрд╛ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдмрд░реНрдк рдХреЗ рд╕рд╛рде рдПрдХ рдирдпрд╛ рдкреНрд░рдорд╛рдгрдкрддреНрд░ **рдПрдХ рдЕрд▓рдЧ рд╣реЛрд╕реНрдЯрдирд╛рдо рдХреЗ рд▓рд┐рдП рдмрд░реНрдк рдХреЗ рд╕рд╛рде рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрднреА рднреА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдХреБрдЫ рдЧрд▓рдд рд╣реИред

### рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкрд┐рдирд┐рдВрдЧ

рдпрджрд┐ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд╣реА рдврдВрдЧ рд╕реЗ SSL рдкрд┐рдирд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗрд╡рд▓ рддрдм рдХрд╛рдо рдХрд░реЗрдЧрд╛ рдЬрдм рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдЙрдореНрдореАрдж рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╕рдордп **рдпрд╣ рд╕рдорд╕реНрдпрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдмрд░реНрдк рдЕрдкрдирд╛ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рджрд╛рди рдХрд░реЗрдЧрд╛ред**\
рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рдЗрд╕ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди [**SSL Kill Switch**](https://github.com/nabla-c0d3/ssl-kill-switch2) рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ [**Burp Mobile Assistant**](https://portswigger.net/burp/documentation/desktop/mobile/config-ios-device) рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рднреА **objection** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ `ios sslpinning disable`

## рд╡рд┐рд╡рд┐рдз

* **`/System/Library`** рдореЗрдВ рдЖрдк рдлреЛрди рдореЗрдВ рд╕рд┐рд╕реНрдЯрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдлреНрд░реЗрдорд╡рд░реНрдХреНрд╕ рдкрд╛рдПрдВрдЧреЗ
* рдпреВрдЬрд░ рджреНрд╡рд╛рд░рд╛ рдПрдк рд╕реНрдЯреЛрд░ рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХреА рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЗрдВ **`/User/Applications`** рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддреА рд╣реИрдВ
* рдФрд░ **`/User/Library`** рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрддрд░ рдХреА рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рд╣реЗрдЬреЗ рдЧрдП рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИ
* рдЖрдк **`/User/Library/Notes/notes.sqlite`** рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд╕рд╣реЗрдЬреЗ рдЧрдП рдиреЛрдЯреНрд╕ рдХреЛ рдкрдврд╝ рд╕рдХреЗрдВред
* рдЗрдВрд╕реНрдЯреЙрд▓ рдХреА рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ (**`/User/Applications/<APP ID>/`**) рдЖрдк рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдлрд╝рд╛рдЗрд▓реЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ:
* **`iTunesArtwork`**: рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдЖрдЗрдХрди
* **`iTunesMetadata.plist`**: рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдЬрд╛рдирдХрд╛рд░реА рдЬреЛ рдПрдк рд╕реНрдЯреЛрд░ рдореЗрдВ рдЙрдкрдпреЛрдЧ рд╣реЛрддреА рд╣реИ
* **`/Library/*`**: рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ рдФрд░ рдХреИрд╢ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред **`/Library/Cache/Snapshots/*`** рдореЗрдВ рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдореЗрдВ рднреЗрдЬрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐рдП рдЧрдП рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд╛рдПрдВрдЧреЗред

### рд╣реЙрдЯ рдкреИрдЪрд┐рдВрдЧ / рдЕрдирд┐рд╡рд╛рд░реНрдп рдЕрдкрдбреЗрдЯрд┐рдВрдЧ

рдбреЗрд╡рд▓рдкрд░ рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕рднреА рд╕реНрдерд╛рдкрдирд╛рдУрдВ рдХреЛ рддреБрд░рдВрдд рд░рд┐рдореЛрдЯрд▓реА **рдкреИрдЪ рдХрд░ рд╕рдХрддрд╛ рд╣реИ** рдмрд┐рдирд╛ рдПрдк рд╕реНрдЯреЛрд░ рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕рдмрдорд┐рдЯ рдХрд░рдиреЗ рдФрд░ рдордВрдЬреВрд░реА рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛ред\
рдЗрд╕ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдЖрдорддреМрд░ рдкрд░ [**JSPatch**](https://github.com/bang590/JSPatch) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдд
## рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА

* [https://github.com/ivRodriguezCA/RE-iOS-Apps/](https://github.com/ivRodriguezCA/RE-iOS-Apps/) IOS рдореБрдлреНрдд рдХреЛрд░реНрд╕ ([https://syrion.me/blog/ios-swift-antijailbreak-bypass-frida/](https://syrion.me/blog/ios-swift-antijailbreak-bypass-frida/))
* [https://www.sans.org/reading-room/whitepapers/testing/ipwn-apps-pentesting-ios-applications-34577](https://www.sans.org/reading-room/whitepapers/testing/ipwn-apps-pentesting-ios-applications-34577)
* [https://www.slideshare.net/RyanISI/ios-appsecurityminicourse](https://www.slideshare.net/RyanISI/ios-appsecurityminicourse)
* [https://github.com/prateek147/DVIA](https://github.com/prateek147/DVIA)
* [https://github.com/prateek147/DVIA-v2](https://github.com/prateek147/DVIA-v2)
* [https://github.com/OWASP/MSTG-Hacking-Playground%20](https://github.com/OWASP/MSTG-Hacking-Playground)
* OWASP iGoat [_https://github.com/OWASP/igoat_](https://github.com/OWASP/igoat) <<< Objective-C рд╕рдВрд╕реНрдХрд░рдг [_https://github.com/OWASP/iGoat-Swift_](https://github.com/OWASP/iGoat-Swift) <<< Swift рд╕рдВрд╕реНрдХрд░рдг
* [https://github.com/authenticationfailure/WheresMyBrowser.iOS](https://github.com/authenticationfailure/WheresMyBrowser.iOS)
* [https://github.com/nabla-c0d3/ssl-kill-switch2](https://github.com/nabla-c0d3/ssl-kill-switch2)

<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рдмрд╕реЗ рдЙрдиреНрдирдд рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рд╡рд░реНрдХрдлрд╝реНрд▓реЛ** рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдирд╛рдПрдВ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░реЗрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рдХреА рдЬрд╛рдП? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдкрд╣реБрдВрдЪ** рдЪрд╛рд╣рд┐рдП? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **[ЁЯТм](https://emojipedia.org/speech-balloon/) Discord рд╕рдореВрд╣** рдпрд╛ **[telegram рд╕рдореВрд╣](https://t.me/peass)** рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛** рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╣рдореЗрдВ PR рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред**

</details>
