<details>

<summary><strong>Apprenez le hacking AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres moyens de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* Obtenez le [**merchandising officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La Famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Partagez vos astuces de hacking en soumettant des PR aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>


**Page copi√©e depuis** [**https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#universal-links**](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#universal-links)

Si vous n'avez que l'IPA de l'application ou simplement l'application install√©e sur un appareil jailbreak√©, vous ne pourrez normalement pas trouver de fichiers `.entitlements`. Cela pourrait √™tre √©galement le cas pour le fichier `embedded.mobileprovision`. N√©anmoins, vous devriez √™tre capable d'extraire les listes de propri√©t√©s des entitlements du binaire de l'application vous-m√™me (que vous avez pr√©c√©demment obtenu comme expliqu√© dans le chapitre "iOS Basic Security Testing", section "Acquiring the App Binary").

Les √©tapes suivantes devraient fonctionner m√™me lorsque vous ciblez un binaire chiffr√©. Si pour une raison quelconque cela ne fonctionne pas, vous devrez d√©crypter et extraire l'application avec par exemple Clutch (si compatible avec votre version d'iOS), frida-ios-dump ou similaire.

**Extraction de la liste Plist des Entitlements du Binaire de l'Application**

Si vous avez le binaire de l'application sur votre ordinateur, une approche consiste √† utiliser binwalk pour extraire (`-e`) tous les fichiers XML (`-y=xml`) :
```bash
$ binwalk -e -y=xml ./Telegram\ X

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
1430180       0x15D2A4        XML document, version: "1.0"
1458814       0x16427E        XML document, version: "1.0"
```
Ou vous pouvez utiliser radare2 (`-qc` pour ex√©cuter _silencieusement_ une commande et quitter) pour rechercher toutes les cha√Ænes dans le binaire de l'application (`izz`) contenant "PropertyList" (`~PropertyList`) :
```bash
$ r2 -qc 'izz~PropertyList' ./Telegram\ X

0x0015d2a4 ascii <?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<!DOCTYPE plist PUBLIC
"-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">
...<key>com.apple.security.application-groups</key>\n\t\t<array>
\n\t\t\t<string>group.ph.telegra.Telegraph</string>...

0x0016427d ascii H<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC
"-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n
<dict>\n\t<key>cdhashes</key>...
```
Dans les deux cas (binwalk ou radare2), nous avons pu extraire les m√™mes deux fichiers `plist`. Si nous inspectons le premier (0x0015d2a4), nous voyons que nous avons pu r√©cup√©rer compl√®tement [le fichier d'entitlements original de Telegram](https://github.com/peter-iakovlev/Telegram-iOS/blob/77ee5c4dabdd6eb5f1e2ff76219edf7e18b45c00/Telegram-iOS/Telegram-iOS-AppStoreLLC.entitlements).

> Remarque : la commande `strings` ne sera pas utile ici car elle ne pourra pas trouver cette information. Il vaut mieux utiliser grep avec le drapeau `-a` directement sur le binaire ou utiliser radare2 (`izz`)/rabin2 (`-zz`).

Si vous acc√©dez au binaire de l'application sur l'appareil jailbreak√© (par exemple via SSH), vous pouvez utiliser grep avec le drapeau `-a, --text` (traite tous les fichiers comme du texte ASCII) :
```bash
$ grep -a -A 5 'PropertyList' /var/containers/Bundle/Application/
15E6A58F-1CA7-44A4-A9E0-6CA85B65FA35/Telegram X.app/Telegram\ X

<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>com.apple.security.application-groups</key>
<array>
...
```
Jouez avec le drapeau `-A num, --after-context=num` pour afficher plus ou moins de lignes. Vous pouvez √©galement utiliser des outils comme ceux que nous avons pr√©sent√©s ci-dessus, si vous les avez √©galement install√©s sur votre appareil iOS jailbreak√©.

> Cette m√©thode devrait fonctionner m√™me si le binaire de l'application est toujours chiffr√© (elle a √©t√© test√©e contre plusieurs applications de l'App Store).

<details>

<summary><strong>Apprenez le hacking AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres moyens de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* Obtenez le [**merchandising officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La Famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez**-moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Partagez vos astuces de hacking en soumettant des PR aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
