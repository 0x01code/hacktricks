# Kuchimbua Haki za Matumizi kutoka kwa Programu Iliyokompiliwa

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi wa PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>


Muhtasari wa ukurasa [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0069/#review-entitlements-embedded-in-the-compiled-app-binary](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0069/#review-entitlements-embedded-in-the-compiled-app-binary)

### **Kuchimbua Haki za Matumizi na Faili za Uthibitisho wa Simu**

Wakati unashughulika na IPA ya programu au programu iliyosanikishwa kwenye kifaa kilichovunjwa, huenda usiweze kupata faili za `.entitlements` au faili ya `embedded.mobileprovision` moja kwa moja. Walakini, orodha za haki za matumizi bado zinaweza kuchimbwa kutoka kwa programu iliyokompiliwa, kwa kufuata taratibu zilizoainishwa katika sura ya "Uchunguzi wa Usalama wa Msingi wa iOS", haswa sehemu ya "Kupata Programu Iliyokompiliwa".

Hata na programu iliyofichwa, hatua fulani zinaweza kutumika kuchimbua faili hizi. Ikiwa hatua hizi zinashindwa, zana kama Clutch (ikiwa inalingana na toleo la iOS), frida-ios-dump, au zana kama hizo zinaweza kuhitajika kufuta na kuchimbua programu.

#### **Kuchimbua Plist ya Haki za Matumizi kutoka kwa Programu Iliyokompiliwa**

Ukiwa na programu iliyokompiliwa inayopatikana kwenye kompyuta, **binwalk** inaweza kutumika kuchimbua faili zote za XML. Amri ifuatayo inaonyesha jinsi ya kufanya hivyo:
```bash
$ binwalk -e -y=xml ./Telegram\ X

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
1430180       0x15D2A4        XML document, version: "1.0"
1458814       0x16427E        XML document, version: "1.0"
```
Badala yake, **radare2** inaweza kutumika kwa kimya kimya kutekeleza amri na kumaliza, kutafuta maneno yote katika faili ya programu ambayo ina "PropertyList":
```bash
$ r2 -qc 'izz~PropertyList' ./Telegram\ X

0x0015d2a4 ascii <?xml version="1.0" encoding="UTF-8" standalone="yes"?>...
0x0016427d ascii H<?xml version="1.0" encoding="UTF-8"?>...
```
Wote njia, binwalk na radare2, huwezesha uchimbaji wa faili za `plist`, na ukaguzi wa ya kwanza (0x0015d2a4) unaonyesha kupona kwa mafanikio ya [faili ya awali ya haki za Telegram](https://github.com/peter-iakovlev/Telegram-iOS/blob/77ee5c4dabdd6eb5f1e2ff76219edf7e18b45c00/Telegram-iOS/Telegram-iOS-AppStoreLLC.entitlements).

Kwa faili za programu zinazopatikana kwenye vifaa vilivyovunjwa (kwa mfano, kupitia SSH), amri ya **grep** na bendera ya `-a, --text` inaweza kutumika kutibu faili zote kama maandishi ya ASCII:
```bash
$ grep -a -A 5 'PropertyList' /var/containers/Bundle/Application/...
```
Kurekebisha bendera ya `-A num, --after-context=num` inaruhusu kuonyesha mistari zaidi au chache. Njia hii ni inafaa hata kwa programu za binary zilizofichwa na imehakikiwa kwa programu kadhaa za Duka la App. Zana zilizotajwa hapo awali pia zinaweza kutumika kwenye vifaa vya iOS vilivyofungwa kwa madhumuni kama hayo.

**Note**: Matumizi moja kwa moja ya amri ya `strings` hayapendekeziwi kwa kazi hii kutokana na vikwazo vyake katika kupata habari muhimu. Badala yake, ni vyema kutumia grep na bendera ya `-a` kwenye binary au kutumia radare2 (`izz`)/rabin2 (`-zz`) kwa matokeo yenye ufanisi zaidi.

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**The PEASS Family**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
