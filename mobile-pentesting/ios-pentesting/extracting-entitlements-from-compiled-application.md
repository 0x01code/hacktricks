# рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рдмрдиреЗрдВ рдФрд░ рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде!

рдЕрдиреНрдп HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ [SUBSCRIPTION PLANS](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ NFTs рд╕рдВрдЧреНрд░рд╣ [The PEASS Family](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ
* **Join the** ЁЯТм [Discord group](https://discord.gg/hRep4RUj7f) рдпрд╛ [telegram group](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ рдореБрдЭреЗ Twitter рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВ ЁЯРж [@carlospolopm](https://twitter.com/carlospolopm)ред
* **HackTricks** рдФрд░ [HackTricks Cloud](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

рд╕рд╛рд░рд╛рдВрд╢: [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0069/#review-entitlements-embedded-in-the-compiled-app-binary](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0069/#review-entitlements-embedded-in-the-compiled-app-binary)

### **рдХреЙрдВрдкрд╛рдЗрд▓ рдХрд┐рдП рдЧрдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рдирд╛**

рдЬрдм рдПрдХ рдРрдк рдХреЗ IPA рдпрд╛ рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдРрдк рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реЛ, рддреЛ `.entitlements` рдлрд╝рд╛рдЗрд▓реЗрдВ рдпрд╛ `embedded.mobileprovision` рдлрд╝рд╛рдЗрд▓ рд╕реАрдзреЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреА рд╕рдВрдкрддреНрддрд┐ рд╕реВрдЪреА рдЕрдм рднреА рдРрдк рдмрд╛рдЗрдирд░реА рд╕реЗ рдирд┐рдХрд╛рд▓реА рдЬрд╛ рд╕рдХрддреА рд╣реИ, "iOS Basic Security Testing" рдЕрдзреНрдпрд╛рдп рдореЗрдВ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ "рдРрдк рдмрд╛рдЗрдирд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛" рдЦрдВрдбред

рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдмрд╛рдЗрдирд░реА рдХреЗ рд╕рд╛рде рднреА, рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдХрджрдо рдЕрдкрдирд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ рдпреЗ рдХрджрдо рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдВ, рддреЛ Clutch (рдпрджрд┐ iOS рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рд╣реЛ), frida-ios-dump, рдпрд╛ рд╕рдорд╛рди рдЙрдкрдпреЛрдЧреА рд╕реБрд╡рд┐рдзрд╛рдПрдБ рдРрдк рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред

#### **рдРрдк рдмрд╛рдЗрдирд░реА рд╕реЗ рдЕрдзрд┐рдХрд╛рд░реЛрдВ Plist рдХреЛ рдирд┐рдХрд╛рд▓рдирд╛**

рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдРрдк рдмрд╛рдЗрдирд░реА рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдкрд░, **binwalk** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рднреА XML рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдХрдорд╛рдВрдб рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдРрд╕рд╛ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
$ binwalk -e -y=xml ./Telegram\ X

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
1430180       0x15D2A4        XML document, version: "1.0"
1458814       0x16427E        XML document, version: "1.0"
```
рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, **radare2** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдХрдорд╛рдВрдб рдХреЛ рд╢рд╛рдВрдд рд░реВрдк рд╕реЗ рдЪрд▓рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, "PropertyList" рд╢рдмреНрдж рд╡рд╛рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрд╛рдЗрдирд░реА рдореЗрдВ рд╕рднреА рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреА рдЦреЛрдЬ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ:
```bash
$ r2 -qc 'izz~PropertyList' ./Telegram\ X

0x0015d2a4 ascii <?xml version="1.0" encoding="UTF-8" standalone="yes"?>...
0x0016427d ascii H<?xml version="1.0" encoding="UTF-8"?>...
```
Dono tarike, binwalk aur radare2, `plist` files ka extraction possible bana dete hain, pehle wale ka (0x0015d2a4) inspection karke [Telegram se original entitlements file](https://github.com/peter-iakovlev/Telegram-iOS/blob/77ee5c4dabdd6eb5f1e2ff76219edf7e18b45c00/Telegram-iOS/Telegram-iOS-AppStoreLLC.entitlements) ka safal recovery pata chalta hai.

Jailbroken devices par app binaries tak pahunchne ke liye **grep** command ka istemal `-a, --text` flag ke sath kiya ja sakta hai jisse sabhi files ko ASCII text ke roop mein treat kiya ja sake:
```bash
$ grep -a -A 5 'PropertyList' /var/containers/Bundle/Application/...
```
рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдмрдврд╝рд╛рдиреЗ рдпрд╛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `-A num, --after-context=num` рдлреНрд▓реИрдЧ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдирд╛ рдЕрдзрд┐рдХ рдпрд╛ рдХрдо рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдпрд╣ рд╡рд┐рдзрд┐ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдРрдк рдмрд╛рдЗрдирд░реА рдХреЗ рд▓рд┐рдП рднреА рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╣реИ рдФрд░ рдЗрд╕реЗ рдХрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдЯреЛрд░ рдРрдкреНрд╕ рдХреЗ рдЦрд┐рд▓рд╛рдл рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдкрд╣рд▓реЗ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЬреЗрд▓рдмреНрд░реЛрдХрди iOS рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рднреА рд╕рдорд╛рди рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рдзреНрдпрд╛рди рджреЗрдВ**: рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП `strings` рдХрдорд╛рдВрдб рдХрд╛ рд╕реАрдзрд╛ рдЙрдкрдпреЛрдЧ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╕рдВрдмрдВрдзрд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдЦреЛрдЬрдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдмрд╛рдЗрдирд░реА рдкрд░ grep рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдпрд╛ radare2 (`izz`)/rabin2 (`-zz`) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЕрдзрд┐рдХ рдкреНрд░рднрд╛рд╡реА рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд╢рдВрд╕рд┐рдд рд╣реИред
