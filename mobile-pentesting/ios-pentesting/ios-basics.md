<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks рдХреНрд▓рд╛рдЙрдб тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж рдЯреНрд╡рд┐рдЯрд░ ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П рдЯреНрд╡рд┐рдЪ ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе рдпреВрдЯреНрдпреВрдм ЁЯОе</strong></a></summary>

- рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT рд╕рдВрдЧреНрд░рд╣**](https://opensea.io/collection/the-peass-family)

- [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ

- **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред**

</details>


# рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡рд┐рднрд╛рдЬрди рдФрд░ рд╕реИрдВрдбрдмреЙрдХреНрд╕

рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдкрд╣реБрдВрдЪреЗ рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЛрдмрд╛рдЗрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рддреЗ рд╣реИрдВ рдЬрдмрдХрд┐ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рддреА рд╣реИрдВред\
рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрд░рд╡рд╛рдИрдпреЛрдВ рдкрд░ рдмреЗрд╣рддрд░ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рджреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рдПрдХ рд╣реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ (рдореЛрдмрд╛рдЗрд▓) рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рддреА рд╣реИрдВ, рддреЛ рдЙрдиреНрд╣реЗрдВ **рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдпрд╛ рдЙрд╕реЗ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛрддреА**ред

рдкреНрд░рддреНрдпреЗрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ **`private/var/mobile/Applications/{random ID}`** рдХреЗ рддрд╣рдд рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред\
рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдХреБрдЫ рд╕рд┐рд╕реНрдЯрдо рдХреНрд╖реЗрддреНрд░реЛрдВ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ (SMS, рдлреЛрди рдХреЙрд▓...) рдХреЗ рд▓рд┐рдП рд╕реАрдорд┐рдд рдкрдарди рдЙрдкрдпреЛрдЧреНрдпрддрд╛ рд╣реЛрддреА рд╣реИред рдпрджрд┐ рдХреЛрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди **рд╕рдВрд░рдХреНрд╖рд┐рдд рдХреНрд╖реЗрддреНрд░** рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рддреЛ **рдЕрдиреБрдорддрд┐ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдкреЙрдк-рдЕрдк** рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИред

# рдбреЗрдЯрд╛ рд╕рдВрд░рдХреНрд╖рдг

рдРрдк рдбреЗрд╡рд▓рдкрд░ iOS _рдбреЗрдЯрд╛ рд╕рдВрд░рдХреНрд╖рдг_ API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлреНрд▓реИрд╢ рдореЗрдореЛрд░реА рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП **рдлрд╛рдЗрди-рдЧреНрд░реЗрдиреНрдб рдПрдХреНрд╕реЗрд╕ рдирд┐рдпрдВрддреНрд░рдг** рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпреЗ API **рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдХреНрд▓реЗрд╡ рдкреНрд░реЛрд╕реЗрд╕рд░** (SEP) рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИрдВред SEP рдПрдХ рдХреЛрдкреНрд░реЛрд╕реЗрд╕рд░ рд╣реИ рдЬреЛ **рдбреЗрдЯрд╛ рд╕рдВрд░рдХреНрд╖рдг рдФрд░ рдХреБрдВрдЬреА рдкреНрд░рдмрдВрдзрди** рдХреЗ рд▓рд┐рдП **рдХреНрд░рд┐рдкреНрдЯреЛрдЧреНрд░рд╛рдлрд┐рдХ рд╕рдВрдЪрд╛рд▓рди** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреБрдВрдЬреА-**рдбрд┐рд╡рд╛рдЗрд╕ UID** (рдпреВрдирд┐рдХ рдЖрдИрдбреА) **рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдХреНрд▓реЗрд╡** рдореЗрдВ **рдПрдореНрдмреЗрдб рдХреА рдЬрд╛рддреА рд╣реИ**, рдЬрд┐рд╕рд╕реЗ рдбреЗрдЯрд╛ рд╕рдВрд░рдХреНрд╖рдг рдХреА рдЕрдЦрдВрдбрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рд╣реЛрддреА рд╣реИ, рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХрд░реНрдирд▓ рдХреЛ рдХреНрд╖рддрд┐ рдкрд╣реБрдВрдЪрд╛рдИ рдЬрд╛рддреА рд╣реИред

рдЬрдм рдПрдХ **рдлрд╝рд╛рдЗрд▓ рдбрд┐рд╕реНрдХ рдкрд░ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ**, рддреЛ рдПрдХ рдирдпрд╛ **256-рдмрд┐рдЯ AES рдХреБрдВрдЬреА рдЙрддреНрдкрдиреНрди** рдХреА рдЬрд╛рддреА рд╣реИ рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдХреНрд▓реЗрд╡ рдХреЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЖрдзрд╛рд░рд┐рдд рдпрд╛рджреГрдЪреНрдЫ
* **`kSecAttrAccessibleAlways`**: Keychain рдЖрдЗрдЯрдо рдореЗрдВ рдбреЗрдЯрд╛ рд╣рдореЗрд╢рд╛ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЪрд╛рд╣реЗ рдбрд┐рд╡рд╛рдЗрд╕ рд▓реЙрдХ рд╣реЛ рдпрд╛ рди рд╣реЛред
* **`kSecAttrAccessibleAlwaysThisDeviceOnly`**: Keychain рдЖрдЗрдЯрдо рдореЗрдВ рдбреЗрдЯрд╛ рд╣рдореЗрд╢рд╛ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЪрд╛рд╣реЗ рдбрд┐рд╡рд╛рдЗрд╕ рд▓реЙрдХ рд╣реЛ рдпрд╛ рди рд╣реЛред рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ iCloud рдпрд╛ рд╕реНрдерд╛рдиреАрдп рдмреИрдХрдЕрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред
* **`kSecAttrAccessibleAfterFirstUnlock`**: рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдПрдХ рдмрд╛рд░ рдЙрдирд▓реЙрдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рд╣реА рдбреЗрдЯрд╛ рдХреЛ Keychain рдЖрдЗрдЯрдо рдореЗрдВ рдПрдХреНрд╕реЗрд╕ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* **`kSecAttrAccessibleAfterFirstUnlockThisDeviceOnly`**: рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдПрдХ рдмрд╛рд░ рдЙрдирд▓реЙрдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рд╣реА рдбреЗрдЯрд╛ рдХреЛ Keychain рдЖрдЗрдЯрдо рдореЗрдВ рдПрдХреНрд╕реЗрд╕ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рдПрдЯреНрд░рд┐рдмреНрдпреВрдЯ рд╡рд╛рд▓реЗ рдЖрдЗрдЯрдо рдирдП рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рдорд╛рдЗрдЧреНрд░реЗрдЯ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред рдЗрд╕рд▓рд┐рдП, рдПрдХ рдЕрд▓рдЧ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдмреИрдХрдЕрдк рд╕реЗ рдмрд╣рд╛рд▓ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпреЗ рдЖрдЗрдЯрдо рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реЛрдВрдЧреЗред
* **`kSecAttrAccessibleWhenUnlocked`**: рдбреЗрдЯрд╛ рдХреЛ Keychain рдЖрдЗрдЯрдо рдореЗрдВ рдЙрдирд▓реЙрдХ рдХрд┐рдП рдЬрд╛рдиреЗ рдХреЗ рджреМрд░рд╛рди рд╣реА рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* **`kSecAttrAccessibleWhenUnlockedThisDeviceOnly`**: рдбреЗрдЯрд╛ рдХреЛ Keychain рдЖрдЗрдЯрдо рдореЗрдВ рдЙрдирд▓реЙрдХ рдХрд┐рдП рдЬрд╛рдиреЗ рдХреЗ рджреМрд░рд╛рди рд╣реА рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ iCloud рдпрд╛ рд╕реНрдерд╛рдиреАрдп рдмреИрдХрдЕрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред
* **`kSecAttrAccessibleWhenPasscodeSetThisDeviceOnly`**: рдбреЗрдЯрд╛ рдХреЛ Keychain рдореЗрдВ рдЙрдирд▓реЙрдХ рдХрд┐рдП рдЬрд╛рдиреЗ рдкрд░ рд╣реА рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рд╕реБрд░рдХреНрд╖рд╛ рд╡рд░реНрдЧ рдХреЗрд╡рд▓ рддрднреА рдЙрдкрд▓рдмреНрдз рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдкрд╛рд╕рдХреЛрдб рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИред рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ iCloud рдпрд╛ рд╕реНрдерд╛рдиреАрдп рдмреИрдХрдЕрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

**`AccessControlFlags`** рдХреБрдВрдЬреА рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ (`SecAccessControlCreateFlags`):

* **`kSecAccessControlDevicePasscode`**: рдкрд╛рд╕рдХреЛрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдЗрдЯрдо рддрдХ рдкрд╣реБрдВрдЪреЗрдВред
* **`kSecAccessControlBiometryAny`**: Touch ID рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рдЙрдВрдЧрд▓рд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдПрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдЗрдЯрдо рддрдХ рдкрд╣реБрдВрдЪреЗрдВред рдЙрдВрдЧрд▓реА рдЬреЛрдбрд╝рдиреЗ рдпрд╛ рд╣рдЯрд╛рдиреЗ рд╕реЗ рдЖрдЗрдЯрдо рдЕрдорд╛рдиреНрдп рдирд╣реАрдВ рд╣реЛрдЧрд╛ред
* **`kSecAccessControlBiometryCurrentSet`**: Touch ID рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рдЙрдВрдЧрд▓рд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдПрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдЗрдЯрдо рддрдХ рдкрд╣реБрдВрдЪреЗрдВред рдЙрдВрдЧрд▓реА рдЬреЛрдбрд╝рдиреЗ рдпрд╛ рд╣рдЯрд╛рдиреЗ рд╕реЗ рдЖрдЗрдЯрдо рдЕрдорд╛рдиреНрдп рд╣реЛрдЧрд╛ред
* **`kSecAccessControlUserPresence`**: рдкрдВрдЬреАрдХреГрдд рдЙрдВрдЧрд▓рд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдПрдХ (Touch ID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ) рдпрд╛ рдкрд╛рд╕рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдЗрдЯрдо рддрдХ рдкрд╣реБрдВрдЪреЗрдВред

рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ Touch ID рджреНрд╡рд╛рд░рд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХреА рдЧрдИ рдХреБрдВрдЬреА (рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ `kSecAccessControlBiometryAny` рдпрд╛ `kSecAccessControlBiometryCurrentSet`) рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдХреНрд▓реЗрд╡ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддреА рд╣реИ: Keychain рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдЯреЛрдХрди рд╣реЛрддрд╛ рд╣реИ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХреБрдВрдЬреА рдирд╣реАрдВред рдХреБрдВрдЬреА рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдХреНрд▓реЗрд╡ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддреА рд╣реИред

рдЖрдИрдлреЛрди рдЙрдирд▓реЙрдХ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдкрд╛рд╕рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Keychain рдореЗрдВ рдЫрд┐рдкреЗ рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рд╕рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред

iOS рдЖрдИрдбреЗрдВрдЯрд┐рдлрд╛рдпрд░ рдкреНрд░рд┐рдлрд┐рдХреНрд╕ (рдЯреАрдо рдЖрдИрдбреА) рдФрд░ рдмрдВрдбрд▓ рдЖрдИрдбреЗрдВрдЯрд┐рдлрд╛рдпрд░ (рдбреЗрд╡рд▓рдкрд░ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Keychain рдЖрдЗрдЯрдореНрд╕ рдкрд░ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрд╛рдж, рдПрдХ рд╣реА рдЯреАрдо **2 рдРрдкреНрд╕ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреА рд╣реИрдВ рддрд╛рдХрд┐ рд╡реЗ Keychain рдЖрдЗрдЯрдореНрд╕ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░ рд╕рдХреЗрдВ**ред

рдЬрдм рдмреИрдХрдЕрдк рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рд░рдВрдн рд╣реЛрддреА рд╣реИ, рддреЛ Keychain **рдбреЗрдЯрд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд░рд╣рддрд╛ рд╣реИ рдФрд░ Keychain рдкрд╛рд╕рд╡рд░реНрдб рдмреИрдХрдЕрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ**ред

{% hint style="warning" %}
**рдЬреЗрд▓рдмреНрд░реЛрдХрди рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ Keychain рд╕реБрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред**
{% endhint %}

### **Keychain рдбреЗрдЯрд╛ рд╕реНрдерд╛рдпрд┐рддреНрд╡**

iOS рдкрд░, рдЬрдм рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЕрдирдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ Keychain рдбреЗрдЯрд╛ рдХреЛ рдбрд┐рд╡рд╛рдЗрд╕ рджреНрд╡рд╛рд░рд╛ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдбреЗрдЯрд╛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрджрд┐ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмрд┐рдирд╛ рдлреИрдХреНрдЯрд░реА рд░реАрд╕реЗрдЯ рдХрд┐рдП рдЕрдкрдиреА рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдмреЗрдЪрддрд╛ рд╣реИ, рддреЛ рдкрд┐рдЫрд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЦрд╛рддреЛрдВ рдФрд░ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЦрд░реАрджрд╛рд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЙрд╕реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдкреБрдирдГ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреЛрдИ рддрдХрдиреАрдХреА рдХреНрд╖рдорддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред

рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЕрдирдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рддреЗ рд╕рдордп рдбреЗрдЯрд╛ рдХреЛ рд╡рд╛рдЗрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреЛрдИ iOS API рдирд╣реАрдВ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрджрдо рдЙрдард╛рдиреЗ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ Keychain рдбреЗрдЯрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рдмреАрдЪ рд╕реНрдерд╛рдпрд┐рддреНрд╡ рдмрдирд╛рдП рд░рдЦрдиреЗ рд╕реЗ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХреЗ:

* рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рдмрд╛рдж рдкрд╣рд▓реА рдмрд╛рд░ рд▓реЙрдиреНрдЪ рдХрд░рддреЗ рд╕рдордп, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ
```objectivec
let userDefaults = UserDefaults.standard

if userDefaults.bool(forKey: "hasRunBefore") == false {
// Remove Keychain items here

// Update the flag indicator
userDefaults.set(true, forKey: "hasRunBefore")
userDefaults.synchronize() // Forces the app to update UserDefaults
}
```
* рдПрдХ iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рд▓реЙрдЧрдЖрдЙрдЯ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рддреЗ рд╕рдордп, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЦрд╛рддрд╛ рд▓реЙрдЧрдЖрдЙрдЯ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдХреЗ рд░реВрдк рдореЗрдВ Keychain рдбреЗрдЯрд╛ рд╕рд╛рдл рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЕрдирдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЕрдкрдиреЗ рдЦрд╛рддреЛрдВ рдХреЛ рд╕рд╛рдл рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓реЗрдЧреАред

# **рдРрдк рдХреНрд╖рдорддрд╛рдПрдВ**

**рдкреНрд░рддреНрдпреЗрдХ рдРрдк рдХрд╛ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рд╣реЛрдо рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рд╕реИрдВрдбрдмреЙрдХреНрд╕ рд╣реЛрддрд╛ рд╣реИ**, рддрд╛рдХрд┐ рд╡реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд┐рдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдпрд╛ рдЕрдиреНрдп рдРрдкреНрд╕ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд┐рдд рдлрд╝рд╛рдЗрд▓реЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рдкрд╛ рд╕рдХреЗрдВред рдпреЗ рдкреНрд░рддрд┐рдмрдВрдз рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдиреАрддрд┐рдпреЛрдВ (рдЬрд┐рдиреНрд╣реЗрдВ _рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓_ рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ [рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдмреАрдПрд╕рдбреА (MAC) рдЕрдирд┐рд╡рд╛рд░реНрдп рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ](http://www.trustedbsd.org/mac.html) рджреНрд╡рд╛рд░рд╛ рдПрдХ рдХрд░реНрдирд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдХреБрдЫ [**рдХреНрд╖рдорддрд╛рдПрдВ/рдЕрдиреБрдорддрд┐рдпрд╛рдБ**](https://help.apple.com/developer-account/#/dev21218dfd6) рдРрдк рдХреЗ рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ (рдЬреИрд╕реЗ рдбреЗрдЯрд╛ рд╕рдВрд░рдХреНрд╖рдг рдпрд╛ Keychain рд╕рд╛рдЭрд╛ рдХрд░рдирд╛) рдФрд░ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рдмрд╛рдж рд╕реАрдзреЗ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛрдВрдЧреАред рд╣рд╛рд▓рд╛рдВрдХрд┐, рджреВрд╕рд░реЛрдВ рдХреЗ рд▓рд┐рдП, **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рд╕реАрдзреЗ рдкреВрдЫрд╛ рдЬрд╛рдПрдЧрд╛ рдЬрдм рдРрдк рдкрд╣рд▓реА рдмрд╛рд░ рд╕рдВрд░рдХреНрд╖рд┐рдд рд╕рдВрд╕рд╛рдзрди рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдЧрд╛**ред

[_рдЙрджреНрджреЗрд╢реНрдп рд╕реНрдЯреНрд░рд┐рдВрдЧ_](https://developer.apple.com/documentation/uikit/core\_app/protecting\_the\_user\_s\_privacy/accessing\_protected\_resources?language=objc#3037322) рдпрд╛ _рдЙрдкрдпреЛрдЧ рд╡рд┐рд╡рд░рдг рд╕реНрдЯреНрд░рд┐рдВрдЧ_ рд╡реЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдкрд╛рда рд╣реИрдВ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкреНрд░реЛрдЯреЗрдХреНрдЯреЗрдб рдбреЗрдЯрд╛ рдпрд╛ рд╕рдВрд╕рд╛рдзрди рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЕрдиреБрдорддрд┐ рдХреЗ рд▓рд┐рдП рд╕рд┐рд╕реНрдЯрдо рдХреА рдЕрдиреБрдорддрд┐ рдЕрдиреБрд░реЛрдз рдЕрд▓рд░реНрдЯ рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред

![](https://gblobscdn.gitbook.com/assets%2F-LH00RC4WVf3-6Ou4e0l%2F-Lf1APQHyCHdAvoJSvc\_%2F-Lf1AQw8W2q7BB5-il7r%2Fpermission\_request\_alert.png?alt=media)

рдпрджрд┐ рдореВрд▓ рд╕реНрд░реЛрдд рдХреЗ рдкрд╛рд╕ рд╣реЛ, рддреЛ рдЖрдк `Info.plist` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* Xcode рдХреЗ рд╕рд╛рде рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЦреЛрд▓реЗрдВред
* рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдВрдкрд╛рджрдХ рдореЗрдВ `Info.plist` рдлрд╝рд╛рдЗрд▓ рдвреВрдВрдвреЗрдВ рдФрд░ рдЦреЛрд▓реЗрдВ рдФрд░ `"Privacy -"` рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдХреБрдВрдЬреАрдпреЛрдВ рдХреА рдЦреЛрдЬ рдХрд░реЗрдВред

рдЖрдк рджрд╛рдпрд╛рдВ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рд░реЙ рд╡реИрд▓реНрдпреВрдЬ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдп рдХреЛ рд╕реНрд╡рд┐рдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдЗрд╕ рддрд░рд╣, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП `"Privacy - Location When In Use Usage Description"` рдХреЛ `NSLocationWhenInUseUsageDescription` рдореЗрдВ рдмрджрд▓ рджреЗрдЧрд╛)ред

рдпрджрд┐ рдХреЗрд╡рд▓ IPA рд╣реИ:

* IPA рдХреЛ рдЕрдирдЬрд╝рд┐рдк рдХрд░реЗрдВред
* `Info.plist` `Payload/<appname>.app/Info.plist` рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддрд╛ рд╣реИред
* рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдЗрд╕реЗ рдХрдирд╡рд░реНрдЯ рдХрд░реЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП `plutil -convert xml1 Info.plist`) рдЬреИрд╕рд╛ рдХрд┐ "iOS Basic Security Testing" рдЕрдзреНрдпрд╛рдп, рдЕрдиреБрднрд╛рдЧ "The Info.plist File" рдореЗрдВ рд╕рдордЭрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред
* рд╕рднреА _рдЙрджреНрджреЗрд╢реНрдп рд╕реНрдЯреНрд░рд┐рдВрдЧ Info.plist рдХреБрдВрдЬреАрдпреЛрдВ_ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ `UsageDescription` рд╕реЗ рд╕рдорд╛рдкреНрдд рд╣реЛрддреА рд╣реИрдВ:

```markup
<plist version="1.0">
<dict>
<key>NSLocationWhenInUseUsageDescription</key>
<string>Your location is used to provide turn-by-turn directions to your destination.</string>
```

## рдЙрдкрдХрд░рдг рдХреНрд╖рдорддрд╛рдПрдВ

рдЙрдкрдХрд░рдг рдХреНрд╖рдорддрд╛рдПрдВ рдРрдк рд╕реНрдЯреЛрд░ рджреНрд╡рд╛рд░рд╛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИрдВ рдХрд┐ рдХреЗрд╡рд▓ рд╕рдВрдЧрдд рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЬрд╛рдП рдФрд░ рдЗрд╕рд▓рд┐рдП рдРрдк рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛред рд╡реЗ рдРрдк рдХреА `Info.plist` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ [`UIRequiredDeviceCapabilities`](https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple\_ref/doc/plist/info/UIRequiredDeviceCapabilities) рдХреБрдВрдЬреА рдХреЗ рддрд╣рдд рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХреА рдЬрд╛рддреА рд╣реИрдВред
```markup
<key>UIRequiredDeviceCapabilities</key>
<array>
<string>armv7</string>
</array>
```
> рдЖрдорддреМрд░ рдкрд░ рдЖрдкрдХреЛ `armv7` рдХреНрд╖рдорддрд╛ рдорд┐рд▓реЗрдЧреА, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдРрдк рдХреЗрд╡рд▓ armv7 рдЗрдВрд╕реНрдЯреНрд░рдХреНрд╢рди рд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╛ рдпрджрд┐ рдпрд╣ 32/64-рдмрд┐рдЯ рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдРрдк рд╣реИ рддреЛред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдРрдк NFC рдкрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдирд┐рд░реНрднрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ (рдЬреИрд╕реЗ рдХрд┐ рдПрдХ ["NFC рдЯреИрдЧ рд░реАрдбрд░"](https://itunes.apple.com/us/app/nfc-taginfo-by-nxp/id1246143596) рдРрдк)ред [рдЖрд░реНрдХрд╛рдЗрд╡ рдЖрдИрдУрдПрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рд╕рдВрдЧрддрддрд╛ рд╕рдВрджрд░реНрдн](https://developer.apple.com/library/archive/documentation/DeviceInformation/Reference/iOSDeviceCompatibility/DeviceCompatibilityMatrix/DeviceCompatibilityMatrix.html) рдХреЗ рдЕрдиреБрд╕рд╛рд░, NFC рдХреЗрд╡рд▓ iPhone 7 (рдФрд░ iOS 11) рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИред рдПрдХ рдбреЗрд╡рд▓рдкрд░ `nfc` рдбрд┐рд╡рд╛рдЗрд╕ рдХреНрд╖рдорддрд╛ рд╕реЗрдЯ рдХрд░рдХреЗ рд╕рднреА рдЕрд╕рдВрдЧрдд рдбрд┐рд╡рд╛рдЗрд╕реЛрдВ рдХреЛ рдЫреЛрдбрд╝рдирд╛ рдЪрд╛рд╣ рд╕рдХрддрд╛ рд╣реИред

## рдЕрдзрд┐рдХрд╛рд░

> рдЕрдзрд┐рдХрд╛рд░ рдХреБрдВрдЬреА рдорд╛рди-рдорд╛рди рдкреИрд░реЛрдВ рдХреЛ рд╣реИрдВ рдЬреЛ рдРрдк рдореЗрдВ рд╕рд╛рдЗрди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рд░рдирдЯрд╛рдЗрдо рдХрд╛рд░рдХреЛрдВ рдХреЗ рдкрд╛рд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ UNIX рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреАред рдХреНрдпреЛрдВрдХрд┐ рдЕрдзрд┐рдХрд╛рд░ рдбрд┐рдЬрд┐рдЯрд▓реА рд╕рд╛рдЗрди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЗрдиреНрд╣реЗрдВ рдмрджрд▓рд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЕрдзрд┐рдХрд╛рд░ рд╕рд┐рд╕реНрдЯрдо рдРрдкреНрд╕ рдФрд░ рдбреЗрдордиреНрд╕ рджреНрд╡рд╛рд░рд╛ рд╡реНрдпрд╛рдкрдХ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ **рд╡реЗ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░рд┐рдд рдЖрдкрд░реЗрд╢рди рдХрд░ рд╕рдХреЗрдВ рдЬреЛ рдЕрдиреНрдпрдерд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА**ред рдЗрд╕рд╕реЗ рд╕рдВрдХрдЯрдЧреНрд░рд╕реНрдд рд╕рд┐рд╕реНрдЯрдо рдРрдк рдпрд╛ рдбреЗрдорди рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд┐рд╡рд┐рд▓реЗрдЬ рдЙрдиреНрдирдпрди рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХрд╛рдлреА рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк "рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдбреЗрдЯрд╛ рд╕рдВрд░рдХреНрд╖рдг" рдХреНрд╖рдорддрд╛ рд╕реЗрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ Xcode рдореЗрдВ **рдХреНрд╖рдорддрд╛рдПрдВ** рдЯреИрдм рдкрд░ рдЬрд╛рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ **рдбреЗрдЯрд╛ рд╕рдВрд░рдХреНрд╖рдг** рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдпрд╣ Xcode рджреНрд╡рд╛рд░рд╛ `<appname>.entitlements` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `com.apple.developer.default-data-protection` рдЕрдзрд┐рдХрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ `NSFileProtectionComplete` рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред IPA рдореЗрдВ рд╣рдо рдЗрд╕реЗ `embedded.mobileprovision` рдореЗрдВ рднреА рдкрд╛рдПрдВрдЧреЗ:
```markup
<key>Entitlements</key>
<dict>
...
<key>com.apple.developer.default-data-protection</key>
<string>NSFileProtectionComplete</string>
</dict>
```
рдЕрдиреНрдп рдХреНрд╖рдорддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЬреИрд╕реЗ HealthKit, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЕрдиреБрдорддрд┐ рдХреЗ рд▓рд┐рдП рдкреВрдЫрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕рд▓рд┐рдП рдЗрдВрдЯрд╛рдЗрдЯрд▓рдореЗрдВрдЯреНрд╕ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ, рдРрдк рдХреЗ `Info.plist` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рдХреБрдВрдЬреА рдФрд░ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

# Objective-C рдФрд░ Swift рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ

**Objective-C** рдореЗрдВ **рдбрд╛рдпрдиреЗрдорд┐рдХ рд░рдирдЯрд╛рдЗрдо** рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЬрдм рдПрдХ Objective-C рдкреНрд░реЛрдЧреНрд░рд╛рдо iOS рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЙрди рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдирдХрд╛ **рдкрддрд╛ рд╕рдордп рдХреЗ рд╕рд╛рде рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИ**, рд╕рдВрджреЗрд╢ рдореЗрдВ рднреЗрдЬреЗ рдЧрдП рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдирд╛рдо рдХреЛ рд╕рднреА рдЙрдкрд▓рдмреНрдз рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рдХреЗред

рд╢реБрд░реБрдЖрдд рдореЗрдВ, рдХреЗрд╡рд▓ Apple рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рдРрдкреНрд╕ iPhones рдкрд░ рдЪрд▓рддреЗ рдереЗ, рдЗрд╕рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдм рдХреБрдЫ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдереАред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЬрдм Apple рдиреЗ **рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреА**, Apple рдиреЗ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреЗ рд╣реИрдбрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓ рджрд┐рдпрд╛ рдерд╛ рддрд╛рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдбреЗрд╡рд▓рдкрд░реНрд╕ рд╕реЗ "рдЫрд┐рдкрд╛" рд╕рдХреЗрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдиреЗ рджреЗрдЦрд╛ рдХрд┐ "рд╕реБрд░рдХреНрд╖рд┐рдд" рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреЛ рдХреБрдЫ рдЗрди рдЕрдирджрд╕реНрддрд╛рд╡реЗрдЬрд┐рдд рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА рдФрд░ рдЗрди рдЧреБрдкреНрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреЛ рдмреБрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ **рдХрд╕реНрдЯрдо рд╣реИрдбрд░ рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд╕рд╛рде, рдпрд╣ рд╕рдВрднрд╡ рдерд╛ред** рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, Apple, рдПрдХ рдРрдк рдХреЛ рдкреНрд░рдХрд╛рд╢рд┐рдд рд╣реЛрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдпрд╣ рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдРрдк рдХрд┐рд╕реА рднреА рдРрд╕реЗ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред

рдлрд┐рд░, Swift рдЖрдпрд╛ред рдХреНрдпреЛрдВрдХрд┐ **Swift рд╕реНрдерд┐рд░ рдмрд╛рдЙрдВрдб** рд╣реИ (рдпрд╣ Objective-C рдХреА рддрд░рд╣ рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреЗ рдкрддреЗ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛), рдЗрд╕рд▓рд┐рдП рд╕реНрдерд┐рд░ рдХреЛрдб рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЬрд╛рдВрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдПрдХ Swift рдкреНрд░реЛрдЧреНрд░рд╛рдо рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреЙрд▓ рдХреНрдпрд╛ рд╣реЛрдВрдЧреЗред

# рдбрд┐рд╡рд╛рдЗрд╕ рдкреНрд░рдмрдВрдзрди

iOS рд╕рдВрд╕реНрдХрд░рдг 6 рд╕реЗ, рдЙрдкрдХрд░рдг рдкреНрд░рдмрдВрдзрди рдХреНрд╖рдорддрд╛ рдХреЗ рд▓рд┐рдП **рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╕рдорд░реНрдерди** рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рд╕рдВрдЧрдарди рдХреЛ рдХреЙрд░реНрдкреЛрд░реЗрдЯ Apple рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИред\
рдкрдВрдЬреАрдХрд░рдг рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ **рдПрдЬреЗрдВрдЯ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдХреЗ** рдЖрд░рдВрдн рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдХреЙрд░реНрдкреЛрд░реЗрдЯ рдРрдкреНрд╕ рддрдХ рдкрд╣реБрдБрдЪ рд╣реЛ рд╕рдХреЗред рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЙрдкрдХрд░рдг рдЖрдорддреМрд░ рдкрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕ рд╣реЛрддрд╛ рд╣реИред\
рдпрд╛ рдХрдВрдкрдиреА **рдЦрд░реАрджреЗ рдЧрдП рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░** рдпрд╛ рдЦрд░реАрдж рдЖрджреЗрд╢ рдЖрдИрдбреА рджрд░реНрдЬ рдХрд░ рд╕рдХрддреА рд╣реИ рдФрд░ рдЙрди рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП MDM рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреА рд╣реИред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ Apple **рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЙрдкрдХрд░рдг рдХреЛ рдЗрд╕ рддрд░реАрдХреЗ рд╕реЗ рджреЛрд╣рд░рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛** рд╣реИред рдкрд╣рд▓реА рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рд╣рдЯрд╛рдиреЗ рдХреЗ рдмрд╛рдж рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рдФрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рдорддрд┐ рджреЗрдиреА рд╣реЛрдЧреАред

рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ _**рд╕реЗрдЯрд┐рдВрдЧреНрд╕**_ --> _**рд╕рд╛рдорд╛рдиреНрдп**_ --> _**рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдФрд░ рдЙрдкрдХрд░рдг рдкреНрд░рдмрдВрдзрди**_ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдиреАрддрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИред

рдпреЗ MDM рдиреАрддрд┐рдпрд╛рдБ рдЕрдиреНрдп рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдФрд░ рд╕реАрдорд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╡реЗ **рдЕрдзрд┐рдХ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдЪрд▓ рд░рд╣реА рд╣реИрдВ**ред\
рдПрдХ MDM рдиреАрддрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдПрдХ **рдкрд╛рд╕рдХреЛрдб** рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдиреНрдпреВрдирддрдо** рдкрд╛рд╕рд╡рд░реНрдб **рдХрдард┐рдирд╛рдИ** рдХреЗ рд╕рд╛рде **рдордЬрдмреВрд░** рдХрд░ рд╕рдХрддреА рд╣реИред\
рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЙрдкрдХрд░рдгID рд╕реЗ рдмрдВрдзреЗ рд╣реЛрддреЗ рд╣реИрдВ, MDM рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ **рд╕рд╛рдЗрди** рдФрд░ **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ** рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ **рддрдЦреНрддрдмрдВрдж** рд╣реЛрддреЗ рд╣реИрдВред рдЗрдиреНрд╣реЗрдВ **рд╣рдЯрд╛рдпрд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛** рд╣реИ рдмрд┐рдирд╛ рд╕рднреА рдХреЙрд░реНрдкреЛрд░реЗрдЯ рдбреЗрдЯрд╛ рдХреЛ **рдЦреЛрдиреЗ** рдХреЗред\
MDM рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЕрдЧрд░ X **рд╡рд┐рдлрд▓** рдкрд╛рд╕рд╡рд░реНрдб **рдкреНрд░рдпрд╛рд╕** рд╣реЛрдВ рддреЛ рд╕рднреА **рдбреЗрдЯрд╛** рдХреЛ **рдорд┐рдЯрд╛** рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ** MDM рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрднреА рднреА iPhone рдХреЛ **рджреВрд░рд╕реНрде** **рдорд┐рдЯрд╛** рд╕рдХрддрд╛ рд╣реИред

MDM рдПрдЬреЗрдВрдЯ рдЙрдкрдХрд░рдг рдХреЗ **рдореБрдордХрд┐рди рдЬреЗрд▓рдмреНрд░реЗрдХ рдХреА рдЬрд╛рдВрдЪ** рднреА рдХрд░реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ iPhone рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЦрддрд░рдирд╛рдХ рд╕реНрдерд┐рддрд┐ рд╣реИред
