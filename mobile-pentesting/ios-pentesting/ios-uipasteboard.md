<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS-familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFT's**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


Data deling binne en tussen toepassings op iOS-toestelle word gefasiliteer deur die [`UIPasteboard`](https://developer.apple.com/documentation/uikit/uipasteboard) meganisme, wat verdeel is in twee prim√™re kategorie√´:

- **Stelselwye algemene plakbord**: Dit word gebruik vir die deel van data met **enige toepassing** en is ontwerp om data oor toestelherstarts en toepassingsverwyderings te behou, 'n kenmerk wat beskikbaar is sedert iOS 10.
- **Aangepaste / Genoemde plakborde**: Hierdie is spesifiek vir data deling **binne 'n toepassing of met 'n ander toepassing** wat dieselfde span-ID deel, en is nie ontwerp om voort te duur buite die lewensduur van die toepassingsproses wat hulle skep nie, volgens veranderinge wat in iOS 10 ingevoer is.

**Sekuriteits-oorwegings** speel 'n belangrike rol wanneer plakborde gebruik word. Byvoorbeeld:
- Daar is geen meganisme vir gebruikers om toepassingstoestemming om die **plakbord** te benader, te bestuur nie.
- Om die risiko van ongemagtigde agtergrondmonitering van die plakbord te verminder, is toegang beperk tot wanneer die toepassing in die voorgrond is (sedert iOS 9).
- Die gebruik van volhoubare genoemde plakborde word afgeraai ten gunste van gedeelde houers weens privaatheidskwessies.
- Die **Universele Plakbord**-funksie wat met iOS 10 ingevoer is, wat inhoud toelaat om oor toestelle gedeel te word via die algemene plakbord, kan deur ontwikkelaars bestuur word om dataverval en die outomatiese oordrag van inhoud te deaktiveer.

Dit is van kritieke belang om te verseker dat **sensitiewe inligting nie toevallig op die globale plakbord gestoor word nie**. Daarbenewens behoort toepassings ontwerp te wees om die misbruik van globale plakborddata vir onbedoelde aksies te voorkom, en word ontwikkelaars aangemoedig om maatre√´ls te implementeer om die kopie van sensitiewe inligting na die knipbord te voorkom.

### Statische Analise

Vir statiese analise, soek die bronkode of bin√™re l√™er vir:
- `generalPasteboard` om die gebruik van die **stelselwye algemene plakbord** te identifiseer.
- `pasteboardWithName:create:` en `pasteboardWithUniqueName` vir die skep van **aangepaste plakborde**. Verifieer of volhoubaarheid ingeskakel is, alhoewel dit verouderd is.

### Dinamiese Analise

Dinamiese analise behels die hake of naspeuring van spesifieke metodes:
- Monitor `generalPasteboard` vir stelselwye gebruik.
- Spoor `pasteboardWithName:create:` en `pasteboardWithUniqueName` vir aangepaste implementasies.
- Waarneming van verouderde `setPersistent:` metode-oproepe om volhoubaarheidsinstellings te kontroleer.

Belangrike besonderhede om te monitor sluit in:
- **Plakbordname** en **inhoud** (byvoorbeeld, nagaan vir strings, URL's, beelde).
- **Aantal items** en **datatipes** teenwoordig, wat standaard- en aangepaste datatipekontroles benut.
- **Verval- en plaaslike-alleen-opsies** deur die `setItems:options:` metode te ondersoek.

'n Voorbeeld van 'n moniteringstoolgebruik is **objection se plakbordmoniter**, wat elke 5 sekondes die generalPasteboard ondervra vir veranderinge en die nuwe data uitvoer.

Hier is 'n eenvoudige JavaScript-skripsievoorbeeld, ge√Ønspireer deur die benadering van objection, om elke 5 sekondes veranderinge van die plakbord te lees en te log:
```javascript
const UIPasteboard = ObjC.classes.UIPasteboard;
const Pasteboard = UIPasteboard.generalPasteboard();
var items = "";
var count = Pasteboard.changeCount().toString();

setInterval(function () {
const currentCount = Pasteboard.changeCount().toString();
const currentItems = Pasteboard.items().toString();

if (currentCount === count) { return; }

items = currentItems;
count = currentCount;

console.log('[* Pasteboard changed] count: ' + count +
' hasStrings: ' + Pasteboard.hasStrings().toString() +
' hasURLs: ' + Pasteboard.hasURLs().toString() +
' hasImages: ' + Pasteboard.hasImages().toString());
console.log(items);

}, 1000 * 5);
```
## Verwysings

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)
* [https://hackmd.io/@robihamanto/owasp-robi](https://hackmd.io/@robihamanto/owasp-robi)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/)

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kontroleer die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
