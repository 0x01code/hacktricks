# R√©tro-ing√©nierie des biblioth√®ques natives

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert en √©quipe rouge AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFT**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>

**Pour plus d'informations, consultez : [https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html](https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html)**

Les applications Android peuvent utiliser des biblioth√®ques natives, g√©n√©ralement √©crites en C ou C++, pour des t√¢ches critiques en termes de performances. Les cr√©ateurs de logiciels malveillants utilisent √©galement ces biblioth√®ques, car elles sont plus difficiles √† r√©tro-ing√©nierie que le bytecode DEX. La section met l'accent sur les comp√©tences en r√©tro-ing√©nierie adapt√©es √† Android, plut√¥t que sur l'enseignement des langages d'assemblage. Des versions ARM et x86 des biblioth√®ques sont fournies pour la compatibilit√©.

### Points cl√©s :
- **Biblioth√®ques natives dans les applications Android :**
- Utilis√©es pour des t√¢ches intensives en performances.
- √âcrites en C ou C++, rendant la r√©tro-ing√©nierie difficile.
- Trouv√©es au format `.so` (objet partag√©), similaire aux binaires Linux.
- Les cr√©ateurs de logiciels malveillants pr√©f√®rent le code natif pour rendre l'analyse plus difficile.

- **Interface Native Java (JNI) & NDK Android :**
- JNI permet d'impl√©menter des m√©thodes Java en code natif.
- NDK est un ensemble d'outils sp√©cifique √† Android pour √©crire du code natif.
- JNI et NDK relient le code Java (ou Kotlin) aux biblioth√®ques natives.

- **Chargement et ex√©cution de biblioth√®ques :**
- Les biblioth√®ques sont charg√©es en m√©moire √† l'aide de `System.loadLibrary` ou `System.load`.
- JNI_OnLoad est ex√©cut√© lors du chargement de la biblioth√®que.
- Les m√©thodes natives d√©clar√©es en Java se lient aux fonctions natives, permettant l'ex√©cution.

- **Liaison des m√©thodes Java aux fonctions natives :**
- **Liaison dynamique :** Les noms de fonctions dans les biblioth√®ques natives correspondent √† un motif sp√©cifique, permettant une liaison automatique.
- **Liaison statique :** Utilise `RegisterNatives` pour la liaison, offrant une flexibilit√© dans le nommage et la structure des fonctions.

- **Outils et techniques de r√©tro-ing√©nierie :**
- Des outils comme Ghidra et IDA Pro aident √† analyser les biblioth√®ques natives.
- `JNIEnv` est crucial pour comprendre les fonctions JNI et les interactions.
- Des exercices sont fournis pour pratiquer le chargement de biblioth√®ques, la liaison des m√©thodes et l'identification des fonctions natives.

### Ressources :
- **Apprentissage de l'assemblage ARM :**
- Recommand√© pour une compr√©hension approfondie de l'architecture sous-jacente.
- [Bases de l'assemblage ARM](https://azeria-labs.com/writing-arm-assembly-part-1/) d'Azeria Labs est recommand√©.

- **Documentation JNI & NDK :**
- [Sp√©cification JNI d'Oracle](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html)
- [Conseils JNI d'Android](https://developer.android.com/training/articles/perf-jni)
- [D√©marrer avec le NDK](https://developer.android.com/ndk/guides/)

- **D√©bogage des biblioth√®ques natives :**
- [D√©bogage des biblioth√®ques natives Android en utilisant JEB Decompiler](https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler-eec681a22cf3)

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert en √©quipe rouge AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFT**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
