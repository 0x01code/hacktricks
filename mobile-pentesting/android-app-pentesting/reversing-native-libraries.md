# Kugeuza Maktaba za Asili

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa katika HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa kipekee wa [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

**Kwa habari zaidi angalia: [https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html](https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html)**

Programu za Android zinaweza kutumia maktaba za asili, kawaida zimeandikwa kwa C au C++, kwa kazi zenye utendaji mkubwa. Waundaji wa programu hasidi pia hutumia maktaba hizi, kwani ni ngumu kuzirekebisha kuliko kanuni ya DEX. Sehemu hii inasisitiza ujuzi wa kurekebisha nyuma uliozingatia Android, badala ya kufundisha lugha za mkutano. Toleo la ARM na x86 la maktaba linapatikana kwa utangamano.

### Mambo Muhimu:
- **Maktaba za Asili katika Programu za Android:**
- Hutumiwa kwa kazi zenye utendaji mkubwa.
- Zimeandikwa kwa C au C++, hivyo kurekebisha nyuma kunakuwa changamoto.
- Zinapatikana katika muundo wa `.so` (kitu kinachoshirikiwa), kama vile programu za Linux.
- Waundaji wa programu hasidi wanapendelea kanuni ya asili ili kufanya uchambuzi kuwa mgumu zaidi.

- **Java Native Interface (JNI) & Android NDK:**
- JNI inaruhusu njia za Java zitekelezwe kwa kutumia kanuni ya asili.
- NDK ni seti maalum ya zana za Android za kuandika kanuni ya asili.
- JNI na NDK hufanya mawasiliano kati ya kanuni ya Java (au Kotlin) na maktaba za asili.

- **Kupakia na Kutekeleza Maktaba:**
- Maktaba hupakiwa kwenye kumbukumbu kwa kutumia `System.loadLibrary` au `System.load`.
- JNI_OnLoad inatekelezwa wakati wa kupakia maktaba.
- Njia za asili zilizotangazwa katika Java zinaunganishwa na kazi za asili, kuruhusu utekelezaji.

- **Kuunganisha Njia za Java na Kazi za Asili:**
- **Unganishaji wa Kudumu:** Majina ya kazi katika maktaba za asili yanalingana na muundo maalum, kuruhusu kuunganisha moja kwa moja.
- **Unganishaji wa Stesheni:** Hutumia `RegisterNatives` kwa unganishaji, hutoa uwezo wa kubadilisha majina na muundo wa kazi.

- **Zana na Mbinu za Kurekebisha Nyuma:**
- Zana kama Ghidra na IDA Pro husaidia kuchambua maktaba za asili.
- `JNIEnv` ni muhimu kwa kuelewa kazi na mwingiliano wa JNI.
- Zoezi zinapatikana ili kujifunza kupakia maktaba, kuunganisha njia, na kutambua kazi za asili.

### Vyanzo:
- **Kujifunza Mkutano wa ARM:**
- Inapendekezwa kwa uelewa wa kina wa muundo wa msingi.
- [Misingi ya Mkutano wa ARM](https://azeria-labs.com/writing-arm-assembly-part-1/) kutoka Azeria Labs inapendekezwa.

- **Hati za JNI & NDK:**
- [Maelezo ya JNI ya Oracle](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html)
- [Vidokezo vya JNI vya Android](https://developer.android.com/training/articles/perf-jni)
- [Kuanza na NDK](https://developer.android.com/ndk/guides/)

- **Kurekebisha Nyuma Maktaba za Asili:**
- [Kurekebisha Nyuma Maktaba za Asili za Android Kwa Kutumia JEB Decompiler](https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler-eec681a22cf3)

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa katika HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa kipekee wa [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
