# рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХрд░рдирд╛

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдБрдЪрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **[**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **Twitter рдкрд░** рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [**hacktricks repo**](https://github.com/carlospolop/hacktricks) рдФрд░ [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ.**

</details>

**рдЬрд╛рдирдХрд╛рд░реА [**https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html**](https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html) рд╕реЗ рд▓реА рдЧрдИ рд╣реИ (рд╡рд╣рд╛рдБ рд╕рдорд╛рдзрд╛рди рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ)**

Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЧрдИ, рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рд╡рд╣ рдХреЛрдб рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдбреЗрд╡рд▓рдкрд░ рдиреЗ рд▓рд┐рдЦрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрдВрдкреНрдпреВрдЯрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рд╣реИред рдЕрдХреНрд╕рд░, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реЛрддрд╛ рд╣реИ C рдпрд╛ C++ рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдХреЛрдбред рдбреЗрд╡рд▓рдкрд░ рджреНрд╡рд╛рд░рд╛ рдЗрд╕реЗ рдХрд░рдиреЗ рдХреЗ рд╡реИрдз, рдпрд╛ рд╡реИрдз рдХрд╛рд░рдгреЛрдВ рдореЗрдВ рдЧрдгрд┐рддреАрдп рд░реВрдк рд╕реЗ рдЧрд╣рди рдпрд╛ рд╕рдордп рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдСрдкрд░реЗрд╢рди рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬред рдореИрд▓рд╡реЗрдпрд░ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдиреЗрдЯрд┐рд╡ рдХреЛрдб рдХреА рдУрд░ рдмрдврд╝ рд░рд╣реЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЧрдИ рдмрд╛рдЗрдирд░реАрдЬ рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХрд░рдирд╛ DEX рдмрд╛рдЗрдЯрдХреЛрдб рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрдо рд╕рд╛рдорд╛рдиреНрдп рдХреМрд╢рд▓ рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рдЬреНрдпрд╛рджрд╛рддрд░ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ DEX рдмрд╛рдЗрдЯрдХреЛрдб рдХреЛ рдЬрд╛рд╡рд╛ рдореЗрдВ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдмрдХрд┐ рдиреЗрдЯрд┐рд╡, рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдП рдЧрдП рдХреЛрдб рдХрд╛ рдЕрдХреНрд╕рд░ рдЕрд╕реЗрдВрдмрд▓реА рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред

### рд▓рдХреНрд╖реНрдп

рдЗрд╕ рдЦрдВрдб рдХрд╛ рд▓рдХреНрд╖реНрдп рдЖрдкрдХреЛ рдЕрд╕реЗрдВрдмрд▓реА (ASM) рд╕рд┐рдЦрд╛рдирд╛ рдпрд╛ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдП рдЧрдП рдХреЛрдб рдХреЛ рдЕрдзрд┐рдХ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХрд░рдирд╛ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдЕрдзрд┐рдХ рд╕рд╛рдорд╛рдиреНрдп рдмрд╛рдЗрдирд░реА рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХреМрд╢рд▓ рдХреЛ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд░реЗрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ Android рдХреЗ рд▓рд┐рдПред рдЪреВрдВрдХрд┐ рдЗрд╕ рд╡рд░реНрдХрд╢реЙрдк рдХрд╛ рд▓рдХреНрд╖реНрдп рдЖрдкрдХреЛ ASM рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░реНрд╕ рд╕рд┐рдЦрд╛рдирд╛ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕рднреА рдЕрднреНрдпрд╛рд╕реЛрдВ рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдПрдХ ARM _рдФрд░_ рдПрдХ x86 рд╕рдВрд╕реНрдХрд░рдг рд╢рд╛рдорд┐рд▓ рд╣реЛрдЧрд╛ рддрд╛рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рд╡реНрдпрдХреНрддрд┐ рдЙрд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЛ рдЪреБрди рд╕рдХреЗ рдЬрд┐рд╕рдореЗрдВ рд╡реЗ рдЕрдзрд┐рдХ рд╕рд╣рдЬ рд╣реИрдВред

#### ARM рдЕрд╕реЗрдВрдмрд▓реА рд╕реАрдЦрдирд╛ <a href="#learning-arm-assembly" id="learning-arm-assembly"></a>

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рдмрд╛рдЗрдирд░реА рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ/ рдЕрд╕реЗрдВрдмрд▓реА рдХрд╛ рдЕрдиреБрднрд╡ рдирд╣реАрдВ рд╣реИ, рддреЛ рдпрд╣рд╛рдБ рдХреБрдЫ рд╕реБрдЭрд╛рд╡рд┐рдд рд╕рдВрд╕рд╛рдзрди рд╣реИрдВред рдЕрдзрд┐рдХрд╛рдВрд╢ Android рдЙрдкрдХрд░рдг ARM рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕ рд╡рд░реНрдХрд╢реЙрдк рдореЗрдВ рд╕рднреА рдЕрднреНрдпрд╛рд╕реЛрдВ рдореЗрдВ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдПрдХ x86 рд╕рдВрд╕реНрдХрд░рдг рднреА рд╢рд╛рдорд┐рд▓ рд╣реИред

ARM рдЕрд╕реЗрдВрдмрд▓реА рд╕реАрдЦрдиреЗ рдФрд░/рдпрд╛ рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ [ARM Assembly Basics](https://azeria-labs.com/writing-arm-assembly-part-1/) рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдБ, рдЬреЛ [Azeria Labs](https://azeria-labs.com) рд╕реЗ рд╣реИред

### Java Native Interface (JNI) рдХрд╛ рдкрд░рд┐рдЪрдп <a href="#introduction-to-the-java-native-interface-jni" id="introduction-to-the-java-native-interface-jni"></a>

Java Native Interface (JNI) рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдиреЗрдЯрд┐рд╡ рдХреЛрдб рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдП рдЧрдП Java рдореЗрдердбреНрд╕ рдХреЛ рдШреЛрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рдЖрдорддреМрд░ рдкрд░ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдП рдЧрдП C/C++ рдореЗрдВ)ред JNI рдЗрдВрдЯрд░рдлреЗрд╕ Android-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рд╡рд┐рднрд┐рдиреНрди рдкреНрд▓реЗрдЯрдлреЙрд░реНрдореНрд╕ рдкрд░ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ Java рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИред

Android Native Development Kit (NDK) JNI рдХреЗ рдКрдкрд░ Android-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЯреВрд▓рд╕реЗрдЯ рд╣реИред [рдбреЙрдХреНрд╕](https://developer.android.com/ndk/guides) рдХреЗ рдЕрдиреБрд╕рд╛рд░:

> Android рдореЗрдВ, Native Development Kit (NDK) рдПрдХ рдЯреВрд▓рд╕реЗрдЯ рд╣реИ рдЬреЛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдЙрдирдХреЗ Android рдПрдкреНрд╕ рдХреЗ рд▓рд┐рдП C рдФрд░ C++ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

рд╕рд╛рде рдореЗрдВ, JNI рдФрд░ NDK Android рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдЙрдирдХреЗ рдПрдкреНрдк рдХреА рдХреБрдЫ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдиреЗрдЯрд┐рд╡ рдХреЛрдб рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред Java (рдпрд╛ Kotlin) рдХреЛрдб рдПрдХ Java-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЛ рдХреЙрд▓ рдХрд░реЗрдЧрд╛ рдЬреЛ рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЧрдИ, рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред

#### рд╕рдВрджрд░реНрдн <a href="#references" id="references"></a>

**Oracle JNI рдбреЙрдХреНрд╕**

* [JNI рд╡рд┐рдирд┐рд░реНрджреЗрд╢](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html)
* [JNI рдлрдВрдХреНрд╢рдиреНрд╕](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html) тЖР рдореИрдВ рд╣рдореЗрд╢рд╛ рдЗрд╕реЗ рдЦреБрд▓рд╛ рд░рдЦрддрд╛ рд╣реВрдБ рдФрд░ Android рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдХрд░рддреЗ рд╕рдордп рдЗрд╕рдХрд╛ рд╕рдВрджрд░реНрдн рд▓реЗрддрд╛ рд╣реВрдБ

**Android JNI & NDK рд╕рдВрджрд░реНрдн**

* [Android JNI рдЯрд┐рдкреНрд╕](https://developer.android.com/training/articles/perf-jni) тЖР "рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ" рдЕрдиреБрднрд╛рдЧ рдкрдврд╝рдиреЗ рдХреА рдЕрддреНрдпрдзрд┐рдХ рд╕рд▓рд╛рд╣ рджреА рдЬрд╛рддреА рд╣реИ
* [NDK рдХреЗ рд╕рд╛рде рд╢реБрд░реБрдЖрдд рдХрд░рдирд╛](https://developer.android.com/ndk/guides/) тЖР рдпрд╣ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдЧрджрд░реНрд╢рди рд╣реИ рдФрд░ рдпрд╣ рд╕рдордЭрдирд╛ рдХрд┐ рдЪреАрдЬреЗрдВ рдХреИрд╕реЗ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИрдВ, рдЗрд╕реЗ рд░рд┐рд╡рд░реНрд╕ рдХрд░рдирд╛ рдЖрд╕рд╛рди рдмрдирд╛рддрд╛ рд╣реИред

### рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд╛ рд▓рдХреНрд╖реНрдп - Android рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ <a href="#target-of-analysis---android-native-libraries" id="target-of-analysis---android-native-libraries"></a>

рдЗрд╕ рдЦрдВрдб рдореЗрдВ, рд╣рдо Android рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдореЗрдВ рд▓рд╛рдЧреВ рдПрдкреНрдк рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХрд░рдиреЗ рдкрд░ рдХреЗрдВрджреНрд░рд┐рдд рд╣реИрдВред рдЬрдм рд╣рдо Android рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдорд╛рд░рд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ?

Android рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ APKs рдореЗрдВ `.so`, рд╢реЗрдпрд░реНрдб рдСрдмреНрдЬреЗрдХреНрдЯ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЗ рд░реВрдк рдореЗрдВ ELF рдлрд╛рдЗрд▓ рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХреА рдЬрд╛рддреА рд╣реИрдВред рдпрджрд┐ рдЖрдкрдиреЗ рдкрд╣рд▓реЗ Linux рдмрд╛рдЗрдирд░реАрдЬ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╡рд╣реА рдлреЙрд░реНрдореЗрдЯ рд╣реИред

рдпреЗ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ APK рдореЗрдВ рдлрд╛рдЗрд▓ рдкрде `/lib/<cpu>/lib<name>.so` рдкрд░ рд╢рд╛рдорд┐рд▓ рдХреА рдЬрд╛рддреА рд╣реИрдВред рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрде рд╣реИ, рд▓реЗрдХрд┐рди рдбреЗрд╡рд▓рдкрд░реНрд╕ рдпрджрд┐ рдЪрд╛рд╣реЗрдВ рддреЛ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ `/assets/<custom_name>` рдореЗрдВ рднреА рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЕрдзрд┐рдХ рдмрд╛рд░, рд╣рдо рдореИрд▓
### рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдб рдХрд░рдирд╛ <a href="#loading-the-library" id="loading-the-library"></a>

рдПрдХ Android рдРрдк рджреНрд╡рд╛рд░рд╛ рдХрд┐рд╕реА рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рд▓рд╛рдЧреВ рдХреЛрдб рдХреЛ рдХреЙрд▓ рдФрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдПрдкреНрд▓рд┐рдХреЗрд╢рди (Java рдХреЛрдб) рдХреЛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рдореЗрдореЛрд░реА рдореЗрдВ рд▓реЛрдб рдХрд░рдирд╛ рд╣реЛрддрд╛ рд╣реИред рдЗрд╕реЗ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдЕрд▓рдЧ API рдХреЙрд▓реНрд╕ рд╣реИрдВ:
```
System.loadLibrary("calc")
```
Since you haven't provided any content to translate, I'm unable to proceed with a translation. Please provide the specific English text from the file `mobile-pentesting/android-app-pentesting/reversing-native-libraries.md` that you would like translated into Hindi.
```
System.load("lib/armeabi/libcalc.so")
```
рджреЛрдиреЛрдВ API рдХреЙрд▓реНрд╕ рдХреЗ рдмреАрдЪ рдХрд╛ рдЕрдВрддрд░ рдпрд╣ рд╣реИ рдХрд┐ `loadLibrary` рдХреЗрд╡рд▓ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЫреЛрдЯрд╛ рдирд╛рдо рдПрдХ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, libcalc.so = "calc" & libinit.so = "init") рдФрд░ рд╕рд┐рд╕реНрдЯрдо рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕ рдкрд░ рдпрд╣ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╕рд╣реА рдлрд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред рджреВрд╕рд░реА рдУрд░, `load` рдХреЛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдкреВрд░рд╛ рдкрде рдЪрд╛рд╣рд┐рдПред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдРрдк рдбреЗрд╡рд▓рдкрд░ рдХреЛ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╕рд╣реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдлрд╛рдЗрд▓ рдХреЛ рдЦреБрдж рд▓реЛрдб рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

рдЬрдм рдЗрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рджреЛ (`loadLibrary` рдпрд╛ `load`) APIs рдХреЛ рдЬрд╛рд╡рд╛ рдХреЛрдб рджреНрд╡рд╛рд░рд╛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХреА рдЧрдИ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЕрдкрдиреА `JNI_OnLoad` рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреА рд╣реИ рдпрджрд┐ рдпрд╣ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рд▓рд╛рдЧреВ рдХреА рдЧрдИ рдереАред

рджреЛрд╣рд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрд┐рд╕реА рднреА рдиреЗрдЯрд┐рд╡ рдореЗрдердбреНрд╕ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рдЬрд╛рд╡рд╛ рдХреЛрдб рдореЗрдВ `System.loadLibrary` рдпрд╛ `System.load` рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЬрдм рдЗрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА 2 APIs рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ `JNI_OnLoad` рдлрдВрдХреНрд╢рди рднреА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИред

### рдЬрд╛рд╡рд╛ рд╕реЗ рдиреЗрдЯрд┐рд╡ рдХреЛрдб рдХрдиреЗрдХреНрд╢рди <a href="#the-java-to-native-code-connection" id="the-java-to-native-code-connection"></a>

рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╕реЗ рдПрдХ рдлрдВрдХреНрд╢рди рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрд┐рд╕реЗ рдЬрд╛рд╡рд╛ рдХреЛрдб рдХреЙрд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдЬрдм рдпрд╣ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА (ELF/.so) рд╕реЗ "рдЬреЛрдбрд╝рд╛" рдЧрдпрд╛ рдиреЗрдЯрд┐рд╡ рдлрдВрдХреНрд╢рди рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИред

рдПрдХ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЬрд╛рд╡рд╛ рдХреЛрдб рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИред рдпрд╣ рдХрд┐рд╕реА рдЕрдиреНрдп рдЬрд╛рд╡рд╛ рдореЗрдердб рдХреА рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рд╕рд┐рд╡рд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рдЗрд╕рдореЗрдВ `рдиреЗрдЯрд┐рд╡` рдХреАрд╡рд░реНрдб рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдХреЛрдИ рдХреЛрдб рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХрд╛ рдХреЛрдб рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рдВрдХрд▓рд┐рдд, рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред
```
public native String doThingsInNativeLibrary(int var0);
```
рдЗрд╕ рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЬрд╛рд╡рд╛ рдХреЛрдб рдЗрд╕реЗ рдХрд┐рд╕реА рдЕрдиреНрдп рдЬрд╛рд╡рд╛ рдореЗрдердб рдХреА рддрд░рд╣ рдХреЙрд▓ рдХрд░реЗрдЧрд╛ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдмреИрдХрдПрдВрдб рдореЗрдВ, JNI рдФрд░ NDK рдХреЗ рдмрдЬрд╛рдп рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдлрдВрдХреНрд╢рди рдХреЛ рдПрдХреНрдЬреАрдХреНрдпреВрдЯ рдХрд░реЗрдЧрд╛ред рдЗрд╕рдХреЗ рд▓рд┐рдП, рдЙрд╕реЗ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдФрд░ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдлрдВрдХреНрд╢рди рдХреЗ рдмреАрдЪ рдХреА рдЬреЛрдбрд╝реА рдХреЛ рдЬрд╛рдирдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред

рдЗрд╕ рдЬреЛрдбрд╝реА рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╛ рд▓рд┐рдВрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, 2 рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╣реИрдВ:

1. JNI рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдирд╛рдо рд░рд┐рдЬрд╝реЙрд▓реНрд╡рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд┐рдВрдХрд┐рдВрдЧ, рдпрд╛
2. `RegisterNatives` API рдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдЯреЗрдЯрд┐рдХ рд▓рд┐рдВрдХрд┐рдВрдЧ

#### рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд┐рдВрдХрд┐рдВрдЧ <a href="#dynamic-linking" id="dynamic-linking"></a>

рдЬрд╛рд╡рд╛ рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдФрд░ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдлрдВрдХреНрд╢рди рдХреЛ рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ рд▓рд┐рдВрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдбреЗрд╡рд▓рдкрд░ рдореЗрдердб рдФрд░ рдлрдВрдХреНрд╢рди рдХрд╛ рдирд╛рдо рдРрд╕реЗ рд░рдЦрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рд╕реНрдкреЗрдХреНрд╕ рдХреЗ рдЕрдиреБрд╕рд╛рд░ JNI рд╕рд┐рд╕реНрдЯрдо рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ рд▓рд┐рдВрдХрд┐рдВрдЧ рдХрд░ рд╕рдХреЗред

рд╕реНрдкреЗрдХ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдбреЗрд╡рд▓рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдШрдЯрдХреЛрдВ рд╕реЗ рдЬреЛрдбрд╝рдХрд░ рдлрдВрдХреНрд╢рди рдХрд╛ рдирд╛рдо рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд░рдЦреЗрдЧрд╛ рддрд╛рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдФрд░ рдлрдВрдХреНрд╢рди рдХреЛ рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ рд▓рд┐рдВрдХ рдХрд░ рд╕рдХреЗ:

1. рдкреНрд░реАрдлрд┐рдХреНрд╕ Java\_
2. рдПрдХ рдореИрдВрдЧрд▓реНрдб рдкреВрд░реНрдг-рдпреЛрдЧреНрдпрддрд╛ рд╡рд╛рд▓рд╛ рдХреНрд▓рд╛рд╕ рдирд╛рдо
3. рдПрдХ рдЕрдВрдбрд░рд╕реНрдХреЛрд░ (тАЬ\_тАЭ) рд╕реЗрдкрд░реЗрдЯрд░
4. рдПрдХ рдореИрдВрдЧрд▓реНрдб рдореЗрдердб рдирд╛рдо
5. рдУрд╡рд░рд▓реЛрдбреЗрдб рдиреЗрдЯрд┐рд╡ рдореЗрдердбреНрд╕ рдХреЗ рд▓рд┐рдП, рджреЛ рдЕрдВрдбрд░рд╕реНрдХреЛрд░ (тАЬ\_\_тАЭ) рдХреЗ рдмрд╛рдж рдореИрдВрдЧрд▓реНрдб рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯ рд╕рд┐рдЧреНрдиреЗрдЪрд░

рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЗ рд▓рд┐рдП рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд┐рдВрдХрд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдорд╛рди рд▓реАрдЬрд┐рдП рдпрд╣ рдХреНрд▓рд╛рд╕ `com.android.interesting.Stuff` рдореЗрдВ рд╣реИ
```
public native String doThingsInNativeLibrary(int var0);
```
рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдлрдВрдХреНрд╢рди рдХрд╛ рдирд╛рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП:
```
Java_com_android_interesting_Stuff_doThingsInNativeLibrary
```
#### рд╕реНрдЯреИрдЯрд┐рдХ рд▓рд┐рдВрдХрд┐рдВрдЧ <a href="#static-linking" id="static-linking"></a>

рдпрджрд┐ рдбреЗрд╡рд▓рдкрд░ рдиреЗрдЯрд┐рд╡ рдлрдВрдХреНрд╢рдиреНрд╕ рдХреЛ рд╕реНрдкреЗрдХ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдирд╛рдо рдирд╣реАрдВ рджреЗрдирд╛ рдЪрд╛рд╣рддреЗ рдпрд╛ рдирд╣реАрдВ рджреЗ рд╕рдХрддреЗ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдбрд┐рдмрдЧ рд╕рд┐рдВрдмрд▓реНрд╕ рдХреЛ рд╣рдЯрд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ), рддреЛ рдЙрдиреНрд╣реЗрдВ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдФрд░ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдлрдВрдХреНрд╢рди рдХреЗ рдмреАрдЪ рдЬреЛрдбрд╝реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП `RegisterNatives` ([рджрд╕реНрддрд╛рд╡реЗрдЬрд╝](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html#wp5833)) API рдХреЗ рд╕рд╛рде рд╕реНрдЯреИрдЯрд┐рдХ рд▓рд┐рдВрдХрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред `RegisterNatives` рдлрдВрдХреНрд╢рди рдХреЛ рдиреЗрдЯрд┐рд╡ рдХреЛрдб рд╕реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╛рд╡рд╛ рдХреЛрдб рд╕реЗ рдирд╣реАрдВ рдФрд░ рдпрд╣ рдЕрдХреНрд╕рд░ `JNI_OnLoad` рдлрдВрдХреНрд╢рди рдореЗрдВ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ `RegisterNatives` рдХреЛ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред
```
jint RegisterNatives(JNIEnv *env, jclass clazz, const JNINativeMethod *methods, jint nMethods);

typedef struct {
char *name;
char *signature;
void *fnPtr;
} JNINativeMethod;
```
рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХрд░рддреЗ рд╕рдордп, рдпрджрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдЯреЗрдЯрд┐рдХ рд▓рд┐рдВрдХрд┐рдВрдЧ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рд╣рдо рд╡рд┐рд╢реНрд▓реЗрд╖рдХреЛрдВ рдХреЛ `JNINativeMethod` рд╕рдВрд░рдЪрдирд╛ рдорд┐рд▓ рд╕рдХрддреА рд╣реИ рдЬреЛ `RegisterNatives` рдХреЛ рдкрд╛рд╕ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдХрд┐ рдЬрдм рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдХреМрди рд╕реА рд╕рдмрд░реВрдЯреАрди рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддреА рд╣реИред

`JNINativeMethod` рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рд╡рд┐рдзрд┐ рдХреЗ рдирд╛рдо рдХреА рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдФрд░ рд╡рд┐рдзрд┐ рдХреЗ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреА рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЕрдкрдиреА рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдпреЗ рдорд┐рд▓рдиреА рдЪрд╛рд╣рд┐рдПред

**рд╡рд┐рдзрд┐ рд╣рд╕реНрддрд╛рдХреНрд╖рд░**

`JNINativeMethod` рд╕рдВрд░рдЪрдирд╛ рдХреЛ рд╡рд┐рдзрд┐ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдПрдХ рд╡рд┐рдзрд┐ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдпрд╣ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рдзрд┐ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рддрд░реНрдХреЛрдВ рдХреЛ рд▓реЗрддреА рд╣реИ рдФрд░ рдпрд╣ рдХреНрдпрд╛ рд▓реМрдЯрд╛рддреА рд╣реИред рдЗрд╕ рд▓рд┐рдВрдХ рдореЗрдВ "рдЯрд╛рдЗрдк рд╣рд╕реНрддрд╛рдХреНрд╖рд░" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ [JNI рдЯрд╛рдЗрдк рд╣рд╕реНрддрд╛рдХреНрд╖рд░](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html) рдХрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рд╣реИред

* Z: boolean
* B: byte
* C: char
* S: short
* I: int
* J: long
* F: float
* D: double
* L рдкреВрд░реНрдг-рдпреЛрдЧреНрдп-рдХреНрд▓рд╛рд╕ ; :рдкреВрд░реНрдг-рдпреЛрдЧреНрдп-рдХреНрд▓рд╛рд╕
* \[ рдкреНрд░рдХрд╛рд░: рдкреНрд░рдХрд╛рд░\[]
* ( рддрд░реНрдХ-рдкреНрд░рдХрд╛рд░ ) рд░рд┐рдЯрд░реНрди-рдкреНрд░рдХрд╛рд░: рд╡рд┐рдзрд┐ рдкреНрд░рдХрд╛рд░
* V: void

рдиреЗрдЯрд┐рд╡ рд╡рд┐рдзрд┐ рдХреЗ рд▓рд┐рдП
```
public native String doThingsInNativeLibrary(int var0);
```
рдкреНрд░рдХрд╛рд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рд╣реИ
```
(I)Ljava/lang/String;
```
рдпрд╣рд╛рдБ рдПрдХ рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдФрд░ рдЙрд╕рдХреЗ рд╕рд┐рдЧреНрдиреЗрдЪрд░ рдХрд╛ рдПрдХ рдФрд░ рдЙрджрд╛рд╣рд░рдг рд╣реИред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЗрдердб рдбрд┐рдХреНрд▓реЗрд░реЗрд╢рди рд╣реИ
```
public native long f (int n, String s, int[] arr);
```
рдЗрд╕рдХрд╛ рдкреНрд░рдХрд╛рд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рд╣реИ:
```
(ILjava/lang/String;[I)J
```
#### рдЕрднреНрдпрд╛рд╕ #5 - рдиреЗрдЯрд┐рд╡ рдлрдВрдХреНрд╢рди рдХреЗ рдПрдбреНрд░реЗрд╕ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВ <a href="#exercise-5---find-the-address-of-the-native-function" id="exercise-5---find-the-address-of-the-native-function"></a>

рдЕрднреНрдпрд╛рд╕ #5 рдореЗрдВ рд╣рдо рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЛ рдбрд┐рд╕рд╛рд╕реЗрдореНрдмрд▓рд░ рдореЗрдВ рд▓реЛрдб рдХрд░рдирд╛ рдФрд░ рдЬрдм рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдЙрд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдиреЗрдЯрд┐рд╡ рдлрдВрдХреНрд╢рди рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛ рд╕реАрдЦреЗрдВрдЧреЗред рдЗрд╕ рд╡рд┐рд╢реЗрд╖ рдЕрднреНрдпрд╛рд╕ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХрд░рдирд╛ рдирд╣реАрдВ рд╣реИ, рдмрд╕ рдЬрд╛рд╡рд╛ рдореЗрдВ рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЗ рдХреЙрд▓ рдФрд░ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдлрдВрдХреНрд╢рди рдХреЗ рдмреАрдЪ рдХреА рдХрдбрд╝реА рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╣реИред рдЗрд╕ рдЕрднреНрдпрд╛рд╕ рдХреЗ рд▓рд┐рдП, рд╣рдо Mediacode.apk рдирдореВрдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред рдпрд╣ рдирдореВрдирд╛ VM рдореЗрдВ `~/samples/Mediacode.apk` рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред рдЗрд╕рдХрд╛ SHA256 рд╣реИрд╢ a496b36cda66aaf24340941da8034bd53940d1b08d83a97f17a65ae144ebf91a рд╣реИред

**рд▓рдХреНрд╖реНрдп**

рдЗрд╕ рдЕрднреНрдпрд╛рд╕ рдХрд╛ рд▓рдХреНрд╖реНрдп рд╣реИ:

1. DEX рдмрд╛рдЗрдЯрдХреЛрдб рдореЗрдВ рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердбреНрд╕ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛
2. рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рдХрд┐ рдХреМрди рд╕реА рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рд▓реЛрдб рдХреА рдЬрд╛рддреА рд╣реИрдВ (рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдиреЗрдЯрд┐рд╡ рдореЗрдердбреНрд╕ рдХрд╣рд╛рдБ рд▓рд╛рдЧреВ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ)
3. APK рд╕реЗ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдирд┐рдХрд╛рд▓рдирд╛
4. рдбрд┐рд╕рд╛рд╕реЗрдореНрдмрд▓рд░ рдореЗрдВ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдб рдХрд░рдирд╛
5. рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдЙрд╕ рдлрдВрдХреНрд╢рди рдХреЗ рдПрдбреНрд░реЗрд╕ (рдпрд╛ рдирд╛рдо) рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛ рдЬреЛ рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИ

**рдирд┐рд░реНрджреЗрд╢**

1. Mediacode.apk рдХреЛ jadx рдореЗрдВ рдЦреЛрд▓реЗрдВред [рдЕрднреНрдпрд╛рд╕ #1](https://maddiestone.github.io/AndroidAppRE/reversing_intro.html#exercise-1---beginning-re-with-jadx) рдХреЛ рдлрд┐рд░ рд╕реЗ рджреЗрдЦреЗрдВред
2. рдЗрд╕ рдмрд╛рд░, рдпрджрд┐ рдЖрдк Resources рдЯреИрдм рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдЗрд╕ APK рдореЗрдВ `lib/` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╣реИред рдЗрд╕ APK рдХреА рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдбрд┐рдлрд╝реЙрд▓реНрдЯ CPU рдкрдереЛрдВ рдореЗрдВ рд╣реИрдВред
3. рдЕрдм рд╣рдореЗрдВ рдХрд┐рд╕реА рднреА рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердбреНрд╕ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреА рд╣реЛрдЧреАред jadx рдореЗрдВ рдЦреЛрдЬ рдХрд░реЗрдВ рдФрд░ рд╕рднреА рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердбреНрд╕ рдХреА рд╕реВрдЪреА рдмрдирд╛рдПрдВред рджреЛ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдПред
4. рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЗ рдЖрд╕рдкрд╛рд╕, рджреЗрдЦреЗрдВ рдХрд┐ рдХрд╣реАрдВ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдб рдХреА рдЬрд╛ рд░рд╣реА рд╣реИ рдпрд╛ рдирд╣реАрдВред рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЧреА рдХрд┐ рдХрд┐рд╕ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдлрдВрдХреНрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЗрдЦрдирд╛ рд╣реИред
5. APK рд╕реЗ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдмрдирд╛рдПрдВ рдФрд░ APK рдХреЛ рдЙрд╕ рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВред рдлрд┐рд░ `unzip Mediacode.APK` рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВред рдЖрдк APK рд╕реЗ рдирд┐рдХрд╛рд▓реА рдЧрдИ рд╕рднреА рдлрд╛рдЗрд▓реЗрдВ рджреЗрдЦреЗрдВрдЧреЗ, рдЬрд┐рд╕рдореЗрдВ `lib/` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╢рд╛рдорд┐рд▓ рд╣реИред
6. рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреА рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдЬрд┐рд╕реЗ рдЖрдк рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред
7. `ghidraRun` рдЪрд▓рд╛рдХрд░ ghidra рд╢реБрд░реВ рдХрд░реЗрдВред рдпрд╣ Ghidra рдЦреЛрд▓реЗрдЧрд╛ред
8. рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, "New Project", "Non-Shared Project" рдЪреБрдиреЗрдВ, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рд╕реЗрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрде рдЪреБрдиреЗрдВ рдФрд░ рдЙрд╕реЗ рдПрдХ рдирд╛рдо рджреЗрдВред рдпрд╣ рдПрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдмрд╛рдЗрдирд░реА рдлрд╛рдЗрд▓реЗрдВ рд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
9. рдЖрдкрдХреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдХреЛрдб рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдбреНрд░реИрдЧрди рдЖрдЗрдХрди рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред рдлрд┐рд░ "File" > "Import File" рдкрд░ рдЬрд╛рдПрдВ рддрд╛рдХрд┐ рдЯреВрд▓ рдореЗрдВ рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдб рдХрд░ рд╕рдХреЗрдВред рдЖрдк рд╕рднреА рдбрд┐рдлрд╝реЙрд▓реНрдЯреНрд╕ рдХреЛ рд╡реИрд╕реЗ рд╣реА рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред
10. рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реНрдХреНрд░реАрди рджрд┐рдЦрд╛рдИ рджреЗрдЧреАред "Analyze" рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред
11. рдКрдкрд░ рджреА рдЧрдИ рд▓рд┐рдВрдХрд┐рдВрдЧ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдЙрд╕ рдлрдВрдХреНрд╢рди рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдВ рдЬреЛ рдЬрд╛рд╡рд╛-рдШреЛрд╖рд┐рдд рдиреЗрдЯрд┐рд╡ рдореЗрдердб рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИред

![Ghidra Code Browser рдореЗрдВ рдлрд╛рдЗрд▓ рд▓реЛрдб рдХрд░рдирд╛](https://maddiestone.github.io/AndroidAppRE/images/loadingIntoGhidra.png)

![jadx рдореЗрдВ рдЦреБрд▓реЗ Mediacode рдХрд╛ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ](https://maddiestone.github.io/AndroidAppRE/images/Mediacode.InJadx.png)

**рд╕рдорд╛рдзрд╛рди**

### рдПрдВрдбреНрд░реЙрдЗрдб рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЛрдб рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдХрд░рдирд╛ - JNIEnv <a href="#reversing-android-native-libraries-code---jnienv" id="reversing-android-native-libraries-code---jnienv"></a>

рдПрдВрдбреНрд░реЙрдЗрдб рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╕рдордп, рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдерд╛ рдХрд┐ рдореБрдЭреЗ `JNIEnv` рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред `JNIEnv` рдлрдВрдХреНрд╢рди рдкреЙрдЗрдВрдЯрд░реНрд╕ рдХрд╛ рдПрдХ рд╕реНрдЯреНрд░рдХреНрдЪрд░ рд╣реИ рдЬреЛ [JNI рдлрдВрдХреНрд╢рдиреНрд╕](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html) рдХреЗ рд▓рд┐рдП рд╣реИред рд╣рд░ JNI рдлрдВрдХреНрд╢рди рдПрдВрдбреНрд░реЙрдЗрдб рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдореЗрдВ, рдкрд╣рд▓реЗ рдЖрд░реНрдЧреБрдореЗрдВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ `JNIEnv*` рд▓реЗрддрд╛ рд╣реИред

рдПрдВрдбреНрд░реЙрдЗрдб [JNI рдЯрд┐рдкреНрд╕](https://developer.android.com/training/articles/perf-jni) рдбреЙрдХреНрдпреВрдореЗрдВрдЯреЗрд╢рди рд╕реЗ:

> JNIEnv рдФрд░ JavaVM рдХреЗ C рдШреЛрд╖рдгрд╛рдПрдБ C++ рдШреЛрд╖рдгрд╛рдУрдВ рд╕реЗ рдЕрд▓рдЧ рд╣реИрдВред "jni.h" рдЗрдирдХреНрд▓реВрдб рдлрд╛рдЗрд▓ C рдпрд╛ C++ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдкрд░ рдЕрд▓рдЧ рдЯрд╛рдЗрдкрдбреЗрдлреНрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдЗрд╕ рдХрд╛рд░рдг рд╕реЗ, рдпрд╣ рдПрдХ рдмреБрд░рд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИ рдХрд┐ JNIEnv рдЖрд░реНрдЧреБрдореЗрдВрдЯреНрд╕ рдХреЛ рд╣реЗрдбрд░ рдлрд╛рдЗрд▓реНрд╕ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдП рдЬрд┐рдиреНрд╣реЗрдВ рджреЛрдиреЛрдВ рднрд╛рд╖рд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред (рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ: рдЕрдЧрд░ рдЖрдкрдХреА рд╣реЗрдбрд░ рдлрд╛рдЗрд▓ рдореЗрдВ #ifdef \_\_cplusplus рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рдо рдХрд░рдирд╛ рдкрдбрд╝ рд╕рдХрддрд╛ рд╣реИ рдЕрдЧрд░ рдЙрд╕ рд╣реЗрдбрд░ рдореЗрдВ рдХреБрдЫ рднреА JNIEnv рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИред)

рдпрд╣рд╛рдБ рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдлрдВрдХреНрд╢рдиреНрд╕ (рдФрд░ рдЙрдирдХреЗ JNIEnv рдореЗрдВ рдСрдлрд╕реЗрдЯреНрд╕) рд╣реИрдВ:

* JNIEnv + 0x18: jclass (\*FindClass)(JNIEnv\_, const char\_);
* JNIEnv + 0x34: jint (\*Throw)(JNIEnv\*, jthrowable);
* JNIEnv + 0x70: jobject (\*NewObject)(JNIEnv\*, jclass, jmethodID, тАж);
* JNIEnv + 0x84: jobject (\*NewObject)(JNIEnv\*, jclass, jmethodID, тАж);
* JNIEnv + 0x28C: jstring (\*NewString)(JNIEnv\_, const jchar\_, jsize);
* JNIEnv + 0x35C: jint (\*RegisterNatives)(JNIEnv\_, jclass, const JNINativeMethod\_, jint);

рдПрдВрдбреНрд░реЙрдЗрдб рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддреЗ рд╕рдордп, JNIEnv рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐:

1. JNI рдиреЗрдЯрд┐рд╡ рдлрдВрдХреНрд╢рдиреНрд╕ рдХреЗ рд▓рд┐рдП, рдЖрд░реНрдЧреБрдореЗрдВрдЯреНрд╕ 2 рд╕реЗ рд╢рд┐рдлреНрдЯ рд╣реЛ рдЬрд╛рдПрдВрдЧреЗред рдкрд╣рд▓рд╛ рдЖрд░реНрдЧреБрдореЗрдВрдЯ рд╣рдореЗрд╢рд╛ JNIEnv\* рд╣реЛрддрд╛ рд╣реИред рджреВрд╕рд░рд╛ рдЖрд░реНрдЧреБрдореЗрдВрдЯ рд╡рд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реЛрдЧрд╛ рдЬрд┐рд╕ рдкрд░ рдлрдВрдХреНрд╢рди рдХреЛ рдЪрд▓рд╛рдирд╛ рд╣реЛрдЧрд╛ред рд╕реНрдЯреИрдЯрд┐рдХ рдиреЗрдЯрд┐рд╡ рдореЗрдердбреНрд╕ рдХреЗ рд▓рд┐рдП (рдЙрдирдХреЗ рдЬрд╛рд╡рд╛ рдШреЛрд╖рдгрд╛ рдореЗрдВ рд╕реНрдЯреИрдЯрд┐рдХ рдХреАрд╡рд░реНрдб рд╣реЛрддрд╛ рд╣реИ) рдпрд╣ NULL рд╣реЛрдЧрд╛ред
2. рдЖрдк рдЕрдХреНрд╕рд░ рдбрд┐рд╕рд╛рд╕реЗрдореНрдмрд▓реА рдореЗрдВ рдЗрдВрдбрд╛рдпрд░реЗрдХреНрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рджреЗрдЦреЗрдВрдЧреЗ рдХреНрдпреЛрдВрдХрд┐ рдХреЛрдб JNIEnv\* рдкреЙрдЗрдВрдЯрд░ рдХреЗ рд▓рд┐рдП рдСрдлрд╕реЗрдЯ рдЬреЛрдбрд╝ рд░рд╣рд╛ рд╣реИ, рдЙрд╕ рд╕реНрдерд╛рди рдкрд░ рдлрдВрдХреНрд╢рди рдкреЙрдЗрдВрдЯрд░ рдХреЛ рдбрд┐рд░реЗрдлрд░реЗрдВрд╕ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдлрд┐рд░ рдлрдВрдХреНрд╢рди рдХреЛ рдмреНрд░рд╛рдВрдЪ рдХрд░ рд░рд╣рд╛ рд╣реИред

рдпрд╣рд╛рдБ JNIEnv рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЗ C-рдЗрдореНрдкреНрд▓реАрдореЗрдВрдЯреЗрд╢рди рдХреА рдПрдХ [рд╕реНрдкреНрд░реЗрдбрд╢реАрдЯ](https://docs.google.com/spreadsheets/d/1yqjFaY7mqyVIDs5jNjGLT-G8pUaRATzHWGFUgpdJRq8/edit?usp=
```markdown
рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдпрд╣ рд╕рдм рдореИрдиреНрдпреБрдЕрд▓реА рдХрд┐рдП рдмрд┐рдирд╛ JNI рдлрдВрдХреНрд╢рди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИ! Ghidra рдФрд░ IDA Pro рдбрд┐рдХрдВрдкрд╛рдЗрд▓рд░реНрд╕ рджреЛрдиреЛрдВ рдореЗрдВ рдЖрдк JNI рдлрдВрдХреНрд╢рдиреНрд╕ рдХреЗ рдкрд╣рд▓реЗ рдЖрд░реНрдЧреБрдореЗрдВрдЯ рдХреЛ `JNIEnv *` рдЯрд╛рдЗрдк рдореЗрдВ рд░реА-рдЯрд╛рдЗрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХреЙрд▓ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ JNI рдлрдВрдХреНрд╢рдиреНрд╕ рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдЧрд╛ред IDA Pro рдореЗрдВ, рдпрд╣ рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред Ghidra рдореЗрдВ, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ JNI рдЯрд╛рдЗрдкреНрд╕ рд▓реЛрдб рдХрд░рдирд╛ рд╣реЛрдЧрд╛ (рдпрд╛ рддреЛ jni.h рдлрд╛рдЗрд▓ рдпрд╛ jni.h рдлрд╛рдЗрд▓ рдХрд╛ Ghidra Data Types рдЖрд░реНрдХрд╛рдЗрд╡)ред рдЖрд╕рд╛рдиреА рдХреЗ рд▓рд┐рдП, рд╣рдо Ghidra Data Types рдЖрд░реНрдХрд╛рдЗрд╡ (gdt) рд╕реЗ JNI рдЯрд╛рдЗрдкреНрд╕ рд▓реЛрдб рдХрд░реЗрдВрдЧреЗ рдЬреЛ Ayrx рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдорд┐рдд рд╣реИ рдФрд░ [рдпрд╣рд╛рдБ](https://github.com/Ayrx/JNIAnalyzer/blob/master/JNIAnalyzer/data/jni\_all.gdt) рдЙрдкрд▓рдмреНрдз рд╣реИред рдЖрд╕рд╛рдиреА рдХреЗ рд▓рд┐рдП, рдпрд╣ рдлрд╛рдЗрд▓ VM рдореЗрдВ `~/jni_all.gdt` рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред

Ghidra рдореЗрдВ рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, Data Type Manager Window рдореЗрдВ, рджрд╛рд╣рд┐рдиреЗ рд╣рд╛рде рдХреЗ рдХреЛрдиреЗ рдореЗрдВ рдиреАрдЪреЗ рдХреА рдУрд░ рддреАрд░ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ "Open File Archive" рдЪреБрдиреЗрдВред

![Screenshot of Open File Archive Menu](https://maddiestone.github.io/AndroidAppRE/images/OpenArchive.png)

рдлрд┐рд░ `jni_all.gdt` рдлрд╛рдЗрд▓ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЪреБрдиреЗрдВред рдПрдХ рдмрд╛рд░ рдпрд╣ рд▓реЛрдб рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ Data Type Manager List рдореЗрдВ jni\_all рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ рдЬреИрд╕рд╛ рдХрд┐ рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред

![Screenshot of jni\_all Loaded in Data Type Manager](https://maddiestone.github.io/AndroidAppRE/images/LoadedInDataTypeManager.png)

рдПрдХ рдмрд╛рд░ рдпрд╣ Ghidra рдореЗрдВ рд▓реЛрдб рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдлрд┐рд░ рдбрд┐рдХрдВрдкрд╛рдЗрд▓рд░ рдореЗрдВ рдХрд┐рд╕реА рднреА рдЖрд░реНрдЧреБрдореЗрдВрдЯ рдЯрд╛рдЗрдкреНрд╕ рдХреЛ рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ "Retype Variable" рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВред рдирдП рдЯрд╛рдЗрдк рдХреЛ JNIEnv \* рд╕реЗрдЯ рдХрд░реЗрдВред рдЗрд╕рд╕реЗ рдбрд┐рдХрдВрдкрд╛рдЗрд▓рд░ рдЕрдм рдкреЙрдЗрдВрдЯрд░ рд╕реЗ рдСрдлрд╕реЗрдЯреНрд╕ рдХреЗ рдмрдЬрд╛рдп JNIFunctions рдХреЗ рдирд╛рдо рджрд┐рдЦрд╛рдПрдЧрд╛ред

![Screenshot of JNI Function names after the argument was Re-Typed to JNIEnv\*](https://maddiestone.github.io/AndroidAppRE/images/RetypedToJNIEnv.png)

#### рдЕрднреНрдпрд╛рд╕ #6 - рдиреЗрдЯрд┐рд╡ рдлрдВрдХреНрд╢рди рдЦреЛрдЬреЗрдВ рдФрд░ рд░рд┐рд╡рд░реНрд╕ рдХрд░реЗрдВ <a href="#exercise-6---find-and-reverse-the-native-function" id="exercise-6---find-and-reverse-the-native-function"></a>

рд╣рдо рдЕрдкрдиреЗ рдкрд┐рдЫрд▓реЗ рд╕рднреА рдХреМрд╢рд▓реЛрдВ рдХреЛ рдПрдХ рд╕рд╛рде рд▓рд╛рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ: RE рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдмрд┐рдВрджреБрдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛, DEX рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдХрд░рдирд╛, рдФрд░ рдиреЗрдЯрд┐рд╡ рдХреЛрдб рдХреЛ рд░рд┐рд╡рд░реНрд╕ рдХрд░рдирд╛ рддрд╛рдХрд┐ рдПрдХ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдЬрд┐рд╕рдиреЗ рдЕрдкрдиреЗ рд╣рд╛рдирд┐рдХрд╛рд░рдХ рд╡реНрдпрд╡рд╣рд╛рд░реЛрдВ рдХреЛ рдиреЗрдЯрд┐рд╡ рдХреЛрдб рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджрд┐рдпрд╛ рд╣реЛред рдирдореВрдирд╛ `~/samples/HDWallpaper.apk` рд╣реИред

**рд▓рдХреНрд╖реНрдп**

рдЗрд╕ рдЕрднреНрдпрд╛рд╕ рдХрд╛ рд▓рдХреНрд╖реНрдп рд╣рдорд╛рд░реЗ рд╕рднреА Android рд░рд┐рд╡рд░реНрд╕рд┐рдВрдЧ рдХреМрд╢рд▓реЛрдВ рдХреЛ рдПрдХ рд╕рд╛рде рд░рдЦрдирд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдХ рдРрдк рдХрд╛ рд╕рдВрдкреВрд░реНрдг рд░реВрдк рд╕реЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ: рдЗрд╕рдХрд╛ DEX рдФрд░ рдиреЗрдЯрд┐рд╡ рдХреЛрдбред

**рдЕрднреНрдпрд╛рд╕ рд╕рдВрджрд░реНрдн**

рдЖрдк рдПрдХ Android рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреЗ рд▓рд┐рдП рдореИрд▓рд╡реЗрдпрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рд╣реИрдВред рдЖрдкрдХреЛ рдЪрд┐рдВрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдирдореВрдирд╛ рдкреНрд░реАрдорд┐рдпрдо SMS рдзреЛрдЦрд╛рдзрдбрд╝реА рдХрд░ рд░рд╣рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд рдпрд╣ рдмрд┐рдирд╛ рдЦреБрд▓рд╛рд╕реЗ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рд╣рдорддрд┐ рдХреЗ рдПрдХ рдкреНрд░реАрдорд┐рдпрдо рдлреЛрди рдирдВрдмрд░ рдкрд░ SMS рднреЗрдЬрддрд╛ рд╣реИред рдореИрд▓рд╡реЗрдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ Android рдРрдкреНрд▓рд┐рдХреЗрд╢рди:

1. рдПрдХ SMS рд╕рдВрджреЗрд╢ рднреЗрдЬ рд░рд╣рд╛ рд╣реИ, рдФрд░
2. рд╡рд╣ SMS рд╕рдВрджреЗрд╢ рдПрдХ рдкреНрд░реАрдорд┐рдпрдо рдирдВрдмрд░ рдкрд░ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рдФрд░
3. рдХреНрдпрд╛ рдПрдХ рд╕реНрдкрд╖реНрдЯ рдЦреБрд▓рд╛рд╕рд╛ рд╣реИ, рдФрд░
4. рдХреНрдпрд╛ SMS рд╕рдВрджреЗрд╢ рдХреЗрд╡рд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рд╣рдорддрд┐ рдХреЗ рдмрд╛рдж рдкреНрд░реАрдорд┐рдпрдо рдирдВрдмрд░ рдкрд░ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред

**рдирд┐рд░реНрджреЗрд╢**

рдЖрдЧреЗ рдмрдврд╝реЗрдВ рдФрд░ рд░рд┐рд╡рд░реНрд╕ рдХрд░реЗрдВ!

**рд╕рдорд╛рдзрд╛рди**

## **JEB - рдбреАрдмрдЧ Android рдиреЗрдЯрд┐рд╡ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ**

**рдЗрд╕ рдмреНрд▓реЙрдЧ рдХреЛ рджреЗрдЦреЗрдВ:** [**https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler-eec681a22cf3**](https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler-eec681a22cf3)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣ред
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ рдореБрдЭреЗ **Twitter** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **hacktricks repo** рдФрд░ [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░рдХреЗ PRs рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
```
