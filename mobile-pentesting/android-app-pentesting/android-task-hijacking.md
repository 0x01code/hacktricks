# Android Görev Kaçırma

<details>

<summary><strong>AWS hackleme konusunda sıfırdan kahramana kadar öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklam görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini alın**](https://peass.creator-spring.com)
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **Katılın** 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarınızı göndererek HackTricks ve HackTricks Cloud github depolarına PR göndererek paylaşın.**

</details>

**Try Hard Güvenlik Grubu**

<figure><img src="../.gitbook/assets/telegram-cloud-document-1-5159108904864449420.jpg" alt=""><figcaption></figcaption></figure>

{% embed url="https://discord.gg/tryhardsecurity" %}

***

## Görev, Geri Yığın ve Ön Planda Olan Etkinlikler

Android'de bir **görev** temelde kullanıcıların belirli bir işi tamamlamak için etkileşimde bulunduğu etkinlikler kümesidir ve bir **geri yığın** içinde düzenlenir. Bu yığın etkinlikleri açıldıkları sıraya göre sıralar ve en son etkinliği **ön planda etkinlik** olarak en üstte görüntüler. Her an ekranda sadece bu etkinlik görünür, bu da onu **ön planda görev**in bir parçası yapar.

İşte etkinlik geçişlerinin hızlı bir açıklaması:

* **Etkinlik 1** başlangıçta yalnızca ön planda olan etkinliktir.
* **Etkinlik 2**'yi başlatmak, **Etkinlik 1**'i geri yığına iter ve **Etkinlik 2**'yi ön plana getirir.
* **Etkinlik 3**'ü başlatmak, **Etkinlik 1** ve **Etkinlik 2**'yi yığında daha geriye taşır ve şimdi **Etkinlik 3** önde olur.
* **Etkinlik 3**'ü kapatmak, **Etkinlik 2**'yi tekrar ön plana getirir, Android'in akıcı görev gezinme mekanizmasını sergiler.

![https://developer.android.com/images/fundamentals/diagram\_backstack.png](<../../.gitbook/assets/image (548).png>)

## Görev uyumluluk saldırısı

### Görev Uyumluluğu ve Başlatma Modlarının Genel Bakışı

Android uygulamalarında, **görev uyumluluğu** bir etkinliğin tercih edilen görevini belirler ve genellikle uygulamanın paket adıyla uyumlu olur. Bu kurulum, saldırıyı göstermek için bir konsept kanıt uygulaması oluşturmada önemlidir.

### Başlatma Modları

`launchMode` özelliği etkinlik örneklerinin görevler içinde nasıl ele alınacağını yönlendirir. **singleTask** modu bu saldırı için kilit rol oynar ve mevcut etkinlik örneklerine ve görev uyumluluğu eşleşmelerine dayanan üç senaryoyu belirler. Saldırı, bir saldırganın uygulamasının hedef uygulamanın görev uyumluluğunu taklit etme yeteneğine dayanır ve Android sistemini hedeflenen uygulama yerine saldırganın uygulamasını başlatmaya yanıltır.

### Detaylı Saldırı Adımları

1. **Kötü Amaçlı Uygulama Kurulumu**: Kurban, saldırganın uygulamasını cihazına kurar.
2. **İlk Aktivasyon**: Kurban önce kötü amaçlı uygulamayı açar ve cihazı saldırıya hazırlar.
3. **Hedef Uygulama Başlatma Denemesi**: Kurban hedef uygulamayı açmaya çalışır.
4. **Kaçırma Yürütme**: Eşleşen görev uyumluluğu nedeniyle kötü amaçlı uygulama, hedef uygulamanın yerine başlatılır.
5. **Aldatma**: Kötü amaçlı uygulama, hedef uygulamaya benzeyen sahte bir giriş ekranı sunarak kullanıcıyı hassas bilgileri girmeye kandırır.

Bu saldırının pratik bir uygulaması için GitHub'daki Task Hijacking Strandhogg deposuna başvurun: [Task Hijacking Strandhogg](https://github.com/az0mb13/Task\_Hijacking\_Strandhogg).

### Önleme Önlemleri

Bu tür saldırıları önlemek için geliştiriciler `taskAffinity`'yi boş bir dize olarak ayarlayabilir ve `singleInstance` başlatma modunu tercih edebilir, uygulamalarını diğerlerinden izole etmeyi sağlar. `onBackPressed()` işlevini özelleştirme, görev kaçırmaya karşı ek koruma sağlar.

## **Referanslar**

* [**https://blog.dixitaditya.com/android-task-hijacking/**](https://blog.dixitaditya.com/android-task-hijacking/)
* [**https://blog.takemyhand.xyz/2021/02/android-task-hijacking-with.html**](https://blog.takemyhand.xyz/2021/02/android-task-hijacking-with.html)

**Try Hard Güvenlik Grubu**

<figure><img src="../.gitbook/assets/telegram-cloud-document-1-5159108904864449420.jpg" alt=""><figcaption></figcaption></figure>

{% embed url="https://discord.gg/tryhardsecurity" %}

<details>

<summary><strong>AWS hackleme konusunda sıfırdan kahramana kadar öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklam görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini alın**](https://peass.creator-spring.com)
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **Katılın** 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarınızı göndererek HackTricks ve HackTricks Cloud github depolarına PR göndererek paylaşın.**

</details>
