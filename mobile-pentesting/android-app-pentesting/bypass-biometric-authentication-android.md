# –û–±—Ö—ñ–¥ –±—ñ–æ–º–µ—Ç—Ä–∏—á–Ω–æ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (Android)


<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* –í–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –≤ **–∫—ñ–±–µ—Ä–±–µ–∑–ø–µ—Ü—ñ –∫–æ–º–ø–∞–Ω—ñ—ó**? –•–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ **—Ä–µ–∫–ª–∞–º—É –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞ HackTricks**? –∞–±–æ —Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ **–æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó PEASS –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**? –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** [**üí¨**](https://emojipedia.org/speech-balloon/) [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –º–Ω–æ—é –Ω–∞ **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks](https://github.com/carlospolop/hacktricks) —Ç–∞ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

## **–ú–µ—Ç–æ–¥ 1 ‚Äì –û–±—Ö—ñ–¥ –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞ Crypto**

–¢—É—Ç –∞–∫—Ü–µ–Ω—Ç—É—î—Ç—å—Å—è –Ω–∞ –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–º—É –≤–∏–∫–ª–∏–∫—É *onAuthenticationSucceeded*, —è–∫–∏–π —î –∫–ª—é—á–æ–≤–∏–º —É –ø—Ä–æ—Ü–µ—Å—ñ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –î–æ—Å–ª—ñ–¥–Ω–∏–∫–∏ –∑ WithSecure —Ä–æ–∑—Ä–æ–±–∏–ª–∏ [—Å–∫—Ä–∏–ø—Ç Frida](https://github.com/WithSecureLABS/android-keystore-audit/blob/master/frida-scripts/fingerprint-bypass.js), —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –æ–±—ñ–π—Ç–∏ NULL *CryptoObject* –≤ *onAuthenticationSucceeded(...)*. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –∑–∞ –≤—ñ–¥–±—É–≤–∞–Ω–Ω—è–º –º–µ—Ç–æ–¥—É. –ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω–æ —Å–ø—Ä–æ—â–µ–Ω–∏–π —É—Ä–∏–≤–æ–∫, —â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –æ–±—Ö—ñ–¥ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –≤—ñ–¥–±–∏—Ç–∫–∞ –ø–∞–ª—å—Ü—è Android, –ø–æ–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ [GitHub](https://github.com/St3v3nsS/InsecureBanking).
```javascript
biometricPrompt = new BiometricPrompt(this, executor, new BiometricPrompt.AuthenticationCallback() {
@Override
public void onAuthenticationSucceeded(@NonNull BiometricPrompt.AuthenticationResult result) {
Toast.makeText(MainActivity.this,"Success",Toast.LENGTH_LONG).show();
}
});
```
–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫—É —Å–∫—Ä–∏–ø—Ç—É Frida:
```bash
frida -U -f com.generic.insecurebankingfingerprint --no-pause -l fingerprint-bypass.js
```
## **–ú–µ—Ç–æ–¥ 2 - –ü—ñ–¥—Ö—ñ–¥ –æ–±—Ä–æ–±–∫–∏ –≤–∏–Ω—è—Ç–∫—ñ–≤**

–©–µ –æ–¥–∏–Ω [—Å–∫—Ä–∏–ø—Ç Frida](https://github.com/WithSecureLABS/android-keystore-audit/blob/master/frida-scripts/fingerprint-bypass-via-exception-handling.js) –≤—ñ–¥ WithSecure –≤–∏—Ä—ñ—à—É—î —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—ó. –°–∫—Ä–∏–ø—Ç –≤–∏–∫–ª–∏–∫–∞—î *onAuthenticationSucceeded* –∑ *CryptoObject*, —è–∫–∏–π –Ω–µ –±—É–≤ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –≤—ñ–¥–±–∏—Ç–∫–æ–º –ø–∞–ª—å—Ü—è. –Ø–∫—â–æ –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è, —Ü–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç—å –≤–∏–Ω—è—Ç–æ–∫. –°–∫—Ä–∏–ø—Ç –≥–æ—Ç—É—î—Ç—å—Å—è –≤–∏–∫–ª–∏–∫–∞—Ç–∏ *onAuthenticationSucceeded* —Ç–∞ –æ–±—Ä–æ–±–ª—è—Ç–∏ *javax.crypto.IllegalBlockSizeException* –≤ –∫–ª–∞—Å—ñ _Cipher_, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏, —â–æ –Ω–∞—Å—Ç—É–ø–Ω—ñ –æ–±'—î–∫—Ç–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–º, –±—É–¥—É—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –Ω–æ–≤–∏–º –∫–ª—é—á–µ–º.

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫—É —Å–∫—Ä–∏–ø—Ç–∞ Frida:
```bash
frida -U -f com.generic.insecurebankingfingerprint --no-pause -l fingerprint-bypass-via-exception-handling.js
```
–ü—ñ—Å–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –µ–∫—Ä–∞–Ω—É –≤—ñ–¥–±–∏—Ç–∫–∞ –ø–∞–ª—å—Ü—è —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞—Ü—ñ—ó `authenticate()`, –≤–≤–µ–¥—ñ—Ç—å `bypass()` –≤ –∫–æ–Ω—Å–æ–ª—ñ Frida, —â–æ–± –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –æ–±—Ö—ñ–¥:
```
Spawning com.generic.insecurebankingfingerprint...
[Android Emulator 5554::com.generic.insecurebankingfingerprint]-> Hooking BiometricPrompt.authenticate()...
Hooking BiometricPrompt.authenticate2()...
Hooking FingerprintManager.authenticate()...
[Android Emulator 5554::com.generic.insecurebankingfingerprint]-> bypass()
```
## **–ú–µ—Ç–æ–¥ 3 ‚Äì –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ñ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏**

–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ñ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, —Ç–∞–∫—ñ —è–∫ Xposed –∞–±–æ Frida, –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –º–µ—Ç–æ–¥—ñ–≤ –¥–æ–¥–∞—Ç–∫–∞ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –î–ª—è –≤—ñ–¥–±–∏—Ç—Ç—è –≤—ñ–¥–±–∏—Ç–∫–∞ –ø–∞–ª—å—Ü—è —Ü—ñ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –º–æ–∂—É—Ç—å:

1. **–ú–æ–¥–µ–ª—é–≤–∞—Ç–∏ –≤–∏–∫–ª–∏–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó**: –ü—ñ–¥–∫–ª—é—á–∞—é—á–∏—Å—å –¥–æ –º–µ—Ç–æ–¥—ñ–≤ `onAuthenticationSucceeded`, `onAuthenticationFailed` –∞–±–æ `onAuthenticationError` –∫–ª–∞—Å—É `BiometricPrompt.AuthenticationCallback`, –≤–∏ –º–æ–∂–µ—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Ü–µ—Å—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤—ñ–¥–±–∏—Ç–∫–∞ –ø–∞–ª—å—Ü—è.
2. **–û–±—Ö—ñ–¥ SSL Pinning**: –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫—É –ø–µ—Ä–µ—Ö–æ–ø–ª—é–≤–∞—Ç–∏ —Ç–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫ –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —Ç–∞ —Å–µ—Ä–≤–µ—Ä–æ–º, –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –∑–º—ñ–Ω—é—é—á–∏ –ø—Ä–æ—Ü–µ—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∞–±–æ –∫—Ä–∞–¥—É—á–∏ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ.

–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è Frida:
```bash
frida -U -l script-to-bypass-authentication.js --no-pause -f com.generic.in
```
## **–ú–µ—Ç–æ–¥ 4 - –ó–≤–æ—Ä–æ—Ç–Ω–µ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ–¥—É**

–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è, —Ç–∞–∫—ñ —è–∫ `APKTool`, `dex2jar` —Ç–∞ `JD-GUI`, –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–ª—è –¥–µ–∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó –¥–æ–¥–∞—Ç–∫–∞ Android, —á–∏—Ç–∞–Ω–Ω—è –π–æ–≥–æ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –ó–∞–≥–∞–ª—å–Ω—ñ –∫—Ä–æ–∫–∏ –≤–∫–ª—é—á–∞—é—Ç—å:

1. **–î–µ–∫–æ–º–ø—ñ–ª—è—Ü—ñ—è APK**: –ö–æ–Ω–≤–µ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É APK –≤ –±—ñ–ª—å—à –∑—Ä–æ–∑—É–º—ñ–ª–∏–π —Ñ–æ—Ä–º–∞—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–¥ Java).
2. **–ê–Ω–∞–ª—ñ–∑ –∫–æ–¥—É**: –ü–æ—à—É–∫ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞ –≤—ñ–¥–±–∏—Ç–∫–æ–º –ø–∞–ª—å—Ü—è —Ç–∞ –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö —Å–ª–∞–±–∫–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó).
3. **–†–µ–∫–æ–º–ø—ñ–ª—è—Ü—ñ—è APK**: –ü—ñ—Å–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ–¥—É –¥–ª—è –æ–±—Ö–æ–¥—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞ –≤—ñ–¥–±–∏—Ç–∫–æ–º –ø–∞–ª—å—Ü—è –¥–æ–¥–∞—Ç–æ–∫ —Ä–µ–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è, –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

## **–ú–µ—Ç–æ–¥ 5 - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó**

–Ü—Å–Ω—É—é—Ç—å —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –æ–±—Ö–æ–¥—É –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

1. **–ú–æ–¥—É–ª—ñ MAGISK**: MAGISK - —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è Android, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º —Ä—É—Ö–∞—Ç–∏ —Å–≤–æ—ó –ø—Ä–∏—Å—Ç—Ä–æ—ó —Ç–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ –º–æ–¥—É–ª—ñ, —è–∫—ñ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∞–±–æ –ø—ñ–¥—Ä–æ–±–ª—è—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –Ω–∞ —Ä—ñ–≤–Ω—ñ –∞–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è, –≤–∫–ª—é—á–∞—é—á–∏ –≤—ñ–¥–±–∏—Ç–∫–∏ –ø–∞–ª—å—Ü—ñ–≤.
2. **–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏**: –°–∫—Ä–∏–ø—Ç–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–∞–ø–∏—Å–∞–Ω—ñ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ Android Debug Bridge (ADB) –∞–±–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑ –±–µ–∫–µ–Ω–¥–æ–º –¥–æ–¥–∞—Ç–∫–∞ –¥–ª—è —ñ–º—ñ—Ç–∞—Ü—ñ—ó –∞–±–æ –æ–±—Ö–æ–¥—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞ –≤—ñ–¥–±–∏—Ç–∫–æ–º –ø–∞–ª—å—Ü—è.

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è
* [https://securitycafe.ro/2022/09/05/mobile-pentesting-101-bypassing-biometric-authentication/](https://securitycafe.ro/2022/09/05/mobile-pentesting-101-bypassing-biometric-authentication/)
