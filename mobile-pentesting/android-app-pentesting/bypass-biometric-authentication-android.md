# рдмрд╛рдпрдкрд╛рд╕ рдмрд╛рдпреЛрдореЗрдЯреНрд░рд┐рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг (рдПрдВрдбреНрд░реЙрдЗрдб)


<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдж рдкреАрдПрд╕ рдлреИрдорд┐рд▓реА**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж[**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud) рдкрд░ PR рдЬрдорд╛ рдХрд░рдХреЗ**ред

</details>

## **рд╡рд┐рдзрд┐ 1 тАУ рдХреЛрдИ рдХреНрд░рд┐рдкреНрдЯреЛ рдСрдмреНрдЬ
```javascript
biometricPrompt = new BiometricPrompt(this, executor, new BiometricPrompt.AuthenticationCallback() {
@Override
public void onAuthenticationSucceeded(@NonNull BiometricPrompt.AuthenticationResult result) {
Toast.makeText(MainActivity.this,"Success",Toast.LENGTH_LONG).show();
}
});
```
рдлреНрд░рд┐рдбрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдорд╛рдВрдб:
```bash
frida -U -f com.generic.insecurebankingfingerprint --no-pause -l fingerprint-bypass.js
```
## **рддрдХрдиреАрдХ 2 тАУ рдЕрдкрд╡рд╛рдж рд╣реИрдВрдбрд▓рд┐рдВрдЧ рджреГрд╖реНрдЯрд┐рдХреЛрдг**

рдПрдХ рдФрд░ [Frida рд╕реНрдХреНрд░рд┐рдкреНрдЯ](https://github.com/WithSecureLABS/android-keystore-audit/blob/master/frida-scripts/fingerprint-bypass-via-exception-handling.js) WithSecure рджреНрд╡рд╛рд░рд╛ рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдХреНрд░рд┐рдкреНрдЯреЛ рдСрдмреНрдЬреЗрдХреНрдЯ рдЙрдкрдпреЛрдЧ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдкрд░ рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реИред рд╕реНрдХреНрд░рд┐рдкреНрдЯ *onAuthenticationSucceeded* рдХреЛ рдПрдХ *CryptoObject* рдХреЗ рд╕рд╛рде рдЖрдордВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдПрдХ рдЙрдВрдЧрд▓реА рдХреЗ рд╕рд╛рде рдЕрдзрд┐рдХреГрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрджрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ рд╡рд┐рднрд┐рдиреНрди рд╕рд╛рдЗрдлрд░ рдСрдмреНрдЬ
```bash
frida -U -f com.generic.insecurebankingfingerprint --no-pause -l fingerprint-bypass-via-exception-handling.js
```
рдЕрдВрдЧреБрд▓реА рдкреНрд░рд┐рдВрдЯ рд╕реНрдХреНрд░реАрди рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдкрд░ рдФрд░ `authenticate()` рдХреА рд╢реБрд░реБрдЖрдд рдХрд░рдиреЗ рдкрд░, Frida рдХрдВрд╕реЛрд▓ рдореЗрдВ `bypass()` рдЯрд╛рдЗрдк рдХрд░реЗрдВ рддрд╛рдХрд┐ рдмрд╛рдпрдкрд╛рд╕ рд╕рдХреНрд░рд┐рдп рд╣реЛ рдЬрд╛рдП:
```
Spawning com.generic.insecurebankingfingerprint...
[Android Emulator 5554::com.generic.insecurebankingfingerprint]-> Hooking BiometricPrompt.authenticate()...
Hooking BiometricPrompt.authenticate2()...
Hooking FingerprintManager.authenticate()...
[Android Emulator 5554::com.generic.insecurebankingfingerprint]-> bypass()
```
## **рддрдХрдиреАрдХ 3 тАУ рдЙрдкрдХрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ**

Xposed рдпрд╛ Frida рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рд░рдирдЯрд╛рдЗрдо рдкрд░ рдЙрдХреНрддрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрдВрдЧрд▓рд┐рдпреЛрдВ рдХреЗ рдирд┐рд░реНрджреЗрд╢рди рдХреЗ рд▓рд┐рдП, рдпреЗ рдлреНрд░реЗрдорд╡рд░реНрдХ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

1. **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЙрд▓рдмреИрдХреНрд╕ рдХрд╛ рдореЙрдХ рдмрдирд╛рдирд╛**: `BiometricPrompt.AuthenticationCallback` рдХреЗ `onAuthenticationSucceeded`, `onAuthenticationFailed`, рдпрд╛ `onAuthenticationError` рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рдЙрдХреНрддрд╛рди рдХрд░рдХреЗ, рдЖрдк рдЙрдВрдЧрд▓рд┐рдпреЛрдВ рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
2. **SSL рдкрд┐рдирд┐рдВрдЧ рдХреЛ рдЙрд▓рдЯ рджреЗрдирд╛**: рдЗрд╕рд╕реЗ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдЧреНрд░рд╛рд╣рдХ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдмреАрдЪ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдмрд╛рдзрд┐рдд рдФрд░ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдЪреБрд░рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЙрджрд╛рд╣рд░рдг рдХрдорд╛рдВрдб Frida рдХреЗ рд▓рд┐рдП:
```bash
frida -U -l script-to-bypass-authentication.js --no-pause -f com.generic.in
```
## **рддрдХрдиреАрдХ 4 тАУ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдФрд░ рдХреЛрдб рд╕рдВрд╢реЛрдзрди**

`APKTool`, `dex2jar`, рдФрд░ `JD-GUI` рдЬреИрд╕реЗ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдВрдбреНрд░реЙрдЗрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб рдХреЛ рдкрдврд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдХреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рддрдВрддреНрд░ рдХреЛ рд╕рдордЭрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЪрд░рдг рд╕рд╛рдорд╛рдиреНрдпрдд: 

1. **APK рдХреЛ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд░рдирд╛**: APK рдлрд╝рд╛рдЗрд▓ рдХреЛ рдПрдХ рдФрд░ рдорд╛рдирд╡-рдкрдардиреАрдп рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВ (рдЬреИрд╕реЗ Java рдХреЛрдб)ред
2. **рдХреЛрдб рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг**: рдЙрдВрдЧрд▓реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдВ (рдЬреИрд╕реЗ рдлреЙрд▓рдмреИрдХ рддрдВрддреНрд░ рдпрд╛ рдЕрдиреБрдЪрд┐рдд рдорд╛рдиреНрдпрддрд╛ рдХреА рдЬрд╛рдВрдЪ)ред
3. **APK рдХреЛ рдкреБрдирдГ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░рдирд╛**: рдЙрдВрдЧрд▓реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЫрд▓рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдкреБрдирдГ рд╕рдВрдпреЛрдЬрд┐рдд, рд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

## **рддрдХрдиреАрдХ 5 тАУ рдХрд╕реНрдЯрдо рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛**

рдкреНрд░рдорд╛рдгреАрдХрд░рдг рддрдВрддреНрд░реЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдФрд░ рдЫрд▓рд╛рд╡рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдЙрдкрдХрд░рдг рдФрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:

1. **MAGISK рдореЙрдбреНрдпреВрд▓**: MAGISK рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЙрдирдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рд░реВрдЯ рдХрд░рдиреЗ рдФрд░ рдореЙрдбреНрдпреВрд▓ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬреЛ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд╕реНрддрд░реАрдп рдЬрд╛рдирдХрд╛рд░реА, рдЬреИрд╕реЗ рдЙрдВрдЧрд▓реА рдХреЛ рдореЛрдбрд┐рдлрд╝рд╛рдИ рдпрд╛ рдЫрд▓рд╛рдиреЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
2. **рдХрд╕реНрдЯрдо рдирд┐рд░реНрдорд┐рдд рд╕реНрдХреНрд░рд┐рдкреНрдЯ**: рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦреЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдПрдВрдбреНрд░реЙрдЗрдб рдбреАрдмрдЧ рдмреНрд░рд┐рдЬ (ADB) рдХреЗ рд╕рд╛рде рдпрд╛ рд╕реАрдзреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдмреИрдХрдПрдВрдб рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдВрдЧрд▓реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рд╕рд┐рдореБрд▓реЗрдЯ рдпрд╛ рдЫрд▓рд╛рдиреЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

## рд╕рдВрджрд░реНрдн
* [https://securitycafe.ro/2022/09/05/mobile-pentesting-101-bypassing-biometric-authentication/](https://securitycafe.ro/2022/09/05/mobile-pentesting-101-bypassing-biometric-authentication/)
