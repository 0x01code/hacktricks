<details>

<summary><strong>Aprenda hacking no AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao grupo [**telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios github do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Como Desofuscar

As estrat√©gias de desofusca√ß√£o dependem do m√©todo de ofusca√ß√£o. Esta se√ß√£o introduz t√©cnicas de desofusca√ß√£o est√°tica, adequadas para an√°lise est√°tica ou reversa:

* Para bytecode DEX (Java), uma abordagem comum √© identificar e replicar os m√©todos de desofusca√ß√£o da aplica√ß√£o em um arquivo Java, que √© ent√£o executado contra os elementos ofuscados.
* Tanto para Java quanto para C√≥digo Nativo, outra t√©cnica envolve traduzir o algoritmo de desofusca√ß√£o para uma linguagem de script familiar como Python, enfatizando que entender o algoritmo n√£o √© t√£o crucial quanto ser capaz de execut√°-lo.

## Indicadores de Ofusca√ß√£o

Reconhecer a ofusca√ß√£o envolve identificar certos indicadores, com os seguintes exemplos fornecidos:

* Aus√™ncia de strings ou presen√ßa de strings embaralhadas em Java e Android, indicando ofusca√ß√£o de strings.
* Exist√™ncia de arquivos bin√°rios no diret√≥rio de ativos ou chamadas DexClassLoader, indicando poss√≠vel desempacotamento e carregamento de c√≥digo.
* Uso de bibliotecas nativas sem fun√ß√µes JNI identific√°veis, sugerindo ofusca√ß√£o de m√©todos nativos.

### Exerc√≠cio de Desofusca√ß√£o de Strings

Um exerc√≠cio √© fornecido para praticar a desofusca√ß√£o de strings dentro de um contexto de an√°lise est√°tica. A tarefa envolve um arquivo de amostra com um digest SHA256 espec√≠fico, exigindo que o analista descubra uma string Javascript ofuscada sem executar a aplica√ß√£o dinamicamente.

A solu√ß√£o envolve um script Python que decifra a string codificada, revelando um script embutido origin√°rio de coinhive.com e iniciando um minerador.

### Recursos Adicionais

Mais insights sobre desofusca√ß√£o de aplicativos Android, especialmente focando em t√©cnicas avan√ßadas de ofusca√ß√£o, podem ser explorados nas palestras do BlackHat USA 2018 e REcon 2019, cada uma cobrindo aspectos √∫nicos da ofusca√ß√£o em aplicativos Android.

Exerc√≠cio de https://maddiestone.github.io/AndroidAppRE/obfuscation.html:
```python
enc_str = "773032205849207A3831326F1351202E3B306B7D1E5A3B33252B382454173735266C3D3B53163735222D393B475C7A37222D7F38421B6A66643032205849206477303220584920643D2223725C503A3F39636C725F5C237A082C383C7950223F65023F3D5F4039353E3079755F5F666E1134141F5C4C64377A1B671F565A1B2C7F7B101F42700D1F39331717161574213F2B2337505D27606B712C7B0A543D342E317F214558262E636A6A6E1E4A37282233256C"

length = len(enc_str)
count = 0
dec_str = [0] * (length/2)
while (count < length):
dec_str[count/2] = (int(enc_str[count], 16) << 4) + int(enc_str[count + 1], 16) & 0xFF
count += 2
print dec_str


key = [75, 67, 81, 82, 49, 57, 84, 90]
enc_str = dec_str
count = 0
length = len(enc_str)
while (count < length):
dec_str[count] = chr(enc_str[count] ^ key[count % len(key)])
count += 1
print ''.join(dec_str)
```
# Refer√™ncias e Leitura Adicional
* [https://maddiestone.github.io/AndroidAppRE/obfuscation.html](https://maddiestone.github.io/AndroidAppRE/obfuscation.html)
* BlackHat USA 2018: ‚ÄúDesempacotando o Empacotador: Engenharia Reversa de uma Biblioteca Anti-An√°lise Android‚Äù \[[v√≠deo](https://www.youtube.com/watch?v=s0Tqi7fuOSU)]
* Esta palestra aborda a engenharia reversa de uma das bibliotecas nativas anti-an√°lise mais complexas que j√° vi utilizadas por um aplicativo Android. Ela cobre principalmente t√©cnicas de ofusca√ß√£o em c√≥digo nativo.
* REcon 2019: ‚ÄúO Caminho para o Payload: Edi√ß√£o Android‚Äù \[[v√≠deo](https://recon.cx/media-archive/2019/Session.005.Maddie_Stone.The_path_to_the_payload_Android_Edition-J3ZnNl2GYjEfa.mp4)]
* Esta palestra discute uma s√©rie de t√©cnicas de ofusca√ß√£o, exclusivamente em c√≥digo Java, que um botnet Android estava usando para esconder seu comportamento.


<details>

<summary><strong>Aprenda hacking em AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao grupo [**telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios github do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
