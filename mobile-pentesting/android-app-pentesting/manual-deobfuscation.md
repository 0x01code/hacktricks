<details>

<summary><strong>Aprende hacking en AWS desde cero hasta convertirte en un h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Experto en Equipos Rojos de AWS de HackTricks)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n el [**swag oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## T√©cnicas de **Desofuscaci√≥n Manual**

En el √°mbito de la **seguridad del software**, el proceso de hacer que el c√≥digo oscurecido sea comprensible, conocido como **desofuscaci√≥n**, es crucial. Esta gu√≠a explora varias estrategias para la desofuscaci√≥n, centr√°ndose en t√©cnicas de an√°lisis est√°tico y en el reconocimiento de patrones de ofuscaci√≥n. Adem√°s, presenta un ejercicio para su aplicaci√≥n pr√°ctica y sugiere recursos adicionales para aquellos interesados en explorar temas m√°s avanzados.

### **Estrategias para la Desofuscaci√≥n Est√°tica**

Cuando se trata de **c√≥digo ofuscado**, se pueden emplear varias estrategias dependiendo de la naturaleza de la ofuscaci√≥n:

- **C√≥digo DEX (Java)**: Un enfoque efectivo implica identificar los m√©todos de desofuscaci√≥n de la aplicaci√≥n, luego replicar estos m√©todos en un archivo Java. Este archivo se ejecuta para revertir la ofuscaci√≥n en los elementos objetivo.
- **Java y C√≥digo Nativo**: Otro m√©todo es traducir el algoritmo de desofuscaci√≥n a un lenguaje de script como Python. Esta estrategia destaca que el objetivo principal no es comprender completamente el algoritmo, sino ejecutarlo de manera efectiva.

### **Identificaci√≥n de la Ofuscaci√≥n**

Reconocer el c√≥digo ofuscado es el primer paso en el proceso de desofuscaci√≥n. Los indicadores clave incluyen:

- La **ausencia o mezcla de cadenas** en Java y Android, lo que puede sugerir ofuscaci√≥n de cadenas.
- La **presencia de archivos binarios** en el directorio de activos o llamadas a `DexClassLoader`, que sugieren desempaquetado de c√≥digo y carga din√°mica.
- El uso de **bibliotecas nativas junto con funciones JNI no identificables**, lo que indica una posible ofuscaci√≥n de m√©todos nativos.

## **An√°lisis Din√°mico en la Desofuscaci√≥n**

Al ejecutar el c√≥digo en un entorno controlado, el an√°lisis din√°mico **permite observar c√≥mo se comporta el c√≥digo ofuscado en tiempo real**. Este m√©todo es particularmente efectivo para descubrir el funcionamiento interno de patrones de ofuscaci√≥n complejos dise√±ados para ocultar la verdadera intenci√≥n del c√≥digo.

### **Aplicaciones del An√°lisis Din√°mico**

- **Desencriptaci√≥n en Tiempo de Ejecuci√≥n**: Muchas t√©cnicas de ofuscaci√≥n implican encriptar cadenas o segmentos de c√≥digo que solo se desencriptan en tiempo de ejecuci√≥n. A trav√©s del an√°lisis din√°mico, estos elementos encriptados pueden capturarse en el momento de la desencriptaci√≥n, revelando su forma real.
- **Identificaci√≥n de T√©cnicas de Ofuscaci√≥n**: Al monitorear el comportamiento de la aplicaci√≥n, el an√°lisis din√°mico puede ayudar a identificar t√©cnicas espec√≠ficas de ofuscaci√≥n que se est√°n utilizando, como la virtualizaci√≥n de c√≥digo, empaquetadores o generaci√≥n de c√≥digo din√°mico.
- **Descubrimiento de Funcionalidades Ocultas**: El c√≥digo ofuscado puede contener funcionalidades ocultas que no son evidentes mediante el an√°lisis est√°tico solo. El an√°lisis din√°mico permite observar todos los caminos de c√≥digo, incluidos aquellos ejecutados condicionalmente, para descubrir tales funcionalidades ocultas.

## Referencias y Lecturas Adicionales
* [https://maddiestone.github.io/AndroidAppRE/obfuscation.html](https://maddiestone.github.io/AndroidAppRE/obfuscation.html)
* BlackHat USA 2018: ‚ÄúDesempaquetando el Desempaquetador Empaquetado: Ingenier√≠a Inversa de una Biblioteca Anti-An√°lisis de Android‚Äù \[[video](https://www.youtube.com/watch?v=s0Tqi7fuOSU)]
* Esta charla analiza la ingenier√≠a inversa de una de las bibliotecas nativas anti-an√°lisis m√°s complejas que he visto utilizadas por una aplicaci√≥n de Android. Cubre principalmente t√©cnicas de ofuscaci√≥n en c√≥digo nativo.
* REcon 2019: ‚ÄúEl Camino hacia la Carga √ötil: Edici√≥n Android‚Äù \[[video](https://recon.cx/media-archive/2019/Session.005.Maddie_Stone.The_path_to_the_payload_Android_Edition-J3ZnNl2GYjEfa.mp4)]
* Esta charla discute una serie de t√©cnicas de ofuscaci√≥n, √∫nicamente en c√≥digo Java, que una botnet de Android estaba utilizando para ocultar su comportamiento.

</details>
