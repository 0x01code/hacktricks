# Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ред
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ **рд╢рд╛рдорд┐рд▓** рд╣реЛрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**ред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ рдЕрдкрдирд╛ рдпреЛрдЧрджрд╛рди рджреЗрдВред**

</details>

<figure><img src="/.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рджреБрд░реНрдмрд▓рддрд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВред Intruder рдЖрдкрдХреА рд╣рдорд▓рд╛ рд╕рддрд╣ рдХрд╛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИ, рдкреНрд░реЛрдПрдХреНрдЯрд┐рд╡ рдзрдордХреА рд╕реНрдХреИрди рдЪрд▓рд╛рддрд╛ рд╣реИ, рдПрдкреАрдЖрдИ рд╕реЗ рд╡реЗрдм рдРрдкреНрд╕ рдФрд░ рдХреНрд▓рд╛рдЙрдб рд╕рд┐рд╕реНрдЯрдо рддрдХ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИред [**рдЗрд╕реЗ рдирд┐: рд╢реБрд▓реНрдХ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдЖрдЬрд╝рдорд╛рдПрдВ**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks)ред

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}

***

## Android рд╕реБрд░рдХреНрд╖рд╛ рдореЙрдбрд▓

**рдпрд╣рд╛рдВ рджреЛ рд╕реНрддрд░ рд╣реИрдВ:**

* **рдУрдПрд╕**, рдЬреЛ рд╕реНрдерд╛рдкрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рдЕрд▓рдЧ рд░рдЦрддрд╛ рд╣реИред
* **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред**

### UID рдЕрд▓рдЧрд╛рд╡

**рдкреНрд░рддреНрдпреЗрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рд╕реМрдВрдкрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдЗрд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рджреМрд░рд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ **рдРрдк рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдпрд╛ рд╕рд╛рдЭрд╛ рдХрд┐рдП рдЧрдП** рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░ рд╕рдХреЗред рдЗрд╕рд▓рд┐рдП, рдХреЗрд╡рд▓ рдРрдк рдЗрд╕реЗ, рдУрдПрд╕ рдХреЗ рдХреБрдЫ рдШрдЯрдХ рдФрд░ рд░реВрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реА рдРрдкреНрд╕ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред

### UID рд╕рд╛рдЭрд╛ рдХрд░рдирд╛

**рджреЛ рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдПрдХ рд╣реА UID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдЗрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рд╕рдВрдХреНрд░рдорд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рджреЛрдиреЛрдВ рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдЗрд╕рд▓рд┐рдП рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ **рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред\
**рдПрдХ рд╣реА UID рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдЕрдкрдиреЗ рдореЗрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ `android:sharedUserId` рдорд╛рди рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХрд░рдиреА рд╣реЛрдЧреАред**

### рд╕реИрдВрдбрдмреЙрдХреНрд╕рд┐рдВрдЧ

**Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕** рд╣рд░ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреЗ рддрд╣рдд рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЕрдкрдиреА рдЦреБрдж рдХреА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдРрдк рдХрд╛ рдХреЛрдб рдЕрдиреНрдп рдРрдкреНрд╕ рд╕реЗ рдЕрд▓рдЧрд╛рд╡ рдореЗрдВ рдЪрд▓рддрд╛ рд╣реИред\
Android 5.0(L) рд╕реЗ **SELinux** рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред рдореВрд▓ рд░реВрдк рд╕реЗ, SELinux рдиреЗ рд╕рднреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛ рдФрд░ рдлрд┐рд░ рдЙрдирдХреЗ рдмреАрдЪ рдХреА **рдЙрдореНрдореАрдж рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЛ рдХреЗрд╡рд▓ рд╕реНрд╡реАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреАрддрд┐рдпрд╛рдБ рдмрдирд╛рдИ
### ROMs

рдПрдХ рдХрд╕реНрдЯрдо рдлрд░реНрдорд╡реЗрдпрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдХреЗ рдУрдПрд╕ рдХреЛ рдмрджрд▓рдирд╛ рд╕рдВрднрд╡ рд╣реИред рдЗрд╕реЗ рдХрд░рдХреЗ рдкреБрд░рд╛рдиреЗ рдЙрдкрдХрд░рдг рдХреА рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдмрдврд╝рд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИ, рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЛ рджреВрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдирд╡реАрдирддрдо Android рдХреЛрдб рддрдХ рдкрд╣реБрдВрдЪ рдорд┐рд▓ рд╕рдХрддреА рд╣реИред
**OmniROM** рдФрд░ **LineageOS** рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рдлрд░реНрдорд╡реЗрдпрд░ рд╣реИрдВред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдХ рдХрд╕реНрдЯрдо рдлрд░реНрдорд╡реЗрдпрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдореЗрд╢рд╛ рдЙрдкрдХрд░рдг рдХреЛ рд░реВрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рдХреБрдЫ рдирд┐рд░реНрдорд╛рддрд╛рдУрдВ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИ рдЙрдирдХреЗ рдмреВрдЯрд▓реЛрдбрд░реНрд╕ рдХреЛ рдПрдХ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬреАрдХреГрдд рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдЕрдирд▓реЙрдХ рдХрд░рдиреЗ рдХреАред

### рдкреНрд░рднрд╛рд╡

рдПрдХ рдЙрдкрдХрд░рдг рдХреЛ рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдХреЛрдИ рднреА рдРрдк рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╣реБрдВрдЪ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреА рд╣реИред рдпрджрд┐ рдХреЛрдИ рджреБрд╖реНрдЯ рдРрдк рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЙрд╕реЗ рд▓рдЧрднрдЧ рд╕рдмрдХреБрдЫ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрдЧреА рдФрд░ рд╡рд╣ рдлреЛрди рдХреЛ рдХреНрд╖рддрд┐ рдкрд╣реБрдВрдЪрд╛ рд╕рдХреЗрдЧреАред

## Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдореВрд▓рднреВрдд рддрддреНрд╡ <a href="#2-android-application-fundamentals" id="2-android-application-fundamentals"></a>

рдпрд╣ рдкрд░рд┐рдЪрдп [https://maddiestone.github.io/AndroidAppRE/app\_fundamentals.html](https://maddiestone.github.io/AndroidAppRE/app\_fundamentals.html) рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

### рдореВрд▓рднреВрдд рддрддреНрд╡ рд╕рдореАрдХреНрд╖рд╛ <a href="#fundamentals-review" id="fundamentals-review"></a>

* Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди _APK рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк_ рдореЗрдВ рд╣реЛрддреЗ рд╣реИрдВред **APK рдореВрд▓ рд░реВрдк рд╕реЗ рдПрдХ ZIP рдлрд╝рд╛рдЗрд▓ рд╣реИ**ред (рдЖрдк рдлрд╝рд╛рдЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ .zip рдореЗрдВ рдмрджрд▓рдХрд░ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЦреЛрд▓рдиреЗ рдФрд░ рдЙрд╕рдХреА рд╕рд╛рдордЧреНрд░реА рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред)
* APK рд╕рд╛рдордЧреНрд░реА (рдЕрдкреВрд░реНрдг рдирд╣реАрдВ)
* **AndroidManifest.xml**
* resources.arsc/strings.xml
* resources.arsc: рдмрд╛рдЗрдирд░реА XML рдЬреИрд╕реЗ рдкреВрд░реНрд╡-рд╕рдВрдХрд▓рд┐рдд рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдореЗрдЯрдиреЗ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓ред
* res/xml/files\_paths.xml
* META-INF/
* рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдпрд╣рд╛рдВ рд░рд╣рддрд╛ рд╣реИ!
* **classes.dex**
* рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП Dalvik bytecode, DEX рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рдореЗрдВред **рдпрд╣ рдЬрд╛рд╡рд╛ (рдпрд╛ рдХреЛрдЯрд▓рд┐рди) рдХреЛрдб рд╣реИ** рдЬрд┐рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЪрд▓рд╛рдПрдЧрд╛ред
* lib/
* рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд┐рд╡ рдкреБрд╕реНрддрдХрд╛рд▓рдп, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рдореЗрдВ, рдпрд╣рд╛рдВ рд░рд╣рддреА рд╣реИрдВ! lib/ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдЕрдВрддрд░реНрдЧрдд, cpu-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВред
* `armeabi`: рд╕рднреА ARM рдЖрдзрд╛рд░рд┐рдд рдкреНрд░реЛрд╕реЗрд╕рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрдХрд▓рд┐рдд рдХреЛрдб
* `armeabi-v7a`: рд╕рднреА ARMv7 рдФрд░ рдЙрд╕рд╕реЗ рдКрдкрд░ рдХреЗ рдЖрдзрд╛рд░рд┐рдд рдкреНрд░реЛрд╕реЗрд╕рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрдХрд▓рд┐рдд рдХреЛрдб
* `x86`: X86 рдХреЗ рд▓рд┐рдП рд╕рдВрдХрд▓рд┐рдд рдХреЛрдб
* `mips`: рдХреЗрд╡рд▓ MIPS рдкреНрд░реЛрд╕реЗрд╕рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрдХрд▓рд┐рдд рдХреЛрдб
* assets/
* рдРрдк рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрдиреЗ рд╡рд╛рд▓реА рдХрд┐рд╕реА рдЕрдиреНрдп рдлрд╝рд╛рдЗрд▓реЗрдВред
* рдпрд╣рд╛рдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдиреЗрдЯрд┐рд╡ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдпрд╛ DEX рдлрд╝рд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдпрд╣ рдЦрд╛рд╕рдХрд░ рддрдм рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдореИрд▓рд╡реЗрдпрд░ рд▓реЗрдЦрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдХреЛрдб, рдиреЗрдЯрд┐рд╡ рдпрд╛ Dalvik, рдХреЛ "рдЫрд┐рдкрд╛рдиреЗ" рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд░рдХреЗред
* res/
* рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдореЗрдЯрдиреЗ рд╡рд╛рд▓реА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛

### **Dalvik рдФрд░ Smali**

рдЕрдзрд┐рдХрд╛рдВрд╢ Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЬрд╛рд╡рд╛ рдореЗрдВ рд▓рд┐рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВред Kotlin рднреА рд╕рдорд░реНрдерд┐рдд рд╣реИ рдФрд░ рдЬрд╛рд╡рд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рд╣реИред рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдЗрд╕ рдХрд╛рд░реНрдпрд╢рд╛рд▓рд╛ рдХреЗ рд╢реЗрд╖ рднрд╛рдЧ рдХреЗ рд▓рд┐рдП, рдЬрдм рдореИрдВ "рдЬрд╛рд╡рд╛" рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд░рддрд╛ рд╣реВрдБ, рддреЛ рдЖрдк рдпрд╣ рдорд╛рди рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдореИрдВ "рдЬрд╛рд╡рд╛ рдпрд╛ Kotlin" рдХрд╛ рдорддрд▓рдм рдХрд░ рд░рд╣рд╛ рд╣реВрдБред рдЬрдмрдХрд┐ рдбреЗрд╕реНрдХрдЯреЙрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреА рддрд░рд╣ рдЬрд╛рд╡рд╛ рдХреЛрдб рдХреЛ рдЬрд╛рд╡рд╛ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди (JVM) рдореЗрдВ рдЪрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, Android рдореЗрдВ рдЬрд╛рд╡рд╛ рдХреЛ \_Dalvik Executable (DEX) bytecode\_\* рдлрд╝реЙрд░реНрдореЗрдЯ рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдкрд╣рд▓реЗ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рдмрд╛рдЗрдЯрдХреЛрдб рдХреЛ Dalvik рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рджреНрд╡рд╛рд░рд╛ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рд╣рд╛рд▓ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, Android рд░рдирдЯрд╛рдЗрдо (ART) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред\
рдпрджрд┐ рдбреЗрд╡рд▓рдкрд░ рдЬрд╛рд╡рд╛ рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реИ рдФрд░ рдХреЛрдб DEX bytecode рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЙрд▓реНрдЯреЗ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЙрд▓реНрдЯреА рджрд┐рд╢рд╛ рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ
### рдирд┐рд╣рд┐рдд рдЗрдВрдЯреЗрдВрдЯреНрд╕

рдЗрдВрдЯреЗрдВрдЯреНрд╕ рдХреЛ рдХрд╛рд░реНрдпрдХреНрд░рдорд╛рддреНрдордХ рд░реВрдк рд╕реЗ рдПрдХ рдЗрдВрдЯреЗрдВрдЯ рдирд┐рд░реНрдорд╛рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```java
Intent email = new Intent(Intent.ACTION_SEND, Uri.parse("mailto:"));
```
**рдХреНрд░рд┐рдпрд╛** рдкрд╣рд▓реЗ рд╕реЗ рдШреЛрд╖рд┐рдд рдЗрдВрдЯреЗрдВрдЯ рдХреА **ACTION\_SEND** рд╣реИ рдФрд░ **рдЕрддрд┐рд░рд┐рдХреНрдд** рдПрдХ рдореЗрд▓рдЯреВ **рдпреВрдЖрд░рдЖрдИ** рд╣реИ (рдЕрддрд┐рд░рд┐рдХреНрдд рдЬреЛ рдЗрдВрдЯреЗрдВрдЯ рдХреА рдЕрддрд┐рд░рд┐рдХреНрдд рдЬрд╛рдирдХрд╛рд░реА рд╣реИ рдЬрд┐рд╕реЗ рдЗрдВрдЯреЗрдВрдЯ рдХреА рдЙрдореНрдореАрдж рд╣реЛрддреА рд╣реИред)

рдЗрд╕ рдЗрдВрдЯреЗрдВрдЯ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдореЗрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП:
```markup
<activity android:name="ShareActivity">
<intent-filter>
<action android:name="android.intent.action.SEND" />
<category android:name="android.intent.category.DEFAULT" />
</intent-filter>
</activity>
```
рдПрдХ рдЗрдВрдЯреЗрдВрдЯ-рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЛ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдХреНрд░рд┐рдпрд╛**, **рдбреЗрдЯрд╛** рдФрд░ **рд╢реНрд░реЗрдгреА** рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

"рдЗрдВрдЯреЗрдВрдЯ рд╕рдВрдХрд▓рди" рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ рдРрдк рд╣рд░ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ **рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╡рд┐рд╢реЗрд╖рддрд╛** рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ **рдЗрдВрдЯреЗрдВрдЯ-рдлрд╝рд┐рд▓реНрдЯрд░ рдШреЛрд╖рдгрд╛** рдореЗрдВ рд╕реЗрдЯ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ, рдФрд░ **рдЙрдЪреНрдЪрддрдо рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╡рд╛рд▓рд╛** рдЪрдпрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдЗрд╕ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдХреЛ -1000 рд╕реЗ 1000 рддрдХ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдРрдкреНрд▓рд┐рдХреЗрд╢рди `SYSTEM_HIGH_PRIORITY` рдорд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ **рд╡рд┐рд░реЛрдз** рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ, рддреЛ "рдЪрдпрдирдХрд░реНрддрд╛" рд╡рд┐рдВрдбреЛ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ рддрд╛рдХрд┐ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд┐рд░реНрдгрдп** рдХрд░ рд╕рдХреЗред

### рд╕реНрдкрд╖реНрдЯ рдЗрдВрдЯреЗрдВрдЯреНрд╕

рд╕реНрдкрд╖реНрдЯ рдЗрдВрдЯреЗрдВрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдХрд┐рд╕ рдХрдХреНрд╖ рдХреЛ рд▓рдХреНрд╖реНрдп рдмрдирд╛ рд░рд╣рд╛ рд╣реИ:
```java
Intent downloadIntent = new (this, DownloadService.class):
```
рдЕрдиреНрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рдШреЛрд╖рд┐рдд рдЗрдВрдЯреЗрдВрдЯ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```java
Intent intent = new Intent();
intent.setClassName("com.other.app", "com.other.app.ServiceName");
context.startService(intent);
```
### рдкреЗрдВрдбрд┐рдВрдЧ рдЗрдВрдЯреЗрдВрдЯреНрд╕

рдпреЗ рдЕрдиреНрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдЖрдкрдХреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдирд╛рдо рдФрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред рдкреЗрдВрдбрд┐рдВрдЧ рдЗрдВрдЯреЗрдВрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдВрдЯреЗрдВрдЯ рдФрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрджрд┐ рдШреЛрд╖рд┐рдд рдЗрдВрдЯреЗрдВрдЯ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ (рдЬрд┐рд╕рдореЗрдВ рдпрд╣ рдШреЛрд╖рдгрд╛ рдирд╣реАрдВ рдХреА рдЧрдИ рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ рдЗрдВрдЯреЗрдВрдЯ рдЗрд╕реЗ рдХреЙрд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИ), рддреЛ рдПрдХ рдЦрддрд░рдирд╛рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкреАрдбрд╝рд┐рдд рдРрдк рдХреЗ рдирд╛рдо рдкрд░ рдШреЛрд╖рд┐рдд рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░ рд╕рдХрддреА рд╣реИред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдХреЛрдИ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЦрддрд░рдирд╛рдХ рдРрдк рдкреАрдбрд╝рд┐рдд рдХреЗ рдирд╛рдо рдкрд░ рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░ рд╕рдХреЗрдЧреАред

### рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдЗрдВрдЯреЗрдВрдЯреНрд╕

рдкрд┐рдЫрд▓реЗ рдЗрдВрдЯреЗрдВрдЯреНрд╕ рдХреЗ рд╡рд┐рдкрд░реАрдд, рдЬреЛ рдХреЗрд╡рд▓ рдПрдХ рдРрдк рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдЗрдВрдЯреЗрдВрдЯреНрд╕ рдХрдИ рдРрдкреНрд╕ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, API рд╕рдВрд╕реНрдХрд░рдг 14 рд╕реЗ, Intent.set Package рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдРрдк рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬрддреЗ рд╕рдордп рдПрдХ рдЕрдиреБрдорддрд┐ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИред рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдРрдк рдХреЛ рдЙрд╕ рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЗ рджреЛ рдкреНрд░рдХрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВ: рд╕рд╛рдорд╛рдиреНрдп (рдЕрд╕рд┐рдВрдХреНрд░реЛрдирд╕) рдФрд░ рдЖрджреЗрд╢рд┐рдд (рд╕рд┐рдВрдХреНрд░реЛрдирд╕)ред рдХреНрд░рдо рдЧреНрд░рд╛рд╣рдХ рддрддреНрд╡ рдХреЗ рднреАрддрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХреА рдЧрдИ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рдРрдк рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕, рд░рд┐рд▓реЗ рдпрд╛ рдЫреЛрдбрд╝ рд╕рдХрддрд╛ рд╣реИред

рдПрдХ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк `Context` рдХрдХреНрд╖рд╛ рд╕реЗ `sendBroadcast(intent, receiverPermission)` рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
рдЖрдк `LocalBroadCastManager` рд╕реЗ `sendBroadcast` рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрджреЗрд╢ рдХреЛ рдХрднреА рднреА рдРрдк рд╕реЗ рдирд╣реАрдВ рдирд┐рдХрд▓рдиреЗ рджреЗрддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдкрдХреЛ рдПрдХ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдШрдЯрдХ рдХреЛ рдирд┐рд░реНрдпрд╛рдд рдХрд░рдиреЗ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреАред

### рд╕реНрдЯрд┐рдХреА рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯреНрд╕

рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯреНрд╕ рдХреЛ рднреЗрдЬрдиреЗ рдХреЗ рдмрд╛рдж рднреА рдЙрдиреНрд╣реЗрдВ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред\
рдЗрдиреНрд╣реЗрдВ API рд╕реНрддрд░ 21 рдореЗрдВ рд╡рд┐рд░реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдЗрдирдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреА рдЬрд╛рддреА рд╣реИред\
рдЗрдиреНрд╣реЗрдВ рдХрд┐рд╕реА рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрдирд┐рдлрд╝ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрд╕реЗ рд╕рдВрд╢реЛрдзрд┐рдд рднреА рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред

рдпрджрд┐ рдЖрдк "рд╕реНрдЯрд┐рдХреА" рд╢рдмреНрдж рдХреЛ рд╕рдореЗрдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдлрд╝рдВрдХреНрд╢рди рдЬреИрд╕реЗ `sendStickyBroadcast` рдпрд╛ `sendStickyBroadcastAsUser` рдкрд╛рддреЗ рд╣реИрдВ, рддреЛ рдкреНрд░рднрд╛рд╡ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣рдЯрд╛рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред

## рдбреАрдк рд▓рд┐рдВрдХреНрд╕ / URL рдпреЛрдЬрдирд╛рдПрдБ

рдбреАрдк рд▓рд┐рдВрдХреНрд╕ рдПрдХ рдЗрдВрдЯреЗрдВрдЯ рдХреЛ URL рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред рдПрдХ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдкрдиреЗ рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреЗ рднреАрддрд░ рдПрдХ URL рдпреЛрдЬрдирд╛ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рд░ рдмрд╛рд░ рдЬрдм рдПрдВрдбреНрд░реЙрдЗрдб рдбрд┐рд╡рд╛рдЗрд╕ рдЙрд╕ рдпреЛрдЬрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рдкрддреЗ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ, рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛:

![](<../../.gitbook/assets/image (214).png>)

рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ `myapp://` рдпреЛрдЬрдирд╛ рд╣реИ (рдзреНрдпрд╛рди рджреЗрдВ рднреА **`category BROWSABLE`**)

рдпрджрд┐ рдЖрдк `intent-filter` рдореЗрдВ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдХреБрдЫ рдкрд╛рддреЗ рд╣реИрдВ:

![](<../../.gitbook/assets/image (263).png>)

рддреЛ, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ `http://www.example.com/gizmos` рдЬреИрд╕реА рдХреБрдЫ рдЪрд╛рд╣рддрд╛ рд╣реИ

рдпрджрд┐ рдЖрдк рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдкрд╛рддреЗ рдкрд╛рддреЗ рд╣реИрдВ:

![](<../../.gitbook/assets/image (262).png>)

рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реЛрдЧрд╛ рдХрд┐ рдпрд╣ `example://gizmos` рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ рдПрдХ URL рдЪрд╛рд╣рддрд╛ рд╣реИ\
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдк рдЗрд╕ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд payloads рдХреЗ рд╕рд╛рде рдПрдХ рд╡реЗрдм рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛ рдХрд┐ рдпрд╣ рдЕрдирд┐рдпрдорд┐рдд рдкреГрд╖реНрдареЛрдВ рдкрд░ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛ рдФрд░ JS рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛:
```markup
<a href="example://gizmos/https://google.com">click here</a>
<a href="example://gizmos/javascript://%250dalert(1)">click here</a>
```
рдРрдк рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ **рдХреЛрдб рдЦреЛрдЬрдиреЗ** рдХреЗ рд▓рд┐рдП, рдбреАрдкрд▓рд┐рдВрдХ рджреНрд╡рд╛рд░рд╛ рдмреБрд▓рд╛рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЧрддрд┐рд╡рд┐рдзрд┐ рдореЗрдВ рдЬрд╛рдПрдВ рдФрд░ **`onNewIntent`** рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЦреЛрдЬреЗрдВред

![](<../../.gitbook/assets/image (436) (1) (1) (1).png>)

[HTML рдкреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░рддреЗ рд╣реБрдП рдбреАрдк рд▓рд┐рдВрдХ рдХреЛ рдХреИрд╕реЗ рдмреБрд▓рд╛рдПрдВ](./#exploiting-schemes-deep-links) рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдиреЗрдВред

## AIDL - Android Interface Definition Language

**Android Interface Definition Language** (AIDL) рдЖрдкрдХреЛ рдЗрдВрдЯрд░рдкреНрд░реЛрд╕реЗрд╕ рдХрдореНрдпреВрдирд┐рдХреЗрд╢рди (IPC) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд┐рд╕ рдХреЗ рдмреАрдЪ рд╕рдордЭреМрддрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдПрдВрдбреНрд░реЙрдЗрдб рдкрд░, **рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рд╛рдорд╛рдиреНрдпрддрдГ рджреВрд╕рд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдореЗрдореЛрд░реА рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреА**ред рдЗрд╕рд▓рд┐рдП рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╡реЗ рдЕрдкрдиреЗ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдкреНрд░рд╛рдердорд┐рдХ рддрддреНрд╡реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ **рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо** рд╕рдордЭ рд╕рдХреЗ, рдФрд░ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрд╕ рд╕реАрдорд╛ рдХреЗ рдкрд╛рд░ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдорд╛рд░реНрд╢рд▓ рдХрд░рддреЗ рд╣реИрдВред рдЙрд╕ рдорд╛рд░реНрд╢рд▓рд┐рдВрдЧ рдХреЛрдб рдХреЛ рд▓рд┐рдЦрдирд╛ рдердХрд╛ рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдВрдбреНрд░реЙрдЗрдб рдЗрд╕реЗ AIDL рдХреЗ рд╕рд╛рде рдЖрдкрдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред

AIDL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛рдПрдВ **рдмрд╛рдЙрдВрдб рд╕реЗрд╡рд╛рдПрдВ** рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИрдВред рд╕реЗрд╡рд╛ рдХреА рдХрдХреНрд╖рд╛ рдореЗрдВ рдЖрдкрдХреЛ **`onBind`** рд╡рд┐рдзрд┐ рдорд┐рд▓реЗрдЧреАред рдпрд╣рд╛рдВ **рдмрд╛рддрдЪреАрдд рдХреА рд╢реБрд░реБрдЖрдд рд╣реЛрддреА рд╣реИ**, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдХреЛрдб рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХрд╛ рдкрд╣рд▓рд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ рдЬрд╣рд╛рдВ рд╕рдВрднрд╛рд╡рд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рдХреА рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред

рдПрдХ рдмрд╛рдЙрдВрдб рд╕реЗрд╡рд╛ рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ-рд╕рд░реНрд╡рд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рд╕рд░реНрд╡рд░ рд╣реЛрддреА рд╣реИред рдпрд╣ рдХрдВрдкреЛрдиреЗрдВрдЯ (рдЬреИрд╕реЗ рдХрд┐ рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ) рдХреЛ рд╕реЗрд╡рд╛ рд╕реЗ рдмрд╛рдЗрдВрдб рдХрд░рдиреЗ, рдЕрдиреБрд░реЛрдз рднреЗрдЬрдиреЗ, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдФрд░ рдЗрдВрдЯрд░рдкреНрд░реЛрд╕реЗрд╕ рдХрдореНрдпреВрдирд┐рдХреЗрд╢рди (IPC) рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдПрдХ рдмрд╛рдЙрдВрдб рд╕реЗрд╡рд╛ рдЖрдорддреМрд░ рдкрд░ рдХреЗрд╡рд▓ рддрдм рддрдХ рдЬреАрддреА рд╣реИ рдЬрдм рд╡рд╣ рдПрдХ рдЕрдиреНрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреА рд╕реЗрд╡рд╛ рдХрд░рддреА рд╣реИ рдФрд░ рдЕрдирд┐рд╢реНрдЪрд┐рдд рд╕рдордп рддрдХ рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдирд╣реАрдВ рдЪрд▓рддреА рд╣реИред

### рдореИрд╕реЗрдВрдЬрд░

рдореИрд╕реЗрдВрдЬрд░ рдПрдХ рдФрд░ рдкреНрд░рдХрд╛рд░ рдХрд╛ IPC рдореЗрдХреЗрдирд┐рдЬрд╝реНрдо рд╣реИред рдХреНрдпреЛрдВрдХрд┐ **рдореИрд╕реЗрдВрдЬрд░ рднреА "рдмрд╛рдЙрдВрдб рд╕реЗрд╡рд╛" рд╣реИ**, рдЗрд╕рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ рдРрдк рд╕реЗ рдкрд╛рд╕ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рднреА `onBind` рд╡рд┐рдзрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░реЛрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдХреЛрдб рд╕рдореАрдХреНрд╖рд╛ рдЗрд╕ рд╡рд┐рдзрд┐ рдкрд░ рд╢реБрд░реВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рдЖрдкрдХреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓рддрд╛ рдХреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рдЖрд╣реБрддрд┐ рдпрд╛ рдбреЗрдЯрд╛ рдХреЗ рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдХреА рддрд▓рд╛рд╢ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред

### рдмрд╛рдЗрдВрдбрд░

рдмрд╛рдЗрдВрдбрд░ рдХрдХреНрд╖рд╛ рдХреЛ рд╕реАрдзреЗ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рдирд╛ рдЕрдЬреАрдм рд╣реИ рдХреНрдпреЛрдВрдХрд┐ AIDL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ (рдЬреЛ рдмрд╛рдЗрдВрдбрд░ рдХрдХреНрд╖рд╛ рдХреЛ рдЕрд▓рдЧ рдХрд░рддрд╛ рд╣реИ) рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реЛрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЬрд╛рдирдирд╛ рдЕрдЪреНрдЫрд╛ рд╣реЛрддрд╛ рд╣реИ рдХрд┐ **рдмрд╛рдЗрдВрдбрд░ рдПрдХ рдХрд░реНрдирд▓-рд╕реНрддрд░реАрдп рдбреНрд░рд╛рдЗрд╡рд░ рд╣реИ рдЬреЛ рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдореЗрдореЛрд░реА рд╕реЗ рджреВрд╕рд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдореЛрд░реА рдореЗрдВ рд▓реЗ рдЬрд╛рддрд╛ рд╣реИ** ([https://www.youtube.com/watch?v=O-UHvFjxwZ8](https://www.youtube.com/watch?v=O-UHvFjxwZ8))ред

## рдХрдВрдкреЛрдиреЗрдВрдЯреНрд╕

рдЗрдирдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: **рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ, рд╕реЗрд╡рд╛рдПрдБ, рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд░рд┐рд╕реАрд╡рд░ рдФрд░ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░реНрд╕**ред

### рд▓реЙрдиреНрдЪрд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рдФрд░ рдЕрдиреНрдп рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ

рдПрдХ **рдПрдВрдбреНрд░реЙрдЗрдб рдЧрддрд┐рд╡рд┐рдзрд┐** рдПрдВрдбреНрд░реЙрдЗрдб рдРрдк рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдПрдХ рд╕реНрдХреНрд░реАрди рд╣реЛрддреА рд╣реИред рдЗрд╕ рддрд░рд╣ рд╕реЗ рдПрдХ **рдПрдВрдбреНрд░реЙрдЗрдб рдЧрддрд┐рд╡рд┐рдзрд┐** рдПрдХ рдбреЗрд╕реНрдХрдЯреЙрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд╡рд┐рдВрдбреЛрдЬ рдХреЗ рдмрд╣реБрдд рд╕рдорд╛рди рд╣реЛрддреА рд╣реИред рдПрдХ **рдПрдВрдбреНрд░реЙрдЗрдб** рдРрдк рдореЗрдВ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ, рдпрд╛рдиреА рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╕реНрдХреНрд░реАрдиред

рд▓реЙрдиреНрдЪрд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╡рд╣ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╣реИ рдЬрд┐рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рд▓реЛрдЧ рдПрдВрдбреНрд░реЙрдЗрдб рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ **рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ** рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЛрдЪрддреЗ рд╣реИрдВред рд▓реЙрдиреНрдЪрд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╡рд╣ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╣реИ рдЬреЛ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рдиреЗ рдкрд░ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИред рдЖрдк рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдХреА рдУрд░ рджреЗрдЦрдХрд░ рд▓реЙрдиреНрдЪрд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд▓реЙрдиреНрдЪрд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд MAIN рдФрд░ LAUNCHER рдЗрдВрдЯреЗрдВрдЯреНрд╕ рд╕реВрдЪреАрдмрджреНрдз рд╣реЛрдВрдЧреЗред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╣рд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд▓реЙрдиреНрдЪрд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рдирд╣реАрдВ рд╣реЛрдЧреА, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдпреВрдЖрдИ рд╡рд╛рд▓реЗ рдРрдкреНрд╕ рдирд╣реАрдВред рдЙрджрд╛рд╣рд░рдг рд░реВрдк рдореЗрдВ, рдпреВрдЬрд╝рд░ рд╡реЙрдпрд╕рдореЗрд▓ рдЬреИрд╕реА рдкреАрдЫреЗ рдХреА рддрд░рдл рд╕реЗрд╡рд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░реА-рдЗрдВрд╕реНрдЯреЙрд▓ рдХреА рдЧрдИ рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреЗрдВ рдРрд╕реА рд╣реЛрддреА рд╣реИрдВред
```markup
<activity android:name=".LauncherActivity">
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>
```
рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдирд┐рд░реНрдпрд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЙрдкрдХрд░рдг рдкрд░ рдЕрдиреНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░ рд╕рдХрддреА рд╣реИрдВред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд╡реЗ рдирд┐рд░реНрдпрд╛рдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВ рд▓реЗрдХрд┐рди рдЖрдк рдЙрдиреНрд╣реЗрдВ рдирд┐рд░реНрдпрд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ:
```markup
<service android:name=".ExampleExportedService" android:exported="true"/>
```
рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ **рдЧрддрд┐рд╡рд┐рдзрд┐ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣рдореЗрд╢рд╛ рдПрдХ рд╕рдВрдХрдЯ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ**, рдЖрдкрдХреЛ рдЬрд╛рдВрдЪрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдЖрдкрдХреЛ рдХрд┐рд╕ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдорд┐рд▓реА рд╣реИред
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рдХреБрдЫ рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ рдбреЗрдЯрд╛ рдХреЛ рдХреЙрд▓рд░ рдХреЛ рд╡рд╛рдкрд╕ рднреЗрдЬрддреА рд╣реИрдВ**ред рдЗрди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рдЖрдкрдХреЛ **`setResult`** рдореЗрдердб рдХреА рдЦреЛрдЬ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рдЗрдВрдЯреЗрдВрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред **рдпрджрд┐ рдпрд╣ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдЬрд╛рдирдХрд╛рд░реА рд▓реАрдХреЗрдЬ рд╕рдВрдХрдЯ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ** рдФрд░ рдЗрд╕реЗ рдРрдкреНрд╕ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рдПрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдХреЛрдб `onCreate` рдореЗрдердб рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред**

### рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдмрдХреНрд▓рд╛рд╕

Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди [Application](https://developer.android.com/reference/android/app/Application) рдХрд╛ рдПрдХ **рд╕рдмрдХреНрд▓рд╛рд╕** рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдВрдбреНрд░реЙрдЗрдб рдРрдк рдПрдХ Application рд╕рдмрдХреНрд▓рд╛рд╕ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рддреЛ **рдЗрд╕ рдХрдХреНрд╖рд╛ рдХреЛ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рдХрдХреНрд╖рд╛ рд╕реЗ рдкрд╣рд▓реЗ рдирд┐рд░реНрдорд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред

рдпрджрд┐ Application рд╕рдмрдХреНрд▓рд╛рд╕ рдореЗрдВ **`attachBaseContext`** рдореЗрдердб рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдкрд╣рд▓реЗ рдХреЙрд▓ рд╣реЛрддрд╛ рд╣реИ, **`onCreate`** рдореЗрдердб рд╕реЗ рдкрд╣рд▓реЗред

### рд╕реЗрд╡рд╛рдПрдВ

[рд╕реЗрд╡рд╛рдПрдВ](https://developer.android.com/guide/components/services) **рдмрд┐рдирд╛ UI рдХреЗ рдкрд┐рдЫрд▓реЗ рдореЗрдВ рдЪрд▓рддреА рд╣реИрдВред** рд╡реЗ **рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдХ рдЕрд▓рдЧ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрддрд╛ рд╣реИ рддреЛ рднреАред

рдЗрдиреНрд╣реЗрдВ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЛрдВ рдХреА рдЕрд╕рдВрдЦреНрдп рд╡рд┐рдзрд┐рдпрд╛рдБ рд╣реИрдВ рдФрд░ рдЗрд╕рд▓рд┐рдП рдпреЗ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдПрдВрдЯреНрд░реА рдкреНрд╡рд╛рдЗрдВрдЯ рд╣реЛрддреА рд╣реИрдВред рдПрдХ рд╕реЗрд╡рд╛ рдХреЛ рдПрдВрдЯреНрд░реА рдкреНрд╡рд╛рдЗрдВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рддрд░реАрдХрд╛ рдЗрдВрдЯреЗрдВрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрддрд╛ рд╣реИред

рдЬрдм рд╕реЗрд╡рд╛ рдХреЛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **`startService`** рдореЗрдердб рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕реЗрд╡рд╛ рдореЗрдВ **`onStart`** рдореЗрдердб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдмрдВрдж рд╣реЛрдиреЗ рддрдХ рдЕрдирд┐рд╢реНрдЪрд┐рдд рд╕рдордп рддрдХ рдЪрд▓реЗрдЧрд╛ рдЬрдм рддрдХ **`stopService`** рдореЗрдердб рдХреЛ рдХреЙрд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрджрд┐ рд╕реЗрд╡рд╛ рдХреЗрд╡рд▓ рдЙрд╕ рд╕рдордп рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдЬрдм рдХреНрд▓рд╛рдЗрдВрдЯ рдХрдиреЗрдХреНрдЯреЗрдб рд╣реИ, рддреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдЗрд╕реЗ "рдмрд╛рдЗрдВрдб" рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ **`bindService`** рдореЗрдердб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред

рдПрдХ **рдмрд╛рдЙрдВрдб рд╕реЗрд╡рд╛** рдХреЗ рд▓рд┐рдП (рдкрд┐рдЫрд▓реЗ рдЦрдВрдб рджреЗрдЦреЗрдВ), рдбреЗрдЯрд╛ **`onBind`** рдореЗрдердб рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕реЗрд╡рд╛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдореЗрдВ рд╕рдВрдЧреАрдд рдЪрд▓рд╛ рд╕рдХрддреА рд╣реИ рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдХ рдЕрд▓рдЧ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ, рдпрд╛ рдпрд╣ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреА рд╣реИ рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдмреНрд▓реЙрдХ рдирд╣реАрдВ рдХрд░рддреА рд╣реИред

**рдПрдХ рд╕реЗрд╡рд╛ рдирд┐рд░реНрдпрд╛рдд рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЙрдкрдХрд░рдг рдкрд░ рдЕрдиреНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рд╕реЗрд╡рд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреА рд╣реИрдВ**ред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕реЗрд╡рд╛рдПрдВ рдирд┐рд░реНрдпрд╛рдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```markup
<service android:name=".ExampleExportedService" android:exported="true"/>
```
### рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд░рд┐рд╕реАрд╡рд░

рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЛ рд╕рдВрджреЗрд╢ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдордЭрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ **рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд░рд┐рд╕реАрд╡рд░ рд╕реБрдирдиреЗ рд╡рд╛рд▓реЗ рд╣реЛрддреЗ рд╣реИрдВ**ред рдпрджрд┐ рдХреЛрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд┐рд╕реАрд╡рд░ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рддреА рд╣реИ, рддреЛ рдЬрдм рд╕рд┐рд╕реНрдЯрдо рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬрддрд╛ рд╣реИ, рдЙрд╕ рд░рд┐рд╕реАрд╡рд░ рдореЗрдВ рдХреЛрдб рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рд╣реЛрддрд╛ рд╣реИред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ **рдХрдИ рдРрдкреНрд╕ рдПрдХ рд╣реА рд╕рдВрджреЗрд╢ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред

рдХрд┐рд╕реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд░рд┐рд╕реАрд╡рд░ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **2 рддрд░реАрдХреЗ** рд╣реИрдВ: рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ рдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдХреЛрдб рдореЗрдВ рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ рдкрдВрдЬреАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдкреНрд░рдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ **`registerReceiver`** API рдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдореИрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ рдЖрдк рд░рд┐рд╕реАрд╡рд░ рддрддреНрд╡ рдХреЗ рднреАрддрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдк рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЛ рд╕реАрдорд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдкрд░ рдЖрдк **`registerReceiver`** рд╡рд┐рдзрд┐ рдХреЛ рдЕрдиреБрдорддрд┐ рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рджреЛрдиреЛрдВ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд░рд┐рд╕реАрд╡рд░ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд░рд┐рд╕реАрд╡рд░ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯреЗрдВрдЯ рдлрд╝рд┐рд▓реНрдЯрд░ рд╕реЗрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдпреЗ рдЗрдВрдЯреЗрдВрдЯ рдлрд╝рд┐рд▓реНрдЯрд░ рд╡реЗ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд╣реИрдВ рдЬреЛ рд░рд┐рд╕реАрд╡рд░ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдЪрд╛рд╣рд┐рдПред

рдЬрдм рд░рд┐рд╕реАрд╡рд░ рдХреЗ рд▓рд┐рдП рдкрдВрдЬреАрдХреГрдд рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ BroadcastReceiver рдХрдХреНрд╖рд╛ рдХреЗ **`onReceive`** рдореЗрдВ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рд╣реЛрддрд╛ рд╣реИред

рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдмреИрдЯрд░реА рдХреЗ рд╕рдВрджреЗрд╢ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд┐рд╕реАрд╡рд░ рдкрдВрдЬреАрдХреГрдд рдХрд░ рд╕рдХрддреА рд╣реИ рдФрд░ рдЙрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрдкрдиреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдмрджрд▓ рд╕рдХрддреА рд╣реИред

рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдЕрд╕рд┐рдВрдХреНрд░реЛрдирд╕ (рдкреНрд░рддреНрдпреЗрдХ рд░рд┐рд╕реАрд╡рд░ рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ) рдпрд╛ рд╕рд┐рдВрдХреНрд░реЛрдирд╕ (рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЖрджреЗрд╢рд┐рдд рддрд░реАрдХреЗ рд╕реЗ рд░рд┐рд╕реАрд╡ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

{% hint style="danger" %}
**рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреЛрдИ рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдкрдиреЗ рдЖрдк рдХреЛ рд╢реАрд░реНрд╖ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреА рд╣реИ рддрд╛рдХрд┐ рд╡рд╣ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗред**
{% endhint %}

рдПрдХ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд░рд┐рд╕реАрд╡рд░ рдореЗрдВ рдЕрдВрддрд░реНрдЧрдд рдХреЛрдб рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рд░рд┐рд╕реАрд╡рд░ рдХреА рдХрдХреНрд╖рд╛ рдХреЗ **`onReceive`** рд╡рд┐рдзрд┐ рдХреА рдЦреЛрдЬ рдХрд░рдиреА рд╣реЛрдЧреАред\
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдЖрджреЗрд╢рд┐рдд рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдЖрджреЗрд╢рд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЙрдиреНрд╣реЗрдВ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ** рд╕реЗрдЯрд░ рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред рдЗрд╕рд▓рд┐рдП, **рд░рд┐рд╕реАрд╡рд░реНрд╕ рдХреЛ рдбреЗрдЯрд╛ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП**ред

### рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░

рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдРрд╕реЗ рдврдВрдЧ рд╕реЗ рд╣реИрдВ рдЬрд┐рд╕рд╕реЗ **рдРрдкреНрд╕ рд╕рдВрд░рдЪрд┐рдд рдбреЗрдЯрд╛ рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ**, рдЬреИрд╕реЗ рдХрд┐ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛рдмреЗрд╕ред рдЗрд╕рд▓рд┐рдП, рдЗрдиреНрд╣реЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП **рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рдФрд░ рдЙрдЪрд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рд╕реНрддрд░ рд╕реЗрдЯ рдХрд░рдирд╛ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред\
рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **`readPermission`** рдФрд░ **`writePermission`** рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕ рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред **рдпреЗ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдЕрдиреБрдорддрд┐ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╕реЗ рдкрд╣рд▓реЗ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд▓реЗрддреА рд╣реИрдВ**ред\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╡реЗ рдЕрд╕реНрдерд╛рдпреА рдЫреВрдЯ рднреА **рдЕрдиреБрдорддрд┐ рдХреЛ рд╕рдХреНрд╖рдо** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рддрддреНрд╡ рдХреЗ рднреАрддрд░ **`grant-uri-permission`** рддрддреНрд╡ рдореЗрдВ рдЙрдЪрд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдХреЗред

**`grant-uri-permission`** рдореЗрдВ рддреАрди рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рд╣реЛрддреА рд╣реИрдВ: рдкрде, рдкрдердкреНрд░рд┐рдлрд╝рд┐рдХреНрд╕ рдФрд░ рдкрдердкреИрдЯрд░реНрди:

* **рдкрде**: рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдкреВрд░рд╛ рдкрде рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ
* **рдкрдердкреНрд░рд┐рдлрд╝рд┐рдХреНрд╕**: рдкрде рдХреА рд╢реБрд░реБрдЖрдд рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ
* **рдкрдердкреИрдЯрд░реНрди**: рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдб рдФрд░ рдкреНрд░рддреАрдХрд╛рддреНрдордХ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

рдпрд╣ **рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдкреНрд░рд╛рдкреНрдд рдЗрдирдкреБрдЯ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдФрд░ рд╕реНрд╡рдЪреНрдЫ рдХрд░рдирд╛** рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕реБрд░рдХреНрд╖рд╛ рдХреА рд╕рдВрднрд╛рд╡рд┐рдд рдЦреЛрдЬ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдПред

**рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ:**

* рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдШрдЯрдХ рдПрдХ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рдЕрдиреНрдпреЛрдВ рдХреЛ рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред
* рдЖрдк рдбреЗрдЯрд╛ рдХреЛ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо, SQLite рдбреЗрдЯрд╛рдмреЗрд╕, рд╡реЗрдм рдкрд░ рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕реНрдерд╛рдпреА рд╕рдВрдЧреНрд░рд╣ рд╕реНрдерд╛рди рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рдЖрдкрдХрд╛ рдРрдк рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
* рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдЕрдиреНрдп рдРрдкреНрд╕ рдбреЗрдЯрд╛ рдХрд╛ рдкреНрд░рд╢реНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЙрд╕реЗ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдпрджрд┐ рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдЗрд╕реЗ рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ)ред
* рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдПрдХ рдРрдк рджреВрд╕рд░реЗ рдРрдк рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИред
* рдпрд╣ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рддрд░рд╣ рд╣реИ рдФрд░ рдЪрд╛рд░ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
* insert()
* update()
* delete()
* query()

**FileProvider**

рдпрд╣ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛ
```markup
<provider android:name="androidx.core.content.FileProvider"
android:authorities="com.example.myapp.fileprovider"
android:grantUriPermissions="true" android:exported="false">
<meta-data
android:name="android.support.FILE_PROVIDER_PATHS"
android:resource="@xml/filepaths" />
</provider>
```
рдзреНрдпрд╛рди рджреЗрдВ **`android:exported`** рдПрдЯреНрд░рд┐рдмреНрдпреВрдЯ рдкрд░ рдХреНрдпреЛрдВрдХрд┐ рдЕрдЧрд░ рдпрд╣ **`true`** рд╣реЛрддрд╛ рд╣реИ рддреЛ рдмрд╛рд╣рд░реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд╛рдЭрд╛ рдХреА рдЧрдИ рдлрд╝реЛрд▓реНрдбрд░реЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рдкрд╛ рд╕рдХреЗрдВрдЧреАред\
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди `android:resource="@xml/filepaths"` рдпрд╣ рджрд░реНрд╢рд╛ рд░рд╣рд╛ рд╣реИ рдХрд┐ рдлрд╝рд╛рдЗрд▓ _res/xml/filepaths.xml_ рдореЗрдВ **рдХреМрди рд╕реЗ рдлрд╝реЛрд▓реНрдбрд░** рдХреЛ рдпрд╣ **FileProvider** рд╕рд╛рдЭрд╛ рдХрд░реЗрдЧрд╛ред рдпрд╣рд╛рдВ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ рдХрд┐ рдЙрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдХреИрд╕реЗ рджрд┐рдЦрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```markup
<paths>
<files-path path="images/" name="myimages" />
</paths>
```
рдРрд╕рд╛ рдХреБрдЫ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЬреИрд╕реЗ **`path="."`** рдЦрддрд░рдирд╛рдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдпрджрд┐ рдкреНрд░рджрд╛рддрд╛ рдирд┐рд░реНрдпрд╛рдд рдирд╣реАрдВ рд╣реИ рддреЛ рднреА рдЕрдЧрд░ рдХреЛрдб рдХреЗ рдХрд┐рд╕реА рднрд╛рдЧ рдореЗрдВ рдЕрдиреНрдп рдХрдордЬреЛрд░реА рд╣реЛ рдЬреЛ рдЗрд╕ рдкреНрд░рджрд╛рддрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреА рд╣реИ рддреЛ рдпрд╣ рдЦрддрд░рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред\
рдЖрдк `content://com.example.myapp.fileprovider/myimages/default_image.jpg` рдХреЗ рд╕рд╛рде рдЙрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕реНрдерд┐рдд рдПрдХ **рдЫрд╡рд┐** рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред

`<paths>` рддрддреНрд╡ рдореЗрдВ рдХрдИ рдмрдЪреНрдЪреЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред **`<files-path>`** рддрддреНрд╡ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк **`<external-path>`** рддрддреНрд╡ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдмрд╛рд╣рд░реА рд╕рдВрдЧреНрд░рд╣рдг** рдореЗрдВ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ **`<cache-path>`** рддрддреНрд╡ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ **рдЖрдВрддрд░рд┐рдХ рдХреИрд╢ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА** рдореЗрдВ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
[рд╡рд┐рд╢реЗрд╖ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рджрд╛рддрд╛ рдЧреБрдгреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рдЬрд╛рдПрдВред](https://developer.android.com/reference/androidx/core/content/FileProvider)

[рдлрд╝рд╛рдЗрд▓ рдкреНрд░рджрд╛рддрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдпрд╣рд╛рдВ](https://developer.android.com/training/secure-file-sharing/setup-sharing).

## рд╡реЗрдмрд╡реНрдпреВ

рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ Android рдРрдкреНрд╕ рдореЗрдВ рд╕рдорд╛рд╣рд┐рдд **рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░** рд╣реИрдВред\
рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рд╕рд╛рдордЧреНрд░реА рджреВрд░рд╕реНрде рд╕рд╛рдЗрдЯреЛрдВ рд╕реЗ рдЦреАрдВрдЪреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рдпрд╛ рдРрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред\
рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рдХрд┐рд╕реА рднреА рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА **рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдХреЗ рд╡реЗ рд╣реА рджреБрд░реНрдмрд▓рддрд╛рдУрдВ рдХреЗ рдкреНрд░рддрд┐ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛрддреЗ рд╣реИрдВ**ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреБрдЫ **рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди** рд╣реИрдВ рдЬреЛ **рд╣рдорд▓реЗ рдХреА рд╕рддрд╣ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдиреЗ** рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддреА рд╣реИрдВред

Android рдореЗрдВ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рд╣реЛрддреЗ рд╣реИрдВ:

* **WebViewClient**, рд╕рд░рд▓ HTML рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЙрдкрдпреБрдХреНрддред рдпрд╣ JS рдЪреЗрддрд╛рд╡рдиреА рдХрд╛рд░реНрдп рдХреЛ рдирд╣реАрдВ рдЪрд▓рд╛рдПрдЧрд╛ред рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ XSS рдкрд░реАрдХреНрд╖рдг рдЕрдорд╛рдиреНрдп рд╣реЛ рдЬрд╛рдПрдВрдЧреЗред
* **WebChrome** **client**, рдПрдХ Chrome рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╣реИред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **WebView рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдХреЛ рдореВрд▓ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдХреБрдХреАрдЬрд╝ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВ**ред

URL рдпрд╛ рдлрд╝рд╛рдЗрд▓ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **`loadUrl`**, **`loadData`** рдпрд╛ **`loadDataWithBaseURL`** рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред **рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ рд╕рдВрд╢реЛрдзрд┐рдд URL рддрдХ рд╣реА рдкрд╣реБрдВрдЪрд╛ рдЬрд╛рдПред**\
WebView рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ **`WebSettings`** рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред\
рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, JS рдХреЛрдб рдХреЛ **`setJavaScriptEnabled`** рдореЗрдердб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдЕрдХреНрд╖рдо** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ **`false`** рдорд╛рди рд╣реЛрддрд╛ рд╣реИред рдЗрд╕рд╕реЗ XSS рдФрд░ рдЕрдиреНрдп JS рд╕рдВрдмрдВрдзрд┐рдд рдЬреЛрдЦрд┐рдореЛрдВ рдХрд╛ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдЧрд╛ред

JavaScript "**Bridge**" рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ **рдЬрд╛рд╡рд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ WebView рдореЗрдВ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ JS рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪрдиреЗ рдпреЛрдЧреНрдп рдмрдирд╛рддреА рд╣реИрдВ**ред Android 4.2 рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪрдиреЗ рдпреЛрдЧреНрдп рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП **`@JavascriptInterface`** рдХреЗ рд╕рд╛рде рдПрдиреЛрдЯреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

рдпрджрд┐ **`setAllowContentAccess`** рдореЗрдВ **`true`** рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ **WebViews content://** рдпреЛрдЬрдирд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **Content Providers рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред рдпрд╣ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдо рдкреИрджрд╛ рдХрд░рддрд╛ рд╣реИред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрджрд┐ рдпрд╣ рдкрд╣реБрдВрдЪ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдП рдХрд┐ **`content://`** URL рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд╡реЗрдмрд╡реНрдпреВрдЬрд╝ рджреНрд╡рд╛рд░рд╛ рд╕реНрдерд╛рдиреАрдп рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ file:// URLs рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ:

* **`setAllowFileAccess`** рдореЗрдВ **`false`** рдкрд╛рд╕ рдХрд░рдиреЗ рд╕реЗ, рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо
