# Android Applications Basics

<details>

<summary><strong>рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреА **рд╡рд┐рдЬреНрдЮрд╛рдкрди рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ HackTricks** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рди**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣, **The PEASS Family** рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореЗрд░рд╛** рдЯреНрд╡рд┐рдЯрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**.
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

<figure><img src="/.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

рд╡реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЧрдбрд╝рдмрдбрд╝рд┐рдпреЛрдВ рдХреЛ рдЦреЛрдЬреЗрдВ рдЬреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдорд╛рдпрдиреЗ рд░рдЦрддреА рд╣реИрдВ рддрд╛рдХрд┐ рдЖрдк рдЙрдиреНрд╣реЗрдВ рддреЗрдЬреА рд╕реЗ рдареАрдХ рдХрд░ рд╕рдХреЗрдВред Intruder рдЖрдкрдХреА рд╣рдорд▓реЗ рдХреА рд╕рддрд╣ рдХрд╛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИ, рдкреНрд░реЛрдПрдХреНрдЯрд┐рд╡ рдзрд╛рд░рдгрд╛ рд╕реНрдХреИрди рдЪрд▓рд╛рддрд╛ рд╣реИ, рдЖрдкрдХреА рдкреВрд░реА рддрдХрдиреАрдХ рд╕реНрдЯреИрдХ, API рд╕реЗ рд╡реЗрдм рдРрдкреНрд╕ рдФрд░ рдХреНрд▓рд╛рдЙрдб рд╕рд┐рд╕реНрдЯрдо рддрдХ рдореБрджреНрджреЗ рдЦреЛрдЬрддрд╛ рд╣реИред [**рдЖрдЬ рд╣реА рдореБрдлреНрдд рдореЗрдВ рдЗрд╕рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks)ред

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}

***

## Android рд╕реБрд░рдХреНрд╖рд╛ рдореЙрдбрд▓

**рдпрд╣рд╛рдБ рджреЛ рдкрд░рддреЗрдВ рд╣реИрдВ:**

* **рдУрдПрд╕**, рдЬреЛ рд╕реНрдерд╛рдкрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рдЕрд▓рдЧ рд░рдЦрддрд╛ рд╣реИред
* **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЦреБрдж**, рдЬреЛ рдбреЗрд╡рд▓рдкрд░реЛрдВ рдХреЛ **рдирд┐рд╢реНрдЪрд┐рдд рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ** рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

### UID рд╡рд┐рднрд╛рдЬрди

**рдкреНрд░рддреНрдпреЗрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рд╕реМрдВрдкрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдпрд╣ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рджреМрд░рд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдпрд╛ рд╕рд╛рдЭрд╛** рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕реНрд╡рд╛рдорд┐рддреНрд╡ рд╡рд╛рд▓реЗ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░ рд╕рдХреЗред рдЗрд╕рд▓рд┐рдП, рдХреЗрд╡рд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЦреБрдж, рдУрдПрд╕ рдХреЗ рдХреБрдЫ рдШрдЯрдХ рдФрд░ рд░реВрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред

### UID рд╕рд╛рдЭрд╛ рдХрд░рдирд╛

**рджреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рд╕рдорд╛рди UID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдпрд╣ рд╕реВрдЪрдирд╛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЗрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рд╕рдВрдХреНрд░рдорд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рджреЛрдиреЛрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рд╕рдВрдХреНрд░рдорд┐рдд рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдЗрд╕рд▓рд┐рдП рдпрд╣ рд╡реНрдпрд╡рд╣рд╛рд░ **рдЕрд╕рд▓рд╛рд╣** рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред\
**рдПрдХ рд╣реА UID рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдЕрдкрдиреЗ рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рдореЗрдВ рд╕рдорд╛рди `android:sharedUserId` рдорд╛рди рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред**

### рд╕реИрдВрдбрдмреЙрдХреНрд╕рд┐рдВрдЧ

**рдПрдВрдбреНрд░реЙрдЗрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реИрдВрдбрдмреЙрдХреНрд╕** рд╣рд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рддреМрд░ рдкрд░ рдПрдХ рдЕрд▓рдЧ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЕрдкрдирд╛ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ рдРрдк рдХрд╛ рдХреЛрдб рдЕрдиреНрдп рдРрдкреНрд╕ рд╕реЗ рдЕрд▓рдЧ рдЪрд▓рддрд╛ рд╣реИред\
рдПрдВрдбреНрд░реЙрдЗрдб 5.0(L) рд╕реЗ **SELinux** рд▓рд╛рдЧреВ рд╣реИред рдореВрд▓ рд░реВрдк рд╕реЗ, SELinux рдиреЗ рд╕рднреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЕрдВрддрд░рд╛рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдЗрдирдХрд╛рд░ рдХрд┐рдпрд╛ рдФрд░ рдлрд┐рд░ рдЙрдирдХреЗ рдмреАрдЪ рдХреЗрд╡рд▓ рдЙрдореНрдореАрдж рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЕрдВрддрд░рд╛рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ **рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреЗ рдиреАрддрд┐рдпрд╛рдБ рдмрдирд╛рдИрдВ**ред

### рдЕрдиреБрдорддрд┐рдпрд╛рдБ

рдЬрдм рдЖрдк **рдПрдХ рдРрдк рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдорд╛рдВрдЧрддрд╛ рд╣реИ**, рддреЛ рдРрдк рд╡рд╣ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдорд╛рдВрдЧ рд░рд╣рд╛ рд╣реИ рдЬреЛ **AndroidManifest.xml** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ **`uses-permission`** рддрддреНрд╡реЛрдВ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХреА рдЧрдИ рд╣реИрдВред **uses-permission** рддрддреНрд╡ рдЕрдиреБрдорддрд┐ рдХрд╛ рдирд╛рдо рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдЬреЛ **рдирд╛рдо** **рд╡рд┐рд╢реЗрд╖рддрд╛** рдореЗрдВ рдорд╛рдВрдЧрд╛ рдЧрдпрд╛ рд╣реИред рдЗрд╕рдореЗрдВ **maxSdkVersion** рд╡рд┐рд╢реЗрд╖рддрд╛ рднреА рд╣реЛрддреА рд╣реИ рдЬреЛ рдЙрдЪреНрдЪ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдкрд░ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдорд╛рдВрдЧрдирд╛ рд░реЛрдХ рджреЗрддреА рд╣реИред\
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдВрдбреНрд░реЙрдЗрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рд╢реБрд░реВ рдореЗрдВ рд╕рднреА рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдорд╛рдВрдЧрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд╡реЗ рдбрд╛рдпрдиреЗрдорд┐рдХ рд░реВрдк рд╕реЗ рднреА **рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдорд╛рдВрдЧ рд╕рдХрддреЗ рд╣реИрдВ** рд▓реЗрдХрд┐рди рд╕рднреА рдЕрдиреБрдорддрд┐рдпрд╛рдБ **рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рдореЗрдВ рдШреЛрд╖рд┐рдд** рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред

рдЬрдм рдПрдХ рдРрдк рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЙрдЬрд╛рдЧрд░ рдХрд░рддрд╛ рд╣реИ рддреЛ рд╡рд╣ **рдХреЗрд╡рд▓ рдЙрди рдРрдкреНрд╕ рддрдХ рдХреА рдкрд╣реБрдВрдЪ рдХреЛ рд╕реАрдорд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рдирдХреЗ рдкрд╛рд╕ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЕрдиреБрдорддрд┐ рд╣реИ**ред\
рдПрдХ рдЕрдиреБрдорддрд┐ рддрддреНрд╡ рдореЗрдВ рддреАрди рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ:

* рдЕрдиреБрдорддрд┐ рдХрд╛ **рдирд╛рдо**
* **рдЕрдиреБрдорддрд┐ рд╕рдореВрд╣** рд╡рд┐рд╢реЗрд╖рддрд╛, рдЬреЛ рд╕рдВрдмрдВрдзрд┐рдд рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рд╕рдореВрд╣реАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред
* **рд╕рдВрд░рдХреНрд╖рдг рд╕реНрддрд░** рдЬреЛ рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдХреИрд╕реЗ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИрдВред рдЪрд╛рд░ рдкреНрд░рдХрд╛рд░ рд╣реИрдВ:
* **рд╕рд╛рдорд╛рдиреНрдп**: рдЬрдм рдХрд┐рд╕реА **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдЬреНрдЮрд╛рдд рдЦрддрд░рд╛ рдирд╣реАрдВ** рд╣реЛрддрд╛ рд╣реИред рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ **рдЗрд╕реЗ рд╕реНрд╡реАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА** рд╣реИред
* **рдЦрддрд░рдирд╛рдХ**: рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдЕрдиреБрдорддрд┐ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдХреБрдЫ **рдЙрдЪреНрдЪ рдкрд╣реБрдВрдЪ** рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рдЗрдиреНрд╣реЗрдВ рд╕реНрд╡реАрдХреГрдд рдХрд░рдиреЗ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред
* **рд╣рд╕реНрддрд╛рдХреНрд╖рд░**: рдХреЗрд╡рд▓ **рдЙрди рдРрдкреНрд╕ рдХреЛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЗ рд╕рд╛рде рд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреИрд╕реЗ рдЬреЛ** рдШрдЯрдХ рдирд┐рд░реНрдпрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдЕрдиреБрдорддрд┐ рджреА рдЬрд╛ рд╕рдХрддреА рд╣реИред рдпрд╣ рд╕рдмрд╕реЗ рдордЬрдмреВрдд рд╕реНрддрд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рд╣реИред
* **рд╣рд╕реНрддрд╛рдХреНрд╖рд░рдпрд╛ рд╕рд┐рд╕реНрдЯрдо**: рдХреЗрд╡рд▓ **рдЙрди рдРрдкреНрд╕ рдХреЛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЗ рд╕рд╛рде рд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреИрд╕реЗ рдЬреЛ** рдШрдЯрдХ рдирд┐рд░реНрдпрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдпрд╛ **рд╕рд┐рд╕реНрдЯрдо рд╕реНрддрд░ рдХреА рдкрд╣реБрдВрдЪ рдХреЗ рд╕рд╛рде рдЪрд▓ рд░рд╣реЗ рдРрдкреНрд╕** рдХреЛ рдЕрдиреБрдорддрд┐ рджреА рдЬрд╛ рд╕рдХрддреА рд╣реИ

## рдкреВрд░реНрд╡-рд╕реНрдерд╛рдкрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЗрдВ

рдпреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЗрдВ рд╕рд╛рдорд╛рдиреНрдпрдд: **`/system/app`** рдпрд╛ **`/system/priv-app`** рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдореЗрдВ рдкрд╛рдИ рдЬрд╛рддреА рд╣реИрдВ рдФрд░ рдХреБрдЫ рдЙрдирдореЗрдВ **рдЕрдиреБрдХреВрд▓рд┐рдд** рд╣реЛрддреА рд╣реИрдВ (рдЖрдк `classes.dex` рдлрд╝рд╛рдЗрд▓ рднреА рдирд╣реАрдВ рдорд┐рд▓ рд╕рдХрддреА)ред рдЗрди рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдХрднреА-рдХрднреА рд╡реЗ **рдмрд╣реБрдд рд╕рд╛рд░реА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЪрд▓ рд░рд╣реА рд╣реЛрддреА рд╣реИрдВ** (рдЬреИрд╕реЗ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ)ред

* **AOSP** (Android OpenSource Project) **ROM** рдХреЗ рд╕рд╛рде рд╢рд┐рдк рдХрд┐рдП рдЧрдП
* рдЙрдкрдХрд░рдг **рдирд┐рд░реНрдорд╛рддрд╛** рджреНрд╡рд╛рд░рд╛ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛
* рд╕реЗрд▓ **рдлреЛрди рдкреНрд░рджрд╛рддрд╛** рджреНрд╡рд╛рд░рд╛ рдЬреЛрдб
```java
Intent email = new Intent(Intent.ACTION_SEND, Uri.parse("mailto:"));
```
**рдХреНрд░рд┐рдпрд╛** рдкрд╣рд▓реЗ рдШреЛрд╖рд┐рдд intent рдХреА **ACTION\_SEND** рд╣реИ рдФрд░ **рдЕрддрд┐рд░рд┐рдХреНрдд** рдПрдХ mailto **Uri** рд╣реИ (рдЕрддрд┐рд░рд┐рдХреНрдд рдЬреЛ intent рдХреА рдЕрддрд┐рд░рд┐рдХреНрдд рдЬрд╛рдирдХрд╛рд░реА рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░ рд░рд╣рд╛ рд╣реИ)ред

рдпрд╣ intent рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП:
```markup
<activity android:name="ShareActivity">
<intent-filter>
<action android:name="android.intent.action.SEND" />
<category android:name="android.intent.category.DEFAULT" />
</intent-filter>
</activity>
```
рдПрдХ intent-filter рдХреЛ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдХреНрд░рд┐рдпрд╛**, **рдбреЗрдЯрд╛** рдФрд░ **рд╢реНрд░реЗрдгреА** рдХреЛ рдорд┐рд▓рд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

"Intent resolution" рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрджреЗрд╢ рдХреЛ рдХреМрди рд╕рд╛ рдРрдк рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ **рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╡рд┐рд╢реЗрд╖рддрд╛** рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреА рд╣реИ, рдЬреЛ **intent-filter рдШреЛрд╖рдгрд╛** рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ **рдЬрд┐рд╕рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдЕрдзрд┐рдХ рд╣реЛрдЧреА, рд╡рд╣ рдЪрдпрдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛**ред рдпрд╣ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ -1000 рд╕реЗ 1000 рдХреЗ рдмреАрдЪ рд╕реЗрдЯ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ `SYSTEM_HIGH_PRIORITY` рдорд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ **рд╕рдВрдШрд░реНрд╖** рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ, рддреЛ "рдЪрдпрдирдХрд░реНрддрд╛" рд╡рд┐рдВрдбреЛ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ рддрд╛рдХрд┐ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд┐рд░реНрдгрдп рдХрд░ рд╕рдХреЗ**ред

### рд╕реНрдкрд╖реНрдЯ рдЗрдВрдЯреЗрдВрдЯ

рдПрдХ рд╕реНрдкрд╖реНрдЯ рдЗрдВрдЯреЗрдВрдЯ рдЙрд╕ рдХрдХреНрд╖рд╛ рдХрд╛ рдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдпрд╣ рд▓рдХреНрд╖реНрдп рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:
```java
Intent downloadIntent = new (this, DownloadService.class):
```
**Hindi Translation:**
```
рдЕрдиреНрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдкрд╣рд▓реЗ рдШреЛрд╖рд┐рдд рдЗрдВрдЯреЗрдВрдЯ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```
```java
Intent intent = new Intent();
intent.setClassName("com.other.app", "com.other.app.ServiceName");
context.startService(intent);
```
### Pending Intents

рдпреЗ рдЕрдиреНрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ **рдЖрдкрдХреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдкрд╣рдЪрд╛рди рдФрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ**ред Pending Intent рдмрдирд╛рддреЗ рд╕рдордп **рдПрдХ рдЗрдВрдЯреЗрдВрдЯ рдФрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП**ред рдпрджрд┐ **рдирд┐рд░реНрдгрд┐рдд рдЗрдВрдЯреЗрдВрдЯ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ** (рдЬреЛ рдШреЛрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ рдЗрдВрдЯреЗрдВрдЯ рдЗрд╕реЗ рдХреЙрд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИ) рддреЛ **рдХрд┐рд╕реА рджреБрд░реБрдкрдпреЛрдЧреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╢рд┐рдХрд╛рдпрдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдирд╛рдо рдкрд░ рдШреЛрд╖рд┐рдд рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИ**ред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, **рдпрджрд┐ рдХреЛрдИ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИ**, рддреЛ рджреБрд░реБрдкрдпреЛрдЧреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ **рд╢рд┐рдХрд╛рдпрдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХреЗ рдирд╛рдо рдкрд░ рдХреЛрдИ рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрдЧреА**ред

### Broadcast Intents

рдкрд┐рдЫрд▓реЗ рдЗрдВрдЯреЗрдВрдЯ рдХреЗ рд╡рд┐рдкрд░реАрдд, рдЬреЛ рдХреЗрд╡рд▓ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдЗрдВрдЯреЗрдВрдЯ **рдХрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ**ред рд╣рд╛рд▓рд╛рдВрдХрд┐, API рд╕рдВрд╕реНрдХрд░рдг 14 рд╕реЗ, рдпрд╣ **рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ** рдЗрдВрдЯреЗрдВрдЯ.set Package рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред

рд╡рд┐рдХрд▓реНрдк рд╕реЗ рдпрд╣ рднреА рд╕рдВрднрд╡ рд╣реИ **рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬрддреЗ рд╕рдордп рдПрдХ рдЕрдиреБрдорддрд┐ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛**ред рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЙрд╕ рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЗ **рджреЛ рдкреНрд░рдХрд╛рд░** рд╣реЛрддреЗ рд╣реИрдВ: **рд╕рд╛рдорд╛рдиреНрдп** (рдЕрд╕рдордВрдЬрд╕) рдФрд░ **рдХреНрд░рдордмрджреНрдз** (рд╕рдордВрдЬрд╕)ред **рдХреНрд░рдо** рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рддрддреНрд╡ рдХреЗ рднреАрддрд░ рд╡рд┐рдиреНрдпрд╛рд╕рд┐рдд рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред **рдкреНрд░рддреНрдпреЗрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг, рдкреБрдирд░реНрдкреНрд░реЗрд╖рдг рдпрд╛ рдЫреЛрдбрд╝ рд╕рдХрддрд╛ рд╣реИ**ред

рдПрдХ **рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬрдирд╛** рд╕рдВрднрд╡ рд╣реИ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ \*\*`sendBroadcast(intent, receiverPermission)` \*\* `Context` рд╡рд░реНрдЧ рд╕реЗред\
рдЖрдк рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ **`sendBroadcast`** **`LocalBroadCastManager`** рд╕реЗ, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ **рд╕рдВрджреЗрд╢ рдХрднреА рднреА рдРрдк рд╕реЗ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдЬрд╛рддрд╛**ред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдкрдХреЛ рдПрдХ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдШрдЯрдХ рдХреЛ рдирд┐рд░реНрдпрд╛рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреАред

### Sticky Broadcasts

рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ **рдЙрдиреНрд╣реЗрдВ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ** рдЬрдм рд╡реЗ рднреЗрдЬреЗ рдЧрдП рдереЗред\
рдпреЗ API рд╕реНрддрд░ 21 рдореЗрдВ рд╡рд┐рдЪрд▓рд┐рдд рдХрд┐рдП рдЧрдП рдереЗ рдФрд░ **рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ**ред\
**рдЗрдиреНрд╣реЗрдВ рдХрд┐рд╕реА рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдбреЗрдЯрд╛ рд╕реНрдирд┐рдлрд╝ рдХрд░рдиреЗ, рд▓реЗрдХрд┐рди рдЙрд╕реЗ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ**ред

рдпрджрд┐ рдЖрдк "sticky" рд╢рдмреНрдж рд╡рд╛рд▓реЗ рдлрд╝рдВрдХреНрд╢рди рдЬреИрд╕реЗ **`sendStickyBroadcast`** рдпрд╛ **`sendStickyBroadcastAsUser`** рдкрд╛рддреЗ рд╣реИрдВ, **рдкреНрд░рднрд╛рд╡ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣рдЯрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ**ред

## рдЧрд╣рд░реЗ рд╕рдВрд╡рд╛рдж / URL рдпреЛрдЬрдирд╛рдПрдБ

**рдЧрд╣рд░реЗ рд╕рдВрд╡рд╛рдж URL рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдЗрдВрдЯреЗрдВрдЯ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ**ред рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ **URL рдпреЛрдЬрдирд╛** рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреА рд╣реИ рдЬрд┐рд╕реЗ рдПрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЗ рднреАрддрд░ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рддреЛ рд╣рд░ рдмрд╛рд░ рдЬрдм Android рдбрд┐рд╡рд╛рдЗрд╕ рдЙрд╕ рдпреЛрдЬрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рдкрддреЗ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдЧрд╛, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛:

![](<../../.gitbook/assets/image (214).png>)

рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдпреЛрдЬрдирд╛ `myapp://` рд╣реИ (рдзреНрдпрд╛рди рджреЗрдВ рднреА **`рд╢реНрд░реЗрдгреА BROWSABLE`**)

рдпрджрд┐ рдЖрдк `intent-filter` рдХреЗ рднреАрддрд░ рдХреБрдЫ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдкрд╛рддреЗ рд╣реИрдВ:

![](<../../.gitbook/assets/image (263).png>)

рддреЛ, рдпрд╣ `http://www.example.com/gizmos` рдЬреИрд╕реА рдХреБрдЫ рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░ рд░рд╣рд╛ рд╣реИред

рдпрджрд┐ рдЖрдкрдХреЛ рдРрд╕рд╛ рдХреБрдЫ рдорд┐рд▓рддрд╛ рд╣реИ:

![](<../../.gitbook/assets/image (262).png>)

рддреЛ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ `example://gizmos` рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ рдПрдХ URL рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░ рд░рд╣рд╛ рд╣реИред\
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдк рдлрд╝рдВрдХреНрд╢рдиреИрд▓рд┐рдЯреА рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд payloads рдХреЗ рд╕рд╛рде рдПрдХ рд╡реЗрдм рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдХрд┐рд╕реА рднреА рдкреГрд╖реНрдареЛрдВ рдкрд░ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛ рдФрд░ JS рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛:
```markup
<a href="example://gizmos/https://google.com">click here</a>
<a href="example://gizmos/javascript://%250dalert(1)">click here</a>
```
рдРрдк рдореЗрдВ **рд╡рд╣ рдХреЛрдб рдЦреЛрдЬреЗрдВ рдЬреЛ рдРрдк рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдЧрд╛**, рдбреАрдкрд▓рд┐рдВрдХ рджреНрд╡рд╛рд░рд╛ рдмреБрд▓рд╛рдП рдЧрдП рдЧрддрд┐рд╡рд┐рдзрд┐ рдкрд░ рдЬрд╛рдПрдВ рдФрд░ **`onNewIntent`** рдлрд╝рдВрдХреНрд╢рди рдХреА рдЦреЛрдЬ рдХрд░реЗрдВред

![](<../../.gitbook/assets/image (436) (1) (1) (1).png>)

рдмрд┐рдирд╛ HTML рдкреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрд╣рд░реЗ рд▓рд┐рдВрдХреНрд╕ рдХреЛ [рдХреИрд╕реЗ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рдП](./#exploiting-schemes-deep-links) рд╕реАрдЦреЗрдВред

## AIDL - Android Interface Definition Language

**рдПрдВрдбреНрд░реЙрдЗрдб рдЗрдВрдЯрд░рдлреЗрд╕ рдкрд░рд┐рднрд╛рд╖рд╛ рднрд╛рд╖рд╛** (AIDL) рдЖрдкрдХреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рджреЗрддреА рд╣реИ рдЬрд┐рд╕ рдкрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд┐рд╕ рд╕рд╣рдордд рд╣реЛрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╡реЗ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде **рдЕрдВрддрд░рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдВрдЪрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрд╡рд╛рдж рдХрд░ рд╕рдХреЗрдВ**ред рдПрдВрдбреНрд░реЙрдЗрдб рдкрд░, **рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рджреВрд╕рд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдореЗрдореЛрд░реА рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╕рдХрддреА**ред рдЗрд╕рд▓рд┐рдП рдмрд╛рддрдЪреАрдд рдХреЗ рд▓рд┐рдП, рд╡реЗ рдЕрдкрдиреЗ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдЙрди рдкреНрд░рд╛рдердорд┐рдХ рддрддреНрд╡реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ **рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо** рд╕рдордЭ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрд╕ рд╕реАрдорд╛ рдХреЗ рдкрд╛рд░ рдСрдмреНрдЬ
```markup
<activity android:name=".LauncherActivity">
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>
```
Activities рдХреЛ рдирд┐рд░реНрдпрд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЙрдкрдХрд░рдг рдкрд░ рдЕрдиреНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░ рд╕рдХрддреА рд╣реИрдВред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд╡реЗ рдирд┐рд░реНрдпрд╛рдд рдирд╣реАрдВ рд╣реИрдВ рд▓реЗрдХрд┐рди рдЖрдк рдЙрдиреНрд╣реЗрдВ рдирд┐рд░реНрдпрд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рд╕реЗрдЯрд┐рдВрдЧ рдХрд░рдХреЗ:
```markup
<service android:name=".ExampleExportedService" android:exported="true"/>
```
рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ **рдЧрддрд┐рд╡рд┐рдзрд┐ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣рдореЗрд╢рд╛ рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрдбрд╝рдмрдбрд╝ рдирд╣реАрдВ рд╣реИ**, рдЖрдкрдХреЛ рдЬрд╛рдВрдЪрдиреА рд╣реЛрдЧреА рдХрд┐ рдЖрдкрдиреЗ рдХрд┐рд╕ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрд╛ рд╣реИред  
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рдХреБрдЫ рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ рдХреЙрд▓рд░ рдХреЛ рдбреЗрдЯрд╛ рд╡рд╛рдкрд╕ рднреЗрдЬрддреА рд╣реИрдВ**ред рдЗрди рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдореЗрдВ, рдЖрдкрдХреЛ **`setResult`** рд╡рд┐рдзрд┐ рдХреА рдЦреЛрдЬ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рдЗрдВрдЯреЗрдВрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд╛рд░рд┐рдд рдбреЗрдЯрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред **рдЕрдЧрд░ рдпрд╣ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд╣реИ рддреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдЬрд╛рдирдХрд╛рд░реА рд▓реАрдХреЗрдЬ рдЧрдбрд╝рдмрдбрд╝ рд╣реЛ рд╕рдХрддреА рд╣реИ** рдФрд░ рдЗрд╕реЗ рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╡рд╛рд▓реЗ рдРрдкреНрд╕ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХрд╛ рдХреЛрдб `onCreate` рд╡рд┐рдзрд┐ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред**

### рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдмрдХреНрд▓рд╛рд╕

рдПрдВрдбреНрд░реЙрдЗрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ [рдПрдкреНрд▓рд┐рдХреЗрд╢рди](https://developer.android.com/reference/android/app/Application) рдХрд╛ **рд╕рдмрдХреНрд▓рд╛рд╕** рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ рдХрд╕реНрдЯрдо рд╕рдмрдХреНрд▓рд╛рд╕ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХрд░ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред рдЕрдЧрд░ рдПрдВрдбреНрд░реЙрдЗрдб рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдмрдХреНрд▓рд╛рд╕ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, **рдЗрд╕ рдХреНрд▓рд╛рд╕ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рдХреНрд▓рд╛рд╕ рд╕реЗ рдкрд╣рд▓реЗ рдирд┐рд░реНрдорд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред

рдЕрдЧрд░ **`attachBaseContext`** рд╡рд┐рдзрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдмрдХреНрд▓рд╛рд╕ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХреА рдЧрдИ рд╣реИ, рддреЛ рдпрд╣ рдкрд╣рд▓реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, **`onCreate`** рд╡рд┐рдзрд┐ рд╕реЗ рдкрд╣рд▓реЗред

### рд╕реЗрд╡рд╛рдПрдВ

[рд╕реЗрд╡рд╛рдПрдВ](https://developer.android.com/guide/components/services) **рдПрдХ UI рдХреЗ рдмрд┐рдирд╛ рдкреГрд╖реНрда рдореЗрдВ рдЪрд▓рддреА рд╣реИрдВ**ред рдЗрдиреНрд╣реЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ **рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд┐рд╕реА рдЕрд▓рдЧ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрддрд╛ рд╣реИ**ред

рдЗрдиреНрд╣реЗрдВ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рд▓рд┐рдП рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред рдПрдХ рд╕реЗрд╡рд╛ рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ рдХреЗ рд░реВрдк рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рддрд░реАрдХрд╛ рдЗрдВрдЯреЗрдВрдЯреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реИред

рдЬрдм **`startService`** рд╡рд┐рдзрд┐ рдХреЛ рд╕реЗрд╡рд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕реЗрд╡рд╛ рдореЗрдВ **`onStart`** рд╡рд┐рдзрд┐ рдХрд╛ рдирд┐рд╖реНрдкрд╛рджрди рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рд╕реНрдерд┐рд░ рд░реВрдк рд╕реЗ рдЪрд▓реЗрдЧрд╛ рдЬрдм рддрдХ **`stopService`** рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрджрд┐ рд╕реЗрд╡рд╛ рдХреЗрд╡рд▓ рдЙрд╕ рд╕рдордп рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрдм рдЧреНрд░рд╛рд╣рдХ рдХрдиреЗрдХреНрдЯ рд╣реИ, рддреЛ рдЧреНрд░рд╛рд╣рдХ рдХреЛ рдЗрд╕рдХреЗ рд╕рд╛рде "рдмрд╛рдЗрдВрдб" рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП **`bindService`** рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред

рдПрдХ **рдмрд╛рдЙрдВрдб рд╕реЗрд╡рд╛** рдХреЗ рд▓рд┐рдП (рдкрд┐рдЫрд▓реЗ рдЦрдВрдб рджреЗрдЦреЗрдВ), рдбреЗрдЯрд╛ рдХреЛ **`onBind`** рд╡рд┐рдзрд┐ рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕реЗрд╡рд╛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдореЗрдВ рд╕рдВрдЧреАрдд рдмрдЬрд╛ рд╕рдХрддреА рд╣реИ рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд┐рд╕реА рдЕрд▓рдЧ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд╣реИ, рдпрд╛ рдпрд╣ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдбреЗрдЯрд╛ рд▓
```markup
<service android:name=".ExampleExportedService" android:exported="true"/>
```
### рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд░рд┐рд╕реАрд╡рд░реНрд╕

рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЛ рдПрдХ рд╕рдВрджреЗрд╢ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЛрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ **рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд░рд┐рд╕реАрд╡рд░реНрд╕ рд╕реБрдирдиреЗ рд╡рд╛рд▓реЗ** рд╣реЛрддреЗ рд╣реИрдВред рдпрджрд┐ рдХрд┐рд╕реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдиреЗ рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд┐рд╕реАрд╡рд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЬрдм рд╕рд┐рд╕реНрдЯрдо рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬрддрд╛ рд╣реИ, рддреЛ рдЙрд╕ рд░рд┐рд╕реАрд╡рд░ рдореЗрдВ рдХреЛрдб рдЪрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ **рдХрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ рд╣реА рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред

рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ рд░рд┐рд╕реАрд╡рд░ рдХреЗ рд▓рд┐рдП рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ **2 рддрд░реАрдХреЗ** рд╣реИрдВ: **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ рдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдХреЛрдб рдореЗрдВ рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ рд░рдЬрд┐рд╕реНрдЯрд░** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП **`registerReceiver`** API рдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдореИрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рддреЗ рд╕рдордп рдЖрдк рд░рд┐рд╕реАрд╡рд░ рддрддреНрд╡ рдХреЗ рдЕрдВрджрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдП рдЧрдП рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдХреЛ рд╕реАрдорд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред **рдбрд╛рдпрдирд╛рдорд┐рдХ** рд░реВрдк рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╕рдордп рдЖрдк **`registerReceiver`** рдореЗрдердб рдХреЛ рдЕрдиреБрдорддрд┐ рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рджреЛрдиреЛрдВ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд░рд┐рд╕реАрд╡рд░ рдХреЛ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд┐рд╕реАрд╡рд░ рдХреЗ рд▓рд┐рдП **рдЗрдВрдЯреЗрдВрдЯ рдлрд┐рд▓реНрдЯрд░ рд╕реЗрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ**ред рдпреЗ рдЗрдВрдЯреЗрдВрдЯ рдлрд┐рд▓реНрдЯрд░ рд╡реЗ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд╣реИрдВ рдЬреЛ рд░рд┐рд╕реАрд╡рд░ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред

рдЬрдм рд╡рд┐рд╢рд┐рд╖реНрдЯ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВ рдЬрд┐рдирдХреЗ рд▓рд┐рдП рд░рд┐рд╕реАрд╡рд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ **`onReceive`** рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯрд░рд┐рд╕реАрд╡рд░ рдХреНрд▓рд╛рд╕ рдореЗрдВ **рдЪрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред

рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд▓реЛ рдмреИрдЯрд░реА рд╕рдВрджреЗрд╢ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд┐рд╕реАрд╡рд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЙрд╕ рд╕реВрдЪрдирд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрдкрдиреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИред

рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ **рдЕрд╕рд┐рдВрдХреНрд░реЛрдирд╕** (рдкреНрд░рддреНрдпреЗрдХ рд░рд┐рд╕реАрд╡рд░ рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ) рдпрд╛ **рд╕рд┐рдВрдХреНрд░реЛрдирд╕** (рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╕реЗрдЯ рдХрд░рдиреЗ рдкрд░ рдЖрджрд╛рди рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

{% hint style="danger" %}
**рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреЛрдИ рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдкрдиреЗ рдЖрдк рдХреЛ рд╢реАрд░реНрд╖ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреА рд╣реИред**
{% endhint %}

рдПрдХ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд░рд┐рд╕реАрд╡рд░ рдореЗрдВ рд▓рд╛рдЧреВ рдХреЛрдб рдХреА **рдЬрд╛рдВрдЪ** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рд░рд┐рд╕реАрд╡рд░ рдХреА рдХреНрд▓рд╛рд╕ рдХреЗ **`onReceive`** рдореЗрдердб рдХреА рдЦреЛрдЬ рдХрд░рдиреА рд╣реЛрдЧреАред\
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдХреНрд░рдорд┐рдд рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ** рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЧрдП рдЗрдВрдЯреЗрдВрдЯ рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЙрд╕реЗ рд╕рдВрд╢реЛрдзрд┐рдд рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдПрдХ рд╕реЗрдЯрд░ рдореЗрдердб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред рдЗрд╕рд▓рд┐рдП, **рд░рд┐рд╕реАрд╡рд░реНрд╕ рдХреЛ рдбреЗрдЯрд╛ рдХрд╛ рд╕рддреНрдпрд╛рдкрди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП**ред

### рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░

рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░ рдПрдкреНрд╕ рдХреЗ рдмреАрдЪ рд╕рдВрд░рдЪрд┐рдд рдбреЗрдЯрд╛ рдЬреИрд╕реЗ рдХрд┐ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдЗрдиреНрд╣реЗрдВ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП **рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рдФрд░ рдЙрдЪрд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рд╕реНрддрд░ рд╕реЗрдЯ рдХрд░рдирд╛ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред\
рдХрдВрдЯреЗрдВрдЯ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░реНрд╕ **`readPermission`** рдФрд░ **`writePermission`** рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдХреМрди рд╕реА рдЕрдиреБрдорддрд┐ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХреЗред **рдпреЗ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдЕрдиреБрдорддрд┐ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рдКрдкрд░ рдкреНрд░рд╛рдзрд╛рдирддрд╛ рд░рдЦрддреА рд╣реИрдВ**ред\
рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рд╡реЗ рдЕрд╕реНрдерд╛рдпреА рдЕрдкрд╡рд╛рдж рднреА **`grantUriPermission`** рдХреЛ рд╕рддреНрдп рд░рдЦрдХрд░ рдФрд░ рдлрд┐рд░ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдкреНрд░рджрд╛рддрд╛ рддрддреНрд╡ рдХреЗ рдЕрдВрджрд░ **`grant-uri-permission`** рддрддреНрд╡ рдореЗрдВ рдЙрдЪрд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдХреЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

**`grant-uri-permission`** рдХреЗ рддреАрди рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ: рдкрде, рдкрдердкреНрд░рд┐рдлрд╝рд┐рдХреНрд╕ рдФрд░ рдкрдердкреИрдЯрд░реНрди:

* **рдкрде**: рдкреВрд░реЗ рдкрде рдХреЛ рдЕрдкрд╡рд╛рдж рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ
* **рдкрдердкреНрд░рд┐рдлрд╝рд┐рдХреНрд╕**: рдкрде рдХреА рд╢реБрд░реБрдЖрдд рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ
* **рдкрдердкреИрдЯрд░реНрди**: рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдб рдФрд░ рдкреНрд░рддреАрдХрд╛рддреНрдордХ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЕрдзрд┐рдХ рдЧреНрд░реИрдиреБрд▓рд░ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рд╛рдкреНрдд рд╣реЛ рд╕рдХреЗред

**рдкреНрд░рд╛рдкреНрдд рдЗрдирдкреБрдЯ рдХрд╛ рд╕рддреНрдпрд╛рдкрди рдФрд░ рд╕рдлрд╛рдИ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ** рддрд╛рдХрд┐ рд╕рдВрднрд╛рд╡рд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рджреЛрд╖ рдЬреИрд╕реЗ рдПрд╕рдХреНрдпреВрдПрд▓ рдЗрдВрдЬреЗрдХреНрд╢рди рд╕реЗ рдмрдЪрд╛ рдЬрд╛ рд╕рдХреЗред
```markup
<provider android:name="androidx.core.content.FileProvider"
android:authorities="com.example.myapp.fileprovider"
android:grantUriPermissions="true" android:exported="false">
<meta-data
android:name="android.support.FILE_PROVIDER_PATHS"
android:resource="@xml/filepaths" />
</provider>
```
рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ **`android:exported`** рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреНрдпреЛрдВрдХрд┐ рдпрджрд┐ рдпрд╣ **`true`** рд╣реИ рддреЛ рдмрд╛рд╣рд░реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд╛рдЭрд╛ рдлрд╝реЛрд▓реНрдбрд░ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреЗрдВрдЧреАред\
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╡рд┐рдиреНрдпрд╛рд╕ `android:resource="@xml/filepaths"` рдпрд╣ рдЗрд╕ рд╕рдВрдХреЗрдд рдХреЛ рджреЗрддрд╛ рд╣реИ рдХрд┐ рдлрд╝рд╛рдЗрд▓ _res/xml/filepaths.xml_ рдореЗрдВ **рдХреМрди рд╕реЗ рдлрд╝реЛрд▓реНрдбрд░** рдХреЛ рдпрд╣ **FileProvider** **рд╕рд╛рдЭрд╛** рдХрд░рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реИред рдпрд╣ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ рдХрд┐ рдЙрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛:
```markup
<paths>
<files-path path="images/" name="myimages" />
</paths>
```
рд╕рд╛рдЭрд╛ рдХреБрдЫ рдЬреИрд╕реЗ **`path="."`** рд╣реЛ рд╕рдХрддрд╛ рд╣реИ **рдЦрддрд░рдирд╛рдХ** рднрд▓реЗ рд╣реА рдкреНрд░рджрд╛рддрд╛ рдирд┐рд░реНрдпрд╛рдд рди рд╣реЛ, рдЕрдЧрд░ рдХреЛрдб рдХреЗ рдХрд┐рд╕реА рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рдХреЛрдИ рдЕрдиреНрдп рд╕реБрд░рдХреНрд╖рд╛ рджреЛрд╖ рд╣реЛ рдЬреЛ рдЗрд╕ рдкреНрд░рджрд╛рддрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддрд╛ рд╣реИред\
рдЖрдк **рдкрд╣реБрдВрдЪ** рд╕рдХрддреЗ рд╣реИрдВ рдЙрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ рдХреА рдПрдХ **рдЫрд╡рд┐** рдХреЗ рд╕рд╛рде `content://com.example.myapp.fileprovider/myimages/default_image.jpg`

`<paths>` рддрддреНрд╡ рдХреЗ рдХрдИ рдмрдЪреНрдЪреЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдПрдХ рд╡рд┐рднрд┐рдиреНрди рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред **`<files-path>`** рддрддреНрд╡ рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЖрдк **рдмрд╛рд╣реНрдп рд╕рдВрдЧреНрд░рд╣рдг** рдореЗрдВ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **`<external-path>`** рддрддреНрд╡ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ **рдЖрдкрдХреА рдЖрдВрддрд░рд┐рдХ рдХреИрд╢ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА** рдореЗрдВ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **`<cache-path>`** рддрддреНрд╡ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
[рд╡рд┐рд╢реЗрд╖ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рджрд╛рддрд╛рдУрдВ рдЧреБрдгреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдБ рдЬрд╛рдПрдВред](https://developer.android.com/reference/androidx/core/content/FileProvider)

[рдлрд╝рд╛рдЗрд▓ рдкреНрд░рджрд╛рддрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдпрд╣рд╛рдБ](https://developer.android.com/training/secure-file-sharing/setup-sharing).

## рд╡реЗрдмрд╡реНрдпреВ

рд╡реЗрдмрд╡реНрдпреВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ Android рдРрдкреНрд╕ рдореЗрдВ рд╕рдорд╛рд╣рд┐рдд **рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░** рд╣реЛрддреЗ рд╣реИрдВред\
рд╡реЗрдмрд╡реНрдпреВ рд╕рд╛рдордЧреНрд░реА рдХреЛ рджреВрд░рд╕реНрде рд╕рд╛рдЗрдЯреЛрдВ рд╕реЗ рдЦреАрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдРрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред\
рд╡реЗрдмрд╡реНрдпреВ **рдХрд┐рд╕реА рднреА рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╡реБрд▓рдирд░реЗрдмрд┐рд▓рд┐рдЯреА** рдХреЗ рд▓рд┐рдП **рд╡рд┐рдХрд▓реНрдк** рд╣реЛрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐ рдХреБрдЫ **рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди** рд╣реИрдВ рдЬреЛ **рд╣рдорд▓реЗ** рдХреА **рд╕рддрд╣** рдХреЛ **рд╕реАрдорд┐рдд** рдХрд░рдиреЗ рдореЗрдВ рдорджрджрдЧрд╛рд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

Android рдореЗрдВ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡реЗрдмрд╡реНрдпреВ рд╣реИрдВ:

* **WebViewClient**, рд╕рд░рд▓ HTML рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЙрдкрдпреБрдХреНрддред рдпрд╣ JS рдЕрд▓рд░реНрдЯ рдлрд╝рдВрдХреНрд╢рди рдирд╣реАрдВ рдЪрд▓рд╛рдПрдЧрд╛ред рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ XSS рдЯреЗрд╕реНрдЯ рдЕрдорд╛рдиреНрдп рд╣реЛ рдЬрд╛рдПрдВрдЧреЗред
* **WebChrome** **client**, рдПрдХ Chrome рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╣реИред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **WebView рдмреНрд░рд╛рдЙрдЬрд╝рд░реНрд╕ рдХреЛ рдкреНрд░рд╛рдХреГрддрд┐рдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдХреБрдХреА рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реЛрддреА**ред

URL рдпрд╛ рдлрд╝рд╛рдЗрд▓ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **`loadUrl`**, **`loadData`** рдпрд╛ **`loadDataWithBaseURL`** рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред **рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХреЗрд╡рд▓ рд╕рдВрд╢реЛрдзрд┐рдд URL рддрдХ рдкрд╣реБрдВрдЪрдирд╛ред**\
WebView рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ **`WebSettings`** рдСрдмреНрдЬ
