<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>


**Το Adb συνήθως βρίσκεται στον φάκελο:**
```bash
#Windows
C:\Users\<username>\AppData\Local\Android\sdk\platform-tools\adb.exe

#MacOS
/Users/<username>/Library/Android/sdk/platform-tools/adb
```
**Πληροφορίες που αποκτήθηκαν από:** [**http://adbshell.com/**](http://adbshell.com)

# Σύνδεση
```
adb devices
```
Αυτό θα εμφανίσει τις συνδεδεμένες συσκευές. Αν εμφανιστεί "_**unathorised**_", αυτό σημαίνει ότι πρέπει να **ξεκλειδώσετε** το **κινητό** σας και να **αποδεχθείτε** τη σύνδεση.

Αυτό υποδεικνύει στη συσκευή ότι πρέπει να ξεκινήσει έναν adb server στη θύρα 5555:
```
adb tcpip 5555
```
Συνδεθείτε σε αυτήν την IP και αυτήν τη θύρα:
```
adb connect <IP>:<PORT>
```
Εάν λάβετε ένα σφάλμα όπως το παρακάτω σε ένα εικονικό λογισμικό Android (όπως το Genymotion):
```
adb server version (41) doesn't match this client (36); killing...
```
Συμβαίνει αυτό επειδή προσπαθείτε να συνδεθείτε σε έναν διακομιστή ADB με διαφορετική έκδοση. Απλά προσπαθήστε να βρείτε το δυαδικό αρχείο adb που χρησιμοποιεί το λογισμικό (πηγαίνετε στο `C:\Program Files\Genymobile\Genymotion` και αναζητήστε το adb.exe)

## Πολλές συσκευές

Όταν βρείτε **πολλές συσκευές συνδεδεμένες στον υπολογιστή σας**, θα χρειαστεί να **καθορίσετε σε ποια θέλετε να εκτελέσετε την εντολή adb**.
```bash
adb devices
List of devices attached
10.10.10.247:42135	offline
127.0.0.1:5555	device
```

```bash
adb -s 127.0.0.1:5555 shell
x86_64:/ # whoami
root
```
## Τούνελ Θύρας

Στην περίπτωση που η **θύρα adb** είναι προσβάσιμη μόνο από το **localhost** στη συσκευή Android αλλά **έχετε πρόσβαση μέσω SSH**, μπορείτε να **προωθήσετε τη θύρα 5555** και να συνδεθείτε μέσω adb:
```bash
ssh -i ssh_key username@10.10.10.10 -L 5555:127.0.0.1:5555 -p 2222
adb connect 127.0.0.1:5555
```
# Διαχειριστής Πακέτων

## Εγκατάσταση/Απεγκατάσταση

### adb install \[option] \<path>
```bash
adb install test.apk

adb install -l test.apk # forward lock application

adb install -r test.apk # replace existing application

adb install -t test.apk # allow test packages

adb install -s test.apk # install application on sdcard

adb install -d test.apk # allow version code downgrade

adb install -p test.apk # partial application install
```
### adb uninstall \[επιλογές] \<ΠΑΚΕΤΟ>

Απεγκαθιστά μια εφαρμογή από ένα συνδεδεμένο Android συσκευή. Το \<ΠΑΚΕΤΟ> αναφέρεται στο όνομα πακέτου της εφαρμογής που θέλουμε να απεγκαταστήσουμε. Οι επιλογές που μπορούν να χρησιμοποιηθούν περιλαμβάνουν:

- -k: Διατηρεί τα δεδομένα και την cache της εφαρμογής μετά την απεγκατάσταση.
- --user \<USER_ID> | all: Καθορίζει τον χρήστη για τον οποίο θα γίνει η απεγκατάσταση. Το "all" αναφέρεται σε όλους τους χρήστες.
- --version-code: Καθορίζει τον κωδικό έκδοσης της εφαρμογής που θέλουμε να απεγκαταστήσουμε.

Παράδειγμα:
```
adb uninstall com.example.app
```
```bash
adb uninstall com.test.app

adb uninstall -k com.test.app Keep the data and cache directories around after package removal.
```
## Πακέτα

Εκτυπώνει όλα τα πακέτα, προαιρετικά μόνο αυτά που το όνομα του πακέτου περιέχει το κείμενο στο \<FILTER>.

### adb shell pm list packages \[επιλογές] \<FILTER-STR>
```bash
adb shell pm list packages <FILTER-STR>

adb shell pm list packages -f <FILTER-STR> #See their associated file.

adb shell pm list packages -d <FILTER-STR> #Filter to only show disabled packages.

adb shell pm list packages -e <FILTER-STR> #Filter to only show enabled packages.

adb shell pm list packages -s <FILTER-STR> #Filter to only show system packages.

adb shell pm list packages -3 <FILTER-STR> #Filter to only show third party packages.

adb shell pm list packages -i <FILTER-STR> #See the installer for the packages.

adb shell pm list packages -u <FILTER-STR> #Also include uninstalled packages.

adb shell pm list packages --user <USER_ID> <FILTER-STR> #The user space to query.
```
### adb shell pm path \<PACKAGE>

Εκτυπώνει τη διαδρομή προς το APK του συγκεκριμένου \<PACKAGE>.
```bash
adb shell pm path com.android.phone
```
### adb shell pm clear \<PACKAGE>

Διαγράψτε όλα τα δεδομένα που σχετίζονται με ένα πακέτο.
```bash
adb shell pm clear com.test.abc
```
# Διαχειριστής Αρχείων

### adb pull \<απομακρυσμένο> \[τοπικό]

Κατεβάστε ένα συγκεκριμένο αρχείο από έναν εξομοιωτή/συσκευή στον υπολογιστή σας.
```bash
adb pull /sdcard/demo.mp4 ./
```
### adb push \<τοπικό> \<απομακρυσμένο>

Μεταφορτώστε ένα συγκεκριμένο αρχείο από τον υπολογιστή σας σε έναν εξομοιωτή/συσκευή.
```bash
adb push test.apk /sdcard
```
# Καταγραφή οθόνης/Καταγραφή βίντεο οθόνης

### adb shell screencap \<όνομα αρχείου>

Λήψη ενός στιγμιότυπου οθόνης της συσκευής.
```bash
adb shell screencap /sdcard/screen.png
```
### adb shell screenrecord \[επιλογές] \<όνομα αρχείου>

Καταγραφή της οθόνης συσκευών που εκτελούν το Android 4.4 (API επίπεδο 19) και νεότερο.
```bash
adb shell screenrecord /sdcard/demo.mp4
adb shell screenrecord --size <WIDTHxHEIGHT>
adb shell screenrecord --bit-rate <RATE>
adb shell screenrecord --time-limit <TIME> #Sets the maximum recording time, in seconds. The default and maximum value is 180 (3 minutes).
adb shell screenrecord --rotate # Rotates 90 degrees
adb shell screenrecord --verbose
```
(press Ctrl-C to stop recording)

**Μπορείτε να κατεβάσετε τα αρχεία (εικόνες και βίντεο) χρησιμοποιώντας την εντολή **_**adb pull**_

# Κέλυφος

### adb shell

Αποκτήστε ένα κέλυφος μέσα στη συσκευή
```bash
adb shell
```
### adb shell \<CMD>

Εκτέλεση ενός εντολής μέσα στη συσκευή
```bash
adb shell ls
```
## pm

Οι παρακάτω εντολές εκτελούνται εντός ενός κελύφους.
```bash
pm list packages #List installed packages
pm path <package name> #Get the path to the apk file of tha package
am start [<options>] #Start an activity. Whiout options you can see the help menu
am startservice [<options>] #Start a service. Whiout options you can see the help menu
am broadcast [<options>] #Send a broadcast. Whiout options you can see the help menu
input [text|keyevent] #Send keystrokes to device
```
# Διεργασίες

Εάν θέλετε να λάβετε το PID της διεργασίας της εφαρμογής σας, μπορείτε να εκτελέσετε:
```bash
adb shell ps
```
Και αναζητήστε την εφαρμογή σας

Ή μπορείτε να κάνετε
```bash
adb shell pidof com.your.application
```
Και θα εκτυπώσει το PID της εφαρμογής

# Σύστημα
```bash
adb root
```
Επανεκκινεί τον δαίμονα adbd με δικαιώματα root. Στη συνέχεια, πρέπει να συνδεθείτε ξανά στον διακομιστή ADB και θα είστε root (εάν είναι διαθέσιμο).
```bash
adb sideload <update.zip>
```
Καταγραφή

## Logcat

Για να **φιλτράρετε τα μηνύματα μόνο από μία εφαρμογή**, πάρτε το PID της εφαρμογής και χρησιμοποιήστε την εντολή grep (linux/macos) ή findstr (windows) για να φιλτράρετε την έξοδο του logcat:
```bash
adb logcat | grep 4526
adb logcat | findstr 4526
```
### adb logcat \[επιλογή] \[προδιαγραφές-φίλτρου]

Η εντολή `adb logcat` χρησιμοποιείται για την προβολή των καταγραφών του συστήματος και των μηνυμάτων καταγραφής από μια συσκευή Android που είναι συνδεδεμένη μέσω του Android Debug Bridge (ADB). Μπορεί να χρησιμοποιηθεί για την ανάλυση και την επίλυση προβλημάτων σε εφαρμογές Android.

Οι επιλογές που μπορούν να χρησιμοποιηθούν με την εντολή `adb logcat` περιλαμβάνουν:

- `-d`: Προβολή των τελευταίων μηνυμάτων καταγραφής και έξοδος.
- `-e <filter>`: Εμφάνιση μόνο των μηνυμάτων που ταιριάζουν με το φίλτρο που καθορίζεται.
- `-s <filter>`: Εμφάνιση μόνο των μηνυμάτων που αντιστοιχούν στο φίλτρο που καθορίζεται.
- `-v <format>`: Καθορισμός της μορφής εξόδου για τα μηνύματα καταγραφής.

Οι προδιαγραφές φίλτρου μπορούν να χρησιμοποιηθούν για να περιορίσουν την έξοδο σε συγκεκριμένα μηνύματα καταγραφής, χρησιμοποιώντας διάφορα κριτήρια όπως ο τύπος του μηνύματος, ο προέλευση, ο επίπεδο καταγραφής κ.λπ.
```bash
adb logcat
```
Σημείωση: πατήστε Ctrl-C για να σταματήσετε την παρακολούθηση
```bash
adb logcat *:V # lowest priority, filter to only show Verbose level

adb logcat *:D # filter to only show Debug level

adb logcat *:I # filter to only show Info level

adb logcat *:W # filter to only show Warning level

adb logcat *:E # filter to only show Error level

adb logcat *:F # filter to only show Fatal level

adb logcat *:S # Silent, highest priority, on which nothing is ever printed
```
### adb logcat -b \<Buffer>

Η εντολή `adb logcat -b \<Buffer>` χρησιμοποιείται για την ανάγνωση των καταγραφών του logcat buffer σε ένα Android συσκευή. Ο buffer που θα πρέπει να προσδιοριστεί μπορεί να είναι οι εξής:

- `main`: Ο κύριος buffer καταγραφής γεγονότων του συστήματος.
- `radio`: Ο buffer καταγραφής γεγονότων του ραδιοφώνου.
- `events`: Ο buffer καταγραφής γεγονότων του συστήματος.
- `system`: Ο buffer καταγραφής γεγονότων του συστήματος.

Για παράδειγμα, για να διαβάσετε τις καταγραφές του κύριου buffer, θα πρέπει να εκτελέσετε την εντολή `adb logcat -b main`.
```bash
adb logcat -b # radio View the buffer that contains radio/telephony related messages.

adb logcat -b # event View the buffer containing events-related messages.

adb logcat -b # main default

adb logcat -c # Clears the entire log and exits.

adb logcat -d # Dumps the log to the screen and exits.

adb logcat -f test.logs # Writes log message output to test.logs .

adb logcat -g # Prints the size of the specified log buffer and exits.

adb logcat -n <count> # Sets the maximum number of rotated logs to <count>.
```
## dumpsys

ανακτά δεδομένα συστήματος

### adb shell dumpsys \[επιλογές]
```bash
adb shell dumpsys

adb shell dumpsys meminfo

adb shell dumpsys battery
```
Σημειώσεις: Ένα κινητό συσκευή με ενεργοποιημένες τις Επιλογές Προγραμματιστή, λειτουργικό σύστημα Android 5.0 ή νεότερο.
```bash
adb shell dumpsys batterystats collects battery data from your device
```
Σημειώσεις: Το [Battery Historian](https://github.com/google/battery-historian) μετατρέπει αυτά τα δεδομένα σε οπτικοποίηση HTML. **ΒΗΜΑ 1** _adb shell dumpsys batterystats > batterystats.txt_ **ΒΗΜΑ 2** _python historian.py batterystats.txt > batterystats.html_
```bash
adb shell dumpsys batterystats --reset erases old collection data
```
adb shell dumpsys activity

# Αντίγραφο Ασφαλείας

Δημιουργήστε ένα αντίγραφο ασφαλείας ενός Android συσκευής από το adb.
```bash
adb backup [-apk] [-shared] [-system] [-all] -f file.backup
# -apk -- Include APK from Third partie's applications
# -shared -- Include removable storage
# -system -- Include system Applciations
# -all -- Include all the applications

adb shell pm list packages -f -3      #List packages
adb backup -f myapp_backup.ab -apk com.myapp # backup on one device
adb restore myapp_backup.ab                  # restore to the same or any other device
```
Εάν θέλετε να επιθεωρήσετε το περιεχόμενο του αντιγράφου ασφαλείας:
```bash
( printf "\x1f\x8b\x08\x00\x00\x00\x00\x00" ; tail -c +25 myapp_backup.ab ) |  tar xfvz -
```
<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
