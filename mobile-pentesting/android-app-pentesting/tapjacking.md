# рдЯреИрдкрдЬреИрдХрд┐рдВрдЧ

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## **рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА**

**рдЯреИрдкрдЬреИрдХрд┐рдВрдЧ** рдПрдХ рд╣рдорд▓рд╛ рд╣реИ рдЬрд╣рд╛рдВ рдПрдХ **рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рд╢реБрд░реВ рдХреА рдЬрд╛рддреА рд╣реИ рдФрд░ **рдЦреБрдж рдХреЛ рдПрдХ рдкреАрдбрд╝рд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдКрдкрд░ рд╕реНрдерд┐рдд рдХрд░рддреА рд╣реИ**ред рдПрдХ рдмрд╛рд░ рдЬрдм рдпрд╣ рдкреАрдбрд╝рд┐рдд рдРрдк рдХреЛ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлреЗрд╕ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЗрд╕рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдзреЛрдЦрд╛ рджреЗ рд╕рдХрддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рдпрд╣ рдкреАрдбрд╝рд┐рдд рдРрдк рдкрд░ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЛ рдЖрдЧреЗ рдмрдврд╝рд╛ рд░рд╣рд╛ рд╣реИред\
рдЕрд╕рд░ рдореЗрдВ, рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ **рдЕрдВрдзреЗрд░реЗ рдореЗрдВ рд░рдЦ рджреЗрддрд╛ рд╣реИ рдХрд┐ рд╡реЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкреАрдбрд╝рд┐рдд рдРрдк рдкрд░ рдХреНрд░рд┐рдпрд╛рдПрдБ рдХрд░ рд░рд╣реЗ рд╣реИрдВ**ред

### рдкрддрд╛ рд▓рдЧрд╛рдирд╛

рдЗрд╕ рд╣рдорд▓реЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд▓реНрдкрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдПрдВрдбреНрд░реЙрдЗрдб рдореИрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ **рдирд┐рд░реНрдпрд╛рддрд┐рдд рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ** рдХреА рдЦреЛрдЬ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдХ рдЗрдВрдЯреЗрдВрдЯ-рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рд╕рд╛рде рдПрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд┐рд░реНрдпрд╛рддрд┐рдд рд╣реЛрддреА рд╣реИ)ред рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк рдирд┐рд░реНрдпрд╛рддрд┐рдд рдЧрддрд┐рд╡рд┐рдзрд╛рдПрдВ рдкрд╛ рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ **рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдЙрдиреНрд╣реЗрдВ рдХреЛрдИ рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ**ред рдпрд╣ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ **рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рднреА рдЙрд╕ рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА**ред

### рд╕реБрд░рдХреНрд╖рд╛

#### рдПрдВрдбреНрд░реЙрдЗрдб 12 (API 31,32) рдФрд░ рдЙрдЪреНрдЪрддрд░

[**рдЗрд╕ рд╕реНрд░реЛрдд рдХреЗ рдЕрдиреБрд╕рд╛рд░**](https://www.geeksforgeeks.org/tapjacking-in-android/)**,** рдПрдВрдбреНрд░реЙрдЗрдб 12 (API 31 рдФрд░ 30) рдФрд░ рдЙрдЪреНрдЪрддрд░ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рдПрдВрдбреНрд░реЙрдЗрдб рджреНрд╡рд╛рд░рд╛ рдЯреИрдкрдЬреИрдХрд┐рдВрдЧ рд╣рдорд▓реЛрдВ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд░реЛрдХрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рдВрд╢рд╡рд╛рджреА рд╣реИ рддреЛ рдЖрдк **рдЗрд╕рдХрд╛ рд╢реЛрдз рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ**ред

#### `filterTouchesWhenObscured`

рдпрджрд┐ **`android:filterTouchesWhenObscured`** рдХреЛ **`true`** рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ `View` рдХреЛрдИ рдЫреВрдПрдЧрд╛ рдирд╣реАрдВ рдЬрдм рднреА рд╡реНрдпреВ рдХреА рд╡рд┐рдВрдбреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рджреГрд╢реНрдпрдорд╛рди рд╡рд┐рдВрдбреЛ рджреНрд╡рд╛рд░рд╛ рдУрдмреНрд╕реНрдХреНрдпреВрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

#### **`setFilterTouchesWhenObscured`**

рдпрджрд┐ рдПрдВрдбреНрд░реЙрдЗрдб рд╕рдВрд╕реНрдХрд░рдг рдХрдо рд╣реИ рддреЛ рдпрд╣ рд╡рд┐рдХрд░реНрд╖рдг рдХреА рд╡рдВрд╢рд╡рд╛рджрд┐рддрд╛ рдХреЛ рднреА рд░реЛрдХ рд╕рдХрддрд╛ рд╣реИ рдЕрдЧрд░ **`setFilterTouchesWhenObscured`** рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ **`true`** рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред\
рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдпрд╣ **`true`** рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдПрдХ рдмрдЯрди рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ **рдЕрдХреНрд╖рдо рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЕрдЧрд░ рдпрд╣ рдУрдмреНрд╕реНрдХреНрдпреВрд░ рд╣реИ**ред
```xml
<Button android:text="Button"
android:id="@+id/button1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:filterTouchesWhenObscured="true">
</Button>
```
## рд╢реЛрд╖рдг

### рдЯреИрдкрдЬреИрдХрд┐рдВрдЧ-рдирд┐рд░реНрдпрд╛рддрд┐рддрдЧрддрд┐рд╡рд┐рдзрд┐

рд╕рдмрд╕реЗ **рд╣рд╛рд▓ рдХрд╛ Android рдПрдкреНрд▓рд┐рдХреЗрд╢рди** рдЬреЛ рдЯреИрдкрдЬреИрдХрд┐рдВрдЧ рд╣рдорд▓рд╛ рдХрд░ рд░рд╣рд╛ рд╣реИ (+ рдЖрдХреНрд░рдорд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдирд┐рд░реНрдпрд╛рддрд┐рдд рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдкрд╣рд▓реЗ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдирд╛) рдпрд╣рд╛рдБ рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИ: [**https://github.com/carlospolop/Tapjacking-ExportedActivity**](https://github.com/carlospolop/Tapjacking-ExportedActivity).

рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **README рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**ред

### FloatingWindowApp

рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЬреЛ **FloatingWindowApp** рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреА рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреНрдп рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рдКрдкрд░ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдПрдХ рдХреНрд▓рд┐рдХрдЬреИрдХрд┐рдВрдЧ рд╣рдорд▓рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣рд╛рдБ рдорд┐рд▓ рд╕рдХрддреА рд╣реИ [**FloatingWindowApp**](https://github.com/aminography/FloatingWindowApp) (рдереЛрдбрд╝реА рдкреБрд░рд╛рдиреА рд╣реИ, apk рдмрдирд╛рдиреЗ рдореЗрдВ рд╢реБрднрдХрд╛рдордирд╛рдПрдВ)ред

### Qark

{% hint style="danger" %}
рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЕрдм рдЕрдиреБрд░рдХреНрд╖рд┐рдд рд╣реИ рдФрд░ рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЕрдм рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣реА рд╣реИ
{% endhint %}

рдЖрдк [**qark**](https://github.com/linkedin/qark) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ `--exploit-apk` --sdk-path `/Users/username/Library/Android/sdk` рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рдПрдХ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рд╕рдВрднрд╛рд╡рд┐рдд **рдЯреИрдкрдЬреИрдХрд┐рдВрдЧ** рднреЗрджрднрд╛рд╡ рд╣реИрдВред

рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдп рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╕рд░рд▓ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдбреЗрд╡рд▓рдкрд░ рдпрд╣ рдЪреБрди рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЬрдм рдПрдХ рджреВрд╕рд░реЗ рджреНрд╡рд╛рд░рд╛ рдПрдХ рджреГрд╢реНрдп рдврдХрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдПрдХ рджреГрд╢реНрдп рдХреЛ рдЫреВрдиреЗ рдХреА рдШрдЯрдирд╛рдПрдБ рдкреНрд░рд╛рдкреНрдд рди рдХрд░реЗрдВред [Android DeveloperтАЩs Reference](https://developer.android.com/reference/android/view/View#security) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛:

> рдХрднреА-рдХрднреА рдПрдХ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдХрд┐ рдПрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдФрд░ рд╕рд╣рдорддрд┐ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдПрдХ рдЕрдиреБрдорддрд┐ рдЕрдиреБрд░реЛрдз рдкреНрд░рджрд╛рди рдХрд░рдирд╛, рдПрдХ рдЦрд░реАрджрд╛рд░реА рдХрд░рдирд╛ рдпрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдирд╛ред рджреБрд░реНрднрд╛рдЧреНрдпрд╡рд╢, рдПрдХ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЗрди рдХрд╛рд░реНрд░рд╡рд╛рдЗрдпреЛрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдзреЛрдЦрд╛ рджреЗрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╡рд╣ рдЕрдирдЬрд╛рди рд╣реЛрдХрд░ рдХрд░ рд░рд╣рд╛ рд╣реЛ, рджреГрд╢реНрдп рдХреА рдЗрдЪреНрдЫрд┐рдд рдЙрджреНрджреЗрд╢реНрдп рдХреЛ рдЫреБрдкрд╛рдХрд░ред рдЗрд╕реЗ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдлреНрд░реЗрдорд╡рд░реНрдХ рдПрдХ рд╕реНрдкрд░реНрд╢ рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ рддрдВрддреНрд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдлрд╝рдВрдХреНрд╢рдирд▓рд┐рдЯреА рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рджреГрд╢реНрдпреЛрдВ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
>
> рд╕реНрдкрд░реНрд╢ рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, [`setFilterTouchesWhenObscured(boolean)`](https://developer.android.com/reference/android/view/View#setFilterTouchesWhenObscured%28boolean%29) рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ рдпрд╛ android:filterTouchesWhenObscured рд▓реЗрдЖрдЙрдЯ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рд╕рддреНрдп рдореЗрдВ рд╕реЗрдЯ рдХрд░реЗрдВред рдЬрдм рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдлреНрд░реЗрдорд╡рд░реНрдХ рдЙрди рд╕реНрдкрд░реНрд╢реЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрдЧрд╛ рдЬреЛ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреЗ рд╣реИрдВ рдЬрдм рджреГрд╢реНрдп рдХреА рд╡рд┐рдВрдбреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рджреГрд╢реНрдп рджреНрд╡рд╛рд░рд╛ рдврдХреА рд╣реЛрддреА рд╣реИред рдЗрд╕ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рджреГрд╢реНрдп рдХреЛ рд╕реНрдкрд░реНрд╢ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдЬрдм рдПрдХ рдЯреЛрд╕реНрдЯ, рдбрд╛рдпрд▓реЙрдЧ рдпрд╛ рдЕрдиреНрдп рд╡рд┐рдВрдбреЛ рджреГрд╢реНрдп рдХреА рд╡рд┐рдВрдбреЛ рдХреЗ рдКрдкрд░ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИред
