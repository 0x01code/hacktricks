# House of Force

<details>

<summary><strong>Erfahren Sie AWS-Hacking von Null auf Held mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks beworben sehen m√∂chten** oder **HackTricks im PDF-Format herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositorys einreichen.

</details>

## Grundlegende Informationen

### Code

* Diese Technik wurde gepatcht ([**hier**](https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=30a17d8c95fbfb15c52d1115803b63aaa73a285c)) und f√ºhrt zu diesem Fehler: `malloc(): corrupted top size`

### Ziel

* Das Ziel dieses Angriffs ist es, einen Chunk an einer bestimmten Adresse zu allozieren.

### Anforderungen

* Ein √úberlauf, der es erm√∂glicht, die Gr√∂√üe des Top-Chunk-Headers zu √ºberschreiben (z. B. -1).
* Die M√∂glichkeit, die Gr√∂√üe der Heap-Allokation zu kontrollieren

### Angriff

Wenn ein Angreifer einen Chunk an der Adresse P haben m√∂chte, nachdem die Gr√∂√üe des Top-Chunks mit -1 √ºberschrieben wurde, ist zun√§chst ein malloc von (\&top\_chunk - P) erforderlich. Beachten Sie, dass dieser Zeiger vor oder nach dem Top-Chunk sein kann, da jede Gr√∂√üe kleiner als -1 (0xFFFFFFFFFFFFFFFF) ist. Nachdem dieser anf√§ngliche Chunk allokiert wurde, wird der Top-Chunk an die gew√ºnschte P-Adresse verschoben und der n√§chste Chunk wird von dieser Adresse aus sein.

### Referenzen

* [https://github.com/shellphish/how2heap/tree/master](https://github.com/shellphish/how2heap/tree/master?tab=readme-ov-file)
* [https://ctf-wiki.mahaloz.re/pwn/linux/glibc-heap/house\_of\_force/](https://ctf-wiki.mahaloz.re/pwn/linux/glibc-heap/house\_of\_force/)
* [https://heap-exploitation.dhavalkapil.com/attacks/house\_of\_force](https://heap-exploitation.dhavalkapil.com/attacks/house\_of\_force)
