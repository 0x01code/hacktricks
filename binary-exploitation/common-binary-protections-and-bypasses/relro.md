# Relro

{% hint style="success" %}
**AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:**<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
**GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:** <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВред

</details>
{% endhint %}

## Relro

**RELRO** рдХрд╛ рдорддрд▓рдм рд╣реИ **Relocation Read-Only**, рдФрд░ рдпрд╣ рдмрд╛рдЗрдирд░реА рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬреЛ **GOT (Global Offset Table)** рдХреЗ overwrite рд╕реЗ рдЬреБрдбрд╝реЗ рдЬреЛрдЦрд┐рдореЛрдВ рдХреЛ рдХрдо рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреА рд╣реИред рдЪрд▓реЛ рдЗрд╕ рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХреЗ рджреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░реЗрдВ: **Partial RELRO** рдФрд░ **Full RELRO**ред

### **Partial RELRO**

**Partial RELRO** рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЕрдкрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдмрд╛рдЗрдирд░реА рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдкреНрд░рднрд╛рд╡ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ред **GOT рдХреЛ рдХрд╛рд░рдкреЛрд░реЗрдЯ рдХрд░рдиреЗ рдФрд░ рднреНрд░рд╖реНрдЯ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП GOT рдХреЛ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреА рдореЗрдореЛрд░реА рдореЗрдВ рдЪрд░рдгреЛрдВ рдХреЗ рдКрдкрд░ рд╕реНрдерд┐рдд рдХрд░рдХреЗ, Partial RELRO рдмрдлрд░ рдУрд╡рд░рдлреНрд▓реЛ рдХреЛ GOT рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдФрд░ рднреНрд░рд╖реНрдЯ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрдиреЗ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд░рдЦрддрд╛ рд╣реИ**ред

рдпрд╣ **GOT рдХреЛ** рдпрд╣ рдирд╣реАрдВ рд░реЛрдХрддрд╛ рд╣реИ **рдХрд┐ рдЗрд╕реЗ** рд╡рд┐рдЪрд╛рд░рд╛рддреНрдордХ рд▓реЗрдЦрди **рдХреА рд╡рд┐рдлрд▓рддрд╛** рд╕реЗ рджреБрд░реБрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПред

### **Full RELRO**

**Full RELRO** рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдмрдврд╝рд╛рддрд╛ рд╣реИ **рдЬрдм GOT рдФрд░ .fini\_array** рдЦрдВрдб рдкреВрд░реА рддрд░рд╣ рд╕реЗ **рдХреЗрд╡рд▓ рдкрдардиреАрдп** рдмрдирд╛ рджреЗрддрд╛ рд╣реИред рдПрдХ рдмрд╛рд░ рдмрд╛рдЗрдирд░реА рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рд╕рднреА рдлрд╝рдВрдХреНрд╢рди рдкрддреЛрдВ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ GOT рдореЗрдВ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдлрд┐рд░, GOT рдХреЛ рдХреЗрд╡рд▓ рдкрдардиреАрдп рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдХрд┐рд╕реА рднреА рд╕рдордп рдХрд┐рд╕реА рднреА рд╕рдВрд╢реЛрдзрди рдХреЛ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рд╣рд╛рд▓рд╛рдВрдХрд┐, Full RELRO рдХреЗ рд╕рд╛рде рд╡реНрдпрд╛рдкрд╛рд░ рдФрд░ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рд╕рдордп рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣реИред рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ GOT рдХреЛ рдкрдардиреАрдп рдмрдирд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░ рдбрд╛рдпрдирд╛рдорд┐рдХ рдкреНрд░рддреАрдХреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, **Full RELRO рд╕рдХреНрд╖рдо рдмрд╛рдЗрдирд░реА рдореЗрдВ рд▓рдВрдмреЗ рд▓реЛрдб рд╕рдордп рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд╕рдХрддреА рд╣реИ**ред рдпрд╣ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдУрд╡рд░рд╣реЗрдб рд╣реИ рдЬрд┐рд╕рдХреА рд╡рдЬрд╣ рд╕реЗ Full RELRO рд╕рднреА рдмрд╛рдЗрдирд░реА рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИред

рдпрд╣ рджреЗрдЦрдирд╛ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдХреНрдпрд╛ Full RELRO рдПрдХ рдмрд╛рдЗрдирд░реА рдореЗрдВ **рд╕рдХреНрд╖рдо** рд╣реИ:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## рдмрд╛рдпрдкрд╛рд╕

рдпрджрд┐ рдкреВрд░реНрдг RELRO рд╕рдХреНрд╖рдо рд╣реИ, рддреЛ рдЙрд╕реЗ рдмрд╛рдпрдкрд╛рд╕ рдХрд░рдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдПрдХ рдФрд░ рддрд░реАрдХрд╛ рдЦреЛрдЬреЗрдВ рдЬрд┐рд╕реЗ рдХрд┐рд╕реА рднреА рдЕрдирд┐рдпрдорд┐рдд рдирд┐рд╖реНрдкрд╛рджрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП GOT рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **LIBC рдХрд╛ GOT рдЖрдо рддреМрд░ рдкрд░ рдЖрдВрд╢рд┐рдХ RELRO** рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдХрд┐рд╕реА рднреА рдЕрдирд┐рдпрдорд┐рдд рд▓реЗрдЦрди рдХреЗ рд╕рд╛рде рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА [рд▓рд┐рдмреНрд╕реА GOT рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рдирд╛](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)** рдореЗрдВред**
