<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks-uitrusting**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-opslagplekke.

</details>
```text
PORT     STATE SERVICE    VERSION
3299/tcp open  saprouter?
```
Hierdie is 'n opsomming van die pos vanaf [https://blog.rapid7.com/2014/01/09/piercing-saprouter-with-metasploit/](https://blog.rapid7.com/2014/01/09/piercing-saprouter-with-metasploit/)


## Begrip van SAProuter Penetrasie met Metasploit

SAProuter tree op as 'n omgekeerde proxy vir SAP-stelsels, hoofsaaklik om toegang tussen die internet en interne SAP-netwerke te beheer. Dit word gewoonlik blootgestel aan die internet deur TCP-poort 3299 toe te laat deur organisatoriese vuurmuure. Hierdie opstelling maak SAProuter 'n aantreklike teiken vir penetrasietoetsing omdat dit as 'n toegangspoort tot ho√´waardige interne netwerke kan dien.

**Skandering en Inligting Versameling**

Aanvanklik word 'n skandering uitgevoer om te bepaal of 'n SAP-router op 'n gegewe IP hardloop deur die **sap_service_discovery**-module te gebruik. Hierdie stap is noodsaaklik om die teenwoordigheid van 'n SAP-router en sy oop poort te bevestig.
```text
msf> use auxiliary/scanner/sap/sap_service_discovery
msf auxiliary(sap_service_discovery) > set RHOSTS 1.2.3.101
msf auxiliary(sap_service_discovery) > run
```
Na die ontdekking word verdere ondersoek na die SAP-router se konfigurasie uitgevoer met die **sap_router_info_request**-module om moontlik interne netwerkbesonderhede bloot te l√™.
```text
msf auxiliary(sap_router_info_request) > use auxiliary/scanner/sap/sap_router_info_request
msf auxiliary(sap_router_info_request) > set RHOSTS 1.2.3.101
msf auxiliary(sap_router_info_request) > run
```
**Opnoem van Interne Dienste**

Met verkrygte interne netwerk-insigte, word die **sap_router_portscanner**-module gebruik om interne gasheerstelsels en dienste deur die SAProuter te ondersoek, wat 'n dieper begrip van interne netwerke en dienskonfigurasies moontlik maak.
```text
msf auxiliary(sap_router_portscanner) > set INSTANCES 00-50
msf auxiliary(sap_router_portscanner) > set PORTS 32NN
```
Hierdie module se buigsaamheid om spesifieke SAP-instanties en poorte te teiken, maak dit 'n effektiewe instrument vir gedetailleerde interne netwerkverkenning.

**Gevorderde Opsomming en ACL-mapping**

Verdere skandering kan onthul hoe Toegangsbeheerlyste (ACL's) gekonfigureer is op die SAProuter, wat besonderhede verskaf oor watter verbindinge toegelaat of geblokkeer word. Hierdie inligting is van kardinale belang vir die verstaan van sekuriteitsbeleide en potensi√´le kwesbaarhede.
```text
msf auxiliary(sap_router_portscanner) > set MODE TCP
msf auxiliary(sap_router_portscanner) > set PORTS 80,32NN
```
**Blind Enumerasie van Interne Gasheer**

In scenario's waar direkte inligting van die SAProuter beperk is, kan tegnieke soos blind enumerasie toegepas word. Hierdie benadering probeer raai en verifieer die bestaan van interne gasheernommers, wat potensi√´le teikens onthul sonder direkte IP-adresse.

**Benutting van Inligting vir Pentesting**

Nadat die netwerk in kaart gebring is en toeganklike dienste ge√Ødentifiseer is, kan pentesters Metasploit se proksi-vermo√´ns gebruik om deur die SAProuter te draai vir verdere ondersoek en uitbuiting van interne SAP-dienste.
```text
msf auxiliary(sap_hostctrl_getcomputersystem) > set Proxies sapni:1.2.3.101:3299
msf auxiliary(sap_hostctrl_getcomputersystem) > set RHOSTS 192.168.1.18
msf auxiliary(sap_hostctrl_getcomputersystem) > run
```
**Gevolgtrekking**

Hierdie benadering beklemtoon die belangrikheid van veilige SAProuter-konfigurasies en beklemtoon die potensiaal om toegang tot interne netwerke te verkry deur middel van doelgerigte penetrasietoetse. Dit is van kritieke belang om SAP-routers behoorlik te beveilig en hul rol in netwerksekuriteitsargitektuur te verstaan om teen ongemagtigde toegang te beskerm.

Vir meer gedetailleerde inligting oor Metasploit-modules en hul gebruik, besoek [Rapid7 se databasis](http://www.rapid7.com/db).


## **Verwysings**

* [https://www.rapid7.com/blog/post/2014/01/09/piercing-saprouter-with-metasploit/](https://www.rapid7.com/blog/post/2014/01/09/piercing-saprouter-with-metasploit/)

## Shodan

* `port:3299 !HTTP Network packet too big`



<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks-uitrusting**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslagplekke.

</details>
