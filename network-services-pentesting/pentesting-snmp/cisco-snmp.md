# Cisco SNMP

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* ¿Trabajas en una **empresa de ciberseguridad**? ¿Quieres ver tu **empresa anunciada en HackTricks**? ¿O quieres tener acceso a la **última versión de PEASS o descargar HackTricks en PDF**? ¡Consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colección exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtén la [**ropa oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* **Únete al** [**💬**](https://emojipedia.org/speech-balloon/) [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **sígueme** en **Twitter** **🐦**[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Comparte tus trucos de hacking enviando PRs al [repositorio de hacktricks](https://github.com/carlospolop/hacktricks) y al [repositorio de hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

# Pentesting en Redes Cisco

SNMP es un protocolo utilizado para monitorear el estado de dispositivos en una red informática. Opera en el protocolo de capa de transporte UDP con los números de puerto 161/UDP y 162/UDP.

SNMP emplea cadenas de comunidad, que actúan como contraseñas para la comunicación entre agentes SNMP y servidores. Estas cadenas de comunidad otorgan permisos de **solo lectura (RO) o lectura-escritura (RW)**. Los pentesters pueden explotar SNMP mediante **fuerza bruta en las cadenas de comunidad** para obtener acceso al equipamiento de red.

Para realizar un ataque de fuerza bruta en las cadenas de comunidad, es posible utilizar **[onesixtyone](https://github.com/trailofbits/onesixtyone)**. Esta herramienta requiere un diccionario para la fuerza bruta y las direcciones IP de los hosts objetivo:
```bash
onesixtyone -c communitystrings -i targets
```
Si se descubren las **cadenas de comunidad**, se vuelve posible una mayor explotación.

### `cisco_config_tftp`

Utilizando el módulo `cisco_config_tftp` en el framework Metasploit, la **configuración del dispositivo** puede ser extraída al conocer el valor de la cadena de comunidad. Se requiere la cadena de comunidad con permisos de lectura-escritura (RW).

Los siguientes parámetros son necesarios:

- Cadena de comunidad RW (COMMUNITY)
- Dirección IP del atacante (LHOST)
- Dirección IP del equipo objetivo (RHOSTS)
- Ruta para el directorio de salida de la configuración del dispositivo (OUTPUTDIR)

Después de configurar el módulo, se puede iniciar la explotación. La configuración del host con la dirección IP especificada se descargará en la carpeta designada.

### `snmp_enum`

El módulo **`snmp_enum` en el framework Metasploit permite la obtención de información sobre el hardware objetivo**. Similar al módulo anterior, se requiere el parámetro COMMUNITY (incluso una cadena con permisos de solo lectura) y la dirección IP del dispositivo objetivo:
```bash
msf6 auxiliary(scanner/snmp/snmp_enum) > set COMMUNITY public
msf6 auxiliary(scanner/snmp/snmp_enum) > set RHOSTS 10.10.100.10
msf6 auxiliary(scanner/snmp/snmp_enum) > exploit
```
# Referencias
* [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* ¿Trabajas en una **empresa de ciberseguridad**? ¿Quieres ver tu **empresa anunciada en HackTricks**? ¿O quieres tener acceso a la **última versión de PEASS o descargar HackTricks en PDF**? ¡Consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colección exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtén el [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Únete al** [**💬**](https://emojipedia.org/speech-balloon/) [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **sígueme en** **Twitter** **🐦**[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Comparte tus trucos de hacking enviando PRs al [repositorio hacktricks](https://github.com/carlospolop/hacktricks) y al [repositorio hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
