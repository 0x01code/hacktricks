# Cisco SNMP

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* Travaillez-vous dans une **entreprise de cybersécurité**? Voulez-vous voir votre **entreprise annoncée dans HackTricks**? ou voulez-vous avoir accès à la **dernière version du PEASS ou télécharger HackTricks en PDF**? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* Découvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**💬**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** **🐦**[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux dépôts [hacktricks](https://github.com/carlospolop/hacktricks) et [hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

# Pentesting Cisco Networks

SNMP est un protocole utilisé pour surveiller l'état des appareils sur un réseau informatique. Il fonctionne sur le protocole de couche de transport UDP avec les numéros de port 161/UDP et 162/UDP.

SNMP utilise des chaînes de communauté, qui agissent comme des mots de passe pour la communication entre les agents SNMP et les serveurs. Ces chaînes de communauté accordent soit des autorisations **en lecture seule (RO) ou en lecture-écriture (RW)**. Les testeurs d'intrusion peuvent exploiter SNMP en **forcant les chaînes de communauté** pour accéder aux équipements réseau.

Pour effectuer une attaque par force brute sur les chaînes de communauté, il est possible d'utiliser **[onesixtyone](https://github.com/trailofbits/onesixtyone)**. Cet outil nécessite un dictionnaire pour la force brute et les adresses IP des hôtes cibles:
```bash
onesixtyone -c communitystrings -i targets
```
Si les **chaînes de communauté sont découvertes**, une exploitation plus poussée devient possible.

### `cisco_config_tftp`

En utilisant le module `cisco_config_tftp` dans le framework Metasploit, la **configuration de l'appareil** peut être extraite en connaissant la valeur de la chaîne de communauté. La chaîne de communauté avec des autorisations de **lecture-écriture (RW) est requise**.

Les paramètres suivants sont nécessaires :

- Chaîne de communauté RW (COMMUNITY)
- Adresse IP de l'attaquant (LHOST)
- Adresse IP de l'équipement cible (RHOSTS)
- Chemin du répertoire de sortie de la configuration de l'appareil (OUTPUTDIR)

Après avoir configuré le module, l'exploit peut être lancé. La configuration de l'hôte avec l'adresse IP spécifiée sera téléchargée dans le dossier désigné.

### `snmp_enum`

Le module **`snmp_enum` dans le framework Metasploit permet de récupérer des informations sur le matériel cible**. Tout comme le module précédent, le paramètre COMMUNITY (même une chaîne avec des autorisations en lecture seule) et l'adresse IP de l'appareil cible sont requis :
```bash
msf6 auxiliary(scanner/snmp/snmp_enum) > set COMMUNITY public
msf6 auxiliary(scanner/snmp/snmp_enum) > set RHOSTS 10.10.100.10
msf6 auxiliary(scanner/snmp/snmp_enum) > exploit
```
# Références
* [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* Travaillez-vous dans une **entreprise de cybersécurité**? Vous voulez voir votre **entreprise annoncée dans HackTricks**? ou voulez-vous avoir accès à la **dernière version du PEASS ou télécharger HackTricks en PDF**? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* Découvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**💬**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** **🐦**[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR au [dépôt hacktricks](https://github.com/carlospolop/hacktricks) et [dépôt hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
