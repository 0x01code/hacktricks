<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

- **サイバーセキュリティ企業**で働いていますか？ **HackTricksで会社を宣伝**したいですか？または、**最新バージョンのPEASSを入手したり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけてください。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです。

- [**公式のPEASS＆HackTricks swag**](https://peass.creator-spring.com)を手に入れましょう。

- [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter**で**フォロー**してください[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**。**

- **ハッキングのトリックを共有するには、[hacktricks repo](https://github.com/carlospolop/hacktricks)と[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**にPRを提出してください。

</details>


# ツール（sqlplus）とOracle MSFモジュールを使用するために必要なライブラリのインストール

_（このインストールガイドはバージョン12.1.0.1.0用に作成されました。ダウンロードするバージョンに合わせて名前を変更してください）_

rootとして、ディレクトリ`/opt/oracle`を作成します。次に、Kali Linuxのバージョンに合わせて[Oracle Instant Client](http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html)パッケージをダウンロードします。必要なパッケージは次のとおりです。

* instantclient-basic-linux-12.1.0.1.0.zip
* instantclient-sqlplus-linux-12.1.0.1.0.zip
* instantclient-sdk-linux-12.1.0.1.0.zip

これらを`/opt/oracle`に解凍し、`/opt/oracle/instantclient_12_1/`というパスが作成されます。次に、Oracleからライブラリにアクセスするために必要な共有ライブラリにシンボリックリンクを作成します。
```
# ln libclntsh.so.12.1 libclntsh.so
# ls -lh libclntsh.so
lrwxrwxrwx 1 root root 17 Jun  1 15:41 libclntsh.so -> libclntsh.so.12.1
# ldconfig
```
適切な環境変数を設定する必要もあります。以下を次のいずれかに追加してください。

* \~/.bashrc
* /etc/profile
```
export PATH=$PATH:/opt/oracle/instantclient_12_1
export SQLPATH=/opt/oracle/instantclient_12_1
export TNS_ADMIN=/opt/oracle/instantclient_12_1
export LD_LIBRARY_PATH=/opt/oracle/instantclient_12_1
export ORACLE_HOME=/opt/oracle/instantclient_12_1
```
Oracleライブラリをldconfigに追加します。
```
echo "/opt/oracle/instantclient_12_1/" >> /etc/ld.so.conf.d/99_oracle
```
成功した場合、コマンドプロンプトから `sqlplus` を実行できるはずです **（ログアウトして再ログインする必要があるかもしれません）**：
```
sqlplus <username>/<password>@<ip_address>/<SID>;
```
## **ステップ2 - Ruby Gem ruby-oci8のインストール**

_これらの手順は、MetasploitのOracleモジュールを使用するために必要です_

**他のOSの依存関係をインストールする：**
```
apt-get install libgmp-dev
```
**ruby-oci8のコンパイルとインストール（root）**

```bash
# Rubyのバージョンを確認
ruby -v

# 必要なパッケージをインストール
sudo apt-get install ruby-dev libaio-dev

# ruby-oci8をダウンロード
wget https://github.com/kubo/ruby-oci8/archive/ruby-oci8-2.2.10.tar.gz

# ダウンロードしたファイルを展開
tar zxvf ruby-oci8-2.2.10.tar.gz

# 展開したディレクトリに移動
cd ruby-oci8-ruby-oci8-2.2.10

# ruby-oci8をコンパイル
ruby extconf.rb

# コンパイルされたファイルをビルド
make

# ビルドされたファイルをインストール
sudo make install
```

以上の手順で、ruby-oci8をコンパイルしてインストールすることができます。
```
wget https://github.com/kubo/ruby-oci8/archive/ruby-oci8-2.1.8.zip
unzip ruby-oci8-2.1.8.zip
cd ruby-oci8-ruby-oci8-2.1.8/
```

```
make
make install
gem install ruby-oci8
```
msfconsoleを再起動します（またはコンピュータを再起動します）。


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

- **サイバーセキュリティ企業で働いていますか？** **HackTricksで会社を宣伝**したいですか？または、**PEASSの最新バージョンにアクセスしたり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見しましょう。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです。

- [**公式のPEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を手に入れましょう。

- [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter**で**フォロー**してください[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**。**

- **ハッキングのトリックを共有するには、[hacktricksリポジトリ](https://github.com/carlospolop/hacktricks)と[hacktricks-cloudリポジトリ](https://github.com/carlospolop/hacktricks-cloud)**にPRを提出してください。

</details>
