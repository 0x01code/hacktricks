<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**The PEASS Family**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa kipekee wa [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwenye** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>


# Taarifa za Itifaki

**BACnet** ni **itifaki ya mawasiliano** kwa mitandao ya Ujenzi na Udhibiti (BAC) ambayo inatumia itifaki ya kiwango cha **ASHRAE**, **ANSI**, na **ISO 16484-5**. Inarahisisha mawasiliano kati ya mifumo ya kudhibiti na udhibiti wa majengo, ikiruhusu matumizi kama udhibiti wa HVAC, udhibiti wa taa, udhibiti wa ufikiaji, na mifumo ya kugundua moto kubadilishana habari. BACnet inahakikisha uwezo wa kufanya kazi pamoja na inaruhusu vifaa vya kiotomatiki vya udhibiti wa majengo kuwasiliana, bila kujali huduma maalum wanazotoa.

**Bandari ya chaguo-msingi:** 47808
```text
PORT      STATE SERVICE
47808/udp open  BACNet -- Building Automation and Control NetworksEnumerate
```
# Uchambuzi

## Kwa Mkono

### 1. Kugundua Huduma ya BACnet

BACnet ni itifaki ya mawasiliano ya mitandao inayotumiwa katika mifumo ya kudhibiti jengo. Kwa kugundua huduma ya BACnet, unaweza kutumia zana kama Wireshark au tcpdump kusikiliza trafiki ya mtandao na kutafuta ujumbe wa BACnet. Unaweza pia kutumia zana kama Nmap kugundua huduma ya BACnet kwa kutuma pakiti za UDP kwenye bandari ya 47808.

### 2. Kuchunguza Vifaa vya BACnet

Baada ya kugundua huduma ya BACnet, unaweza kutumia zana kama BACnet Scanner kuchunguza vifaa vya BACnet vilivyopo kwenye mtandao. Zana hii itakusaidia kupata anwani za IP za vifaa vya BACnet, majina ya vifaa, na habari nyingine muhimu.

### 3. Kuchunguza Huduma za BACnet

Baada ya kuchunguza vifaa vya BACnet, unaweza kutumia zana kama BACnet Object Scanner kuchunguza huduma zinazopatikana kwenye vifaa hivyo. Zana hii itakusaidia kupata habari kuhusu vitu vya BACnet vilivyopo kwenye vifaa, kama vile sensorer, vituo vya kudhibiti, na vifaa vingine.

### 4. Kuchunguza Makosa ya Usalama

Wakati wa kuchunguza vifaa na huduma za BACnet, ni muhimu pia kuchunguza makosa ya usalama ambayo yanaweza kuwepo. Unaweza kutumia zana kama BACnet Vulnerability Scanner kuchunguza makosa ya usalama kwenye vifaa na huduma za BACnet. Zana hii itakusaidia kugundua udhaifu kama vile upatikanaji wa umma wa vifaa, udhaifu wa usimbuaji, au udhaifu wa uthibitishaji.

### 5. Kuchunguza Ufikiaji wa Mbali

Ikiwa unataka kuchunguza ufikiaji wa mbali kwenye vifaa vya BACnet, unaweza kutumia zana kama BACnet Exploitation Framework. Zana hii itakusaidia kuchunguza na kuchunguza udhaifu wa usalama ambao unaweza kuruhusu mtu mwingine kudhibiti vifaa vya BACnet kutoka umbali.

### 6. Kuchunguza Uvuvi wa BACnet

Uvuvi wa BACnet ni mbinu ya kudanganya ambapo mtu anajaribu kupata habari nyeti au kudhibiti vifaa vya BACnet kwa kutumia mbinu za kijamii. Unaweza kutumia zana kama BACnet Phishing Toolkit kuchunguza na kuzuia uvuvi wa BACnet kwenye mtandao wako.

### 7. Kuchunguza Uvujaji wa Habari

Wakati wa kuchunguza vifaa na huduma za BACnet, ni muhimu pia kuchunguza uvujaji wa habari ambao unaweza kutokea. Unaweza kutumia zana kama BACnet Information Leakage Scanner kuchunguza uvujaji wa habari kwenye vifaa na huduma za BACnet. Zana hii itakusaidia kugundua habari nyeti ambayo inaweza kuvuja kupitia huduma za BACnet.
```bash
pip3 install BAC0
import BAC0
bbmdIP = '<IP>:47808'
bbmdTTL = 900
bacnet = BAC0.connect(bbmdAddress=bbmdIP, bbmdTTL=bbmdTTL) #Connect
bacnet.vendorName.strValue
#I couldn't find how to obtain the same data as nmap with this library or any other
#talk me if you know how please
```
## Kiotomatiki

BACnet ni itifaki ya mawasiliano ya mtandao iliyoundwa kwa ajili ya kudhibiti na kusimamia mifumo ya ujenzi. Inatumia UDP (User Datagram Protocol) kwa usafirishaji wa data. Kwa sababu ya sifa yake ya kutokuwa na hali, BACnet inaweza kuwa hatari kwa usalama wa mifumo ya ujenzi.

Kuna zana kadhaa za kiotomatiki zinazopatikana kwa ajili ya kuchunguza na kudukua mifumo ya BACnet. Zana hizi zinaweza kugundua vifaa vya BACnet kwenye mtandao na kutoa habari muhimu kama vile anwani za IP, vitambulisho vya vifaa, na huduma zinazopatikana.

Baadhi ya zana hizi zinaweza pia kufanya majaribio ya kudukua kwa kutumia mbinu kama vile kujaribu kuingia kwa kutumia maneno ya siri dhaifu au kujaribu kufanya shambulio la kuchapisha kwa kuchapisha ujumbe wa uwongo kwenye vifaa vya BACnet.

Ni muhimu kwa wataalamu wa usalama kufahamu zana hizi za kiotomatiki na jinsi ya kuzitumia kwa ufanisi ili kuchunguza na kurekebisha mapungufu ya usalama katika mifumo ya BACnet. Kwa kufanya hivyo, wanaweza kuzuia shambulio la kudukua na kuhakikisha usalama wa mifumo ya ujenzi.
```bash
nmap --script bacnet-info --script-args full=yes -sU -n -sV -p 47808 <IP>
```
Hati hii haijaribu kujiunga na mtandao wa BACnet kama kifaa cha kigeni, badala yake inatuma maombi ya BACnet moja kwa moja kwa kifaa kinachoweza kufikiwa kupitia anwani ya IP.

## Shodan

* `port:47808 instance`
* `"Instance ID" "Vendor Name"`



<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka mwanzo hadi kuwa bingwa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi wa PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**The PEASS Family**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwenye** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
