# 11211 - Memcache рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛред**

</details>

## рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЬрд╛рдирдХрд╛рд░реА

**Memcached** (рдЙрдЪреНрдЪрд╛рд░рдг: рдореЗрдо-рдХреИрд╢реНрдб, рдореЗрдо-рдХреИрд╢-рдбреА) рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЙрджреНрджрд┐рд╖реНрдЯ рд╡рд┐рддрд░рд┐рдд [рдореЗрдореЛрд░реА рдХреИрд╢рд┐рдВрдЧ](https://en.wikipedia.org/wiki/Memory\_caching) рд╕рд┐рд╕реНрдЯрдо рд╣реИред рдпрд╣ рдЕрдХреНрд╕рд░ рдбрд╛рдЯрд╛рдмреЗрд╕-рдЪрд╛рд▓рд┐рдд рд╡реЗрдмрд╕рд╛рдЗрдЯреЛрдВ рдХреЛ рддреЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рдФрд░ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ RAM рдореЗрдВ рдХреИрд╢ рдХрд░рдХреЗ рдмрд╛рд░-рдмрд╛рд░ рдПрдХ рдмрд╛рд╣рд░реА рдбреЗрдЯрд╛ рд╕реНрд░реЛрдд (рдЬреИрд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдпрд╛ API) рдХреЛ рдкрдврд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред (рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ рд╕реЗ) \
рд╣рд╛рд▓рд╛рдВрдХрд┐, Memcached SASL рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХрд╛рдВрд╢ рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрдЬрд╝ рдмрд┐рдирд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ **рдЙрдЬрд╛рдЧрд░ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ**ред

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ:** 11211
```
PORT      STATE SERVICE
11211/tcp open  unknown
```
## рдЬрд╛рдВрдЪ

### рдореИрдиреНрдпреБрдЕрд▓

Memcache рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдореЗрдВ рд╕рд╣реЗрдЬреА рдЧрдИ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреА рд╣реЛрдЧреА:

1. **рд╕рдХреНрд░рд┐рдп рдЖрдЗрдЯрдо** рд╡рд╛рд▓реЗ **рд╕реНрд▓реИрдмреНрд╕** рдвреВрдВрдвреЗрдВ
2. рдкрд╣рд▓реЗ рдкрддрд╛ рд▓рдЧрд╛рдП рдЧрдП рд╕реНрд▓реИрдмреНрд╕ рдХреЗ **рдХреБрдВрдЬреА рдирд╛рдо** рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
3. **рдХреБрдВрдЬреА рдирд╛рдо** рдкреНрд░рд╛рдкреНрдд рдХрд░рдХреЗ рд╕рд╣реЗрдЬреЗ рдЧрдП **рдбреЗрдЯрд╛** рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрд╣ рд╕реЗрд╡рд╛ рдХреЗрд╡рд▓ рдПрдХ **рдХреИрд╢** рд╣реИ, рдЗрд╕рд▓рд┐рдП **рдбреЗрдЯрд╛ рджрд┐рдЦрд╛рдИ рджреЗ рд░рд╣рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЧрд╛рдпрдм рд╣реЛ рд╕рдХрддрд╛ рд╣реИ**ред
```bash
echo "version" | nc -vn -w 1 <IP> 11211      #Get version
echo "stats" | nc -vn -w 1 <IP> 11211        #Get status
echo "stats slabs" | nc -vn -w 1 <IP> 11211  #Get slabs
echo "stats items" | nc -vn -w 1 <IP> 11211  #Get items of slabs with info
echo "stats cachedump <number> 0" | nc -vn -w 1 <IP> 11211  #Get key names (the 0 is for unlimited output size)
echo "get <item_name>" | nc -vn -w 1 <IP> 11211  #Get saved info

#This php will just dump the keys, you need to use "get <item_name> later"
sudo apt-get install php-memcached
php -r '$c = new Memcached(); $c->addServer("localhost", 11211); var_dump( $c->getAllKeys() );'
```
# рдореИрдиреБрдЕрд▓2

рдЗрд╕ рдореИрдиреБрдЕрд▓ рдореЗрдВ, рд╣рдо рдореЗрдордХреИрд╢ (Memcache) рд╕рд░реНрд╡рд┐рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдЗрд╕рдХреЗ рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рддрдХрдиреАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗред

## рдореЗрдордХреИрд╢ рдХреНрдпрд╛ рд╣реИ?

рдореЗрдордХреИрд╢ рдПрдХ рдЦреБрджрд░рд╛ рдХреБрдВрдЬреА-рдорд╛рди рдбреЗрдЯрд╛рдмреЗрд╕ рд╣реИ рдЬреЛ рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдбреЗрдЯрд╛рдмреЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдЗрди-рдореЗрдореЛрд░реА рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рддреЗрдЬреА рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдореЗрдордХреИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдХреНрд╡реЗрд░реА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд╡реЗрд░реА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред

## рдореЗрдордХреИрд╢ рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ

рдореЗрдордХреИрд╢ рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХрд╛ рдорддрд▓рдм рд╣реИ рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ред рдЗрд╕рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд╣реИ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦрдирд╛ рдФрд░ рдХрд┐рд╕реА рднреА рдЕрдирдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдбреЗрдЯрд╛ рдХрд╛ рдЕрд╡реИрдз рдЙрдкрдпреЛрдЧ рд░реЛрдХрдирд╛ред

рдореЗрдордХреИрд╢ рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рджреМрд░рд╛рди, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

- рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛
- рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреА рдкреНрд░рд╛рдкреНрддрд┐ рдХрд░рдирд╛
- рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреЛ рд╕реЗрдЯ рдХрд░рдирд╛
- рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреЛ рд╣рдЯрд╛рдирд╛
- рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдХреАрд╡рд░реНрдб рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рдХреА рдкреНрд░рд╛рдкреНрддрд┐ рдХрд░рдирд╛
- рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреИрдЯрд┐рд╕реНрдЯрд┐рдХреНрд╕ рдХреА рдкреНрд░рд╛рдкреНрддрд┐ рдХрд░рдирд╛

рдЗрди рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рд╣рдо рдореЗрдордХреИрд╢ рд╕рд░реНрд╡рд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдХрд┐рд╕реА рднреА рд╕рдВрднрд╛рд╡рд┐рдд рдЕрдиреБрдЪрд┐рдд рдЙрдкрдпреЛрдЧ рдХреЛ рд░реЛрдХ рд╕рдХрддреЗ рд╣реИрдВред
```bash
sudo apt install libmemcached-tools
memcstat --servers=127.0.0.1 #Get stats
memcdump --servers=127.0.0.1 #Get all items
memccat  --servers=127.0.0.1 <item1> <item2> <item3> #Get info inside the item(s)
```
### рд╕реНрд╡рдЪрд╛рд▓рд┐рдд

Memcached рд╕реЗрд╡рд╛ рдХреЛ рд╣реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рддрд░реАрдХреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрд╣ рдЖрдкрдХреЛ рдмрд╣реБрдд рд╕рдордп рдФрд░ рдореЗрд╣рдирдд рдмрдЪрд╛ рд╕рдХрддрд╛ рд╣реИред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ:

1. рдЖрдкрдХреЛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЯреВрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА рдЬреЛ Memcached рд╕реЗрд╡рд╛ рдХреЛ рд╣реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЖрдкрдХреЗ рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрд╢рди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЖрдкрдХреЛ рдЗрд╕ рдЯреВрд▓ рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

2. рдПрдХ рдмрд╛рд░ рдЯреВрд▓ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛:

```
memcrashed.py <target-ip> <target-port>
```

рдпрд╣ рдХрдорд╛рдВрдб рдЯрд╛рд░рдЧреЗрдЯ IP рдФрд░ рдкреЛрд░реНрдЯ рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ Memcached рд╕реЗрд╡рд╛ рдХреЛ рд╣реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рддрд╛ рд╣реИред

3. рдЗрд╕рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдЗрдВрддрдЬрд╛рд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдЬрдм рддрдХ рдХрд┐ рдЯреВрд▓ Memcached рд╕реЗрд╡рд╛ рдХреЛ рд╣реИрдХ рди рдХрд░ рджреЗ рдпрд╛ рддреНрд░реБрдЯрд┐ рди рджреЗред рдЬрдм рдЯреВрд▓ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдЧрд╛, рддреЛ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдЧреАред

рдЗрд╕ рддрд░реАрдХреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ Memcached рд╕реЗрд╡рд╛ рдХреЛ рд╣реИрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдЖрдкрдХреЛ рдмрд╣реБрдд рд╕рдордп рдФрд░ рдореЗрд╣рдирдд рдмрдЪрд╛ рд╕рдХрддрд╛ рд╣реИред
```bash
nmap -n -sV --script memcached-info -p 11211 <IP>   #Just gather info
msf > use auxiliary/gather/memcached_extractor      #Extracts saved data
msf > use auxiliary/scanner/memcached/memcached_amp #Check is UDP DDoS amplification attack is possible
```
## Memcache рдХреА рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдирд╛ <a href="#dumping-memcache-keys" id="dumping-memcache-keys"></a>

**рдпрджрд┐ рдЖрдкрдХрд╛ memcached рд╕рдВрд╕реНрдХрд░рдг 1.4.31 рд╕реЗ рдКрдкрд░ рд╣реИ, рддреЛ рдЕрдЧрд▓реЗ рдЦрдВрдб рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдиреНрдирдд рд╡рд┐рдзрд┐ рдХреЗ рд▓рд┐рдП рдкрдврд╝реЗрдВред**

рдореЗрдордХреИрд╢ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ [рдХрдорд╛рдВрдб](https://lzone.de/articles/memcached.htm) рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╕реНрд▓реИрдмреНрд╕ (рджрд┐рдП рдЧрдП рдЖрдХрд╛рд░ рд░реЗрдВрдЬ рдХреЗ рдбреЗрдЯрд╛ рдХреЗ рд╢реНрд░реЗрдгрд┐рдпрд╛рдБ) рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЧрдард┐рдд рдбреЗрдЯрд╛ рдореЗрдВ рдЭрд╛рдВрдХрдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рд╣реЛрддреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреБрдЫ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реАрдорд╛рдПрдВ рд╣реИрдВ:

1. рдЖрдк рдХреЗрд╡рд▓ рд╕реНрд▓реИрдм рдХрдХреНрд╖рд╛ рдкреНрд░рддрд┐ рдХреБрдВрдЬреА рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рд▓рдЧрднрдЧ рдПрдХ рд╣реА рд╕рд╛рдордЧреНрд░реА рдХреЗ рдЖрдХрд╛рд░ рд╡рд╛рд▓реА рдХреБрдВрдЬреА)
2. рдЖрдк рдХреЗрд╡рд▓ рд╕реНрд▓реИрдм рдХрдХреНрд╖рд╛ рдкреНрд░рддрд┐ рдПрдХ рдкреЗрдЬ рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (1MB рдХрд╛ рдбреЗрдЯрд╛)
3. рдпрд╣ рдПрдХ рдЕрдиреМрдкрдЪрд╛рд░рд┐рдХ рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬрд┐рд╕реЗ [рдХрднреА рднреА рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред](https://groups.google.com/forum/?fromgroups=#!topic/memcached/1-T8I-RVGKM)

рджреВрд╕рд░реА рд╕реАрдорд╛ рд╕рдВрднрд╡рддрдГ рд╕рдмрд╕реЗ рдХрдард┐рди рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдХрдИ рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рдХреЗ 1MB рдХрд╛ рдХреБрдЫ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред рдлрд┐рд░ рднреА, рдпрд╣ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдЕрдкрдиреА рдХреБрдВрдЬреАрдпреЛрдВ рдХреЗ рдПрдХ рд╕рдмрд╕реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░рддреЗ рд╣реИрдВ рджреЗрдЦреЗрдВред рд▓реЗрдХрд┐рди рдпрд╣ рдЖрдкрдХреЗ рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓реЗ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ рдЖрдкрдХреЛ рддрдХрдиреАрдХреА рд╡рд┐рд╡рд░рдгреЛрдВ рдХреА рдкрд░рд╡рд╛рд╣ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рд╕рдм рдХреБрдЫ рдбрдВрдк рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╡рд╛рд▓реЗ [рдЙрдкрдХрд░рдг рдЦрдВрдб](https://lzone.de/cheat-sheet/memcached#tools) рдкрд░ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЫреЛрдбрд╝ рджреЗрдВред рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ рдФрд░ рдЕрдкрдиреЗ memcached рд╕реЗрдЯрдЕрдк рдХреЗ рдЦрд┐рд▓рд╛рдл [telnet рдХрд╛ рдЙрдкрдпреЛрдЧ](https://lzone.de/articles/memcached.htm) рдХрд░рдХреЗ рдХрдорд╛рдВрдб рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред **рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ** рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдпрд╣ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдореЗрдордХреИрд╢ рдЕрдкрдиреА рдореЗрдореЛрд░реА рдХреЛ рдХреИрд╕реЗ рд╕рдВрдЧрдард┐рдд рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ рдЖрдк рдореЗрдордХреИрд╢ рдХреЛ рд╡рд┐рдХрд▓реНрдк " -vv " рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЙрд╕реЗ рдмрдирд╛рдиреЗ рд╡рд╛рд▓реА рд╕реНрд▓реИрдм рдХрдХреНрд╖рд╛рдПрдВ рджреЗрдЦреЗрдВрдЧреЗред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП
```
$ memcached -vv
slab class   1: chunk size        96 perslab   10922
slab class   2: chunk size       120 perslab    8738
slab class   3: chunk size       152 perslab    6898
slab class   4: chunk size       192 perslab    5461
[...]
```
рдЙрдкрд░реЛрдХреНрдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдореЗрдордХреИрд╢ 1MB рдХреЗ рдПрдХрд▓ рд╕реНрд▓реИрдм рдореЗрдВ 121 рдФрд░ 152 рдмрд╛рдЗрдЯ рдХреЗ рдмреАрдЪ 6898 рдбреЗрдЯрд╛ рдкреАрд╕ рд░рдЦреЗрдЧрд╛ (6898\*152). рд╕рднреА рд╕реНрд▓реИрдмреНрд╕ 1MB рдХреЗ рдЖрдХрд╛рд░ рдореЗрдВ рд╣реЛрддреЗ рд╣реИрдВред рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдореМрдЬреВрдж рд╕рднреА рд╕реНрд▓реИрдмреНрд╕ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:
```
stats slabs
```
рдпрджрд┐ рдЖрдкрдиреЗ рдЦрд╛рд▓реА рдореЗрдордХреИрд╢ 1.4.13 рдореЗрдВ рдПрдХ рдПрдХрд▓ рдХреБрдВрдЬреА рдЬреЛрдбрд╝реА рд╣реИ, рддреЛ
```
set mykey 0 60 1
1
STORED
```
рдЕрдм рдЖрдк "stats slabs" рдХрдорд╛рдВрдб рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВрдЧреЗ:
```
stats slabs
STAT 1:chunk_size 96
STAT 1:chunks_per_page 10922
STAT 1:total_pages 1
STAT 1:total_chunks 10922
STAT 1:used_chunks 1
STAT 1:free_chunks 0
STAT 1:free_chunks_end 10921
STAT 1:mem_requested 71
STAT 1:get_hits 0
STAT 1:cmd_set 2
STAT 1:delete_hits 0
STAT 1:incr_hits 0
STAT 1:decr_hits 0
STAT 1:cas_hits 0
STAT 1:cas_badval 0
STAT 1:touch_hits 0
STAT active_slabs 1
STAT total_malloced 1048512
END
```
рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдПрдХ рд╕рдХреНрд░рд┐рдп рд╕реНрд▓реИрдм рдкреНрд░рдХрд╛рд░ #1 рд╣реИред рд╣рдорд╛рд░реА рдХреБрдВрдЬреА рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рдЗрдЯ рдмрдбрд╝реА рд╣реЛрдиреЗ рдХреЗ рдХрд╛рд░рдг рдЗрд╕рдореЗрдВ рд╕рдмрд╕реЗ рдЫреЛрдЯреА рд╕рдВрднрд╛рд╡рд┐рдд рдЪрдВрдХ рдЖрдХрд╛рд░ рдореЗрдВ рдлрд┐рдЯ рд╣реЛрддреА рд╣реИред рд╕реНрд▓реИрдм рдЖрдВрдХрдбрд╝реЗ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ рдХрд┐ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╕реНрд▓реИрдм рдХреНрд▓рд╛рд╕ рдХреЗ рдХреЗрд╡рд▓ рдПрдХ рдкреЗрдЬ рдореМрдЬреВрдж рд╣реИ рдФрд░ рдХреЗрд╡рд▓ рдПрдХ рдЪрдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред **рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдкреНрд░рддреНрдпреЗрдХ рд▓реЗрдЦрди рд╕рдВрдЪрд╛рд▓рди (рд╕реЗрдЯ, рдЗрдВрдХреНрд░реАрдореЗрдВрдЯ, рдбрд┐рдХреНрд░реАрдореЗрдВрдЯ, рдХреИрд╕, рдЯрдЪ) рдФрд░ рдЧреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдЧрд┐рдирддреА рджрд┐рдЦрд╛рддрд╛ рд╣реИред рдЗрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк рд╣рд┐рдЯ рдЕрдиреБрдкрд╛рдд рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ!** рдЖрдк "рд╕реНрдЯреИрдЯреНрд╕ рдЖрдЗрдЯрдореНрд╕" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдФрд░ рд╕реЗрдЯ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдирд┐рдХрд╛рд▓рди рдФрд░ рдореЗрдореЛрд░реА рдХрд╛рдЙрдВрдЯрд░реНрд╕ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдк рдЧрд┐рдирддреА рд╣реЛрддреА рд╣реИред
```
stats items
STAT items:1:number 1
STAT items:1:age 4
STAT items:1:evicted 0
STAT items:1:evicted_nonzero 0
STAT items:1:evicted_time 0
STAT items:1:outofmemory 0
STAT items:1:tailrepairs 0
STAT items:1:reclaimed 0
STAT items:1:expired_unfetched 0
STAT items:1:evicted_unfetched 0
END
```
**рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рдХреНрдпрд╛ рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВ...** рд╕реНрд▓реИрдм рдХрдХреНрд╖рд╛ рдкреНрд░рддрд┐ рдЖрдБрдХрдбрд╝реЗ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣рдо рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд╛рдлреА рдХреБрдЫ рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВ:

1. рд╡рд┐рднрд┐рдиреНрди рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП рдХреИрд╢ рдЕрдиреБрдкрд╛рдд рдХреНрдпрд╛ рд╣реИ?
* рдмрдбрд╝реЗ HTML рдЪрдВрдХреЛрдВ рдХрд╛ рдХреИрд╢рд┐рдВрдЧ рдХреИрд╕реА рд╣реИ?
2. рд╡рд┐рднрд┐рдиреНрди рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП рд╣рдо рдХрд┐рддрдирд╛ рдореЗрдореЛрд░реА рдЦрд░реНрдЪ рдХрд░рддреЗ рд╣реИрдВ?
* рд╕рд╛рдзрд╛рд░рд┐рдд рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдХрд╛рдЙрдВрдЯрд░ рдкрд░ рд╣рдо рдХрд┐рддрдирд╛ рдЦрд░реНрдЪ рдХрд░рддреЗ рд╣реИрдВ?
* рд╣рдорд╛рд░реЗ рд╕рддреНрд░ рдбреЗрдЯрд╛ рдкрд░ рд╣рдо рдХрд┐рддрдирд╛ рдЦрд░реНрдЪ рдХрд░рддреЗ рд╣реИрдВ?
* рдмрдбрд╝реЗ HTML рдЪрдВрдХреЛрдВ рдкрд░ рд╣рдо рдХрд┐рддрдирд╛ рдЦрд░реНрдЪ рдХрд░рддреЗ рд╣реИрдВ?
3. рд╣рдо рдХрд┐рддрдиреЗ рдмрдбрд╝реЗ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреИрд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?

рдмреЗрд╢рдХ, рд╕рд╡рд╛рд▓реЛрдВ рдХрд╛ рдЙрддреНрддрд░ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рдХреИрд╢ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ. **рдЕрдм: рдХреБрдВрдЬреА рдХреИрд╕реЗ рдбрдВрдк рдХрд░реЗрдВ?** рдХреБрдВрдЬреА рдХреЛ "рд╕реНрдЯреИрдЯреНрд╕ рдХреИрд╢рдбрдВрдк" рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд▓реИрдм рдХрдХреНрд╖рд╛ рдкреНрд░рддрд┐ рдбрдВрдк рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ.
```
stats cachedump <slab class> <number of items to dump>
```
рдЕрдкрдиреА рдПрдХрд▓ рдХреБрдВрдЬреА рдХреЛ рдХреНрд▓рд╛рд╕ #1 рдореЗрдВ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд▓рд╛рдПрдВ
```
stats cachedump 1 1000
ITEM mykey [1 b; 1350677968 s]
END
```
рдпрд╣рд╛рдВ "cachedump" рдкреНрд░рддрд┐ рдкрдВрдХреНрддрд┐ рдПрдХ рдЖрдЗрдЯрдо рд▓реМрдЯрд╛рддрд╛ рд╣реИред рдмреНрд░реЗрд╕реЗрдЬ рдореЗрдВ рдкрд╣рд▓рд╛ рдирдВрдмрд░ рдмрд╛рдЗрдЯ рдореЗрдВ рдЖрдХрд╛рд░ рджреЗрддрд╛ рд╣реИ, рджреВрд╕рд░рд╛ рд╕рдордпрдЪрд┐рд╣реНрди рд╕реГрдЬрди рдХрд╛ рджреЗрддрд╛ рд╣реИред рджрд┐рдП рдЧрдП рдХреБрдВрдЬреА рдирд╛рдо рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЖрдк рдЕрдм рдЗрд╕рдХрд╛ рдореВрд▓реНрдп рднреА рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```
get mykey
VALUE mykey 0 1
1
END
```
рдпрд╣ рд╣реИ: рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ рд╕рднреА рд╕реНрд▓реИрдм рдХрдХреНрд╖рд╛рдУрдВ рдкрд░ рдЗрдЯрд░реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреБрдВрдЬреА рдирд╛рдореЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдЙрдирдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### **рдореЗрдордХреИрд╢ рдХреБрдВрдЬреА рдбрдВрдк рдХрд░рдирд╛ (рд╡рд░реНрдЬрди 1.4.31+)**

рдореЗрдордХреИрд╢ рд╡рд░реНрдЬрди 1.4.31 рдФрд░ рдЗрд╕рд╕реЗ рдКрдкрд░ рдореЗрдореЛрд░реА рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдХрдорд╛рдВрдб рд╣реИ рдЬреЛ рдЧреИрд░-рдмреНрд▓реЙрдХрд┐рдВрдЧ рдореЛрдб рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ (рдкрдврд╝реЗрдВ https://github.com/memcached/memcached/wiki/ReleaseNotes1431 )ред рдпрд╣ рд╡рд┐рдзрд┐ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред рдЖрдЙрдЯрдкреБрдЯ рд╕рдВрдЧрдард┐рдд рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рдЦреЛрдЬрдиреЗ, рдЙрдирдХреЗ рд╕рдЯреАрдХ рд╕рдорд╛рдкреНрддрд┐ рд╕рдордп (EXP) рдФрд░ рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧ рдХрд╛ рд╕рдордп (LA) рдкрддрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред рд╡рд┐рд╢рд╛рд▓ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рдХрд╛рд░рдг, 'nc' рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг:
```
echo 'lru_crawler metadump all' | nc 127.0.0.1 11211 | head -1
key=0dLLX%253Amemcache_test_key exp=1590718787 la=1590718487 cas=2238881166 fetch=yes

echo 'lru_crawler metadump all' | nc 127.0.0.1 11211 | grep ee6ba58566e234ccbbce13f9a24f9a28
key=VQRFX%253Aee6ba58566e234ccbbce13f9a24f9a28 exp=-1 la=1590386157 cas=1776204003 fetch=yes
key=0dLLX%253Aee6ba58566e234ccbbce13f9a24f9a28 exp=-1 la=1590712292 cas=2225524871 fetch=yes
```
EXP=-1 рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдЗрдЯрдо рдХрднреА рд╕рдорд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред EXP=1590718787 (Fri May 29 02:19:47 GMT 2020) рдЖрдЗрдЯрдо рдХреА рд╕рдорд╛рдкреНрддрд┐ рдХреА рддрд┐рдерд┐ рдХреЛ рдпреВрдирд┐рдХреНрд╕ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдореЗрдВ рд░рдЦрддрд╛ рд╣реИред LA=1590712292 (Mon May 25 05:55:57 GMT 2020) рдЖрдЗрдЯрдо рдХреЗ рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧ рдХреА рддрд┐рдерд┐ рдХреЛ рдпреВрдирд┐рдХреНрд╕ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдореЗрдВ рд░рдЦрддрд╛ рд╣реИред

### **рдбрдВрдкрд┐рдВрдЧ рдЯреВрд▓реНрд╕**

рдХрднреА-рдХрднреА рд╡рд╣рд╛рдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдбрдВрдкрд┐рдВрдЧ рдЯреВрд▓реНрд╕ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдореЗрдордХреИрд╢ рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВ:

| рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдПрдВ | рдЯреВрд▓реНрд╕                                                                                                                             | рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛                                                                                                                                                           |                                                                             |         |
| --------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- | ------- |
| PHP                   | [рд╕рд░рд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ](http://snipt.org/xtP)                                                                                              | рдХреБрдВрдЬреА рдирд╛рдореЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред                                                                                                                                      |                                                                             |         |
| Perl                  | [рд╕рд░рд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ](https://wiki.jasig.org/download/attachments/13572172/memcached-clean.pl?version=1\&modificationDate=1229693957401) | рдХреБрдВрдЬреА рдФрд░ рдорд╛рди рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред                                                                                                                                    |                                                                             |         |
| Ruby                  | [рд╕рд░рд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ](https://gist.github.com/1365005)                                                                                   | рдХреБрдВрдЬреА рдирд╛рдореЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред                                                                                                                                      |                                                                             |         |
| Perl                  | [рдореЗрдордбрдВрдк](https://search.cpan.org/\~dmaki/Memcached-libmemcached-0.4202/src/libmemcached/docs/memdump.pod)                         | CPAN рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рдЯреВрд▓                                                                                                                                                    | [Memcached-libmemcached](https://search.cpan.org/\~dmaki/Memcached-libmemc) | ached/) |
| PHP                   | [memcache.php](http://livebookmark.net/journal/2008/05/21/memcachephp-stats-like-apcphp/)                                          | рдореЗрдордХреИрд╢ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ GUI рдЬреЛ рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреА рднреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред                                                                                                 |                                                                             |         |
| libmemcached          | [peep](http://blog.evanweaver.com/2009/04/20/peeping-into-memcached/)                                                              | **рдпрд╣ рдЖрдкрдХреА рдореЗрдордХреИрд╢ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд░реЛрдХ рджреЗрддрд╛ рд╣реИ!!!** рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рд╕рддрд░реНрдХ рд░рд╣реЗрдВред рдлрд┐рд░ рднреА рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк 1MB рд╕реАрдорд╛ рдХреЛ рджреВрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ **рд╕рднреА** рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред |                                                                             |         |

## рдЯреНрд░рдмрд▓рд╢реВрдЯрд┐рдВрдЧ <a href="#troubleshooting" id="troubleshooting"></a>

### 1MB рдбреЗрдЯрд╛ рд╕реАрдорд╛ <a href="#1mb-data-limit" id="1mb-data-limit"></a>

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ memcached 1.4 рд╕реЗ рдкрд╣рд▓реЗ рдЖрдк 1MB рд╕реЗ рдмрдбрд╝реЗ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЕрдзрд┐рдХрддрдо рд╕реНрд▓реИрдм рд╕рд╛рдЗрдЬрд╝ рдХреЗ рдХрд╛рд░рдг рд╣реЛрддрд╛ рд╣реИред

### рдХрднреА рднреА рдЯрд╛рдЗрдордЖрдЙрдЯ > 30 рджрд┐рди рд╕реЗрдЯ рди рдХрд░реЗрдВ! <a href="#never-set-a-timeout--30-days" id="never-set-a-timeout--30-days"></a>

рдпрджрд┐ рдЖрдк рдЕрдиреБрдордд рдорд╛рдиреНрдпрддрд╛ рд╕реЗ рдмрдбрд╝рд╛ рдЯрд╛рдЗрдордЖрдЙрдЯ рдХреЗ рд╕рд╛рде "рд╕реЗрдЯ" рдпрд╛ "рдПрдб" рдХреБрдВрдЬреА рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдкрдХреЛ рдЙрдореНрдореАрдж рдХреЗ рдореБрддрд╛рдмрд┐рдХ рдирд╣реАрдВ рдорд┐рд▓реЗрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ рдореЗрдордХреИрд╢ рддрдм рдорд╛рдиреНрдпрддрд╛ рдХреЛ рдПрдХ рдпреВрдирд┐рдХреНрд╕ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЗ рд░реВрдк рдореЗрдВ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдкрд┐рдЫрд▓реЗ рдореЗрдВ рд╣реИ, рддреЛ рдпрд╣ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред рдЖрдкрдХрд╛ рдХрдорд╛рдВрдб рдЪреБрдкрдЪрд╛рдк рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред

рддреЛ рдпрджрд┐ рдЖрдк рдЕрдзрд┐рдХрддрдо рдЬреАрд╡рдирдХрд╛рд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ 2592000 рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред рдЙрджрд╛рд╣рд░рдг:
```
set my_key 0 2592000 1
1
```
### рдУрд╡рд░рдлреНрд▓реЛ рдкрд░ рдЧрд╛рдпрдм рд╣реЛ рд░рд╣реЗ рдХреБрдВрдЬреА <a href="#disappearing-keys-on-overflow" id="disappearing-keys-on-overflow"></a>

рдпрджреНрдпрдкрд┐ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдореЗрдВ 64 рдмрд┐рдЯ рдХреЗ рдУрд╡рд░рдлреНрд▓реЛ рдХреЛ рдШреЗрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдХрд╣ рд░рд╣рд╛ рд╣реИ, "incr" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдорд╛рди рдХреЛ рдЧрд╛рдпрдм рдХрд░ рджреЗрддрд╛ рд╣реИред рдЗрд╕реЗ "add" / "set" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ <a href="#replication" id="replication"></a>

рдореЗрдордХреИрд╢реНрдб рд╕реНрд╡рдпрдВ рдореЗрдВ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ рдЖрдк рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ 3 рд╡реЗрдВ рдкрдХреНрд╖ рдХреЗ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛:

* [repcached](http://repcached.lab.klab.org/): рдорд▓реНрдЯреА-рдорд╛рд╕реНрдЯрд░ рдЕрд╕рд┐рдВрдХреНрд░реЛрди рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ (рдореЗрдордХреИрд╢реНрдб 1.2 рдкреИрдЪ рд╕реЗрдЯ)
* [Couchbase memcached interface](http://www.couchbase.com/memcached): рдореЗрдордХреИрд╢реНрдб рдбреНрд░реЙрдк-рдЗрди рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдЙрдЪрдмреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
* [yrmcds](https://cybozu.github.io/yrmcds/): рдореЗрдордХреИрд╢реНрдб рд╕рдВрдЧрдд рдорд╛рд╕реНрдЯрд░-рд╕реНрд▓реЗрд╡ рдХреБрдВрдЬреА рдорд╛рди рд╕рдВрдЧреНрд░рд╣
* [twemproxy](https://github.com/twitter/twemproxy) (рдЬрд┐рд╕реЗ рдирдЯрдХреНрд░реИрдХрд░ рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ): рдореЗрдордХреИрд╢реНрдб рд╕рдорд░реНрдерди рд╡рд╛рд▓рд╛ рдкреНрд░реЙрдХреНрд╕реА

### рдЖрджреЗрд╢ рдЪреАрдЯ-рд╢реАрдЯ

{% content-ref url="memcache-commands.md" %}
[memcache-commands.md](memcache-commands.md)
{% endcontent-ref %}

### **рд╢реЛрдбрди**

* `port:11211 "STAT pid"`
* `"STAT pid"`

## рд╕рдВрджрд░реНрдн

* [https://lzone.de/cheat-sheet/memcached](https://lzone.de/cheat-sheet/memcached)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рдХреА рдЬрд╛рдП? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╣рдореЗрдВ PR рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред**

</details>
