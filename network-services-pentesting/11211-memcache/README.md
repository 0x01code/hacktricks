# 11211 - рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдореЗрдордХреИрд╢

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдХрд╛** **рдЕрдиреБрд╕рд░рдг** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕реВрдЪрдирд╛

[wikipedia](https://en.wikipedia.org/wiki/Memcached) рд╕реЗ:

> **рдореЗрдордХреИрд╢** (рдЙрдЪреНрдЪрд╛рд░рдг: рдореЗрдо-рдХреИрд╢реНрдб, рдореЗрдо-рдХреИрд╢-рдбреА) рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЙрджреНрджрд┐рд╖реНрдЯ рд╡рд┐рддрд░рд┐рдд [рдореЗрдорд░реА рдХреИрд╢рд┐рдВрдЧ](https://en.wikipedia.org/wiki/Memory\_caching) рд╕рд┐рд╕реНрдЯрдо рд╣реИред рдпрд╣ рдЕрдХреНрд╕рд░ рдбрд╛рдЯрд╛рдмреЗрд╕ рдбреНрд░рд╛рдЗрд╡рди рд╡реЗрдмрд╕рд╛рдЗрдЯреЛрдВ рдХреЛ рддреЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдбреЗрдЯрд╛ рдФрд░ рдСрдмреНрдЬ
```
PORT      STATE SERVICE
11211/tcp open  unknown
```
## рдЬрд╛рдВрдЪ

### рдореИрдиреНрдпреБрдЕрд▓

Memcache рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЗ рдЕрдВрджрд░ рд╕рд╣реЗрдЬреА рдЧрдИ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдмрд╛рд╣рд░ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛:

1. **рд╕реНрд▓реИрдмреНрд╕** рдвреВрдВрдвреЗрдВ рдЬрд┐рдирдореЗрдВ **рд╕рдХреНрд░рд┐рдп рдЖрдЗрдЯрдореНрд╕** рд╣реИрдВ
2. рдкрд╣рд▓реЗ рдкрд╣рдЪрд╛рдиреЗ рдЧрдП рд╕реНрд▓реИрдмреНрд╕ рдХреЗ **рдХреБрдВрдЬреА рдирд╛рдо** рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
3. **рдХреБрдВрдЬреА рдирд╛рдо** рдкреНрд░рд╛рдкреНрдд рдХрд░рдХреЗ **рд╕рд╣реЗрдЬреЗ рдЧрдП рдбреЗрдЯрд╛** рдХреЛ рдмрд╛рд╣рд░ рд▓реЗрдирд╛

рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рдпрд╣ рд╕реЗрд╡рд╛ рдХреЗрд╡рд▓ рдПрдХ **рдХреИрд╢** рд╣реИ, рдЗрд╕рд▓рд┐рдП **рдбреЗрдЯрд╛ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рдФрд░ рдЧрд╛рдпрдм рд╣реЛ рд╕рдХрддрд╛ рд╣реИ**ред
```bash
echo "version" | nc -vn -w 1 <IP> 11211      #Get version
echo "stats" | nc -vn -w 1 <IP> 11211        #Get status
echo "stats slabs" | nc -vn -w 1 <IP> 11211  #Get slabs
echo "stats items" | nc -vn -w 1 <IP> 11211  #Get items of slabs with info
echo "stats cachedump <number> 0" | nc -vn -w 1 <IP> 11211  #Get key names (the 0 is for unlimited output size)
echo "get <item_name>" | nc -vn -w 1 <IP> 11211  #Get saved info

#This php will just dump the keys, you need to use "get <item_name> later"
sudo apt-get install php-memcached
php -r '$c = new Memcached(); $c->addServer("localhost", 11211); var_dump( $c->getAllKeys() );'
```
### рдореИрдиреБрдЕрд▓2
```bash
sudo apt install libmemcached-tools
memcstat --servers=127.0.0.1 #Get stats
memcdump --servers=127.0.0.1 #Get all items
memccat  --servers=127.0.0.1 <item1> <item2> <item3> #Get info inside the item(s)
```
### рд╕реНрд╡рдЪрд╛рд▓рд┐рдд
```bash
nmap -n -sV --script memcached-info -p 11211 <IP>   #Just gather info
msf > use auxiliary/gather/memcached_extractor      #Extracts saved data
msf > use auxiliary/scanner/memcached/memcached_amp #Check is UDP DDoS amplification attack is possible
```
## **рдореЗрдордХреИрд╢ рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдирд╛**

рдореЗрдордХреИрд╢ рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ, рдбреЗрдЯрд╛ рдХреЛ рд╕реНрд▓реИрдмреНрд╕ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЧрдард┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рд╣рд╛рдпрдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдореЗрдордХреИрд╢ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рдХрдорд╛рдВрдб рд╣реЛрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдкреНрд░рддрд┐рдмрдВрдз рд╣реИрдВ:

1. рдХреБрдВрдЬрд┐рдпрд╛рдБ рдХреЗрд╡рд▓ рд╕реНрд▓реИрдм рдХреНрд▓рд╛рд╕ рджреНрд╡рд╛рд░рд╛ рдбрдВрдк рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ, рдЬреЛ рд╕рдорд╛рди рд╕рд╛рдордЧреНрд░реА рдХреЗ рдЖрдХрд╛рд░ рдХреА рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЛ рд╕рдореВрд╣рд┐рдд рдХрд░рддрд╛ рд╣реИред
2. рдкреНрд░рддрд┐ рд╕реНрд▓реИрдм рдХреНрд▓рд╛рд╕ рдХреЗрд╡рд▓ рдПрдХ рдкреЗрдЬ рдХреА рд╕реАрдорд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рд╕реЗ 1MB рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИред
3. рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдЕрдиреМрдкрдЪрд╛рд░рд┐рдХ рд╣реИ рдФрд░ рдХрд┐рд╕реА рднреА рд╕рдордп рдмрдВрдж рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ [рд╕рдореБрджрд╛рдп рдлреЛрд░рдо](https://groups.google.com/forum/?fromgroups=#!topic/memcached/1-T8I-RVGKM) рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рд╣реИред

рдХреЗрд╡рд▓ 1MB рдбреЗрдЯрд╛ рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреА рд╕реАрдорд╛, рд╕рдВрднрд╛рд╡рд┐рдд рдЧреАрдЧрд╛рдмрд╛рдЗрдЯреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рд╕реЗ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЕрднреА рднреА рд╡рд┐рд╢реЗрд╖ рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИ, рдХреБрдВрдЬреА рдЙрдкрдпреЛрдЧ рдкреИрдЯрд░реНрди рдореЗрдВ рдЕрдВрддрд░реНрджреГрд╖реНрдЯрд┐ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреА рд╣реИред рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдпрд╛рдВрддреНрд░рд┐рдХрд┐рдпреЛрдВ рдореЗрдВ рдХрдо рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, [рдЙрдкрдХрд░рдг рдЦрдВрдб](https://lzone.de/cheat-sheet/memcached#tools) рдореЗрдВ рдПрдХ рдпрд╛рддреНрд░рд╛ рдЙрдкрдХрд░рдг рдЙрдкрд▓рдмреНрдз рд╣реИ рдЬреЛ рд╡реНрдпрд╛рдкрдХ рдбрдВрдкрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╣реИред рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдореЗрдордХреИрд╢реНрдб рд╕реЗрдЯрдЕрдк рдХреЗ рд╕рд╛рде рд╕реАрдзрд╛ рдмрд╛рддрдЪреАрдд рдХреЗ рд▓рд┐рдП рдЯреЗрд▓рдиреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдиреАрдЪреЗ рджреА рдЧрдИ рд╣реИред

### **рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ**

рдореЗрдордХреИрд╢ рдХреА рд╕реНрдореГрддрд┐ рд╕рдВрдЧрдарди рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред "-vv" рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдореЗрдордХреИрд╢ рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░рдиреЗ рд╕реЗ, рдпрд╣ рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:
```bash
$ memcached -vv
slab class   1: chunk size        96 perslab   10922
[...]
```
рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдореМрдЬреВрдж рд╕рднреА рд╕реНрд▓реИрдмреНрд╕ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```bash
stats slabs
```
рдПрдХрд▓ рдХреБрдВрдЬреА рдХреЛ memcached 1.4.13 рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕реНрд▓реИрдм рдХреНрд▓рд╛рд╕реЗрдВ рдХреИрд╕реЗ рдкреВрд░реА рд╣реЛрддреА рд╣реИрдВ рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:
```bash
set mykey 0 60 1
1
STORED
```
рдХреА рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж "stats slabs" рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдкрд░ рд╕реНрд▓реИрдм рдЙрдкрдпреЛрдЧ рдХреЗ рд╡рд┐рд╕реНрддреГрдд рд╕рд╛рдВрдЦреНрдпрд┐рдХреАрдп рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреА рд╣реИ:
```bash
stats slabs
[...]
```
рдпрд╣ рдЖрдЙрдЯрдкреБрдЯ рд╕рдХреНрд░рд┐рдп рд╕реНрд▓реИрдм рдкреНрд░рдХрд╛рд░, рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдЪрдВрдХреНрд╕, рдФрд░ рд╕рдВрдЪрд╛рд▓рди рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ, рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреА рдХреБрд╢рд▓рддрд╛ рдореЗрдВ рдЕрдВрддрд░реНрджреГрд╖реНрдЯрд┐ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

рдПрдХ рдФрд░ рдЙрдкрдпреЛрдЧреА рдХрдорд╛рдВрдб, "stats items", рдирд┐рдХрд╛рд╕, рдореЗрдореЛрд░реА рд╕реАрдорд╛рдПрдВ, рдФрд░ рдЖрдЗрдЯрдо рдЬреАрд╡рдирдЪрдХреНрд░ рдкрд░ рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:
```bash
stats items
[...]
```
### **рдбрдВрдкрд┐рдВрдЧ рдХреБрдВрдЬрд┐рдпрд╛рдБ**

1.4.31 рд╕реЗ рдкрд╣рд▓реЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рдХреБрдВрдЬрд┐рдпрд╛рдБ рд╕реНрд▓реИрдм рдХреНрд▓рд╛рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбрдВрдк рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ:
```bash
stats cachedump <slab class> <number of items to dump>
```
рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреНрд▓рд╛рд╕ #1 рдореЗрдВ рдПрдХ рдХреБрдВрдЬреА рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
stats cachedump 1 1000
ITEM mykey [1 b; 1350677968 s]
END
```
рдпрд╣ рд╡рд┐рдзрд┐ рд╕реНрд▓реИрдм рдХреНрд▓рд╛рд╕реЛрдВ рдкрд░ рдЪрд▓рддреА рд╣реИ, рдХреБрдВрдЬреА рдорд╛рдиреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рддреА рд╣реИ рдФрд░ рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ рдбрдВрдк рдХрд░рддреА рд╣реИред

### **рдореЗрдордХреИрд╢ рдХреБрдВрдЬреА рдбрдВрдк рдХрд░рдирд╛ (рд╕рдВрд╕реНрдХрд░рдг 1.4.31+)**

рдореЗрдордХреИрд╢ рд╕рдВрд╕реНрдХрд░рдг 1.4.31 рдФрд░ рдЗрд╕рд╕реЗ рдКрдкрд░, рдПрдХ рдирдпрд╛, рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд┐рдзрд┐ рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрддреНрдкрд╛рджрди рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ [рд░рд┐рд▓реАрдЬ рдиреЛрдЯреНрд╕](https://github.com/memcached/memcached/wiki/ReleaseNotes1431) рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдЧреИрд░-рдЕрд╡рд░реЛрдзреА рдореЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рд╡реНрдпрд╛рдкрдХ рдЖрдЙрдЯрдкреБрдЯ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рди рдХреА рдХреБрд╢рд▓рддрд╛ рдХреЗ рд▓рд┐рдП 'nc' рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ:
```bash
echo 'lru_crawler metadump all' | nc 127.0.0.1 11211 | head -1
echo 'lru_crawler metadump all' | nc 127.0.0.1 11211 | grep ee6ba58566e234ccbbce13f9a24f9a28
```
### **рдбрдВрдкрд┐рдВрдЧ рдЯреВрд▓реНрд╕**

Table [рдпрд╣рд╛рдБ рд╕реЗ](https://lzone.de/blog).

| рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдПрдБ | рдЯреВрд▓реНрд╕                                                                                                                              | рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛                                                                                                                                                          |                                                                             |         |
| --------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- | ------- |
| PHP                   | [рд╕рд░рд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ](http://snipt.org/xtP)                                                                                              | рдХреБрдВрдЬреА рдирд╛рдореЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред                                                                                                                                                      |                                                                             |         |
| Perl                  | [рд╕рд░рд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ](https://wiki.jasig.org/download/attachments/13572172/memcached-clean.pl?version=1\&modificationDate=1229693957401) | рдХреБрдВрдЬреА рдФрд░ рдорд╛рдиреЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред                                                                                 |                                                                             |         |
| Ruby                  | [рд╕рд░рд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ](https://gist.github.com/1365005)                                                                                   | рдХреБрдВрдЬреА рдирд╛рдореЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред                                                                                                                                                      |                                                                             |         |
| Perl                  | [memdump](https://search.cpan.org/\~dmaki/Memcached-libmemcached-0.4202/src/libmemcached/docs/memdump.pod)                         | CPAN рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рдЙрдкрдХрд░рдг                                                                                                                                                    | [Memcached-libmemcached](https://search.cpan.org/\~dmaki/Memcached-libmemc) | ached/) |
| PHP                   | [memcache.php](http://livebookmark.net/journal/2008/05/21/memcachephp-stats-like-apcphp/)                                          | Memcache рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ GUI рдЬреЛ рднреА рдХреБрдВрдЬреА рдбрдВрдк рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ                                                                                                                  |                                                                             |         |
| libmemcached          | [peep](http://blog.evanweaver.com/2009/04/20/peeping-into-memcached/)                                                              | **рдпрд╣ рдЖрдкрдХреЗ memcached рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдардВрдбрд╛ рдХрд░ рджреЗрддрд╛ рд╣реИ!!!** рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВред рдлрд┐рд░ рднреА рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк 1MB рд╕реАрдорд╛ рдХреЛ рдШреЗрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ **рд╕рднреА** рдХреБрдВрдЬреА рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред |                                                                             |         |

## рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг <a href="#troubleshooting" id="troubleshooting"></a>

### 1MB рдбреЗрдЯрд╛ рд╕реАрдорд╛ <a href="#1mb-data-limit" id="1mb-data-limit"></a>

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ memcached 1.4 рд╕реЗ рдкрд╣рд▓реЗ, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЕрдзрд┐рдХрддрдо рд╕реНрд▓реИрдм рд╕рд╛рдЗрдЬ рдХреЗ рдХрд╛рд░рдг рдЖрдк 1MB рд╕реЗ рдЕрдзрд┐рдХ рд╡рд┐рд╢рд╛рд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдЯреЛрд░ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред

### рдХрднреА рднреА рдЯрд╛рдЗрдордЖрдЙрдЯ > 30 рджрд┐рди рд╕реЗрдЯ рди рдХрд░реЗрдВ! <a href="#never-set-a-timeout--30-days" id="never-set-a-timeout--30-days"></a>

рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА рдХреБрдВрдЬреА рдХреЛ рдПрдХ рдЯрд╛рдЗрдордЖрдЙрдЯ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдЕрдиреБрдордд рдорд╛рди рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛ, рддреЛ рдЖрдкрдХреЛ рдЙрдореНрдореАрдж рдХреА рдЪреАрдЬ рдирд╣реАрдВ рдорд┐рд▓ рд╕рдХрддреА рдХреНрдпреЛрдВрдХрд┐ рддрдм memcached рдЙрд╕ рдорд╛рди рдХреЛ рдПрдХ рдпреВрдирд┐рдХреНрд╕ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЗ рд░реВрдк рдореЗрдВ рджреЗрдЦреЗрдЧрд╛ред рдФрд░ рдпрджрд┐ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдкрд┐рдЫрд▓реЗ рдореЗрдВ рд╣реИ рддреЛ рдпрд╣ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред рдЖрдкрдХрд╛ рдХрдорд╛рдВрдб рдЪреБрдкрдЪрд╛рдк рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред

рддреЛ рдпрджрд┐ рдЖрдк рдЕрдзрд┐рдХрддрдо рдЬреАрд╡рдирдХрд╛рд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ 2592000 рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред рдЙрджрд╛рд╣рд░рдг:
```
set my_key 0 2592000 1
1
```
### рдУрд╡рд░рдлреНрд▓реЛ рдкрд░ рдЧрд╛рдпрдм рд╣реЛ рд░рд╣реЗ рдХреБрдВрдЬреА <a href="#disappearing-keys-on-overflow" id="disappearing-keys-on-overflow"></a>

рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рдХреБрдЫ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╣рдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ 64 рдмрд┐рдЯ рдУрд╡рд░рдлреНрд▓реЛ рдХреЛ "incr" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдорд╛рди рдХреЛ рдЧрд╛рдпрдм рдХрд░ рджреЗрддрд╛ рд╣реИред рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ "add"/"set" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ <a href="#replication" id="replication"></a>

memcached рд╕реНрд╡рдпрдВ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ред рдпрджрд┐ рдЖрдк рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕реЗ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддреЛ рдЖрдкрдХреЛ 3 рд╡реАрдВ рдкрдХреНрд╖ рдХреЗ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛:

* [repcached](http://repcached.lab.klab.org/): рдорд▓реНрдЯреА-рдорд╛рд╕реНрдЯрд░ рдЕрд╕рд┐рдВрдХреНрд░реЛрди рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ (memcached 1.2 рдкреИрдЪ рд╕реЗрдЯ)
* [Couchbase memcached рдЗрдВрдЯрд░рдлреЗрд╕](http://www.couchbase.com/memcached): CouchBase рдХрд╛ рдореЗрдордХреИрд╢реНрдб рдбреНрд░реЙрдк-рдЗрди рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
* [yrmcds](https://cybozu.github.io/yrmcds/): memcached рд╕рдВрдЧрдд рдорд╛рд╕реНрдЯрд░-рд╕реНрд▓реЗрд╡ рдХреБрдВрдЬреА рдореВрд▓реНрдп рд╕реНрдЯреЛрд░
* [twemproxy](https://github.com/twitter/twemproxy) (рдЬрд┐рд╕реЗ nutcracker рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ): рдореЗрдордХреИрд╢реНрдб рд╕рдорд░реНрдерди рдХреЗ рд╕рд╛рде рдкреНрд░реЙрдХреНрд╕реА

### рдЖрджреЗрд╢ рдЪреАрдЯ-рд╢реАрдЯ

{% content-ref url="memcache-commands.md" %}
[memcache-commands.md](memcache-commands.md)
{% endcontent-ref %}

### **рд╢реЛрдбрди**

* `port:11211 "STAT pid"`
* `"STAT pid"`

## рд╕рдВрджрд░реНрдн

* [https://lzone.de/cheat-sheet/memcached](https://lzone.de/cheat-sheet/memcached)

<details>

<summary><strong>рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рдЬреБрдбрд╝реЗрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рд╕реЗ рдпрд╛ **рдореЗрд░рд╛** рдЯреНрд╡рд┐рдЯрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) **рдХрд╛** рдЕрдиреБрд╕рд░рдг **рдХрд░реЗрдВ**ред
* **HackTricks** рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
