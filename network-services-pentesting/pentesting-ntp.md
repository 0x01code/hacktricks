# 123/udp - Ελεγκτική δοκιμή NTP

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Συμμετάσχετε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

Εγγραφείτε στον διακομιστή [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) για να επικοινωνήσετε με έμπειρους χάκερ και κυνηγούς ευρημάτων ασφαλείας!

**Εισαγωγή στο Χάκινγκ**\
Ασχοληθείτε με περιεχόμενο που εξερευνά τον ενθουσιασμό και τις προκλήσεις του χάκινγκ

**Ειδήσεις Χάκινγκ σε Πραγματικό Χρόνο**\
Μείνετε ενημερωμένοι με τον γρήγορο ρυθμό του κόσμου του χάκινγκ μέσω ειδήσεων και αναλύσεων σε πραγματικό χρόνο

**Τελευταίες Ανακοινώσεις**\
Μείνετε ενημερωμένοι με τις νεότερες ευρήματα αμοιβών και τις κρίσιμες ενημερώσεις των πλατφορμών

**Συμμετέχετε στο** [**Discord**](https://discord.com/invite/N3FrSbmwdy) **και αρχίστε να συνεργάζεστε με τους κορυφαίους χάκερ σήμερα!**

## Βασικές Πληροφορίες

Το **Network Time Protocol (NTP)** εξασφαλίζει τον συγχρονισμό των ρολογιών των υπολογιστών και των δικτυακών συσκευών σε δίκτυα με μεταβλητή καθυστέρηση. Είναι ζωτικής σημασίας για τη διατήρηση ακριβούς χρονοσήμανσης στις λειτουργίες της πληροφορικής, της ασφάλειας και της καταγραφής. Η ακρίβεια του NTP είναι ουσιώδης, αλλά παρουσιάζει επίσης κινδύνους ασφαλείας εάν δεν διαχειριστεί σωστά.

### Περίληψη & Συμβουλές Ασφαλείας:
- **Σκοπός**: Συγχρονίζει τις ρολογιές των συσκευών μέσω δικτύων.
- **Σημασία**: Κρίσιμο για την ασφάλεια, την καταγραφή και τις λειτουργίες.
- **Μέτρα Ασφαλείας**:
- Χρησιμοποιήστε αξιόπιστες πηγές NTP με πιστοποίηση.
- Περιορίστε την πρόσβαση στο δίκτυο του διακομιστή NTP.
- Παρακολουθήστε τον συγχρονισμό για ενδείξεις παρεμβολής.
```
PORT    STATE SERVICE REASON
123/udp open  ntp     udp-response
```
## Απαρίθμηση

Η απαρίθμηση είναι η διαδικασία εντοπισμού και συλλογής πληροφοριών για ένα σύστημα NTP. Αυτές οι πληροφορίες μπορούν να περιλαμβάνουν την έκδοση του NTP, τις διαθέσιμες λειτουργίες και τις ρυθμίσεις του συστήματος. Οι τεχνικές απαρίθμησης περιλαμβάνουν την ανάλυση πακέτων, τον έλεγχο των θυρών και την εκτέλεση ερωτημάτων NTP για την ανάκτηση πληροφοριών. Η απαρίθμηση μπορεί να βοηθήσει στην αναγνώριση ευπάθειών και στην προετοιμασία για επιθέσεις.
```bash
ntpq -c readlist <IP_ADDRESS>
ntpq -c readvar <IP_ADDRESS>
ntpq -c peers <IP_ADDRESS>
ntpq -c associations <IP_ADDRESS>
ntpdc -c monlist <IP_ADDRESS>
ntpdc -c listpeers <IP_ADDRESS>
ntpdc -c sysinfo <IP_ADDRESS>
```

```bash
nmap -sU -sV --script "ntp* and (discovery or vuln) and not (dos or brute)" -p 123 <IP>
```
## Εξέταση αρχείων ρυθμίσεων

* ntp.conf

## Επίθεση Ενίσχυσης NTP

[**Πώς λειτουργεί η επίθεση DDoS NTP**](https://resources.infosecinstitute.com/network-time-protocol-ntp-threats-countermeasures/#gref)

Το πρωτόκολλο **NTP**, χρησιμοποιώντας το πρωτόκολλο UDP, επιτρέπει τη λειτουργία χωρίς την ανάγκη για διαδικασίες χειραψίας, αντίθετα από το TCP. Αυτό το χαρακτηριστικό εκμεταλλεύεται στις **επιθέσεις ενίσχυσης DDoS NTP**. Εδώ, οι επιτιθέμενοι δημιουργούν πακέτα με μια πλαστή πηγή IP, καθιστώντας το επίθεση να φαίνεται ότι προέρχεται από το θύμα. Αυτά τα πακέτα, αρχικά μικρά, προκαλούν τον NTP διακομιστή να απαντήσει με πολύ μεγαλύτερους όγκους δεδομένων, ενισχύοντας έτσι την επίθεση.

Η εντολή **_MONLIST_**, παρά τη σπάνια χρήση της, μπορεί να αναφέρει τους τελευταίους 600 πελάτες που συνδέθηκαν στην υπηρεσία NTP. Αν και η ίδια η εντολή είναι απλή, η κατάχρησή της σε τέτοιου είδους επιθέσεις αποκαλύπτει κρίσιμες ευπάθειες ασφαλείας.
```bash
ntpdc -n -c monlist <IP>
```
## Shodan

* `ntp`

## Αυτόματες Εντολές HackTricks
```
Protocol_Name: NTP    #Protocol Abbreviation if there is one.
Port_Number:  123     #Comma separated if there is more than one.
Protocol_Description: Network Time Protocol         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for NTP
Note: |
The Network Time Protocol (NTP) ensures computers and network devices across variable-latency networks sync their clocks accurately. It's vital for maintaining precise timekeeping in IT operations, security, and logging. NTP's accuracy is essential, but it also poses security risks if not properly managed.

https://book.hacktricks.xyz/pentesting/pentesting-ntp

Entry_2:
Name: Nmap
Description: Enumerate NTP
Command: nmap -sU -sV --script "ntp* and (discovery or vuln) and not (dos or brute)" -p 123 {IP}
```
<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

Συμμετέχετε στον διακομιστή [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) για να επικοινωνήσετε με έμπειρους χάκερ και κυνηγούς ευρημάτων ασφαλείας!

**Εισαγωγή στο Hacking**\
Ασχοληθείτε με περιεχόμενο που εξερευνά τον ενθουσιασμό και τις προκλήσεις του χάκινγκ.

**Ειδήσεις Χάκινγκ σε Πραγματικό Χρόνο**\
Μείνετε ενημερωμένοι με τον γρήγορο χάκινγκ κόσμο μέσω ειδήσεων και αναλύσεων σε πραγματικό χρόνο.

**Τελευταίες Ανακοινώσεις**\
Μείνετε ενημερωμένοι με τις νεότερες ευρήματα ασφαλείας που ξεκινούν και τις κρίσιμες ενημερώσεις της πλατφόρμας.

**Συμμετέχετε στο** [**Discord**](https://discord.com/invite/N3FrSbmwdy) **και αρχίστε να συνεργάζεστε με τους κορυφαίους χάκερ σήμερα!**

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Συμμετέχετε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) **και** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **αποθετήρια του github.**

</details>
