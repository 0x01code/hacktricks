# 123/udp - Kupima NTP

<details>

<summary><strong>Jifunze kuhusu kuvamia AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za kuvamia kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

<figure><img src="../.gitbook/assets/image (380).png" alt=""><figcaption></figcaption></figure>

Jiunge na [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) server ili kuwasiliana na wakora wenye uzoefu na wawindaji wa tuzo za mdudu!

**Machapisho ya Kuvamia**\
Shiriki na yaliyomo yanayochimba kwenye msisimko na changamoto za kuvamia

**Habari za Kuvamia za Muda Halisi**\
Kaa up-to-date na ulimwengu wa kuvamia kwa kasi kupitia habari za muda halisi na ufahamu

**Matangazo ya Karibuni**\
Baki mwelekezi na tuzo mpya za mdudu zinazoanzishwa na sasisho muhimu za jukwaa

**Jiunge nasi kwenye** [**Discord**](https://discord.com/invite/N3FrSbmwdy) na anza kushirikiana na wakora bora leo!

## Taarifa Msingi

**Itifaki ya Muda wa Mtandao (NTP)** inahakikisha kompyuta na vifaa vya mtandao kwenye mitandao yenye kuchelewa kubadilika wanahariri saa zao kwa usahihi. Ni muhimu kwa kudumisha wakati sahihi katika shughuli za IT, usalama, na kuingiza. Usahihi wa NTP ni muhimu, lakini pia unaweza kuleta hatari za usalama ikiwa hautasimamiwa ipasavyo.

### Muhtasari & Vidokezo vya Usalama:

* **Lengo**: Kuhariri saa za vifaa juu ya mitandao.
* **Umuhimu**: Muhimu kwa usalama, kuingiza, na shughuli.
* **Hatua za Usalama**:
  * Tumia vyanzo vya NTP vinavyoaminika na uthibitishaji.
  * Punguza upatikanaji wa mtandao wa seva za NTP.
  * Fuatilia usawazishaji kwa ishara za kuingiliwa. 

**Bandari ya default:** 123/udp
```
PORT    STATE SERVICE REASON
123/udp open  ntp     udp-response
```
## Uthibitisho
```bash
ntpq -c readlist <IP_ADDRESS>
ntpq -c readvar <IP_ADDRESS>
ntpq -c peers <IP_ADDRESS>
ntpq -c associations <IP_ADDRESS>
ntpdc -c monlist <IP_ADDRESS>
ntpdc -c listpeers <IP_ADDRESS>
ntpdc -c sysinfo <IP_ADDRESS>
```

```bash
nmap -sU -sV --script "ntp* and (discovery or vuln) and not (dos or brute)" -p 123 <IP>
```
## Angalia faili za usanidi

* ntp.conf

## Shambulio la Kuongeza Nguvu ya NTP

[**Jinsi Shambulio la DDoS la NTP Linavyofanya Kazi**](https://resources.infosecinstitute.com/network-time-protocol-ntp-threats-countermeasures/#gref)

Itifaki ya **NTP**, ikitumia UDP, inaruhusu uendeshaji bila haja ya taratibu za mikono, tofauti na TCP. Tabia hii inatumika katika **mashambulio ya kuongeza nguvu ya NTP DDoS**. Hapa, wachokozi hujenga pakiti zenye anwani bandia ya IP, ikifanya ionekane kama ombi la shambulio linatoka kwa muathiriwa. Pakiti hizi, za awali ndogo, zinachochea seva ya NTP kujibu kwa kiasi kikubwa cha data, kukuza shambulio.

Amri ya _**MONLIST**_, licha ya matumizi yake nadra, inaweza kuripoti wateja 600 wa mwisho waliounganishwa kwenye huduma ya NTP. Ingawa amri yenyewe ni rahisi, matumizi yake mabaya katika mashambulio kama hayo yanasisitiza mapungufu muhimu ya usalama.
```bash
ntpdc -n -c monlist <IP>
```
## Shodan

* `ntp`

## Amri za Kiotomatiki za HackTricks
```
Protocol_Name: NTP    #Protocol Abbreviation if there is one.
Port_Number:  123     #Comma separated if there is more than one.
Protocol_Description: Network Time Protocol         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for NTP
Note: |
The Network Time Protocol (NTP) ensures computers and network devices across variable-latency networks sync their clocks accurately. It's vital for maintaining precise timekeeping in IT operations, security, and logging. NTP's accuracy is essential, but it also poses security risks if not properly managed.

https://book.hacktricks.xyz/pentesting/pentesting-ntp

Entry_2:
Name: Nmap
Description: Enumerate NTP
Command: nmap -sU -sV --script "ntp* and (discovery or vuln) and not (dos or brute)" -p 123 {IP}
```
‚Äã

<figure><img src="../.gitbook/assets/image (380).png" alt=""><figcaption></figcaption></figure>

Jiunge na [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) server ili kuingiliana na wakorofi wenye uzoefu na wawindaji wa tuzo za makosa ya usalama!

**Machapisho ya Udukuzi**\
Shiriki na yaliyomo yanayochimba kina katika msisimko na changamoto za udukuzi

**Taarifa za Udukuzi za Muda Halisi**\
Kaa mbali na ulimwengu wa udukuzi wenye kasi kupitia taarifa za muda halisi na ufahamu

**Matangazo Mapya**\
Baki mwelewa na tuzo za makosa zinazoanzishwa na sasisho muhimu za jukwaa

**Jiunge nasi kwenye** [**Discord**](https://discord.com/invite/N3FrSbmwdy) na anza kushirikiana na wakorofi bora leo!

<details>

<summary><strong>Jifunze udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
