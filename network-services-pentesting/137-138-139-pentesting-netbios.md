# 137,138,139 - NetBios Pentesting

<details>

<summary><strong>AWS hacklemeyi sıfırdan kahraman olmaya kadar öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamınızı görmek veya HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI'na**](https://github.com/sponsors/carlospolop) göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**'ı takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek paylaşın**.

</details>

## NetBios Adı Hizmeti

**NetBIOS Adı Hizmeti**, **ad kaydı ve çözümleme**, **veri paketi dağıtımı** ve **oturum hizmetleri** gibi çeşitli hizmetleri içeren önemli bir rol oynar ve her hizmet için belirli bağlantı noktalarını kullanır.

[Wikidepia'dan](https://en.wikipedia.org/wiki/NetBIOS_over_TCP/IP):

* Ad kaydı ve çözümleme için ad hizmeti (portlar: 137/udp ve 137/tcp).
* Bağlantısız iletişim için veri paketi dağıtım hizmeti (port: 138/udp).
* Bağlantı odaklı iletişim için oturum hizmeti (port: 139/tcp).

### Ad Hizmeti

Bir cihazın NetBIOS ağına katılabilmesi için benzersiz bir adı olması gerekir. Bu, "Ad Sorgusu" paketinin gönderildiği bir **yayın süreci** ile gerçekleştirilir. Herhangi bir itiraz alınmazsa, ad uygun olarak kabul edilir. Alternatif olarak, bir **Ad Hizmeti sunucusu**, adın uygunluğunu kontrol etmek veya bir adı bir IP adresine çözmek için doğrudan sorgulanabilir. `nmblookup`, `nbtscan` ve `nmap` gibi araçlar, NetBIOS hizmetlerini sıralamak, sunucu adlarını ve MAC adreslerini ortaya çıkarmak için kullanılır.
```bash
PORT    STATE SERVICE    VERSION
137/udp open  netbios-ns Samba nmbd netbios-ns (workgroup: WORKGROUP)
```
NetBIOS hizmetini sıralarken, sunucunun kullandığı isimleri ve sunucunun MAC adresini elde edebilirsiniz.
```bash
nmblookup -A <IP>
nbtscan <IP>/30
sudo nmap -sU -sV -T4 --script nbstat.nse -p137 -Pn -n <IP>
```
### Datagram Dağıtım Servisi

NetBIOS datagramları, UDP üzerinden bağlantısız iletişimi destekleyerek doğrudan mesajlaşma veya tüm ağ isimlerine yayın yapmayı sağlar. Bu hizmet, **138/udp** portunu kullanır.
```bash
PORT    STATE         SERVICE     VERSION
138/udp open|filtered netbios-dgm
```
### Oturum Hizmeti

Bağlantı tabanlı etkileşimler için **Oturum Hizmeti**, iki cihaz arasında bir konuşma sağlar ve **139/tcp** portu üzerinden **TCP** bağlantılarını kullanır. Bir oturum, "Oturum İsteği" paketi ile başlar ve yanıta bağlı olarak kurulabilir. Hizmet, daha büyük mesajları, hata tespitini ve kurtarmayı destekler ve TCP, akış kontrolü ve paket yeniden iletimini yönetir.

Bir oturum içindeki veri iletimi, **Oturum Mesajı paketleri** ile gerçekleşir ve oturumlar TCP bağlantısının kapatılmasıyla sona erer.

Bu hizmetler, **NetBIOS** işlevselliği için önemlidir ve ağ üzerinde verimli iletişim ve kaynak paylaşımını sağlar. TCP ve IP protokollerine ilişkin daha fazla bilgi için ilgili [TCP Wikipedia](https://en.wikipedia.org/wiki/Transmission_Control_Protocol) ve [IP Wikipedia](https://en.wikipedia.org/wiki/Internet_Protocol) sayfalarına başvurun.
```bash
PORT      STATE SERVICE      VERSION
139/tcp   open  netbios-ssn  Microsoft Windows netbios-ssn
```
**Bu hizmeti nasıl numaralandıracağınızı öğrenmek için bir sonraki sayfayı okuyun:**

{% content-ref url="137-138-139-pentesting-netbios.md" %}
[137-138-139-pentesting-netbios.md](137-138-139-pentesting-netbios.md)
{% endcontent-ref %}

## HackTricks Otomatik Komutları
```
Protocol_Name: Netbios    #Protocol Abbreviation if there is one.
Port_Number:  137,138,139     #Comma separated if there is more than one.
Protocol_Description: Netbios         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for NetBios
Note: |
Name service for name registration and resolution (ports: 137/udp and 137/tcp).
Datagram distribution service for connectionless communication (port: 138/udp).
Session service for connection-oriented communication (port: 139/tcp).

For a device to participate in a NetBIOS network, it must have a unique name. This is achieved through a broadcast process where a "Name Query" packet is sent. If no objections are received, the name is considered available. Alternatively, a Name Service server can be queried directly to check for name availability or to resolve a name to an IP address.

https://book.hacktricks.xyz/pentesting/137-138-139-pentesting-netbios

Entry_2:
Name: Find Names
Description: Three scans to find the names of the server
Command: nmblookup -A {IP} &&&& nbtscan {IP}/30 &&&& nmap -sU -sV -T4 --script nbstat.nse -p 137 -Pn -n {IP}
```
<details>

<summary><strong>AWS hackleme becerilerini sıfırdan kahraman seviyesine öğrenmek için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>'ı öğrenin!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi HackTricks ve HackTricks Cloud** github depolarına **PR göndererek paylaşın**.

</details>
