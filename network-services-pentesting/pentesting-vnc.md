# 5800,5801,5900,5901 - Pentesting VNC

<details>

<summary><strong>Aprende hacking en AWS de cero a h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF**, consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **sigue** a **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Informaci√≥n B√°sica

En inform√°tica, **Virtual Network Computing** (**VNC**) es un sistema de compartici√≥n de escritorio gr√°fico que utiliza el protocolo Remote Frame Buffer (RFB) para controlar remotamente otra computadora. Transmite los eventos del teclado y del rat√≥n de una computadora a otra, retransmitiendo las actualizaciones de la pantalla gr√°fica en la otra direcci√≥n, a trav√©s de una red.\
De [wikipedia](https://en.wikipedia.org/wiki/Virtual\_Network\_Computing).

VNC normalmente utiliza los puertos **5800 o 5801 o 5900 o 5901.**
```
PORT    STATE SERVICE
5900/tcp open  vnc
```
## Enumeraci√≥n
```bash
nmap -sV --script vnc-info,realvnc-auth-bypass,vnc-title -p <PORT> <IP>
msf> use auxiliary/scanner/vnc/vnc_none_auth
```
### [**Brute force**](../generic-methodologies-and-resources/brute-force.md#vnc)

## Conectar a vnc usando Kali
```bash
vncviewer [-passwd passwd.txt] <IP>::5901
```
## Descifrando la contrase√±a de VNC

La **contrase√±a por defecto se almacena** en: \~/.vnc/passwd

Si tienes la contrase√±a de VNC y parece cifrada (unos pocos bytes, como si pudiera ser una contrase√±a cifrada). Probablemente est√© cifrada con 3des. Puedes obtener la contrase√±a en texto claro usando [https://github.com/jeroennijhof/vncpwd](https://github.com/jeroennijhof/vncpwd)
```bash
make
vncpwd <vnc password file>
```
Puedes hacer esto porque la contrase√±a utilizada dentro de 3des para encriptar las contrase√±as de VNC en texto plano fue revertida hace a√±os.
Para **Windows** tambi√©n puedes usar esta herramienta: [https://www.raymond.cc/blog/download/did/232/](https://www.raymond.cc/blog/download/did/232/)
Guardo la herramienta aqu√≠ tambi√©n para facilitar el acceso:

{% file src="../.gitbook/assets/vncpwd.zip" %}

## Shodan

* `port:5900 RFB`

<details>

<summary><strong>Aprende hacking en AWS de cero a h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
