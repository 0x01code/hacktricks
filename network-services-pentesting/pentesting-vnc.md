# 5800,5801,5900,5901 - Pentesting VNC

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>

## Basiese Inligting

**Virtual Network Computing (VNC)** is 'n robuuste grafiese desktop-delingstelsel wat die **Remote Frame Buffer (RFB)**-protokol gebruik om afstandsbeheer en samewerking met 'n ander rekenaar moontlik te maak. Met VNC kan gebruikers naadloos interaksie h√™ met 'n afgele√´ rekenaar deur toetsbord- en muisgebeurtenisse bidireksioneel oor te dra. Dit maak werklike toegang moontlik en fasiliteer doeltreffende afstandsbystand of samewerking oor 'n netwerk.

VNC gebruik gewoonlik poorte **5800 of 5801 of 5900 of 5901.**
```
PORT    STATE SERVICE
5900/tcp open  vnc
```
## Opname

### VNC (Virtual Network Computing)

VNC (Virtual Network Computing) is 'n protokol wat gebruik word vir die beheer van rekenaars oor 'n netwerk. Dit maak dit moontlik vir 'n gebruiker om 'n rekenaar op afstand te bedien en grafiese gebruikerskoppelvlak (GUI) te sien. Hierdie gedeelte sal fokus op die opname van VNC-dienste tydens 'n pentest.

#### TCP-poorte

VNC-dienste gebruik gewoonlik TCP-poorte 5900 tot 5906. Die standaardpoort is 5900, maar dit kan verander word deur die gebruiker of die stelseladministrateur.

#### Opname van VNC-dienste

Om VNC-dienste op te neem, kan jy die volgende stappe volg:

1. Voer 'n TCP-poortskandering uit om VNC-poorte (5900-5906) op die doelstelsel te identifiseer.
2. Maak 'n verbinding met die ge√Ødentifiseerde VNC-poort om te kyk of dit oop is.
3. As die poort oop is, probeer om 'n VNC-sessie te begin deur 'n VNC-kli√´nt te gebruik.
4. As die VNC-sessie suksesvol gevestig is, kan jy die rekenaar op afstand bedien en die GUI sien.

#### VNC-skandering

Om VNC-dienste te skandeer, kan jy hulpoortskanderingstegnieke gebruik, soos Nmap, om die VNC-poorte op die doelstelsel te identifiseer. Hier is 'n voorbeeld van die gebruik van Nmap om VNC-poorte te skandeer:

```plaintext
nmap -p 5900-5906 <doel-IP>
```

#### VNC-kli√´nte

Daar is verskeie VNC-kli√´nte beskikbaar vir verskillende bedryfstelsels. Hier is 'n paar bekende VNC-kli√´nte:

- **TightVNC**: 'n Gratis en oopbron VNC-kli√´nt vir Windows.
- **RealVNC**: 'n Kommerci√´le VNC-kli√´nt vir Windows, Linux en macOS.
- **UltraVNC**: 'n Gratis VNC-kli√´nt vir Windows.

#### VNC-veiligheidskwessies

Daar is sekere veiligheidskwessies wat verband hou met VNC-dienste wat jy moet oorweeg tydens 'n pentest:

- **Swak wagwoorde**: Baie VNC-dienste gebruik swak wagwoorde of standaard wagwoorde, soos "admin" of "password". Dit maak dit maklik vir 'n aanvaller om toegang tot die rekenaar te verkry.
- **Geen versleuteling**: Sommige VNC-dienste stel nie standaard versleuteling in nie, wat beteken dat die verkeer tussen die kli√´nt en die bediener onversleuteld is. Dit maak dit moontlik vir 'n aanvaller om die verkeer te onderskep en gevoelige inligting te verkry.
- **Kwesbaarhede**: Daar is sekere kwesbaarhede wat verband hou met spesifieke VNC-implementasies. Dit sluit in bekende kwesbaarhede soos bufferoorloopaanvalle en foutiewe verifikasie.

#### VNC-veiligheidsaanbevelings

Om die veiligheid van VNC-dienste te verbeter, kan jy die volgende aanbevelings oorweeg:

- **Sterk wagwoorde**: Stel sterk en unieke wagwoorde in vir VNC-dienste om te voorkom dat aanvallers maklik toegang tot die rekenaar verkry.
- **Versleuteling**: Stel versleuteling in vir VNC-dienste om te verseker dat die verkeer tussen die kli√´nt en die bediener veilig is.
- **Bywerk van sagteware**: Verseker dat die VNC-sagteware op die bediener en kli√´nt opgedateer is met die nuutste opdaterings en pleisters om bekende kwesbaarhede te vermy.
- **Beperkte toegang**: Beperk die toegang tot VNC-dienste deur slegs vertroude IP-adresse toe te laat om te verhoed dat onbevoegde gebruikers toegang verkry.

#### VNC-gebruikersname en wagwoordlekke

As deel van 'n pentest kan jy soek na gelekte VNC-gebruikersname en wagwoorde om te kyk of daar enige kwesbaarhede is. Jy kan verskillende hulpbronne soos gelekte wagwoorddatabasisse en webwerwe vir die soektog gebruik.
```bash
nmap -sV --script vnc-info,realvnc-auth-bypass,vnc-title -p <PORT> <IP>
msf> use auxiliary/scanner/vnc/vnc_none_auth
```
### [**Brute force**](../generic-methodologies-and-resources/brute-force.md#vnc)

## Verbind met vnc deur Kali te gebruik
```bash
vncviewer [-passwd passwd.txt] <IP>::5901
```
## Ontsleuteling van VNC-wagwoord

Standaard wagwoord word gestoor in: \~/.vnc/passwd

As jy die VNC-wagwoord het en dit lyk versleutel ( 'n paar byte, soos of dit 'n versleutelde wagwoord kan wees), is dit waarskynlik versleutel met 3des. Jy kan die wagwoord in duidelike teks kry deur [https://github.com/jeroennijhof/vncpwd](https://github.com/jeroennijhof/vncpwd) te gebruik.
```bash
make
vncpwd <vnc password file>
```
Jy kan dit doen omdat die wagwoord wat binne 3des gebruik word om die plat-teks VNC-wagwoorde te versleutel, jare gelede omgekeer is.\
Vir **Windows** kan jy ook hierdie instrument gebruik: [https://www.raymond.cc/blog/download/did/232/](https://www.raymond.cc/blog/download/did/232/)\
Ek stoor die instrument hier ook vir maklike toegang:

{% file src="../.gitbook/assets/vncpwd.zip" %}

## Shodan

* `port:5900 RFB`

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
