# SIP (Session Initiation Protocol)

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –ø—Ä–æ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>

## –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

SIP (Session Initiation Protocol) - —Ü–µ **—Å–∏–≥–Ω–∞–ª—å–Ω–∏–π —Ç–∞ –∫–µ—Ä—É—é—á–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–∑–≤—ñ–Ω–∫–∞–º–∏**, —à–∏—Ä–æ–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è, –∑–º—ñ–Ω–∏ —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–∏—Ö —Å–µ–∞–Ω—Å—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ –≥–æ–ª–æ—Å, –≤—ñ–¥–µ–æ —Ç–∞ –º–∏—Ç—Ç—î–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —á–µ—Ä–µ–∑ IP-–º–µ—Ä–µ–∂—ñ. –†–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π **Internet Engineering Task Force (IETF)**, SIP –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π —É **RFC 3261** —ñ —Å—Ç–∞–≤ –¥–µ-—Ñ–∞–∫—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è VoIP —Ç–∞ –æ–±'—î–¥–Ω–∞–Ω–∏—Ö –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π.

–î–µ—è–∫—ñ –∫–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ SIP –≤–∫–ª—é—á–∞—é—Ç—å:

1. **–¢–µ–∫—Å—Ç–æ–≤–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª**: SIP - —Ü–µ —Ç–µ–∫—Å—Ç–æ–≤–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º –¥–ª—è –ª—é–¥–∏–Ω–∏ —Ç–∞ –ª–µ–≥–∫–∏–º —É –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—ñ. –í—ñ–Ω –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –º–æ–¥–µ–ª—ñ –∑–∞–ø–∏—Ç-–≤—ñ–¥–ø–æ–≤—ñ–¥—å, —Å—Ö–æ–∂—ñ–π –Ω–∞ HTTP, —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–µ—Ç–æ–¥–∏, —Ç–∞–∫—ñ —è–∫ INVITE, ACK, BYE —Ç–∞ CANCEL –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∑–≤—ñ–Ω–∫–∞–º–∏.
2. **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å —Ç–∞ –≥–Ω—É—á–∫—ñ—Å—Ç—å**: SIP –¥—É–∂–µ –º–∞—Å—à—Ç–∞–±–æ–≤–Ω–∏–π —ñ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —è–∫ —É –Ω–µ–≤–µ–ª–∏–∫–∏—Ö —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è—Ö, —Ç–∞–∫ —ñ –≤ –≤–µ–ª–∏–∫–∏—Ö –ø—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤–∞—Ö —Ç–∞ —Å–µ—Ä–≤—ñ—Å–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞—Ö. –ô–æ–≥–æ –ª–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–º –¥–æ —Ä—ñ–∑–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ –≤–∏–º–æ–≥.
3. **–Ü–Ω—Ç–µ—Ä–æ–ø–µ—Ä–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å**: –®–∏—Ä–æ–∫–µ –ø–æ—à–∏—Ä–µ–Ω–Ω—è —Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü—ñ—è SIP –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –∫—Ä–∞—â—É –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏, –¥–æ–¥–∞—Ç–∫–∞–º–∏ —Ç–∞ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞–º–∏ –ø–æ—Å–ª—É–≥, —Å–ø—Ä–∏—è—é—á–∏ –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω—ñ–π –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.
4. **–ú–æ–¥—É–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω**: SIP –ø—Ä–∞—Ü—é—î –∑ —ñ–Ω—à–∏–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏, —Ç–∞–∫–∏–º–∏ —è–∫ **RTP (Real-time Transport Protocol)** –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –º–µ–¥—ñ–∞ —Ç–∞ **SDP (Session Description Protocol)** –¥–ª—è –æ–ø–∏—Å—É –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–∏—Ö —Å–µ–∞–Ω—Å—ñ–≤. –¶–µ–π –º–æ–¥—É–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω –¥–æ–∑–≤–æ–ª—è—î –±—ñ–ª—å—à—É –≥–Ω—É—á–∫—ñ—Å—Ç—å —Ç–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ –º–µ–¥—ñ–∞ —Ç–∞ –∫–æ–¥–µ–∫–∞–º–∏.
5. **–ü—Ä–æ–∫—Å—ñ —Ç–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä—ñ–≤**: SIP –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–æ–∫—Å—ñ —Ç–∞ —Å–µ—Ä–≤–µ—Ä–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–ª—è –ø–æ–ª–µ–≥—à–µ–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó –¥–∑–≤—ñ–Ω–∫—ñ–≤ —Ç–∞ –Ω–∞–¥–∞–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π, —Ç–∞–∫–∏—Ö —è–∫ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü—ñ—è –¥–∑–≤—ñ–Ω–∫—ñ–≤, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–∑–≤—ñ–Ω–∫—ñ–≤ —Ç–∞ –ø–æ—Å–ª—É–≥–∏ –≥–æ–ª–æ—Å–æ–≤–æ—ó –ø–æ—à—Ç–∏.
6. **–ü—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç–∞ –º–∏—Ç—Ç—î–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**: SIP –Ω–µ –æ–±–º–µ–∂—É—î—Ç—å—Å—è –ª–∏—à–µ –≥–æ–ª–æ—Å–æ–≤–∏–º —Ç–∞ –≤—ñ–¥–µ–æ –∑–≤'—è–∑–∫–æ–º. –í—ñ–Ω —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç–∞ –º–∏—Ç—Ç—î–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —â–æ –¥–æ–∑–≤–æ–ª—è—î —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –æ–±'—î–¥–Ω–∞–Ω–∏—Ö –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤.

–ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –±–∞–≥–∞—Ç–æ –ø–µ—Ä–µ–≤–∞–≥, SIP –º–æ–∂–µ –±—É—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏–º —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—ñ, –æ—Å–æ–±–ª–∏–≤–æ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ NAT-–ø–µ—Ä–µ—Ö–æ–¥—É —Ç–∞ –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä–∞–º–∏. –û–¥–Ω–∞–∫ –π–æ–≥–æ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å —Ç–∞ —à–∏—Ä–æ–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —É –≤—Å—ñ–π –≥–∞–ª—É–∑—ñ —Ä–æ–±–ª—è—Ç—å –π–æ–≥–æ –ø–æ–ø—É–ª—è—Ä–Ω–∏–º –≤–∏–±–æ—Ä–æ–º –¥–ª—è VoIP —Ç–∞ –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–∏—Ö –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π.

### –ú–µ—Ç–æ–¥–∏ SIP

–û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ SIP, –≤–∏–∑–Ω–∞—á–µ–Ω—ñ —É **RFC 3261**, –≤–∫–ª—é—á–∞—é—Ç—å:

1. **INVITE**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **—ñ–Ω—ñ—Ü—ñ—é–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Å–µ–∞–Ω—Å—É (–¥–∑–≤—ñ–Ω–∫–∞)** –∞–±–æ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–æ–≥–æ. –ú–µ—Ç–æ–¥ INVITE –º—ñ—Å—Ç–∏—Ç—å –æ–ø–∏—Å —Å–µ–∞–Ω—Å—É (–∑–∞–∑–≤–∏—á–∞–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SDP), —â–æ–± –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –æ—Ç—Ä–∏–º—É–≤–∞—á–∞ –ø—Ä–æ –¥–µ—Ç–∞–ª—ñ –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–æ–≥–æ —Å–µ–∞–Ω—Å—É, —Ç–∞–∫—ñ —è–∫ —Ç–∏–ø–∏ –º–µ–¥—ñ–∞, –∫–æ–¥–µ–∫–∏ —Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏ –ø–µ—Ä–µ–¥–∞—á—ñ.
2. **ACK**: –ù–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –¥–ª—è **–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è** –æ—Å—Ç–∞—Ç–æ—á–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∑–∞–ø–∏—Ç INVITE. –ú–µ—Ç–æ–¥ ACK –∑–∞–±–µ–∑–ø–µ—á—É—î –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π INVITE, –Ω–∞–¥–∞—é—á–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑ –∫—ñ–Ω—Ü—è –≤ –∫—ñ–Ω–µ—Ü—å.
3. **BYE**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ–≥–æ —Å–µ–∞–Ω—Å—É (–¥–∑–≤—ñ–Ω–∫–∞)**. –ú–µ—Ç–æ–¥ BYE –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –æ–¥–Ω—ñ—î—é –∑—ñ —Å—Ç–æ—Ä—ñ–Ω —É —Å–µ–∞–Ω—Å—ñ, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏, —â–æ –≤–æ–Ω–∏ –±–∞–∂–∞—é—Ç—å –∑–∞–≤–µ—Ä—à–∏—Ç–∏ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è.
4. **CANCEL**: –ù–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –¥–ª—è **—Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –æ—á—ñ–∫—É–≤–∞–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É INVITE** –¥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ–∞–Ω—Å—É. –ú–µ—Ç–æ–¥ CANCEL –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫—É —Å–∫–∞—Å—É–≤–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é INVITE, —è–∫—â–æ –≤–æ–Ω–∏ –∑–º—ñ–Ω–∏–ª–∏ —Å–≤–æ—é –¥—É–º–∫—É –∞–±–æ –Ω–µ –æ—Ç—Ä–∏–º–∞–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ –æ—Ç—Ä–∏–º—É–≤–∞—á–∞.
5. **OPTIONS**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **–∑–∞–ø–∏—Ç—É–≤–∞–Ω–Ω—è –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π —Å–µ—Ä–≤–µ—Ä–∞ SIP –∞–±–æ –∞–≥–µ–Ω—Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**. –ú–µ—Ç–æ–¥ OPTIONS –º–æ–∂–µ –±—É—Ç–∏ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∏–π –¥–ª—è –∑–∞–ø–∏—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –º–µ—Ç–æ–¥–∏, —Ç–∏–ø–∏ –º–µ–¥—ñ–∞ –∞–±–æ —ñ–Ω—à—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–Ω–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ–∞–Ω—Å—É.
6. **REGISTER**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∞–≥–µ–Ω—Ç–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è **—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Å–≤–æ–≥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —É —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä—ñ —Å–µ—Ä–≤–µ—Ä–∞ SIP**. –ú–µ—Ç–æ–¥ REGISTER –¥–æ–ø–æ–º–∞–≥–∞—î –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º—ñ–∂ SIP URI –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ —ó—Ö –ø–æ—Ç–æ—á–Ω–æ—é IP-–∞–¥—Ä–µ—Å–æ—é, —â–æ –¥–æ–∑–≤–æ–ª—è—î –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—é —Ç–∞ –¥–æ—Å—Ç–∞–≤–∫—É –¥–∑–≤—ñ–Ω–∫—ñ–≤.

{% hint style="warning" %}
–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –¥–ª—è –¥–∑–≤—ñ–Ω–∫–∞ –∫–æ–º—É—Å—å **–Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ REGISTER** –¥–ª—è —á–æ–≥–æ-–Ω–µ–±—É–¥—å.\
–û–¥–Ω–∞–∫ –º–æ–∂–ª–∏–≤–æ, —â–æ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è **INVITE** –¥–∑–≤—ñ–Ω–∫–∞ –≤–∏–∫–ª–∏–∫–∞—é—á–∏–π –ø–æ–≤–∏–Ω–µ–Ω **–∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏—Å—è** —Å–ø–æ—á–∞—Ç–∫—É, –∞–±–æ –≤—ñ–Ω –æ—Ç—Ä–∏–º–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å **`401 Unauthorized`**.
{% endhint %}

–ö—Ä—ñ–º —Ü–∏—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤, —ñ—Å–Ω—É—é—Ç—å **–∫—ñ–ª—å–∫–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ SIP**, –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö —É —ñ–Ω—à–∏—Ö RFC, —Ç–∞–∫–∏—Ö —è–∫:

1. **SUBSCRIBE**: –í–∏–∑–Ω–∞—á–µ–Ω–∏–π —É RFC 6665, –º–µ—Ç–æ–¥ SUBSCRIBE –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **–∑–∞–ø–∏—Ç—É —Å–ø–æ–≤—ñ—â–µ–Ω—å** –ø—Ä–æ —Å—Ç–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É, —Ç–∞–∫–æ–≥–æ —è–∫ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ —Å—Ç–∞—Ç—É—Å –¥–∑–≤—ñ–Ω–∫–∞.
2. **NOTIFY**: –¢–∞–∫–æ–∂ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π —É RFC 6665, –º–µ—Ç–æ–¥ NOTIFY –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è **–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∞–Ω–æ–º—É –∞–≥–µ–Ω—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞** –ø—Ä–æ –∑–º—ñ–Ω–∏ —É —Å—Ç–∞–Ω—ñ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É.
3. **REFER**: –í–∏–∑–Ω–∞—á–µ–Ω–∏–π —É RFC 3515, –º–µ—Ç–æ–¥ REFER –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **–∑–∞–ø–∏—Ç—É, —â–æ–± –æ—Ç—Ä–∏–º—É–≤–∞—á –≤–∏–∫–æ–Ω–∞–≤ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∞–±–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç—Ä–µ—Ç—é —Å—Ç–æ—Ä–æ–Ω—É**. –¶–µ –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ **–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–∑–≤—ñ–Ω–∫—ñ–≤**.
4. **MESSAGE**: –í–∏–∑–Ω–∞—á–µ–Ω–∏–π —É RFC 3428, –º–µ—Ç–æ–¥ MESSAGE –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **–Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –º–∏—Ç—Ç—î–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º—ñ–∂ –∞–≥–µ–Ω—Ç–∞–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ SIP**, –¥–æ–∑–≤–æ–ª—è—é—á–∏ —Ç–µ–∫—Å—Ç–æ–≤–∏–π –∑–≤'—è–∑–æ–∫ –≤ –º–µ–∂–∞—Ö SIP-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É.
5. **UPDATE**: –í–∏–∑–Ω–∞—á–µ–Ω–∏–π —É RFC 3311, –º–µ—Ç–æ–¥ UPDATE –¥–æ–∑–≤–æ–ª—è—î **–∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å–µ–∞–Ω—Å –±–µ–∑ –≤–ø–ª–∏–≤—É –Ω–∞ —Å—Ç–∞–Ω —ñ—Å–Ω—É—é—á–æ–≥–æ –¥—ñ–∞–ª–æ–≥—É**. –¶–µ –∫–æ—Ä–∏—Å–Ω–æ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Å–µ–∞–Ω—Å—É, —Ç–∞–∫–∏—Ö —è–∫ –∫–æ–¥–µ–∫–∏ –∞–±–æ —Ç–∏–ø–∏ –º–µ–¥—ñ–∞, –ø—ñ–¥ —á–∞—Å —Ç—Ä–∏–≤–∞–ª–æ–≥–æ –¥–∑–≤—ñ–Ω–∫–∞.
6. **PUBLISH**: –í–∏–∑–Ω–∞—á–µ–Ω–∏–π —É RFC 3903, –º–µ—Ç–æ–¥ PUBLISH –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∞–≥–µ–Ω—Ç–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è **–ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Å—Ç–∞–Ω –ø–æ–¥—ñ—ó –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ**, –∑—Ä–æ–±–∏–≤—à–∏ —ó—ó –¥–æ—Å—Ç—É–ø–Ω–æ—é –¥–ª—è —ñ–Ω—à–∏—Ö –∑–∞—Ü—ñ–∫–∞–≤–ª–µ–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω.

### –ö–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π SIP

* **1xx (–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)**: –¶—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∫–∞–∑—É—é—Ç—å, —â–æ –∑–∞–ø–∏—Ç –±—É–ª–æ –æ—Ç—Ä–∏–º–∞–Ω–æ, —ñ —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–¥–æ–≤–∂—É—î –π–æ–≥–æ –æ–±—Ä–æ–±–∫—É.
* 100 Trying: –ó–∞–ø–∏—Ç –±—É–ª–æ –æ—Ç—Ä–∏–º–∞–Ω–æ, —ñ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î –Ω–∞–¥ –Ω–∏–º.
* 180 Ringing: –û—Å–æ–±–∞, —è–∫—É –≤–∏–∫–ª–∏–∫–∞—é—Ç—å, –æ—Ç—Ä–∏–º—É—î —Å–∏–≥–Ω–∞–ª —Ç–∞ –≤—ñ–∑—å–º–µ –¥–∑–≤—ñ–Ω–æ–∫.
* 183 Session Progress: –ù–∞–¥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø—Ä–æ–≥—Ä–µ—Å –¥–∑–≤—ñ–Ω–∫–∞.
* **2xx (–£—Å–ø—ñ—à–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)**: –¶—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∫–∞–∑—É—é—Ç—å, —â–æ –∑–∞–ø–∏—Ç –±—É–ª–æ —É—Å–ø—ñ—à–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–æ, –∑—Ä–æ–∑—É–º—ñ–ª–æ —Ç–∞ –ø—Ä–∏–π–Ω—è—Ç–æ.
* 200 OK: –ó–∞–ø–∏—Ç –±—É–ª–æ —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω–æ, —ñ —Å–µ—Ä–≤–µ—Ä –π–æ–≥–æ –≤–∏–∫–æ–Ω–∞–≤.
* 202 Accepted: –ó–∞–ø–∏—Ç –±—É–ª–æ –ø—Ä–∏–π–Ω—è—Ç–æ –¥–ª—è –æ–±—Ä–æ–±–∫–∏, –∞–ª–µ –≤—ñ–Ω —â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ.
* **3xx (–í—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è)**: –¶—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∫–∞–∑—É—é—Ç—å, —â–æ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥—ñ—ó, –∑–∞–∑–≤–∏—á–∞–π —à–ª—è—Ö–æ–º –∑–≤'—è–∑–∫—É –∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–º —Ä–µ—Å—É—Ä—Å–æ–º.
* 300 Multiple Choices: –Ñ –∫—ñ–ª—å–∫–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤, —ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–±–æ –∫–ª—ñ—î–Ω—Ç –ø–æ–≤–∏–Ω–µ–Ω –≤–∏–±—Ä–∞—Ç–∏ –æ–¥–∏–Ω.
* 301 Moved Permanently: –ó–∞–ø–∏—Ç–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å –±—É–ª–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ –Ω–æ–≤–∏–π –ø–æ—Å—Ç—ñ–π–Ω–∏–π URI.
* 302 Moved Temporarily: –ó–∞–ø–∏—Ç–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å —Ç–∏–º—á–∞—Å–æ–≤–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ —ñ–Ω—à–∏–º URI.
* 305 Use Proxy: –ó–∞–ø–∏—Ç –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∏–π –Ω–∞ –≤–∫–∞–∑–∞–Ω–∏–π –ø—Ä–æ–∫—Å—ñ.
* **4xx (–í—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –∫–ª—ñ—î–Ω—Ç–∞)**: –¶—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∫–∞–∑—É—é—Ç—å, —â–æ –∑–∞–ø–∏—Ç –º—ñ—Å—Ç–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∞–±–æ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–∏–π —Å–µ—Ä–≤–µ—Ä–æ–º.
* 400 Bad Request: –ó–∞–ø–∏—Ç –±—É–≤ —Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–∏–π –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞–±–æ –Ω–µ–¥—ñ–π—Å–Ω–∏–π.
* 401 Unauthorized: –î–ª—è –∑–∞–ø–∏—Ç—É –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
* 403 Forbidden: –°–µ—Ä–≤–µ—Ä —Ä–æ–∑—É–º—ñ–≤ –∑–∞–ø–∏—Ç, –∞–ª–µ –≤—ñ–¥–º–æ–≤–ª—è—î—Ç—å—Å—è –π–æ–≥–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏.
* 404 Not Found: –ó–∞–ø–∏—Ç–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å –Ω–µ –±—É–≤ –∑–Ω–∞–π–¥–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.
* 408 Request Timeout: –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç—Ä–∏–º–∞–≤ –ø–æ–≤–Ω–∏–π –∑–∞–ø–∏—Ç –ø—Ä–æ—Ç—è–≥–æ–º —á–∞—Å—É, –Ω–∞ —è–∫–∏–π –±—É–≤ –≥–æ—Ç–æ–≤–∏–π —á–µ–∫–∞—Ç–∏.
* 486 Busy Here: –û—Å–æ–±–∞, —è–∫—É –≤–∏–∫–ª–∏–∫–∞—é—Ç—å, –∑–∞
## –ü—Ä–∏–∫–ª–∞–¥–∏

### –ü—Ä–∏–∫–ª–∞–¥ SIP INVITE
```
INVITE sip:jdoe@example.com SIP/2.0
Via: SIP/2.0/UDP pc33.example.com;branch=z9hG4bK776asdhds
Max-Forwards: 70
To: John Doe <sip:jdoe@example.com>
From: Jane Smith <sip:jsmith@example.org>;tag=1928301774
Call-ID: a84b4c76e66710
CSeq: 314159 INVITE
Contact: <sip:jsmith@pc33.example.com>
User-Agent: ExampleSIPClient/1.0
Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, NOTIFY, MESSAGE, SUBSCRIBE, INFO
Content-Type: application/sdp
Content-Length: 142

v=0
o=jsmith 2890844526 2890842807 IN IP4 pc33.example.com
s=-
c=IN IP4 pc33.example.com
t=0 0
m=audio 49170 RTP/AVP 0
a=rtpmap:0 PCMU/8000te
```
<details>

<summary>–ö–æ–∂–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—è—Å–Ω–µ–Ω–æ</summary>

1. **Request-Line**: `INVITE sip:jdoe@example.com SIP/2.0` - –¶–µ–π —Ä—è–¥–æ–∫ –≤–∫–∞–∑—É—î –º–µ—Ç–æ–¥ (INVITE), –∑–∞–ø–∏—Ç URI (sip:[jdoe@example.com](mailto:jdoe@example.com)), —Ç–∞ –≤–µ—Ä—Å—ñ—é SIP (SIP/2.0).
2. **Via**: `Via: SIP/2.0/UDP pc33.example.com;branch=z9hG4bK776asdhds` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ Via –≤–∫–∞–∑—É—î –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á—ñ (UDP) —Ç–∞ –∞–¥—Ä–µ—Å—É –∫–ª—ñ—î–Ω—Ç–∞ (pc33.example.com). –ü–∞—Ä–∞–º–µ—Ç—Ä "branch" –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–µ—Ç–µ–ª—å —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π.
3. **Max-Forwards**: `Max-Forwards: 70` - –¶–µ –ø–æ–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ–±–º–µ–∂—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–∞–∑—ñ–≤, —è–∫—ñ –∑–∞–ø–∏—Ç –º–æ–∂–µ –±—É—Ç–∏ –ø–µ—Ä–µ—Å–ª–∞–Ω–∏–π –ø—Ä–æ–∫—Å—ñ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –±–µ–∑–∫—ñ–Ω–µ—á–Ω–∏—Ö –ø–µ—Ç–µ–ª—å.
4. **To**: `To: John Doe <sip:jdoe@example.com>` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ To –≤–∫–∞–∑—É—î –æ—Ç—Ä–∏–º—É–≤–∞—á–∞ –¥–∑–≤—ñ–Ω–∫–∞, –≤–∫–ª—é—á–∞—é—á–∏ —ó—Ö –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–µ —ñ–º'—è (John Doe) —Ç–∞ SIP URI (sip:[jdoe@example.com](mailto:jdoe@example.com)).
5. **From**: `From: Jane Smith <sip:jsmith@example.org>;tag=1928301774` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ From –≤–∫–∞–∑—É—î –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ –¥–∑–≤—ñ–Ω–∫–∞, –≤–∫–ª—é—á–∞—é—á–∏ —ó—Ö –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–µ —ñ–º'—è (Jane Smith) —Ç–∞ SIP URI (sip:[jsmith@example.org](mailto:jsmith@example.org)). –ü–∞—Ä–∞–º–µ—Ç—Ä "tag" –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ä–æ–ª—ñ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ –≤ –¥—ñ–∞–ª–æ–∑—ñ.
6. **Call-ID**: `Call-ID: a84b4c76e66710` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ Call-ID —É–Ω—ñ–∫–∞–ª—å–Ω–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î —Å–µ–∞–Ω—Å –¥–∑–≤—ñ–Ω–∫–∞ –º—ñ–∂ –¥–≤–æ–º–∞ –∞–≥–µ–Ω—Ç–∞–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
7. **CSeq**: `CSeq: 314159 INVITE` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ CSeq –º—ñ—Å—Ç–∏—Ç—å –Ω–æ–º–µ—Ä –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –º–µ—Ç–æ–¥, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π —É –∑–∞–ø–∏—Ç—ñ. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ –∑–∞–ø–∏—Ç–∏ —Ç–∞ –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, —â–æ –Ω–∞–¥—Ö–æ–¥—è—Ç—å –Ω–µ –≤ –ø–æ—Ä—è–¥–∫—É.
8. **Contact**: `Contact: <sip:jsmith@pc33.example.com>` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ Contact –Ω–∞–¥–∞—î –ø—Ä—è–º–∏–π –º–∞—Ä—à—Ä—É—Ç –¥–æ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.
9. **User-Agent**: `User-Agent: ExampleSIPClient/1.0` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ User-Agent –Ω–∞–¥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∞–±–æ –∞–ø–∞—Ä–∞—Ç–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞, –≤–∫–ª—é—á–∞—é—á–∏ –π–æ–≥–æ –Ω–∞–∑–≤—É —Ç–∞ –≤–µ—Ä—Å—ñ—é.
10. **Allow**: `Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, NOTIFY, MESSAGE, SUBSCRIBE, INFO` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ Allow –ø–µ—Ä–µ–ª—ñ—á—É—î –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –º–µ—Ç–æ–¥–∏ SIP –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞. –¶–µ –¥–æ–ø–æ–º–∞–≥–∞—î –æ—Ç—Ä–∏–º—É–≤–∞—á—É –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫—ñ –º–µ—Ç–æ–¥–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—ñ–¥ —á–∞—Å –∑–≤'—è–∑–∫—É.
11. **Content-Type**: `Content-Type: application/sdp` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ Content-Type –≤–∫–∞–∑—É—î –º–µ–¥—ñ–∞-—Ç–∏–ø —Ç—ñ–ª–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —É —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É, SDP (–ü—Ä–æ—Ç–æ–∫–æ–ª –æ–ø–∏—Å—É —Å–µ–∞–Ω—Å—É).
12. **Content-Length**: `Content-Length: 142` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ Content-Length –≤–∫–∞–∑—É—î —Ä–æ–∑–º—ñ—Ä —Ç—ñ–ª–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±–∞–π—Ç–∞—Ö.
13. **–¢—ñ–ª–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**: –¢—ñ–ª–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º—ñ—Å—Ç–∏—Ç—å –æ–ø–∏—Å —Å–µ–∞–Ω—Å—É SDP, —è–∫–∏–π –≤–∫–ª—é—á–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–∏–ø–∏ –º–µ–¥—ñ–∞, –∫–æ–¥–µ–∫–∏ —Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏ –ø–µ—Ä–µ–¥–∞—á—ñ –¥–ª—è –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–æ–≥–æ —Å–µ–∞–Ω—Å—É.

* `v=0` - –í–µ—Ä—Å—ñ—è –ø—Ä–æ—Ç–æ–∫–æ–ª—É (0 –¥–ª—è SDP)
* `o=jsmith 2890844526 2890842807 IN IP4 pc33.example.com` - –Ü–Ω—ñ—Ü—ñ–∞—Ç–æ—Ä —Ç–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Å–µ–∞–Ω—Å—É
* `s=-` - –ù–∞–∑–≤–∞ —Å–µ–∞–Ω—Å—É (–æ–¥–∏–Ω –¥–µ—Ñ—ñ—Å –≤–∫–∞–∑—É—î –Ω–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –Ω–∞–∑–≤–∏ —Å–µ–∞–Ω—Å—É)
* `c=IN IP4 pc33.example.com` - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (—Ç–∏–ø –º–µ—Ä–µ–∂—ñ, —Ç–∏–ø –∞–¥—Ä–µ—Å–∏ —Ç–∞ –∞–¥—Ä–µ—Å–∞)
* `t=0 0` - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —á–∞—Å (–ø–æ—á–∞—Ç–æ–∫ —Ç–∞ –∫—ñ–Ω–µ—Ü—å —á–∞—Å—É, 0 0 –æ–∑–Ω–∞—á–∞—î, —â–æ —Å–µ–∞–Ω—Å –Ω–µ –æ–±–º–µ–∂–µ–Ω–∏–π)
* `m=audio 49170 RTP/AVP 0` - –û–ø–∏—Å –º–µ–¥—ñ–∞ (—Ç–∏–ø –º–µ–¥—ñ–∞, –Ω–æ–º–µ—Ä –ø–æ—Ä—Ç—É, –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á—ñ —Ç–∞ —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º–∞—Ç—ñ–≤). –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∫–∞–∑—É—î—Ç—å—Å—è –∞—É–¥—ñ–æ–ø–æ—Ç—ñ–∫, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ RTP/AVP (–ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É / –ü—Ä–æ—Ñ—ñ–ª—å –∞—É–¥—ñ–æ-–≤—ñ–¥–µ–æ) —Ç–∞ —Ñ–æ—Ä–º–∞—Ç 0 (PCMU/8000).
* `a=rtpmap:0 PCMU/8000` - –ê—Ç—Ä–∏–±—É—Ç, —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Ñ–æ—Ä–º–∞—Ç (0) –Ω–∞ –∫–æ–¥–µ–∫ (PCMU) —Ç–∞ –π–æ–≥–æ —á–∞—Å—Ç–æ—Ç—É –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó (8000 –ì—Ü).

</details>

### –ü—Ä–∏–∫–ª–∞–¥ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó SIP

–ú–µ—Ç–æ–¥ **REGISTER** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –ü—Ä–æ—Ç–æ–∫–æ–ª—ñ –Ü–Ω—ñ—Ü—ñ—é–≤–∞–Ω–Ω—è –°–µ–∞–Ω—Å—É (SIP), —â–æ–± –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –∞–≥–µ–Ω—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (UA), —Ç–∞–∫–æ–º—É —è–∫ VoIP-—Ç–µ–ª–µ—Ñ–æ–Ω –∞–±–æ —Å–æ—Ñ—Ç—Ñ–æ–Ω, **–∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ —Å–≤–æ—î –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó SIP**. –¶–µ–π –ø—Ä–æ—Ü–µ—Å –¥–æ–∑–≤–æ–ª—è—î —Å–µ—Ä–≤–µ—Ä—É –∑–Ω–∞—Ç–∏, **–∫—É–¥–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑—É–≤–∞—Ç–∏ –≤—Ö—ñ–¥–Ω—ñ SIP-–∑–∞–ø–∏—Ç–∏, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**. –°–µ—Ä–≤–µ—Ä —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∑–∞–∑–≤–∏—á–∞–π —î —á–∞—Å—Ç–∏–Ω–æ—é —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ–∫—Å—ñ SIP –∞–±–æ –æ–∫—Ä–µ–º–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.

–û—Å—å –¥–æ–∫–ª–∞–¥–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ SIP-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, —â–æ –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å —É –ø—Ä–æ—Ü–µ—Å—ñ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:

1. –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç **REGISTER** –≤—ñ–¥ UA –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:
```yaml
REGISTER sip:example.com SIP/2.0
Via: SIP/2.0/UDP 192.168.1.100:5060;branch=z9hG4bK776asdhds
Max-Forwards: 70
From: Alice <sip:alice@example.com>;tag=565656
To: Alice <sip:alice@example.com>
Call-ID: 1234567890@192.168.1.100
CSeq: 1 REGISTER
Contact: <sip:alice@192.168.1.100:5060>;expires=3600
Expires: 3600
Content-Length: 0
```
–¶–µ –ø–æ—á–∞—Ç–∫–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è REGISTER –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è UA (–ê–ª—ñ—Å–∞) –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó. –í–æ–Ω–æ –º—ñ—Å—Ç–∏—Ç—å –≤–∞–∂–ª–∏–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —Ç–∞–∫—É —è–∫ –±–∞–∂–∞–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó (Expires), SIP URI –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (sip:[alice@example.com](mailto:alice@example.com)), —Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É –∞–¥—Ä–µ—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (sip:alice@192.168.1.100:5060).

2. –í—ñ–¥–ø–æ–≤—ñ–¥—å **401 Unauthorized** –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:
```css
cssCopy codeSIP/2.0 401 Unauthorized
Via: SIP/2.0/UDP 192.168.1.100:5060;branch=z9hG4bK776asdhds
From: Alice <sip:alice@example.com>;tag=565656
To: Alice <sip:alice@example.com>;tag=7878744
Call-ID: 1234567890@192.168.1.100
CSeq: 1 REGISTER
WWW-Authenticate: Digest realm="example.com", nonce="abcdefghijk", algorithm=MD5, qop="auth"
Content-Length: 0
```
–†–µ—î—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º "401 Unauthorized", —è–∫–µ –º—ñ—Å—Ç–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ "WWW-Authenticate". –¶–µ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, –Ω–µ–æ–±—Ö—ñ–¥–Ω—É –¥–ª—è UA –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —Ç–∞–∫—É —è–∫ **–æ–±–ª–∞—Å—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, nonce —Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º**.

3. –ó–∞–ø–∏—Ç REGISTER **–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∏–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏**:
```vbnet
REGISTER sip:example.com SIP/2.0
Via: SIP/2.0/UDP 192.168.1.100:5060;branch=z9hG4bK776asdhds
Max-Forwards: 70
From: Alice <sip:alice@example.com>;tag=565656
To: Alice <sip:alice@example.com>
Call-ID: 1234567890@192.168.1.100
CSeq: 2 REGISTER
Contact: <sip:alice@192.168.1.100:5060>;expires=3600
Expires: 3600
Authorization: Digest username="alice", realm="example.com", nonce="abcdefghijk", uri="sip:example.com", response="65a8e2285879283831b664bd8b7f14d4", algorithm=MD5, cnonce="lmnopqrst", qop=auth, nc=00000001
Content-Length: 0
```
UA –Ω–∞–¥—Å–∏–ª–∞—î —â–µ –æ–¥–∏–Ω –∑–∞–ø–∏—Ç REGISTER, –Ω–∞ —Ü–µ–π —Ä–∞–∑ –≤–∫–ª—é—á–∞—é—á–∏ **–∑–∞–≥–æ–ª–æ–≤–æ–∫ "Authorization" –∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏, —Ç–∞–∫–∏–º–∏ —è–∫ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –æ–±–ª–∞—Å—Ç—å, nonce —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**, —Ä–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω–µ –∑–∞ –Ω–∞–¥–∞–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏ —Ç–∞ –ø–∞—Ä–æ–ª–µ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

–û—Å—å —è–∫ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è **–≤—ñ–¥–ø–æ–≤—ñ–¥—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó**:
```python
import hashlib

def calculate_sip_md5_response(username, password, realm, method, uri, nonce, nc, cnonce, qop):
# 1. Calculate HA1 (concatenation of username, realm, and password)
ha1_input = f"{username}:{realm}:{password}"
ha1 = hashlib.md5(ha1_input.encode()).hexdigest()

# 2. Calculate HA2 (concatenation of method and uri)
ha2_input = f"{method}:{uri}"
ha2 = hashlib.md5(ha2_input.encode()).hexdigest()

# 3. Calculate the final response value (concatenation of h1, stuff and h2)
response_input = f"{ha1}:{nonce}:{nc}:{cnonce}:{qop}:{ha2}"
response = hashlib.md5(response_input.encode()).hexdigest()

return response

# Example usage
username = "alice"
password = "mysecretpassword"
realm = "example.com"
method = "REGISTER"
uri = "sip:example.com"
nonce = "abcdefghijk"
nc = "00000001"
cnonce = "lmnopqrst"
qop = "auth"

response = calculate_sip_md5_response(username, password, realm, method, uri, nonce, nc, cnonce, qop)
print(f"MD5 response value: {response}")
```
4. **–£—Å–ø—ñ—à–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è** –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
```yaml
SIP/2.0 200 OK
Via: SIP/2.0/UDP 192.168.1.100:5060;branch=z9hG4bK776asdhds
From: Alice <sip:alice@example.com>;tag=565656
To: Alice <sip:alice@example.com>;tag=7878744
Call-ID: 1234567890@192.168.1.100
CSeq: 2 REGISTER
Contact: <sip:alice@192.168.1.100:5060>;expires=3600
Expires: 3600
Content-Length: 0
```
–ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ —Å–µ—Ä–≤–µ—Ä —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞–¥–∞–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ, **–≤—ñ–Ω –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å "200 OK" –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ—ó —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó**. –£ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –º—ñ—Å—Ç–∏—Ç—å—Å—è –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —Ç–∞ —á–∞—Å –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó. –ù–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –∞–≥–µ–Ω—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–ê–ª—ñ—Å–∞) —É—Å–ø—ñ—à–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó SIP, —ñ –≤—Ö—ñ–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏ SIP –¥–ª—è –ê–ª—ñ—Å–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–æ–≤–∞–Ω—ñ –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É –∞–¥—Ä–µ—Å—É.

### –ü—Ä–∏–∫–ª–∞–¥ –¥–∑–≤—ñ–Ω–∫–∞

<figure><img src="../../../.gitbook/assets/image (666).png" alt=""><figcaption></figcaption></figure>

{% hint style="info" %}
–ù–µ –∑–∞–∑–Ω–∞—á–µ–Ω–æ, –∞–ª–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É B –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ **–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è REGISTER –Ω–∞ Proxy 2**, –ø–µ—Ä—à –Ω—ñ–∂ –≤—ñ–Ω –∑–º–æ–∂–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–∑–≤—ñ–Ω–∫–∏.
{% endhint %}
