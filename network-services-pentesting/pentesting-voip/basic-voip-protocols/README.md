# Protocoles VoIP de base

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* Travaillez-vous dans une **entreprise de cybers√©curit√©** ? Voulez-vous voir votre **entreprise annonc√©e dans HackTricks** ? ou voulez-vous avoir acc√®s √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF** ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**üí¨**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR au** [**repo hacktricks**](https://github.com/carlospolop/hacktricks) **et au** [**repo hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Protocoles de signalisation

### SIP (Session Initiation Protocol)

C'est la norme de l'industrie, pour plus d'informations, consultez :

{% content-ref url="sip-session-initiation-protocol.md" %}
[sip-session-initiation-protocol.md](sip-session-initiation-protocol.md)
{% endcontent-ref %}

### MGCP (Media Gateway Control Protocol)

MGCP (Media Gateway Control Protocol) est un **protocole de signalisation** et de **contr√¥le d'appel** d√©crit dans la RFC 3435. Il fonctionne dans une architecture centralis√©e, qui se compose de trois composants principaux :

1. **Agent d'appel ou contr√¥leur de passerelle multim√©dia (MGC)** : La passerelle ma√Ætre dans l'architecture MGCP est responsable de la **gestion et du contr√¥le des passerelles multim√©dias**. Il g√®re les processus de configuration, de modification et de terminaison des appels. Le MGC communique avec les passerelles multim√©dias en utilisant le protocole MGCP.
2. **Passerelles multim√©dias (MG) ou passerelles esclaves** : Ces dispositifs **convertissent les flux multim√©dias num√©riques entre diff√©rents r√©seaux**, tels que la t√©l√©phonie commut√©e traditionnelle et les r√©seaux IP commut√©s par paquets. Ils sont g√©r√©s par le MGC et ex√©cutent les commandes re√ßues de celui-ci. Les passerelles multim√©dias peuvent inclure des fonctions telles que la transcoding, la mise en paquets et l'annulation d'√©cho.
3. **Passerelles de signalisation (SG)** : Ces passerelles sont responsables de la **conversion des messages de signalisation entre diff√©rents r√©seaux**, permettant une communication transparente entre les syst√®mes de t√©l√©phonie traditionnels (par exemple, SS7) et les r√©seaux IP (par exemple, SIP ou H.323). Les passerelles de signalisation sont cruciales pour l'interop√©rabilit√© et pour garantir que les informations de contr√¥le d'appel sont correctement communiqu√©es entre les diff√©rents r√©seaux.

En r√©sum√©, MGCP centralise la logique de contr√¥le d'appel dans l'agent d'appel, ce qui simplifie la gestion des passerelles multim√©dias et de signalisation, offrant une meilleure √©volutivit√©, fiabilit√© et efficacit√© dans les r√©seaux de t√©l√©communications.

### SCCP (Skinny Client Control Protocol)

Le protocole de contr√¥le client l√©ger (SCCP) est un **protocole de signalisation et de contr√¥le d'appel propri√©taire** appartenant √† Cisco Systems. Il est principalement **utilis√©** pour la communication entre **Cisco Unified Communications Manager** (anciennement connu sous le nom de CallManager) et les t√©l√©phones IP Cisco ou d'autres terminaux vocaux et vid√©o Cisco.

SCCP est un protocole l√©ger qui simplifie la communication entre le serveur de contr√¥le d'appel et les terminaux. Il est appel√© "Skinny" en raison de sa conception minimaliste et de ses exigences de bande passante r√©duites par rapport √† d'autres protocoles VoIP tels que H.323 ou SIP.

Les principaux composants d'un syst√®me bas√© sur SCCP sont :

1. **Serveur de contr√¥le d'appel** : Ce serveur, g√©n√©ralement un Cisco Unified Communications Manager, g√®re les processus de configuration, de modification et de terminaison des appels, ainsi que d'autres fonctionnalit√©s de t√©l√©phonie telles que le renvoi d'appel, le transfert d'appel et la mise en attente d'appel.
2. **Terminaux SCCP** : Il s'agit de dispositifs tels que des t√©l√©phones IP, des unit√©s de vid√©oconf√©rence ou d'autres terminaux vocaux et vid√©o Cisco qui utilisent SCCP pour communiquer avec le serveur de contr√¥le d'appel. Ils s'enregistrent aupr√®s du serveur, envoient et re√ßoivent des messages de signalisation et suivent les instructions fournies par le serveur de contr√¥le d'appel pour la gestion des appels.
3. **Passerelles** : Ces dispositifs, tels que des passerelles vocales ou multim√©dias, sont responsables de la conversion
### RTP / RTCP / SRTP / ZRTP

1. **RTP (Real-time Transport Protocol)**: RTP est un protocole de r√©seau con√ßu pour la transmission de donn√©es audio et vid√©o, ou d'autres m√©dias en temps r√©el, sur des r√©seaux IP. D√©velopp√© par l'**IETF** et d√©fini dans le **RFC 3550**, RTP est couramment utilis√© avec des protocoles de signalisation tels que SIP et H.323 pour permettre la communication multim√©dia. RTP fournit des m√©canismes de **synchronisation**, de **s√©quen√ßage** et de **timestamping** des flux multim√©dias, aidant √† assurer une lecture fluide et en temps opportun des m√©dias.
2. **RTCP (Real-time Transport Control Protocol)**: RTCP est un protocole compagnon de RTP, utilis√© pour surveiller la qualit√© de service (QoS) et fournir des commentaires sur la transmission de flux multim√©dias. D√©fini dans le m√™me **RFC 3550** que RTP, RTCP **√©change p√©riodiquement des paquets de contr√¥le entre les participants √† une session RTP**. Il partage des informations telles que la perte de paquets, le jitter et le temps aller-retour, ce qui aide √† diagnostiquer et √† s'adapter aux conditions du r√©seau, am√©liorant ainsi la qualit√© globale des m√©dias.
3. **SRTP (Secure Real-time Transport Protocol)**: SRTP est une extension de RTP qui fournit **le chiffrement**, **l'authentification de message** et **la protection contre la relecture** pour les flux multim√©dias, assurant une transmission s√©curis√©e de donn√©es audio et vid√©o sensibles. D√©fini dans le **RFC 3711**, SRTP utilise des algorithmes cryptographiques tels que AES pour le chiffrement et HMAC-SHA1 pour l'authentification de message. SRTP est souvent utilis√© en combinaison avec des protocoles de signalisation s√©curis√©s tels que SIP sur TLS pour fournir une s√©curit√© de bout en bout dans la communication multim√©dia.
4. **ZRTP (Zimmermann Real-time Transport Protocol)**: ZRTP est un protocole de cryptographie d'accord de cl√© qui fournit **le chiffrement de bout en bout** pour les flux multim√©dias RTP. D√©velopp√© par Phil Zimmermann, le cr√©ateur de PGP, ZRTP est d√©crit dans le **RFC 6189**. Contrairement √† SRTP, qui repose sur des protocoles de signalisation pour l'√©change de cl√©s, ZRTP est con√ßu pour fonctionner ind√©pendamment du protocole de signalisation. Il utilise l'√©change de cl√©s Diffie-Hellman pour √©tablir un secret partag√© entre les parties communicantes, sans n√©cessiter de confiance pr√©alable ou d'infrastructure de cl√© publique (PKI). ZRTP comprend √©galement des fonctionnalit√©s telles que les **Short Authentication Strings (SAS)** pour se prot√©ger contre les attaques de l'homme du milieu.

Ces protocoles jouent des r√¥les essentiels dans **la transmission et la s√©curisation de la communication multim√©dia en temps r√©el sur les r√©seaux IP**. Alors que RTP et RTCP g√®rent la transmission r√©elle des m√©dias et la surveillance de la qualit√©, SRTP et ZRTP garantissent que les m√©dias transmis sont prot√©g√©s contre l'√©coute, la manipulation et les attaques de relecture. 

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* Travaillez-vous dans une **entreprise de cybers√©curit√©** ? Voulez-vous voir votre **entreprise annonc√©e dans HackTricks** ? ou voulez-vous avoir acc√®s √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF** ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**üí¨**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR au** [**repo hacktricks**](https://github.com/carlospolop/hacktricks) **et au** [**repo hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
