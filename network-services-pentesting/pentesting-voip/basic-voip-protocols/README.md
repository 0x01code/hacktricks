# Itifaki za Msingi za VoIP

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## WhiteIntel

<figure><img src=".gitbook/assets/image (1224).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) ni injini ya utaftaji inayotumia **dark-web** ambayo inatoa huduma za **bure** za kuangalia ikiwa kampuni au wateja wake wameathiriwa na **malware za wizi**.

Lengo kuu la WhiteIntel ni kupambana na utekaji wa akaunti na mashambulio ya ransomware yanayotokana na malware za kuiba habari.

Unaweza kutembelea tovuti yao na kujaribu injini yao **bure** kwa:

{% embed url="https://whiteintel.io" %}

---

## Itifaki za Kutia Saini

### SIP (Itifaki ya Kuanzisha Kikao)

Hii ni kiwango cha viwanda, kwa maelezo zaidi angalia:

{% content-ref url="sip-session-initiation-protocol.md" %}
[sip-session-initiation-protocol.md](sip-session-initiation-protocol.md)
{% endcontent-ref %}

### MGCP (Itifaki ya Kudhibiti Geti la Vyombo vya Habari)

MGCP (Itifaki ya Kudhibiti Geti la Vyombo vya Habari) ni **itifaki ya kutia saini** na **kudhibiti simu** iliyoelezwa katika RFC 3435. Inafanya kazi katika muundo uliojikita, ambao una sehemu kuu tatu:

1. **Mnadaaji wa Simu au Msimamizi wa Geti la Vyombo vya Habari (MGC)**: Geti kuu katika muundo wa MGCP ni jukumu la **kusimamia na kudhibiti geti la vyombo vya habari**. Inashughulikia mchakato wa kuanzisha simu, kubadilisha, na kumaliza simu. MGC inawasiliana na geti la vyombo vya habari kwa kutumia itifaki ya MGCP.
2. **Vyombo vya Habari (MGs) au Geti la Mtumwa**: Vifaa hivi **vinabadilisha mitiririko ya vyombo vya habari vya dijiti kati ya mitandao tofauti**, kama vile simu za jadi zilizounganishwa kwa mzunguko na mitandao ya IP iliyosongwa kwa pakiti. Vinasimamiwa na MGC na kutekeleza amri zinazopokelewa kutoka kwake. Vyombo vya habari vinaweza kuwa na kazi kama vile kubadilisha namna ya sauti, kufungasha pakiti, na kufuta sauti.
3. **Geti za Kutia Saini (SGs)**: Geti hizi zinahusika na **kubadilisha ujumbe wa kutia saini kati ya mitandao tofauti**, kuruhusu mawasiliano laini kati ya mifumo ya simu za jadi (k.m., SS7) na mitandao inayotumia IP (k.m., SIP au H.323). Geti za kutia saini ni muhimu kwa uratibu na kuhakikisha kuwa habari ya kudhibiti simu inasambazwa ipasavyo kati ya mitandao tofauti.

Kwa muhtasari, MGCP inajikita katika mantiki ya kudhibiti simu katika mnadaaji wa simu, ambayo inasaidia usimamizi rahisi wa vyombo vya habari na geti za kutia saini, ikitoa uwezo bora wa kupanuka, uaminifu, na ufanisi katika mitandao ya mawasiliano.

### SCCP (Itifaki ya Kudhibiti Mteja Mdogo)

Itifaki ya Kudhibiti Mteja Mdogo (SCCP) ni **itifaki ya kutia saini na kudhibiti simu** inayomilikiwa na Cisco Systems. Inatumiwa hasa kwa mawasiliano kati ya **Meneja wa Mawasiliano wa Cisco** (inayojulikana hapo awali kama CallManager) na simu za IP za Cisco au vifaa vingine vya sauti na video vya Cisco.

SCCP ni itifaki nyepesi inayosimplisha mawasiliano kati ya seva ya kudhibiti simu na vifaa vya mwisho. Inaitwa "Skinny" kwa sababu ya muundo wake wa kimsingi na mahitaji madogo ya upana wa bandari ikilinganishwa na itifaki zingine za VoIP kama H.323 au SIP.

Sehemu kuu za mfumo wa SCCP ni:

1. **Seva ya Kudhibiti Simu**: Seva hii, kawaida Meneja wa Mawasiliano wa Cisco, inasimamia mchakato wa kuanzisha simu, kubadilisha, na kumaliza simu, pamoja na huduma zingine za simu kama vile kupeleka simu, kuhamisha simu, na kushikilia simu.
2. **Vifaa vya Mwisho vya SCCP**: Hivi ni vifaa kama simu za IP, vitengo vya mkutano wa video, au vifaa vingine vya sauti na video vya Cisco vinavyotumia SCCP kwa mawasiliano na seva ya kudhibiti simu. Vinajiandikisha kwa seva, kutuma na kupokea ujumbe wa kutia saini, na kufuata maagizo yanayotolewa na seva ya kudhibiti simu kwa usimamizi wa simu.
3. **Geti**: Vifaa hivi, kama vile geti za sauti au vyombo vya habari, wanahusika na kubadilisha mitiririko ya vyombo vya habari kati ya mitandao tofauti, kama vile simu za jadi zilizounganishwa kwa mzunguko na mitandao ya IP iliyosongwa kwa pakiti. Vinaweza pia kuwa na kazi zaidi, kama vile kubadilisha namna ya sauti au kufuta sauti.

SCCP inatoa njia rahisi na ufanisi wa mawasiliano kati ya seva za kudhibiti simu za Cisco na vifaa vya mwisho. Walakini, ni muhimu kutambua kwamba **SCCP ni itifaki ya kipekee**, ambayo inaweza kuzuia uratibu na mifumo au vifaa visivyo vya Cisco. Katika kesi kama hizo, itifaki zingine za VoIP za viwango kama SIP zinaweza kuwa chaguo bora zaidi.

### H.323

H.323 ni **mkusanyo wa itifaki** za mawasiliano ya multimedia, ikiwa ni pamoja na sauti, video, na mikutano ya data juu ya mitandao iliyosongwa kwa pakiti, kama vile mitandao inayotumia IP. Iliundwa na **Shirika la Kimataifa la Mawasiliano** (ITU-T) na hutoa mfumo kamili wa kusimamia vikao vya mawasiliano ya multimedia.

Baadhi ya sehemu muhimu za mkusanyo wa H.323 ni pamoja na:

1. **Vifaa vya Mwisho**: Hivi ni vifaa vya mwisho, kama vile simu za IP, mifumo ya mkutano wa video, au programu za programu, ambazo zinasaidia H.323 na zinaweza kushiriki katika vikao vya mawasiliano ya multimedia.
2. **Geti**: Vifaa hivi vinabadilisha mitiririko ya vyombo vya habari kati ya mitandao tofauti, kama vile simu za jadi zilizounganishwa kwa mzunguko na mitandao ya IP iliyosongwa kwa pakiti, kuruhusu uratibu kati ya H.323 na mifumo mingine ya mawasiliano. Vinaweza pia kuwa na kazi zaidi, kama vile kubadilisha namna ya sauti au kufuta sauti.
3. **Walinzi wa Geti**: Hizi ni sehemu za hiari zinazotoa huduma za kudhibiti simu na usimamizi katika mtandao wa H.323. Hufanya kazi kama vile tafsiri ya anwani, usimamizi wa upana wa bandari, na kudhibiti idhini, kusaidia katika usimamizi na optimization ya rasilimali za mtandao.
4. **Vifaa vya Udhibiti wa Multipoint (MCUs)**: Vifaa hivi huwezesha mikutano ya multipoint kwa kusimamia na kuchanganya mitiririko ya vyombo vya habari kutoka kwa vifaa vingi vya mwisho. MCUs huwezesha huduma kama vile kudhibiti mpangilio wa video, kubadilisha sauti kulingana na sauti, na uwepo endelevu, kuruhusu kuandaa mikutano kubwa na washiriki wengi.

H.323 inasaidia anuwai ya kodeki za sauti na video, pamoja na huduma zingine za ziada kama vile kupeleka simu, kuhamisha simu, kushikilia simu, na kusubiri simu. Licha ya kupokelewa kwa kiasi kikubwa katika siku za mwanzo za VoIP, H.323 imeanza kubadilishwa polepole na itifaki za kisasa na zenye ufanisi zaidi kama **Itifaki ya Kuanzisha Kikao (SIP)**, ambayo inatoa uratibu bora na utekelezaji rahisi. Walakini, H.323 bado inatumika katika mifumo mingi ya zamani na inaendelea kusaidiwa na wauzaji mbalimbali wa vifaa.

### IAX (Inter Asterisk eXchange)

IAX (Inter-Asterisk eXchange) ni **itifaki ya kutia saini na kudhibiti simu** inayotumiwa hasa kwa mawasiliano kati ya seva za Asterisk PBX (Private Branch Exchange) na vifaa vingine vya VoIP. Iliundwa na Mark Spencer, mwanzilishi wa programu ya Asterisk PBX ya chanzo wazi, kama mbadala kwa itifaki zingine za VoIP kama SIP na H.323.

IAX inajulikana kwa **urahisi, ufanisi, na urahisi wa utekelezaji**. Baadhi ya sifa muhimu za IAX ni pamoja na:

1. **Bandari Moja ya UDP**: IAX hutumia bandari moja ya UDP (4569) kwa mawasiliano ya kutia saini na vyombo vya habari, ambayo inasimplisha kupitisha kizuizi cha firewall na NAT, ikifanya iwe rahisi kupeleka katika mazingira mbalimbali ya mtandao.
2. **Itifaki ya Binary**: Tofauti na itifaki zinazotumia maandishi kama SIP, IAX ni itifaki ya binary, ambayo inapunguza matumizi yake ya upana wa bandari na kufanya iwe ufanisi zaidi katika kutuma data ya kutia saini na vyombo vya habari.
3. **Trunking**: IAX inasaidia trunking, ambayo inaruhusu simu nyingi kuunganishwa katika muunganisho mmoja wa mtandao, kupunguza gharama za ziada na kuboresha matumizi ya upana wa bandari.
4. **Ufichaji wa Asili**: IAX ina msaada wa kujengwa kwa ufichaji, ikitumia mbinu kama RSA kwa kubadilishana funguo na AES kwa ufichaji wa vyombo vya habari, kutoa mawasiliano salama kati ya vituo.
5. **Mawasiliano ya Mwenzake kwa Mwenzake**: IAX inaweza kutumika kwa mawasiliano moja kwa moja kati ya vituo bila haja ya seva kuu, ikiruhusu mchakato rahisi na ufanisi zaidi wa kupangilia simu.

Licha ya faida zake, IAX ina baadhi ya mapungufu, kama vile kuzingatia kuu kwa mazingira ya Asterisk na kupokea kwa kiasi kidogo ikilinganishwa na itifaki zilizothibitishwa zaidi kama SIP. Kama matokeo, IAX huenda sio chaguo bora kwa uratibu na mifumo au vifaa visivyo vya Asterisk. Walakini, kwa wale wanaofanya kazi ndani ya mazingira ya Asterisk, IAX inatoa suluhisho imara na ufanisi kwa mawasiliano ya VoIP.
## Itifaki za Usafirishaji na Usafirishaji

### SDP (Itifaki ya Maelezo ya Kikao)

SDP (Itifaki ya Maelezo ya Kikao) ni **muundo wa maandishi** unaotumika kuelezea sifa za vikao vya multimedia, kama sauti, video, au mikutano ya data, juu ya mitandao ya IP. Iliundwa na **Internet Engineering Task Force (IETF)** na inafafanuliwa katika **RFC 4566**. SDP haitumii usafirishaji halisi wa media au kuanzisha kikao lakini hutumiwa pamoja na itifaki zingine za ishara, kama **SIP (Itifaki ya Kuanzisha Kikao)**, kujadiliana na kubadilishana habari kuhusu mito ya media na sifa zao.

Baadhi ya vipengele muhimu vya SDP ni pamoja na:

1. **Maelezo ya Kikao**: SDP inaelezea maelezo ya kikao cha multimedia, ikiwa ni pamoja na jina la kikao, maelezo ya kikao, wakati wa kuanza, na wakati wa mwisho.
2. **Mito ya Media**: SDP inafafanua sifa za mito ya media, kama aina ya media (sauti, video, au maandishi), itifaki ya usafirishaji (k.m., RTP au SRTP), na muundo wa media (k.m., habari za codec).
3. **Maelezo ya Uunganisho**: SDP hutoa habari kuhusu anwani ya mtandao (anwani ya IP) na nambari ya bandari ambapo media inapaswa kutumwa au kupokelewa.
4. **Vipengele**: SDP inasaidia matumizi ya vipengele kutoa habari ya ziada, hiari kuhusu kikao au mto wa media. Vipengele vinaweza kutumika kwa kufafanua vipengele mbalimbali kama vile funguo za kuchakata, mahitaji ya upana wa bandari, au mbinu za kudhibiti media.

SDP kawaida hutumiwa katika mchakato ufuatao:

1. Chama cha kuanzisha hujenga maelezo ya SDP ya kikao cha multimedia kilichopendekezwa, ikiwa ni pamoja na maelezo ya mito ya media na sifa zao.
2. Maelezo ya SDP hutumwa kwa chama cha kupokea, kawaida imejumuishwa ndani ya ujumbe wa itifaki ya ishara kama SIP au RTSP.
3. Chama cha kupokea huprocess maelezo ya SDP, na kulingana na uwezo wake, inaweza kukubali, kukataa, au kurekebisha kikao kilichopendekezwa.
4. Maelezo ya mwisho ya SDP hutumwa kwa chama cha kuanzisha kama sehemu ya ujumbe wa itifaki ya ishara, kukamilisha mchakato wa majadiliano.

Urahisi na uwezo wa kubadilika wa SDP hufanya iwe kiwango kilichokubaliwa sana kwa kuelezea vikao vya multimedia katika mifumo mbalimbali ya mawasiliano, ikicheza jukumu muhimu katika kuanzisha na kusimamia vikao vya multimedia halisi kwenye mitandao ya IP.

### RTP / RTCP / SRTP / ZRTP

1. **RTP (Itifaki ya Usafirishaji wa Moja kwa Moja)**: RTP ni itifaki ya mtandao iliyoundwa kwa utoaji wa data ya sauti na video, au media halisi wakati mwingine, juu ya mitandao ya IP. Iliundwa na **IETF** na kufafanuliwa katika **RFC 3550**, RTP mara nyingi hutumiwa na itifaki za ishara kama SIP na H.323 kuwezesha mawasiliano ya multimedia. RTP hutoa mbinu za **synchronization**, **sequencing**, na **timestamping** ya mito ya media, ikisaidia kuhakikisha uchezaji wa media laini na wa wakati unaofaa.
2. **RTCP (Itifaki ya Kudhibiti Usafirishaji wa Moja kwa Moja)**: RTCP ni itifaki mshirika wa RTP, hutumika kwa ufuatiliaji wa ubora wa huduma (QoS) na kutoa maoni kuhusu usafirishaji wa mito ya media. Imefafanuliwa katika **RFC 3550** sawa na RTP, RTCP **hutumia kubadilishana pakiti za kudhibiti kati ya washiriki katika kikao cha RTP**. Inashiriki habari kama upotevu wa pakiti, jitter, na muda wa safari ya pande zote, ambayo husaidia katika kutambua na kuzoea hali za mtandao, kuboresha ubora wa jumla wa media.
3. **SRTP (Itifaki ya Usafirishaji Salama wa Moja kwa Moja)**: SRTP ni upanuzi wa RTP ambao hutoa **encryption**, **uthibitisho wa ujumbe**, na **ulinzi dhidi ya kurudia** kwa mito ya media, ikihakikisha usafirishaji salama wa data nyeti ya sauti na video. Imefafanuliwa katika **RFC 3711**, SRTP hutumia mbinu za kryptografia kama AES kwa encryption na HMAC-SHA1 kwa uthibitisho wa ujumbe. SRTP mara nyingi hutumiwa pamoja na itifaki za ishara salama kama SIP juu ya TLS kutoa usalama mwisho hadi mwisho katika mawasiliano ya multimedia.
4. **ZRTP (Itifaki ya Usafirishaji wa Moja kwa Moja ya Zimmermann)**: ZRTP ni itifaki ya makubaliano ya funguo ya kryptografia ambayo hutoa **encryption mwisho hadi mwisho** kwa mito ya media ya RTP. Iliyoundwa na Phil Zimmermann, mwumbaji wa PGP, ZRTP inaelezwa katika **RFC 6189**. Tofauti na SRTP, ambayo inategemea itifaki za ishara kwa kubadilishana funguo, ZRTP imeundwa kufanya kazi bila kutegemea itifaki ya ishara. Inatumia **Diffie-Hellman key exchange** kuanzisha siri iliyoshirikiwa kati ya vyama vinavyoongea, bila kuhitaji imani ya awali au miundombinu ya funguo ya umma (PKI). ZRTP pia inajumuisha vipengele kama **Short Authentication Strings (SAS)** kulinda dhidi ya mashambulizi ya mtu katikati.

Itifaki hizi zina jukumu muhimu katika **utoaji na kuhakikisha usalama wa mawasiliano ya multimedia halisi kwenye mitandao ya IP**. Wakati RTP na RTCP hushughulikia usafirishaji halisi wa media na ufuatiliaji wa ubora, SRTP na ZRTP huhakikisha kuwa media iliyotumwa inalindwa dhidi ya kusikiliza, kuhariri, na mashambulizi ya kurudia.
