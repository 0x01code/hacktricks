# Itifaki za Msingi za VoIP

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa kipekee wa [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Itifaki za Ishara

### SIP (Itifaki ya Kuanzisha Kikao)

Hii ni kiwango cha tasnia, kwa habari zaidi angalia:

{% content-ref url="sip-session-initiation-protocol.md" %}
[sip-session-initiation-protocol.md](sip-session-initiation-protocol.md)
{% endcontent-ref %}

### MGCP (Itifaki ya Kudhibiti Lango la Vyombo vya Habari)

MGCP (Itifaki ya Kudhibiti Lango la Vyombo vya Habari) ni **itifaki ya ishara** na **kudhibiti wito** iliyoelezwa katika RFC 3435. Inafanya kazi katika muundo uliojumuishwa, ambao una sehemu kuu tatu:

1. **Wakala wa Wito au Msimamizi wa Lango la Vyombo vya Habari (MGC)**: Lango kuu katika muundo wa MGCP linawajibika kwa **kusimamia na kudhibiti malango ya vyombo vya habari**. Inashughulikia mchakato wa kuanzisha, kubadilisha, na kumaliza wito. MGC inawasiliana na malango ya vyombo vya habari kwa kutumia itifaki ya MGCP.
2. **Malango ya Vyombo vya Habari (MGs) au Malango ya Watumwa**: Vifaa hivi **hubadilisha mito ya vyombo vya habari ya dijiti kati ya mitandao tofauti**, kama vile simu za jadi zilizounganishwa kwa mzunguko na mitandao ya IP iliyobadilishwa kwa pakiti. Yanasimamiwa na MGC na kutekeleza amri zinazopokelewa kutoka kwake. Malango ya vyombo vya habari yanaweza kuwa na kazi kama vile kubadilisha muundo, kufunga kwenye pakiti, na kufuta sauti.
3. **Malango ya Ishara (SGs)**: Malango haya yanawajibika kwa **kubadilisha ujumbe wa ishara kati ya mitandao tofauti**, kuruhusu mawasiliano laini kati ya mifumo ya simu za jadi (k.m., SS7) na mitandao ya IP (k.m., SIP au H.323). Malango ya ishara ni muhimu kwa usanifu wa kazi na kuhakikisha kuwa habari ya kudhibiti wito inawasilishwa ipasavyo kati ya mitandao tofauti.

Kwa muhtasari, MGCP inaunganisha mantiki ya kudhibiti wito katika wakala wa wito, ambayo inasaidia usimamizi wa malango ya vyombo vya habari na ishara, ikitoa uwezo bora wa kupanuka, kuaminika, na ufanisi katika mitandao ya mawasiliano.

### SCCP (Itifaki ya Udhibiti wa Mteja Mdogo)

Itifaki ya Udhibiti wa Mteja Mdogo (SCCP) ni **itifaki ya ishara na kudhibiti wito** ya kipekee ya Cisco Systems. Inatumika hasa kwa mawasiliano kati ya **Meneja wa Mawasiliano wa Cisco Unified** (inayojulikana hapo awali kama CallManager) na simu za IP za Cisco au vifaa vingine vya sauti na video vya Cisco.

SCCP ni itifaki nyepesi ambayo inasaidia mawasiliano kati ya seva ya kudhibiti wito na vifaa vya mwisho. Inaitwa "Skinny" kwa sababu ya muundo wake mdogo na mahitaji ya kubana kwa upana wa bandari ikilinganishwa na itifaki zingine za VoIP kama H.323 au SIP.

Sehemu kuu za mfumo uliojengwa kwa kutumia SCCP ni:

1. **Seva ya Kudhibiti Wito**: Seva hii, kawaida Meneja wa Mawasiliano wa Cisco Unified, inasimamia mchakato wa kuanzisha, kubadilisha, na kumaliza wito, pamoja na huduma zingine za simu kama kupeleka wito, kuhamisha wito, na kushikilia wito.
2. **Vifaa vya SCCP**: Hivi ni vifaa kama simu za IP, vitengo vya mkutano wa video, au vifaa vingine vya sauti na video vya Cisco ambavyo hutumia SCCP kwa mawasiliano na seva ya kudhibiti wito. Vinaandikishwa na seva, hupokea na kutuma ujumbe wa ishara, na kufuata maagizo yaliyotolewa na seva ya kudhibiti wito kwa kushughulikia wito.
3. **Malango**: Vifaa hivi, kama malango ya sauti au malango ya vyombo vya habari, wanawajibika kwa kubadilisha mito ya vyombo vya habari kati ya mitandao tofauti, kama simu za jadi zilizounganishwa kwa mzunguko na mitandao ya IP iliyobadilishwa kwa pakiti. Pia wanaweza kuwa na kazi zaidi kama vile kubadilisha muundo au kufuta sauti.

SCCP inatoa njia rahisi na ufanisi ya mawasiliano kati ya seva za kudhibiti wito za Cisco na vifaa vya mwisho. Walakini, ni muhimu kutambua kuwa **SCCP ni itifaki ya kipekee**, ambayo inaweza kuzuia uwezo wa kufanya kazi pamoja na mifumo au vifaa visivyo vya Cisco. Katika kesi kama hizo, itifaki zingine za kawaida za VoIP kama SIP zinaweza kuwa chaguo bora.

### H.323

H.323 ni **mkusanyiko wa itifaki** za mawasiliano ya multimedia, ikiwa ni pamoja na sauti, video, na mikutano ya data juu ya mitandao iliyobadilishwa kwa pakiti, kama vile mitandao ya IP. Iliendelezwa na **Shirika la Mawasiliano la Kimataifa** (ITU-T) na hutoa mfumo kamili wa kusimamia vikao vya mawasiliano ya multimedia.

Baadhi ya sehemu muhimu za mkusanyiko wa H.323 ni pamoja na:

1. **Vifaa vya Mwisho**: Hivi ni vifaa vya mwisho, kama simu za IP, mifumo ya mkutano wa video, au programu za programu, ambazo zinasaidia H.323 na zinaweza kushiriki katika vikao vya m
## Itifaki za Uhamishaji na Usafirishaji

### SDP (Itifaki ya Maelezo ya Kikao)

SDP (Itifaki ya Maelezo ya Kikao) ni **muundo wa maandishi** unaotumika kuelezea sifa za vikao vya multimedia, kama sauti, video, au mikutano ya data, juu ya mtandao wa IP. Iliundwa na **Internet Engineering Task Force (IETF)** na imefafanuliwa katika **RFC 4566**. SDP haishughulikii uhamishaji halisi wa media au kuanzisha kikao, lakini hutumiwa pamoja na itifaki zingine za ishara, kama vile **SIP (Itifaki ya Kuanzisha Kikao)**, kujadiliana na kubadilishana habari kuhusu mitiririko ya media na sifa zake.

Baadhi ya vipengele muhimu vya SDP ni pamoja na:

1. **Maelezo ya Kikao**: SDP inaelezea maelezo ya kikao cha multimedia, ikiwa ni pamoja na jina la kikao, maelezo ya kikao, wakati wa kuanza, na wakati wa kumaliza.
2. **Mitiririko ya Media**: SDP inafafanua sifa za mitiririko ya media, kama vile aina ya media (sauti, video, au maandishi), itifaki ya usafirishaji (k.m., RTP au SRTP), na muundo wa media (k.m., habari za codec).
3. **Maelezo ya Uunganisho**: SDP hutoa habari kuhusu anwani ya mtandao (anwani ya IP) na nambari ya bandari ambapo media inapaswa kutumwa au kupokelewa.
4. **Sifa**: SDP inasaidia matumizi ya sifa kutoa habari ziada, za hiari kuhusu kikao au mtiririko wa media. Sifa zinaweza kutumika kwa kutoa vipengele mbalimbali kama vile funguo za kusimbwa, mahitaji ya wigo wa bandari, au mifumo ya kudhibiti media.

SDP kawaida hutumiwa katika mchakato ufuatao:

1. Chama kinachoanzisha kikao hujenga maelezo ya SDP ya kikao cha multimedia kinachopendekezwa, ikiwa ni pamoja na maelezo ya mitiririko ya media na sifa zake.
2. Maelezo ya SDP yanatumwa kwa chama kinachopokea, kawaida yakiwa yamejumuishwa ndani ya ujumbe wa itifaki ya ishara kama vile SIP au RTSP.
3. Chama kinachopokea huprocess maelezo ya SDP, na kulingana na uwezo wake, kinaweza kukubali, kukataa, au kubadilisha kikao kilichopendekezwa.
4. Maelezo ya mwisho ya SDP yanatumwa kwa chama kinachoanzisha kama sehemu ya ujumbe wa itifaki ya ishara, kukamilisha mchakato wa majadiliano.

Urahisi na uwezo wa kubadilika wa SDP hufanya iwe kiwango kinachokubalika sana kwa kuelezea vikao vya multimedia katika mifumo mbalimbali ya mawasiliano, ikicheza jukumu muhimu katika kuanzisha na kusimamia vikao vya multimedia halisi kwenye mtandao wa IP.

### RTP / RTCP / SRTP / ZRTP

1. **RTP (Itifaki ya Usafirishaji Halisi wa Waktu)**: RTP ni itifaki ya mtandao iliyoundwa kwa utoaji wa data ya sauti na video, au media halisi wakati mwingine, juu ya mtandao wa IP. Iliyoundwa na **IETF** na kufafanuliwa katika **RFC 3550**, RTP mara nyingi hutumiwa na itifaki za ishara kama vile SIP na H.323 kuwezesha mawasiliano ya multimedia. RTP hutoa mbinu za **synchronization**, **sequencing**, na **timestamping** ya mitiririko ya media, ikisaidia kuhakikisha upigaji wa media ulio laini na kwa wakati unaofaa.
2. **RTCP (Itifaki ya Kudhibiti Usafirishaji Halisi wa Waktu)**: RTCP ni itifaki ya rafiki ya RTP, inayotumika kwa kufuatilia ubora wa huduma (QoS) na kutoa maoni kuhusu usafirishaji wa mitiririko ya media. Iliyofafanuliwa katika **RFC 3550** sawa na RTP, RTCP **hutumia pakiti za kudhibiti kubadilishana kwa kipindi kati ya washiriki katika kikao cha RTP**. Inashiriki habari kama vile upotezaji wa pakiti, jitter, na wakati wa raundi, ambayo husaidia katika kutambua na kuzoea hali za mtandao, kuboresha ubora wa jumla wa media.
3. **SRTP (Itifaki ya Usafirishaji Halisi Salama wa Waktu)**: SRTP ni nyongeza ya RTP ambayo hutoa **kusimbwa**, **uthibitishaji wa ujumbe**, na **ulinzi dhidi ya kurudia** kwa mitiririko ya media, ikisimamia usafirishaji salama wa data nyeti ya sauti na video. Iliyofafanuliwa katika **RFC 3711**, SRTP hutumia algorithm za kriptografia kama AES kwa kusimbwa na HMAC-SHA1 kwa uthibitishaji wa ujumbe. SRTP mara nyingi hutumiwa kwa pamoja na itifaki salama za ishara kama vile SIP juu ya TLS kutoa usalama wa mwisho hadi mwisho katika mawasiliano ya multimedia.
4. **ZRTP (Itifaki ya Usafirishaji Halisi wa Waktu ya Zimmermann)**: ZRTP ni itifaki ya makubaliano ya kriptografia ambayo hutoa **kusimbwa mwisho hadi mwisho** kwa mitiririko ya media ya RTP. Iliyoundwa na Phil Zimmermann, muundaji wa PGP, ZRTP inaelezewa katika **RFC 6189**. Tofauti na SRTP, ambayo inategemea itifaki za ishara kwa kubadilishana funguo, ZRTP imeundwa kufanya kazi bila kuhitaji itifaki ya ishara. Inatumia **kubadilishana kwa funguo za Diffie-Hellman** kuweka siri iliyoshirikiwa kati ya vyama vinavyoongea, bila kuhitaji uaminifu wa awali au miundombinu ya ufunguo wa umma (PKI). ZRTP pia inajumuisha vipengele kama **Vidokezo vifupi vya Uthibitishaji (SAS)** kulinda dhidi ya mashambulizi ya mtu katikati.

Itifaki hizi zina jukumu muhimu katika **utoaji na usalama wa mawasiliano ya multimedia halisi wakati mwingine juu ya mtandao wa IP**. Wakati RTP na RTCP hushughulikia uhamishaji halisi wa media na ufuatiliaji wa ubora, SRTP na ZRTP huhakikisha kuwa media iliyotumwa inalindwa dhidi ya kusikiliza, kubadilisha, na mashambulizi ya kurudia.
