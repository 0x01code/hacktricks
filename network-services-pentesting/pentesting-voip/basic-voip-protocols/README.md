# Basiese VoIP-protokolle

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy in HackTricks wil adverteer** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslagplekke.

</details>

## Seinprotokolle

### SIP (Session Initiation Protocol)

Dit is die bedryfsstandaard, vir meer inligting kyk:

{% content-ref url="sip-session-initiation-protocol.md" %}
[sip-session-initiation-protocol.md](sip-session-initiation-protocol.md)
{% endcontent-ref %}

### MGCP (Media Gateway Control Protocol)

MGCP (Media Gateway Control Protocol) is 'n **sein-** en **oproepbeheerprotokol** wat in RFC 3435 uiteengesit word. Dit werk in 'n gesentraliseerde argitektuur, wat uit drie hoofkomponente bestaan:

1. **Oproepagent of Media Gateway Controller (MGC)**: Die meesterpoort in die MGCP-argitektuur is verantwoordelik vir die **bestuur en beheer van die mediapoorte**. Dit hanteer oproepopstelling, wysiging en be√´indigingsprosesse. Die MGC kommunikeer met die mediapoorte deur middel van die MGCP-protokol.
2. **Mediapoorte (MG's) of Slave-poorte**: Hierdie toestelle **omskakel digitale mediastrome tussen verskillende netwerke**, soos tradisionele skakelstelseltelefonie en pakketskakel-IP-netwerke. Hulle word deur die MGC bestuur en voer opdragte uit wat van dit ontvang is. Mediapoorte kan funksies soos transkodering, pakketisering en egokansellasie insluit.
3. **Seinpoorte (SG's)**: Hierdie poorte is verantwoordelik vir die **omskakeling van seinboodskappe tussen verskillende netwerke**, wat naadlose kommunikasie tussen tradisionele telefoonstelsels (bv. SS7) en IP-gebaseerde netwerke (bv. SIP of H.323) moontlik maak. Seinpoorte is noodsaaklik vir interoperabiliteit en verseker dat oproepbeheerinligting behoorlik tussen die verskillende netwerke gekommunikeer word.

Kortliks, MGCP sentraliseer die oproepbeheerlogika in die oproepagent, wat die bestuur van mediapoorte en seinpoorte vereenvoudig en beter skaalbaarheid, betroubaarheid en doeltreffendheid in telekommunikasienetwerke bied.

### SCCP (Skinny Client Control Protocol)

Skinny Client Control Protocol (SCCP) is 'n **eiendomsregtelike sein- en oproepbeheerprotokol** wat deur Cisco Systems besit word. Dit word hoofsaaklik **gebruik** vir kommunikasie tussen **Cisco Unified Communications Manager** (voorheen bekend as CallManager) en Cisco IP-telefone of ander Cisco-klank- en videopunte.

SCCP is 'n ligte protokol wat die kommunikasie tussen die oproepbeheerbediener en die eindpunttoestelle vereenvoudig. Dit word as "Skinny" verwys vanwe√´ sy minimalistiese ontwerp en verminderde bandwydtevereistes in vergelyking met ander VoIP-protokolle soos H.323 of SIP.

Die belangrikste komponente van 'n SCCP-gebaseerde stelsel is:

1. **Oproepbeheerbediener**: Hierdie bediener, tipies 'n Cisco Unified Communications Manager, bestuur die oproepopstelling, wysiging en be√´indigingsprosesse, sowel as ander telefoniekenmerke soos oproepstuur, oproepoordrag en oproephou. 
2. **SCCP-eindpunte**: Dit is toestelle soos IP-telefone, videovergaderingseenhede of ander Cisco-klank- en videopunte wat SCCP gebruik om met die oproepbeheerbediener te kommunikeer. Hulle registreer by die bediener, stuur en ontvang seinboodskappe, en volg die instruksies wat deur die oproepbeheerbediener vir oproephantering verskaf word.
3. **Poorte**: Hierdie toestelle, soos klankpoorte of mediapoorte, is verantwoordelik vir die omskakeling van mediastrome tussen verskillende netwerke, soos tradisionele skakelstelseltelefonie en pakketskakel-IP-netwerke. Hulle kan ook bykomende funksionaliteit insluit, soos transkodering of egokansellasie.

SCCP bied 'n eenvoudige en doeltreffende kommunikasiemetode tussen Cisco-ooproepbeheerbedieners en eindpunttoestelle. Dit is egter die moeite werd om op te let dat **SCCP 'n eiendomsregtelike protokol** is, wat die interoperabiliteit met nie-Cisco-stelsels kan beperk. In sulke gevalle kan ander standaard VoIP-protokolle soos SIP meer geskik wees.

### H.323

H.323 is 'n **reeks protokolle** vir multimedia kommunikasie, insluitend klank, video en datakonferensies oor pakketskakelnetwerke, soos IP-gebaseerde netwerke. Dit is ontwikkel deur die **International Telecommunication Union** (ITU-T) en bied 'n omvattende raamwerk vir die bestuur van multimedia kommunikasiesessies.

Sommige sleutelkomponente van die H.323-reeks sluit in:

1. **Terminale**: Dit is eindpunttoestelle, soos IP-telefone, videovergaderingstelsels of sagtewaretoepassings, wat H.323 ondersteun en kan deelneem aan multimedia kommunikasiesessies.
2. **Poorte**: Hierdie toestelle omskakel mediastrome tussen verskillende netwerke, soos tradisionele skakelstelseltelefonie en pakketskakel-IP-netwerke, en maak interoperabiliteit tussen H.323 en ander kommunikasiestelsels moontlik. Hulle kan ook bykomende funksionaliteit insluit, soos transkodering of egokansellasie.
3. **Poortbeheerders**: Dit is opsionele komponente wat oproepbeheer- en bestuursdienste in 'n H.323-netwerk voorsien. Hulle voer funksies uit soos adresvertaling, bandwydtebestuur en toelatingsbeheer, wat help om netwerkbronne te bestuur en te optimaliseer.
4. **Multipuntbeheereenhede (MCUs)**: Hierdie toestelle fasiliteer multipunt-konferensies deur mediastrome vanaf verskeie eindpunte te bestuur en te meng. MCUs maak funksies soos video-uitlegbeheer, stemgeaktiveerde skakeling en voortdurende teenwoordigheid moontlik, wat dit moontlik maak om grootskaalse konferensies met verskeie deelnemers aan te bied.

H.323 ondersteun 'n verskeidenheid klank- en videokodeks, sowel as ander aanvullende dienste soos oproepstuur, o
## Oordrag- en Vervoerprotokolle

### SDP (Sessiebeskrywingsprotokol)

SDP (Sessiebeskrywingsprotokol) is 'n **teksgebaseerde formaat** wat gebruik word om die kenmerke van multimedia-sessies, soos spraak, video of datakonferensies, oor IP-netwerke te beskryf. Dit is ontwikkel deur die **Internet Engineering Task Force (IETF)** en word gedefinieer in **RFC 4566**. SDP hanteer nie die werklike media-oordrag of sessie-opstelling nie, maar word saam met ander seinprotokolle, soos **SIP (Sessie-inisiasieprotokol)**, gebruik om te onderhandel en inligting oor die media-strome en hul eienskappe uit te ruil.

Sommige sleutellemente van SDP sluit in:

1. **Sessie-inligting**: SDP beskryf die besonderhede van 'n multimedia-sessie, insluitend sessienaam, sessiebeskrywing, begin- en eindtyd.
2. **Media-strome**: SDP definieer die eienskappe van media-strome, soos die media-tipe (klank, video of teks), vervoerprotokol (bv. RTP of SRTP) en die media-formaat (bv. kodekinligting).
3. **Verbindingsinligting**: SDP verskaf inligting oor die netwerkadres (IP-adres) en poortnommer waar die media gestuur of ontvang moet word.
4. **Eienskappe**: SDP ondersteun die gebruik van eienskappe om addisionele, opsionele inligting oor 'n sessie of media-stroom te verskaf. Eienskappe kan gebruik word om verskillende kenmerke soos enkripsiesleutels, bandwydtevereistes of media-beheermeganismes te spesifiseer.

SDP word tipies gebruik in die volgende proses:

1. 'n Inisieerende party skep 'n SDP-beskrywing van die voorgestelde multimedia-sessie, insluitend die besonderhede van die media-strome en hul eienskappe.
2. Die SDP-beskrywing word na die ontvangende party gestuur, gewoonlik ingebed binne 'n seinprotokolboodskap soos SIP of RTSP.
3. Die ontvangende party verwerk die SDP-beskrywing en, gebaseer op sy vermo√´ns, kan dit die voorgestelde sessie aanvaar, verwerp of wysig.
4. Die finale SDP-beskrywing word as deel van die seinprotokolboodskap teruggestuur na die inisieerende party, wat die onderhandelingsproses voltooi.

SDP se eenvoud en buigsaamheid maak dit 'n wyd aangeneemde standaard vir die beskrywing van multimedia-sessies in verskillende kommunikasiestelsels, en speel 'n belangrike rol in die vestiging en bestuur van regstreekse multimedia-sessies oor IP-netwerke.

### RTP / RTCP / SRTP / ZRTP

1. **RTP (Regstreekse Vervoerprotokol)**: RTP is 'n netwerkprotokol wat ontwerp is vir die aflewering van klank- en videodata, of ander regstreekse media, oor IP-netwerke. Ontwikkel deur die **IETF** en gedefinieer in **RFC 3550**, word RTP gewoonlik saam met seinprotokolle soos SIP en H.323 gebruik om multimedia-kommunikasie moontlik te maak. RTP bied meganismes vir **sinsrondering**, **volgordebepaling** en **tydstempeling** van media-strome, wat help om vlot en tydige media-afspeling te verseker.
2. **RTCP (Regstreekse Vervoerbeheerprotokol)**: RTCP is 'n metgeselprotokol vir RTP wat gebruik word vir die monitering van diensgehalte (QoS) en die voorsiening van terugvoer oor die oordrag van media-strome. Gedefinieer in dieselfde **RFC 3550** as RTP, **ruil RTCP periodiek beheerpakette uit tussen deelnemers in 'n RTP-sessie**. Dit deel inligting soos pakkieverlies, jitter en rondreistyd, wat help om netwerktoestande te diagnoseer en aan te pas, en die algehele mediakwaliteit te verbeter.
3. **SRTP (Veilige Regstreekse Vervoerprotokol)**: SRTP is 'n uitbreiding van RTP wat **enkripsie**, **boodskapverifikasie** en **herhaalbeskerming** vir media-strome bied, om die veilige oordrag van sensitiewe klank- en videodata te verseker. Gedefinieer in **RFC 3711**, gebruik SRTP kriptografiese algoritmes soos AES vir enkripsie en HMAC-SHA1 vir boodskapverifikasie. SRTP word dikwels saam met veilige seinprotokolle soos SIP oor TLS gebruik om end-to-end-veiligheid in multimedia-kommunikasie te bied.
4. **ZRTP (Zimmermann Regstreekse Vervoerprotokol)**: ZRTP is 'n kriptografiese sleutel-ooreenkomstige protokol wat **end-to-end enkripsie** vir RTP-media-strome bied. Ontwikkel deur Phil Zimmermann, die skepper van PGP, word ZRTP beskryf in **RFC 6189**. Anders as SRTP, wat afhanklik is van seinprotokolle vir sleuteluitruiling, is ZRTP ontwerp om onafhanklik van die seinprotokol te werk. Dit gebruik **Diffie-Hellman sleuteluitruiling** om 'n gedeelde geheim tussen die kommunikerende partye te vestig, sonder om vooraf vertroue of 'n openbare sleutel-infrastruktuur (PKI) te vereis. ZRTP sluit ook kenmerke soos **Kort Verifikasie-strings (SAS)** in om teen man-in-die-middelaanvalle te beskerm.

Hierdie protokolle speel 'n essensi√´le rol in die **aflewering en beveiliging van regstreekse multimedia-kommunikasie oor IP-netwerke**. Terwyl RTP en RTCP die werklike media-oordrag en kwaliteitsmonitering hanteer, verseker SRTP en ZRTP dat die oorgedrae media beskerm is teen afluistering, manipulasie en herhaalaanvalle.

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy in HackTricks wil adverteer** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSKRIPSIEPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks-uitrusting**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
