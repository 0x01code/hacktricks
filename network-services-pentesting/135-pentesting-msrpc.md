# 135, 593 - рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ MSRPC

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╣рдорд╛рд░реЗ рд╕рд╛рде рдЬреБрдбрд╝реЗрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рдЧреНрд░реБрдк**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдЧреНрд░реБрдк**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

[**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) рд╕рд░реНрд╡рд░ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдХрд░ рдЕрдиреБрднрд╡реА рд╣реИрдХрд░реНрд╕ рдФрд░ рдмрдЧ рдмрд╛рдЙрдВрдЯреА рд╣рдВрдЯрд░реНрд╕ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░реЗрдВ!

**рд╣реИрдХрд┐рдВрдЧ рдЗрдВрд╕рд╛рдЗрдЯреНрд╕**\
рдЙрд╕ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗрдВ рдЬреЛ рд╣реИрдХрд┐рдВрдЧ рдХреЗ рд░реЛрдорд╛рдВрдЪ рдФрд░ рдЪреБрдиреМрддрд┐рдпреЛрдВ рдореЗрдВ рдбреВрдмрддреА рд╣реИ

**рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рд╣реИрдХ рдиреНрдпреВрдЬрд╝**\
рддреЗрдЬреА рд╕реЗ рдмрджрд▓рддреА рд╣реИрдХрд┐рдВрдЧ рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рд╛рде рдЕрдк-рдЯреВ-рдбреЗрдЯ рд░рд╣реЗрдВ рдиреНрдпреВрдЬрд╝ рдФрд░ рдЗрдВрд╕рд╛рдЗрдЯреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ

**рдирд╡реАрдирддрдо рдШреЛрд╖рдгрд╛рдПрдВ**\
рдирд╡реАрдирддрдо рдмрдЧ рдмрд╛рдЙрдВрдЯреА рд▓реЙрдиреНрдЪ рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдЕрдкрдбреЗрдЯреНрд╕ рдХреЗ рд╕рд╛рде рд╕реВрдЪрд┐рдд рд░рд╣реЗрдВ

**рд╣рдорд╛рд░реЗ рд╕рд╛рде рдЬреБрдбрд╝реЗрдВ** [**Discord**](https://discord.com/invite/N3FrSbmwdy) рдФрд░ рдЖрдЬ рд╣реА рд╢реАрд░реНрд╖ рд╣реИрдХрд░реНрд╕ рдХреЗ рд╕рд╛рде рд╕рд╣рдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ! 

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

рдорд╛рдЗрдХреНрд░реЛрд╕реЙрдлреНрдЯ рд░рд┐рдореЛрдЯ рдкреНрд░реЛрд╕реАрдЬрд░ рдХреЙрд▓ (MSRPC) рдкреНрд░реЛрдЯреЛрдХреЙрд▓, рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ-рд╕рд░реНрд╡рд░ рдореЙрдбрд▓ рдЬреЛ рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдиреЗрдЯрд╡рд░реНрдХ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд╕рдордЭреЗ рдмрд┐рдирд╛ рджреВрд╕рд░реЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рд╕реНрдерд┐рдд рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕реЗ рд╕реЗрд╡рд╛ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдкрд╣рд▓реЗ рдУрдкрди-рд╕реЛрд░реНрд╕ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдмрд╛рдж рдореЗрдВ рдорд╛рдЗрдХреНрд░реЛрд╕реЙрдлреНрдЯ рджреНрд╡рд╛рд░рд╛ рд╡рд┐рдХрд╕рд┐рдд рдФрд░ рдХреЙрдкреАрд░рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред

рдЖрд░рдкреАрд╕реА рдПрдВрдбрдкреЙрдЗрдВрдЯ рдореИрдкрд░ TCP рдФрд░ UDP рдкреЛрд░реНрдЯ 135 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, TCP 139 рдФрд░ 445 рдкрд░ SMB (рдПрдХ рд╢реВрдиреНрдп рдпрд╛ рдкреНрд░рдорд╛рдгрд┐рдд рд╕рддреНрд░ рдХреЗ рд╕рд╛рде), рдФрд░ рдПрдХ рд╡реЗрдм рд╕реЗрд╡рд╛ рдХреЗ рд░реВрдк рдореЗрдВ TCP рдкреЛрд░реНрдЯ 593 рдкрд░ред
```
135/tcp   open     msrpc         Microsoft Windows RPC
```
## MSRPC рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ?

рдЧреНрд░рд╛рд╣рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдд, MSRPC рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдПрдХ рд╕реНрдерд╛рдиреАрдп рд╕реНрдЯрдм рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмреБрд▓рд╛рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ рдЬреЛ рдлрд┐рд░ рдЧреНрд░рд╛рд╣рдХ рд░рдирдЯрд╛рдЗрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рддреА рд╣реИ рддрд╛рдХрд┐ рд╡рд╣ рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдиреБрд░реЛрдз рдХреЛ рддреИрдпрд╛рд░ рдХрд░реЗрдВ рдФрд░ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд░реЗрдВред рдЗрд╕рдореЗрдВ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдПрдХ рдорд╛рдирдХ рдиреЗрдЯрд╡рд░реНрдХ рдбреЗрдЯрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред рдпрджрд┐ рд╕рд░реНрд╡рд░ рджреВрд░рд╕реНрде рд╣реИ, рддреЛ рдкрд░рд┐рд╡рд╣рди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЪрдпрди рд░рдирдЯрд╛рдЗрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рд╣реЛрддрд╛ рд╣реИ рдХрд┐ RPC рдиреЗрдЯрд╡рд░реНрдХ рд╕реНрдЯреИрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдВрдЪрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

![https://0xffsec.com/handbook/images/msrpc.png](https://0xffsec.com/handbook/images/msrpc.png)

## **рдЙрдЬрд╛рдЧрд░рд┐рдд RPC рд╕реЗрд╡рд╛рдПрдВ рдкрд╣рдЪрд╛рдирдирд╛**

TCP, UDP, HTTP, рдФрд░ SMB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ RPC рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдкреНрд░рдХрдЯ рд╣реЛрдирд╛ RPC рд▓реЛрдХреЗрдЯрд░ рд╕реЗрд╡рд╛ рдФрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЕрдВрддрдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдкреВрдЫрддрд╛рдЫ рдХрд░рдХреЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред rpcdump рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдЕрджреНрд╡рд┐рддреАрдп RPC рд╕реЗрд╡рд╛рдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдореЗрдВ рд╕рд╣рд╛рдпрдХ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ **IFID** рдореВрд▓реНрдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЪрд┐рд╣реНрдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕реЗрд╡рд╛ рд╡рд┐рд╡рд░рдг рдФрд░ рд╕рдВрдЪрд╛рд░ рдмрд╛рдБрдзрдиреЛрдВ рдХреЛ рдкреНрд░рдХрдЯ рдХрд░рддреЗ рд╣реИрдВ:
```
D:\rpctools> rpcdump [-p port] <IP>
**IFID**: 5a7b91f8-ff00-11d0-a9b2-00c04fb6e6fc version 1.0
Annotation: Messenger Service
UUID: 00000000-0000-0000-0000-000000000000
Binding: ncadg_ip_udp:<IP>[1028]
```
рдкрд╣реБрдВрдЪ RPC рд▓реЛрдХреЗрдЯрд░ рд╕реЗрд╡рд╛ рдХреЛ рд╡рд┐рд╢реЗрд╖ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: ncacn\_ip\_tcp рдФрд░ ncadg\_ip\_udp рдкреЛрд░реНрдЯ 135 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, SMB рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП ncacn\_np, рдФрд░ рд╡реЗрдм-рдЖрдзрд╛рд░рд┐рдд RPC рд╕рдВрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП ncacn\_httpред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб Metasploit рдореЙрдбреНрдпреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдЙрджрд╛рд╣рд░рдг рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдкреЛрд░реНрдЯ 135 рдкрд░ MSRPC рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдореБрдЖрдпрдирд╛ рдФрд░ рдмрд╛рддрдЪреАрдд рдХрд░рдирд╛ рд╣реИ:
```bash
use auxiliary/scanner/dcerpc/endpoint_mapper
use auxiliary/scanner/dcerpc/hidden
use auxiliary/scanner/dcerpc/management
use auxiliary/scanner/dcerpc/tcp_dcerpc_auditor
rpcdump.py <IP> -p 135
```
рд╕рднреА рд╡рд┐рдХрд▓реНрдк `tcp_dcerpc_auditor` рдХреЛ рдЫреЛрдбрд╝рдХрд░ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдкреЛрд░реНрдЯ 135 рдкрд░ MSRPC рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдП рдЧрдП рд╣реИрдВред

#### рдкреНрд░рдореБрдЦ RPC рдЗрдВрдЯрд░рдлреЗрд╕

* **IFID**: 12345778-1234-abcd-ef00-0123456789ab
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\lsarpc`
* **рд╡рд┐рд╡рд░рдг**: LSA рдЗрдВрдЯрд░рдлреЗрд╕, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред


* **IFID**: 3919286a-b10c-11d0-9ba8-00c04fd92ef5
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\lsarpc`
* **рд╡рд┐рд╡рд░рдг**: LSA рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕реЗрд╡рд╛рдПрдВ (DS) рдЗрдВрдЯрд░рдлреЗрд╕, рдбреЛрдореЗрди рдФрд░ рд╡рд┐рд╢реНрд╡рд╛рд╕ рд╕рдВрдмрдВрдзреЛрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред


* **IFID**: 12345778-1234-abcd-ef00-0123456789ac
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\samr`
* **рд╡рд┐рд╡рд░рдг**: LSA SAMR рдЗрдВрдЯрд░рдлреЗрд╕, рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ SAM рдбреЗрдЯрд╛рдмреЗрд╕ рддрддреНрд╡реЛрдВ (рдЬреИрд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо) рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдФрд░ рдЦрд╛рддрд╛ рд▓реЙрдХрдЖрдЙрдЯ рдиреАрддрд┐ рдХреЗ рдмрд╛рд╡рдЬреВрдж рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред


* **IFID**: 1ff70682-0a51-30e8-076d-740be8cee98b
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\atsvc`
* **рд╡рд┐рд╡рд░рдг**: рдЯрд╛рд╕реНрдХ рд╕реНрдХреЗрдЬрд╝реНрдпреВрд▓рд░, рджреВрд░рд╕реНрде рд░реВрдк рд╕реЗ рдХрдорд╛рдВрдбреЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред


* **IFID**: 338cd001-2244-31f1-aaaa-900038001003
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\winreg`
* **рд╡рд┐рд╡рд░рдг**: рд░рд┐рдореЛрдЯ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рд╕реЗрд╡рд╛, рд╕рд┐рд╕реНрдЯрдо рд░рдЬрд┐рд╕реНрдЯреНрд░реА рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдФрд░ рдмрджрд▓рд╛рд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред


* **IFID**: 367abb81-9844-35f1-ad32-98f038001003
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\svcctl`
* **рд╡рд┐рд╡рд░рдг**: рд╕реЗрд╡рд╛ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рдмрдВрдзрдХ рдФрд░ рд╕рд░реНрд╡рд░ рд╕реЗрд╡рд╛рдПрдВ, рджреВрд░рд╕реНрде рд╕реЗрд╡рд╛рдПрдВ рд╢реБрд░реВ рдФрд░ рдмрдВрдж рдХрд░рдиреЗ рдФрд░ рдХрдорд╛рдВрдбреЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред


* **IFID**: 4b324fc8-1670-01d3-1278-5a47bf6ee188
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\srvsvc`
* **рд╡рд┐рд╡рд░рдг**: рд╕реЗрд╡рд╛ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рдмрдВрдзрдХ рдФрд░ рд╕рд░реНрд╡рд░ рд╕реЗрд╡рд╛рдПрдВ, рджреВрд░рд╕реНрде рд╕реЗрд╡рд╛рдПрдВ рд╢реБрд░реВ рдФрд░ рдмрдВрдж рдХрд░рдиреЗ рдФрд░ рдХрдорд╛рдВрдбреЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред


* **IFID**: 4d9f4ab8-7d1c-11cf-861e-0020af6e7c57
* **рдиреЗрдореНрдб рдкрд╛рдЗрдк**: `\pipe\epmapper`
* **рд╡рд┐рд╡рд░рдг**: DCOM рдЗрдВрдЯрд░рдлреЗрд╕, WM рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдкрд╛рд╕рд╡рд░реНрдб рдЧреНрд░рд╛рдЗрдВрдбрд┐рдВрдЧ рдФрд░ рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### IP рдкрддреЛрдВ рдХреА рдкрд╣рдЪрд╛рди

[https://github.com/mubix/IOXIDResolver](https://github.com/mubix/IOXIDResolver) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, [Airbus research](https://www.cyber.airbus.com/the-oxid-resolver-part-1-remote-enumeration-of-network-interfaces-without-any-authentication/) рд╕реЗ _**ServerAlive2**_ рд╡рд┐рдзрд┐ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬреЛ _**IOXIDResolver**_ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдЕрдВрджрд░ рд╣реИред

рдЗрд╕ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП HTB рдмреЙрдХреНрд╕ _APT_ рд╕реЗ **IPv6** рдкрддреЗ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред [рдпрд╣рд╛рдБ](https://0xdf.gitlab.io/2021/04/10/htb-apt.html) 0xdf APT рд╡реНрд░рд╛рдЗрдЯрдЕрдк рджреЗрдЦреЗрдВ, рдЗрд╕рдореЗрдВ rpcmap.py рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ [Impacket](https://github.com/SecureAuthCorp/impacket/) рд╕реЗ рдПрд▓реНрдЯрд░рдиреЗрдЯрд┐рд╡ рд╡рд┐рдзрд┐ рд╢рд╛рдорд┐рд▓ рд╣реИ (рдКрдкрд░ рджреЗрдЦреЗрдВ)ред

### рдорд╛рдиреНрдп рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЗ рд╕рд╛рде RCE рдХрд╛ рдирд┐рд╖реНрдкрд╛рджрди

рдпрджрд┐ рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ рддреЛ рдПрдХ рдорд╢реАрди рдкрд░ рджреВрд░рд╕реНрде рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ [dcomexec.py](https://github.com/fortra/impacket/blob/master/examples/dcomexec.py) рдЗрдореНрдкреИрдХреЗрдЯ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╕реЗред

**рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЙрдкрд▓рдмреНрдз рд╡рд┐рднрд┐рдиреНрди рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд╕рд╛рде рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ**
* ShellWindows
* ShellBrowserWindow
* MMC20


## рдкреЛрд░реНрдЯ 593

**rpcdump.exe** [rpctools](https://resources.oreilly.com/examples/9780596510305/tree/master/tools/rpctools) рд╕реЗ рдЗрд╕ рдкреЛрд░реНрдЯ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

## рд╕рдВрджрд░реНрдн
* [https://www.cyber.airbus.com/the-oxid-resolver-part-1-remote-enumeration-of-network-interfaces-without-any-authentication/](https://www.cyber.airbus.com/the-oxid-resolver-part-1-remote-enumeration-of-network-interfaces-without-any-authentication/)
* [https://www.cyber.airbus.com/the-oxid-resolver-part-2-accessing-a-remote-object-inside-dcom/](https://www.cyber.airbus.com/the-oxid-resolver-part-2-accessing-a-remote-object-inside-dcom/)
* [https://0xffsec.com/handbook/services/msrpc/](https://0xffsec.com/handbook/services/msrpc/)

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

[**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) рд╕рд░реНрд╡рд░ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдХрд░ рдЕрдиреБрднрд╡реА рд╣реИрдХрд░реНрд╕ рдФрд░ рдмрдЧ рдмрд╛рдЙрдВрдЯреА рд╣рдВрдЯрд░реНрд╕ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░реЗрдВ!

**рд╣реИрдХрд┐рдВрдЧ рдЗрдВрд╕рд╛рдЗрдЯреНрд╕**\
рд╣реИрдХрд┐рдВрдЧ рдХреЗ рд░реЛрдорд╛рдВрдЪ рдФрд░ рдЪреБрдиреМрддрд┐рдпреЛрдВ рдореЗрдВ рдбреВрдмрдиреЗ рд╡рд╛рд▓реА рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗрдВ

**рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рд╣реИрдХ рдиреНрдпреВрдЬрд╝**\
рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рдиреНрдпреВрдЬрд╝ рдФрд░ рдЕрдВрддрд░реНрджреГрд╖реНрдЯрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реИрдХрд┐рдВрдЧ рджреБрдирд┐рдпрд╛ рдореЗрдВ рдЕрдкрдбреЗрдЯ рд░рд╣реЗрдВ

**рдирд╡реАрдирддрдо рдШреЛрд╖рдгрд╛рдПрдВ**\
рдирд╡реАрдирддрдо рдмрдЧ рдмрд╛рдЙрдВрдЯреА рд▓реЙрдиреНрдЪ рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдЕрдкрдбреЗрдЯ рдХреЗ рд╕рд╛рде рдЬрд╛рдирдХрд╛рд░реА рд░рдЦреЗрдВ

**рд╣рдорд╛рд░реЗ рд╕рд╛рде рдЬреБрдбрд╝реЗрдВ** [**Discord**](https://discord.com/invite/N3FrSbmwdy) рдФрд░ рдЖрдЬ рд╣реА рд╢реАрд░реНрд╖ рд╣реИрдХрд░реНрд╕ рдХреЗ рд╕рд╛рде рд╕рд╣рдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ!
