# 1080 - Pentesting Socks

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

- **サイバーセキュリティ会社**で働いていますか？ **HackTricksで会社を宣伝**したいですか？または、**PEASSの最新バージョンにアクセスしたり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけてください。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです。

- [**公式のPEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を手に入れましょう。

- [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter**で**フォロー**してください[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**。**

- **ハッキングのトリックを共有するには、[hacktricks repo](https://github.com/carlospolop/hacktricks)と[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**にPRを提出してください。

</details>

## 基本情報

SOCKSは、クライアントとサーバー間でネットワークパケットをプロキシサーバーを介して交換するインターネットプロトコルです。\
SOCKS5はオプションで認証を提供し、認証されたユーザーのみがサーバーにアクセスできます。

実際には、SOCKSサーバーはTCP接続を任意のIPアドレスにプロキシし、UDPパケットの転送手段を提供します。\
SOCKSはOSIモデルのレイヤー5で動作します。

**デフォルトポート:** 1080

## 列挙

### 認証チェック
```bash
nmap -p 1080 <ip> --script socks-auth-info
```
### ブルートフォース

#### 基本的な使用法

```bash
hydra -L users.txt -P passwords.txt <target> socks5
```

このコマンドは、指定したユーザーリスト（`users.txt`）とパスワードリスト（`passwords.txt`）を使用して、指定したターゲット（`<target>`）に対して SOCKS5 プロトコルのブルートフォース攻撃を実行します。
```bash
nmap --script socks-brute -p 1080 <ip>
```
#### 高度な使用法

In some cases, you may encounter SOCKS proxies that require authentication. To authenticate with a SOCKS proxy, you need to provide a username and password. 

いくつかの場合、認証が必要なSOCKSプロキシに遭遇することがあります。SOCKSプロキシに認証するには、ユーザー名とパスワードを提供する必要があります。

To specify the username and password when connecting to a SOCKS proxy, you can use the following syntax:

SOCKSプロキシに接続する際にユーザー名とパスワードを指定するには、次の構文を使用できます。

```
socks5://username:password@proxy_ip:proxy_port
```

Replace `username` with the desired username, `password` with the desired password, `proxy_ip` with the IP address of the SOCKS proxy, and `proxy_port` with the port number of the SOCKS proxy.

`username`を希望のユーザー名、`password`を希望のパスワード、`proxy_ip`をSOCKSプロキシのIPアドレス、`proxy_port`をSOCKSプロキシのポート番号に置き換えてください。

For example, if the SOCKS proxy requires the username "admin" and the password "password123", and it is running on IP address 192.168.0.1 with port 1080, you would use the following syntax:

例えば、SOCKSプロキシがユーザー名「admin」およびパスワード「password123」を要求し、IPアドレス192.168.0.1でポート番号1080で実行されている場合、次の構文を使用します。

```
socks5://admin:password123@192.168.0.1:1080
```

By providing the correct username and password, you can authenticate with the SOCKS proxy and establish a connection.

正しいユーザー名とパスワードを提供することで、SOCKSプロキシに認証し、接続を確立することができます。
```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```
#### 出力
```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```
## トンネリングとポートフォワーディング

### 基本的なproxychainsの使用方法

socksプロキシを使用するために、proxychainsをセットアップします。
```
nano /etc/proxychains4.conf
```
翻訳：

以下は、ハッキング技術に関する本の内容です。以下の内容は、ファイル/hive/hacktricks/network-services-pentesting/1080-pentesting-socks.mdからのものです。関連する英文を日本語に翻訳し、翻訳を保持したまま、同じマークダウンおよびHTMLの構文を返してください。コード、ハッキング技術の名前、ハッキング用語、クラウド/SaaSプラットフォームの名前（Workspace、aws、gcpなど）、'leak'という単語、pentesting、およびマークダウンタグなどは翻訳しないでください。また、翻訳とマークダウンの構文以外の追加の内容は追加しないでください。

翻訳結果：

## 1080 - Socks

### Socks Proxy

A Socks proxy is a proxy server that allows TCP/IP connections to other servers. It works at the transport layer of the OSI model and can provide authentication and encryption. Socks proxies are commonly used for bypassing firewalls and accessing restricted networks.

#### Socks4

Socks4 is an older version of the Socks protocol. It supports only TCP connections and does not provide authentication or encryption. Socks4 proxies are less secure compared to Socks5.

#### Socks5

Socks5 is the most commonly used version of the Socks protocol. It supports both TCP and UDP connections and provides authentication and encryption. Socks5 proxies are more secure and versatile compared to Socks4.

### Socks Proxy Tools

There are several tools available for working with Socks proxies:

- **Proxychains**: A tool that allows applications to use a proxy server.
- **Proxychains-ng**: An updated version of Proxychains.
- **Proxychains4**: A version of Proxychains that supports only Socks4 proxies.
- **Proxychains4-tor**: A version of Proxychains that routes traffic through Tor.
- **Proxychains4-socks5**: A version of Proxychains that supports only Socks5 proxies.

### Using Socks Proxies for Pentesting

Socks proxies can be useful for pentesting activities such as:

- **Anonymity**: Socks proxies can help hide the source IP address during network reconnaissance and attacks.
- **Bypassing Firewalls**: Socks proxies can bypass firewall restrictions and access restricted networks.
- **Traffic Manipulation**: Socks proxies can intercept and modify network traffic for analysis and exploitation.
- **Data Exfiltration**: Socks proxies can be used to exfiltrate data from a target network.

To use a Socks proxy for pentesting, configure the target application or tool to use the proxy server. This can usually be done by specifying the proxy settings in the application's configuration or using a tool like Proxychains.

### Example: Using Proxychains with Socks5 Proxy

Here is an example of using Proxychains with a Socks5 proxy:

1. Install Proxychains: `apt-get install proxychains`
2. Configure Proxychains: Edit the `/etc/proxychains.conf` file and add the Socks5 proxy information.
3. Run a command with Proxychains: `proxychains <command>`

Replace `<command>` with the command you want to run through the Socks5 proxy.

### Conclusion

Socks proxies are a valuable tool for pentesters, providing anonymity, bypassing firewalls, and enabling traffic manipulation. By understanding how to use Socks proxies effectively, pentesters can enhance their capabilities and achieve better results in their assessments.

---

この文書の最後に、あなたのプロキシを追加してください。

Proxychainsを使用したSocks5プロキシの例を以下に示します：

1. Proxychainsをインストールします：`apt-get install proxychains`
2. Proxychainsを設定します：`/etc/proxychains.conf`ファイルを編集し、Socks5プロキシの情報を追加します。
3. Proxychainsを使用してコマンドを実行します：`proxychains <command>`

`<command>`をSocks5プロキシを介して実行したいコマンドに置き換えてください。

結論

Socksプロキシは、匿名性の提供、ファイアウォールのバイパス、トラフィックの操作を可能にするなど、ペンテスターにとって貴重なツールです。Socksプロキシを効果的に使用することで、ペンテスターは能力を向上させ、評価においてより良い結果を得ることができます。

---

最後に、あなたのプロキシを追加してください。
```
socks5 10.10.10.10 1080
```
認証あり
```
socks5 10.10.10.10 1080 username password
```
#### 詳細情報：[トンネリングとポートフォワーディング](../generic-methodologies-and-resources/tunneling-and-port-forwarding.md)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

- **サイバーセキュリティ企業で働いていますか？** **HackTricksで会社を宣伝**したいですか？または、**PEASSの最新バージョンにアクセスしたり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけてください。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです。

- [**公式のPEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を手に入れましょう。

- [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter**で**フォロー**してください[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **ハッキングのトリックを共有するには、[hacktricksリポジトリ](https://github.com/carlospolop/hacktricks)と[hacktricks-cloudリポジトリ](https://github.com/carlospolop/hacktricks-cloud)**にPRを提出してください。

</details>
