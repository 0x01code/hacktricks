# 548 - Pentesting Apple Filing Protocol (AFP)

<details>

<summary><strong>Aprende hacking en AWS de cero a héroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF**, consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colección de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **sigue** a **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Información Básica

El **Apple Filing Protocol** (**AFP**), anteriormente conocido como AppleTalk Filing Protocol, es un protocolo de red propietario y parte del **Apple File Service** (**AFS**), que ofrece servicios de archivos para macOS y el Mac OS clásico. En macOS, AFP es uno de los varios servicios de archivos soportados. AFP actualmente soporta nombres de archivos Unicode, permisos de control de acceso y listas POSIX, bifurcaciones de recursos, atributos extendidos nombrados y bloqueo avanzado de archivos. En Mac OS 9 y versiones anteriores, AFP era el protocolo principal para servicios de archivos.

**Puerto predeterminado:** 548
```
PORT    STATE SERVICE
548/tcp open  afp
```
## Enumeración
```bash
msf> use auxiliary/scanner/afp/afp_server_info
nmap -sV --script "afp-* and not dos and not brute" -p <PORT> <IP>
```
| **Nombre**       | **Descripción**                                                                                                                            |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| afp-ls         | Lista los volúmenes y archivos AFP disponibles                                                                                             |
| afp-path-vuln  | Lista todos los volúmenes y archivos AFP[a](https://learning.oreilly.com/library/view/network-security-assessment/9781491911044/ch15.html#ch15fn48) |
| afp-serverinfo | Muestra la información del servidor AFP                                                                                                    |
| afp-showmount  | Lista las comparticiones AFP disponibles y sus respectivas ACLs                                                                            |

### [**Fuerza Bruta**](../generic-methodologies-and-resources/brute-force.md#afp)

<details>

<summary><strong>Aprende hacking en AWS de cero a héroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF**, consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colección de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **sigue** a **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
