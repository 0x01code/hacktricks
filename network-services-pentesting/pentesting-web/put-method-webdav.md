# WebDav

![](<../../.gitbook/assets/image (9) (1) (2).png>)

Utilisez [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) pour cr√©er et automatiser facilement des flux de travail aliment√©s par les outils communautaires les plus avanc√©s au monde.\
Obtenez l'acc√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* Travaillez-vous dans une entreprise de cybers√©curit√© ? Voulez-vous voir votre entreprise annonc√©e dans HackTricks ? ou voulez-vous avoir acc√®s √† la derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFT**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**üí¨**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR au** [**repo hacktricks**](https://github.com/carlospolop/hacktricks) **et au** [**repo hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

Un serveur **HTTP avec WebDav** actif est un serveur o√π vous pouvez probablement **mettre √† jour, supprimer, d√©placer, copier** des fichiers. Parfois, vous devez avoir des **identifiants valides** (g√©n√©ralement v√©rifi√©s avec l'authentification de base HTTP).

Vous devriez essayer de **t√©l√©charger** un **webshell** et de l'**ex√©cuter** depuis le serveur Web pour prendre le contr√¥le du serveur.\
G√©n√©ralement, pour **se connecter** √† un serveur WebDav, vous aurez besoin de **cr√©dits valides** : [**WebDav bruteforce**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth) _(Authentification de base)_.

Une autre configuration courante consiste √† **interdire le t√©l√©chargement** de fichiers avec des **extensions** qui seront **ex√©cut√©es** par le serveur Web. Vous devriez v√©rifier comment **contourner cela** :

* **T√©l√©chargez** des fichiers avec des **extensions ex√©cutables** (peut-√™tre n'est-ce pas interdit).
* **T√©l√©chargez** des fichiers **sans extensions ex√©cutables** (comme .txt) et essayez de **renommer** le fichier (d√©placer) avec une **extension ex√©cutable**.
* **T√©l√©chargez** des fichiers **sans extensions ex√©cutables** (comme .txt) et essayez de **copier** le fichier (d√©placer) avec une **extension ex√©cutable**.

## DavTest

**Davtest** essaie de **t√©l√©charger plusieurs fichiers avec des extensions diff√©rentes** et **v√©rifie** si l'extension est **ex√©cut√©e** :
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
Sortie d'exemple :

![](<../../.gitbook/assets/image (19) (1).png>)

Cela ne signifie pas que les extensions **.txt** et **.html sont ex√©cut√©es**. Cela signifie que vous pouvez **acc√©der √† ces fichiers** via le web.

## Cadaver

Vous pouvez utiliser cet outil pour **vous connecter au serveur WebDav** et effectuer des actions (comme **t√©l√©charger**, **d√©placer** ou **supprimer**) **manuellement**.
```
cadaver <IP>
```
## Requ√™te PUT

---

### Description

### Description

The HTTP PUT method is used to update a resource on a server. In the context of web applications, this method is often used to update an existing file on a web server.

La m√©thode HTTP PUT est utilis√©e pour mettre √† jour une ressource sur un serveur. Dans le contexte des applications web, cette m√©thode est souvent utilis√©e pour mettre √† jour un fichier existant sur un serveur web.

---

### PUT request with WebDAV

### Requ√™te PUT avec WebDAV

WebDAV (Web Distributed Authoring and Versioning) is an extension of the HTTP protocol that allows clients to perform remote Web content authoring operations. One of the operations that can be performed with WebDAV is file upload via PUT request.

WebDAV (Web Distributed Authoring and Versioning) est une extension du protocole HTTP qui permet aux clients d'effectuer des op√©rations d'auteur de contenu Web √† distance. L'une des op√©rations qui peuvent √™tre effectu√©es avec WebDAV est le t√©l√©chargement de fichiers via une requ√™te PUT.

---

### PUT request with WebDAV and Workspace

### Requ√™te PUT avec WebDAV et Workspace

In Workspace, the PUT method can be used to upload files to the platform. This can be done through the WebDAV interface, which allows users to access their Workspace files as if they were on a local drive.

Dans Workspace, la m√©thode PUT peut √™tre utilis√©e pour t√©l√©charger des fichiers sur la plateforme. Cela peut √™tre fait via l'interface WebDAV, qui permet aux utilisateurs d'acc√©der √† leurs fichiers Workspace comme s'ils √©taient sur un lecteur local.

---

### PUT request with WebDAV and AWS S3

### Requ√™te PUT avec WebDAV et AWS S3

In AWS S3, the PUT method can be used to upload files to a bucket. This can be done through the AWS S3 API or through the WebDAV interface.

Dans AWS S3, la m√©thode PUT peut √™tre utilis√©e pour t√©l√©charger des fichiers dans un compartiment. Cela peut √™tre fait via l'API AWS S3 ou via l'interface WebDAV.

---

### PUT request with WebDAV and GCP Cloud Storage

### Requ√™te PUT avec WebDAV et GCP Cloud Storage

In GCP Cloud Storage, the PUT method can be used to upload files to a bucket. This can be done through the GCP Cloud Storage API or through the WebDAV interface.

Dans GCP Cloud Storage, la m√©thode PUT peut √™tre utilis√©e pour t√©l√©charger des fichiers dans un compartiment. Cela peut √™tre fait via l'API GCP Cloud Storage ou via l'interface WebDAV.
```
curl -T 'shell.txt' 'http://$ip'
```
## Requ√™te MOVE
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
![](<../../.gitbook/assets/image (9) (1) (2).png>)

Utilisez [**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks) pour cr√©er et automatiser facilement des flux de travail aliment√©s par les outils communautaires les plus avanc√©s au monde.\
Obtenez l'acc√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Vuln√©rabilit√© WebDav IIS5/6

Cette vuln√©rabilit√© est tr√®s int√©ressante. Le **WebDav** ne permet pas de t√©l√©charger ou de renommer des fichiers avec l'extension **.asp**. Mais vous pouvez contourner cela en ajoutant √† la fin du nom **";.txt"** et le fichier sera ex√©cut√© comme s'il s'agissait d'un fichier .asp (vous pouvez √©galement utiliser ".html" au lieu de ".txt" mais n'oubliez pas le ";" ).

Ensuite, vous pouvez t√©l√©charger votre shell en tant que fichier ".**txt"** et le copier/d√©placer vers un fichier ".asp;.txt". En acc√©dant √† ce fichier via le serveur web, il sera ex√©cut√© (cadaver indiquera que l'action de d√©placement n'a pas fonctionn√©, mais c'est le cas).

![](<../../.gitbook/assets/image (18) (1) (1).png>)

## Publier des informations d'identification

Si Webdav utilisait un serveur Apache, vous devriez regarder les sites configur√©s dans Apache. Couramment :\
_**/etc/apache2/sites-enabled/000-default**_

√Ä l'int√©rieur, vous pourriez trouver quelque chose comme :
```
ServerAdmin webmaster@localhost
        Alias /webdav /var/www/webdav
        <Directory /var/www/webdav>
                DAV On
                AuthType Digest
                AuthName "webdav"
                AuthUserFile /etc/apache2/users.password
                Require valid-user
```
Comme vous pouvez le voir, il y a des fichiers avec les **identifiants** valides pour le serveur **webdav** :
```
/etc/apache2/users.password
```
√Ä l'int√©rieur de ce type de fichiers, vous trouverez le **nom d'utilisateur** et un **hash** du mot de passe. Ce sont les informations d'identification que le serveur WebDAV utilise pour authentifier les utilisateurs.

Vous pouvez essayer de les **craquer**, ou en **ajouter d'autres** si pour une raison quelconque vous souhaitez **acc√©der** au serveur **WebDAV** :
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
Pour v√©rifier si les nouvelles informations d'identification fonctionnent, vous pouvez faire :
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* Travaillez-vous dans une entreprise de **cybers√©curit√©** ? Voulez-vous voir votre **entreprise annonc√©e dans HackTricks** ? ou voulez-vous avoir acc√®s √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF** ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**üí¨**](https://emojipedia.org/speech-balloon/) **groupe Discord** ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR au** [**repo hacktricks**](https://github.com/carlospolop/hacktricks) **et au** [**repo hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

![](<../../.gitbook/assets/image (9) (1) (2).png>)

\
Utilisez [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) pour construire et **automatiser des workflows** aliment√©s par les outils communautaires les plus avanc√©s au monde.\
Obtenez l'acc√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
