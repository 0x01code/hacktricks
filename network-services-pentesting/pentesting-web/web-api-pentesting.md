# Έλεγχος ασφάλειας των Web API

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Χρησιμοποιήστε το [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) για να δημιουργήσετε και να **αυτοματοποιήσετε ροές εργασίας** με τα πιο προηγμένα εργαλεία της κοινότητας.\
Αποκτήστε πρόσβαση σήμερα:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}


## Σύνοψη Μεθοδολογίας Έλεγχου Ασφάλειας των API

Ο έλεγχος ασφάλειας των API περιλαμβάνει μια δομημένη προσέγγιση για την ανεύρεση ευπαθειών. Ο οδηγός αυτός περιλαμβάνει μια συνεκτική μεθοδολογία, με έμφαση στε πρακτικές τεχνικές και εργαλεία.

### **Κατανόηση των Τύπων των API**

- **SOAP/XML Web Services**: Χρησιμοποιούν τη μορφή WSDL για την τεκμηρίωση, συνήθως βρίσκεται στις διαδρομές `?wsdl`. Εργαλεία όπως το **SOAPUI** και το **WSDLer** (επέκταση του Burp Suite) είναι χρήσιμα για την ανάλυση και τη δημιουργία αιτημάτων. Παράδειγμα τεκμηρίωσης είναι προσβάσιμο στο [DNE Online](http://www.dneonline.com/calculator.asmx).

- **REST APIs (JSON)**: Η τεκμηρίωση συνήθως παρέχεται σε αρχεία WADL, αλλά εργαλεία όπως το [Swagger UI](https://swagger.io/tools/swagger-ui/) παρέχουν μια πιο φιλική προς τον χρήστη διεπαφή για την αλληλεπίδραση. Το **Postman** είναι ένα χρήσιμο εργαλείο για τη δημιουργία και τη διαχείριση παραδειγματικών αιτημάτων.

- **GraphQL**: Γλώσσα ερωτήματος για τα API που προσφέρει μια πλήρη και κατανοητή περιγραφή των δεδομένων στο API σας.

### **Εργαστήρια Πρακτικής**

- [**VAmPI**](https://github.com/erev0s/VAmPI): Ένα ευπαθές API για πρακτική, καλύπτοντας τις 10 κορυφαίες ευπαθείες των API σύμφωνα με το OWASP.

### **Αποτελεσματικά Κόλπα για τον Έλεγχο Ασφάλειας των API**

- **Ευπαθείες SOAP/XML**: Εξερευνήστε ευπαθείες XXE, αν και οι δηλώσεις DTD είναι συνήθως περιορισμένες. Οι ετικέτες CDATA μπορεί να επιτρέψουν την εισαγωγή φορτίου αν το XML παραμένει έγκυρο.

- **Ανόδος Προνομίων**: Δοκιμάστε τα σημεία πρόσβασης με διάφορα επίπεδα προνομίων για την εντοπισμό μη εξουσιοδοτημένων πρόσβασης.

- **Λανθασμένες Ρυθμίσεις CORS**: Ερευνήστε τις ρυθμίσεις CORS για πιθανή εκμετάλλευση μέσω επιθέσεων CSRF από πιστοποιημένες συνεδρίες.

- **Ανεύρεση Σημείων Πρόσβασης**: Χρησιμοποιήστε μοτίβα API για να ανακαλύψετε κρυμμένα σημεία πρόσβασης. Εργαλεία όπως οι fuzzers μπορούν να αυτοματοποιήσουν αυτήν τη διαδικασία.

- **Παραβίαση Παραμέτρων**: Δοκιμάστε να προσθέσετε ή να αντικαταστήσετε παραμέτρους στα αιτήματα για να αποκτήσετε πρόσβαση σε μη εξουσιοδοτημένα δεδομένα ή λειτουργίες.

- **Δοκιμή Μεθόδων HTTP**: Ποικίλετε τις μεθόδους αιτημάτων (GET, POST, PUT, DELETE, PATCH) για να ανακαλύψετε απροσδόκητες συμπεριφορές ή αποκαλύψεις πληροφοριών.

- **Παραπλανητική Επεξεργασία Τύπου Περιεχομένου**: Αλλάξτε μεταξύ διαφορετικών τύπων περιεχομένου (x-www-form-urlencoded, application/xml, application/json) για να ελέγξετε προβλήματα ανάλυσης ή ευπαθείες.

- **Προηγμένες Τεχνικές Παραμέτρων**: Δοκιμάστε με αναπάντεχους τύπους δεδομένων στα φορτία JSON ή παίξτε με δεδομένα XML για εισαγωγές XXE. Επίσης, δοκιμάστε τ
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
- Επιπλέον εργαλεία όπως το **automatic-api-attack-tool**, το **Astra** και το **restler-fuzzer** προσφέρουν εξατομικευμένες λειτουργίες για τον έλεγχο ασφάλειας των API, από προσομοίωση επιθέσεων μέχρι fuzzing και ανίχνευση ευπαθειών.

### **Πηγές Μάθησης και Πρακτικής**

- **OWASP API Security Top 10**: Απαραίτητο για την κατανόηση των κοινών ευπαθειών των API ([OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)).

- **API Security Checklist**: Ένας περιεκτικός κατάλογος για την ασφάλεια των API ([σύνδεσμος GitHub](https://github.com/shieldfy/API-Security-Checklist)).

- **Logger++ Filters**: Για την ανίχνευση ευπαθειών των API, το Logger++ προσφέρει χρήσιμα φίλτρα ([σύνδεσμος GitHub](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)).

- **API Endpoints List**: Μια επιμελημένη λίστα πιθανών σημείων πρόσβασης των API για σκοπούς ελέγχου ([gist GitHub](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)).


## Αναφορές
* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)


<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Χρησιμοποιήστε το [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) για να δημιουργήσετε και να αυτοματοποιήσετε ροές εργασίας με τα πιο προηγμένα εργαλεία της κοινότητας.\
Αποκτήστε πρόσβαση σήμερα:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Μάθετε το hacking του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Εάν θέλετε να δείτε την εταιρεία σας να διαφημίζεται στο HackTricks ή να κατεβάσετε το HackTricks σε μορφή PDF, ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα hacking tricks σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
