# 403 & 401 バイパス

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* **サイバーセキュリティ会社**で働いていますか？ **HackTricksで会社を宣伝**したいですか？または、**PEASSの最新バージョンにアクセスしたり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけてください。これは、スペイン語で最新の研究が発表される、世界中のハッカーや研究者を引き寄せる高度な技術コンテンツのイベントです。
* [**公式のPEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう。
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **ハッキングのトリックを共有**するには、[**hacktricksリポジトリ**](https://github.com/carlospolop/hacktricks)と[**hacktricks-cloudリポジトリ**](https://github.com/carlospolop/hacktricks-cloud)にPRを提出してください。

</details>

<figure><img src="../../.gitbook/assets/image (1) (1) (2) (4).png" alt=""><figcaption></figcaption></figure>

[**DragonJAR Security Conferenceは、コロンビアのボゴタで2023年9月7日から8日まで開催される、10年以上の歴史を持つ国際的なサイバーセキュリティイベント**](https://www.dragonjarcon.org/)です。このイベントは、スペイン語で最新の研究が発表され、世界中のハッカーや研究者を引き寄せる高度な技術コンテンツが提供されます。\
以下のリンクから今すぐ登録し、この素晴らしいカンファレンスをお見逃しなく！:

{% embed url="https://www.dragonjarcon.org/" %}

## HTTP動詞/メソッドのファジング

ファイルにアクセスするために**異なる動詞**を使用してみてください：`GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH, INVENTED, HACK`

* レスポンスヘッダーをチェックして、情報が提供されているかもしれません。たとえば、`Content-Length: 55`という**HEADリクエストへの200レスポンス**は、**HEAD動詞で情報にアクセスできる**ことを意味します。ただし、その情報を抽出する方法をまだ見つける必要があります。
* `X-HTTP-Method-Override: PUT`のようなHTTPヘッダーを使用すると、使用される動詞を上書きできます。
* **`TRACE`**動詞を使用し、非常に幸運な場合には、**中間プロキシによって追加されたヘッダー**もレスポンスで確認できるかもしれません。

## HTTPヘッダーのファジング

* Hostヘッダーを任意の値に変更してみてください（[ここで機能した例](https://medium.com/@sechunter/exploiting-admin-panel-like-a-boss-fc2dd2499d31)）。
* リソースにアクセスするために[**他のユーザーエージェント**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/User-Agents/UserAgents.fuzz.txt)を試してみてください。
* **HTTPヘッダーのファジング**：HTTPプロキシヘッダー、HTTP認証の基本的なNTLMブルートフォース（いくつかの組み合わせのみ）など、さまざまなテクニックを試してみてください。これらすべてを行うために、ツール[**fuzzhttpbypass**](https://github.com/carlospolop/fuzzhttpbypass)を作成しました。

* `X-Originating-IP: 127.0.0.1`
* `X-Forwarded-For: 127.0.0.1`
* `X-Forwarded: 127.0.0.1`
* `Forwarded-For: 127.0.0.1`
* `X-Remote-IP: 127.0.0.1`
* `X-Remote-Addr: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `X-Original-URL: 127.0.0.1`
* `Client-IP: 127.0.0.1`
* `True-Client-IP: 127.0.0.1`
* `Cluster-Client-IP: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `Host: localhost`

**パスが保護されている**場合、次のヘッダーを使用してパス保護をバイパスしてみることができます：

* `X-Original-URL: /admin/console`
* `X-Rewrite-URL: /admin/console`
* ページが**プロキシの背後にある**場合、プライベート情報にアクセスできないのはプロキシのせいかもしれません。[**HTTPリクエストスマグリング**](../../pentesting-web/http-request-smuggling/) **または** [**ホップバイホップヘッダー**](../../pentesting-web/abusing-hop-by-hop-headers.md)**を悪用**してみてください。
* 異なるレスポンスを探すために、[**特殊なHTTPヘッダー**](special-http-headers.md)をファジングしてみてください。
* **HTTPメソッド**をファジングしながら、**特殊なHTTPヘッダー**をファジングしてみてください。
* Hostヘッダーを**削除**して、保護をバイパスできるかもしれません。

## パスのファジング

_/path_ がブロックされている場合：

* _**/**_**%2e/path**を使用してみてください（アクセスがプロキシによってブロックされている場合、これにより保護がバイパスされる可能性があります）。また、**\_\*\* /%252e\*\*/path**（URLエンコードを2回行う）も試してみてください。
* **Unicodeバイパス**を試してみてください：_/**%ef%bc%8f**path_（URLエンコードされた文字は「/」のようなものです）のため、エンコードを戻すと_//path_ になり、すでに _/path_ 名のチェックをバイパスしているかもしれません。
* **
* {“id”:\[111]} --> 200 OK
* {“id”:111} --> 401 Unauthorized
* {“id”:{“id”:111\}} --> 200 OK
* {"user\_id":"\<legit\_id>","user\_id":"\<victims\_id>"} (JSON Parameter Pollution)
* user\_id=ATTACKER\_ID\&user\_id=VICTIM\_ID (Parameter Pollution)

## **プロトコルバージョン**

HTTP/1.1を使用している場合は、1.0を使用するか、2.0をサポートしているかテストしてみてください。

## **その他のバイパス方法**

* ドメインの**IP**または**CNAME**を取得し、直接接続を試みます。
* 一般的なGETリクエストを送信して、サーバーに**負荷をかけてみてください**（[この人がFacebookで成功した方法](https://medium.com/@amineaboud/story-of-a-weird-vulnerability-i-found-on-facebook-fc0875eb5125)）。
* プロトコルを変更します：httpからhttps、またはhttpsからhttpに変更します。
* [**https://archive.org/web/**](https://archive.org/web/)にアクセスし、過去にそのファイルが**世界的にアクセス可能**だったかどうかを確認します。

## **ブルートフォース**

* **パスワードを推測する**：以下の一般的な資格情報を試してみてください。被害者について何か知っていますか？またはCTFのチャレンジ名ですか？
* [**ブルートフォース**](../../generic-methodologies-and-resources/brute-force.md#http-brute)**:** 基本認証、ダイジェスト認証、NTLM認証を試してみてください。

{% code title="一般的な資格情報" %}
````
```
以下は、403と401のバイパスに関する情報です。

## 403 Forbiddenバイパス

### 1. ディレクトリリスティング

ディレクトリリスティングを使用して、403 Forbiddenエラーを回避できる場合があります。ディレクトリ内のファイルとディレクトリの一覧を表示することで、アクセス制限されたファイルにアクセスできる可能性があります。

### 2. ファイル拡張子のバイパス

ファイルの拡張子を変更することで、403 Forbiddenエラーを回避できる場合があります。サーバーが特定の拡張子を許可している場合、拡張子を変更することでアクセスできる可能性があります。

### 3. ディレクトリトラバーサル

ディレクトリトラバーサル攻撃を使用して、403 Forbiddenエラーを回避できる場合があります。ディレクトリの階層を上がることで、アクセス制限されたディレクトリにアクセスできる可能性があります。

## 401 Unauthorizedバイパス

### 1. デフォルトの認証情報

デフォルトの認証情報を使用して、401 Unauthorizedエラーを回避できる場合があります。一部のシステムでは、デフォルトのユーザー名とパスワードを使用してログインできる可能性があります。

### 2. パスワードリスト

パスワードリストを使用して、401 Unauthorizedエラーを回避できる場合があります。一般的なパスワードや一般的なユーザー名と組み合わせを試すことで、ログインできる可能性があります。

### 3. ブルートフォース攻撃

ブルートフォース攻撃を使用して、401 Unauthorizedエラーを回避できる場合があります。すべての可能なパスワードの組み合わせを試すことで、ログインできる可能性があります。

以上が403と401のバイパス方法です。これらの方法を使用して、アクセス制限されたリソースにアクセスできる可能性があります。ただし、これらの方法は合法的なテストや認証を目的として使用する必要があります。
```
````
{% endcode %}

## 自動ツール

* [https://github.com/lobuhi/byp4xx](https://github.com/lobuhi/byp4xx)
* [https://github.com/iamj0ker/bypass-403](https://github.com/iamj0ker/bypass-403)
* [https://github.com/gotr00t0day/forbiddenpass](https://github.com/gotr00t0day/forbiddenpass)
* [Burp拡張機能 - 403 Bypasser](https://portswigger.net/bappstore/444407b96d9c4de0adb7aed89e826122)

<figure><img src="../../.gitbook/assets/image (1) (1) (2) (4).png" alt=""><figcaption></figcaption></figure>

[**DragonJAR Security Conference es un evento internacional de ciberseguridad**](https://www.dragonjarcon.org/)は、コロンビアのボゴタで2023年9月7日から8日まで開催される、10年以上の歴史を持つ国際的なサイバーセキュリティイベントです。このイベントは、スペイン語で最新の研究が発表される高度な技術コンテンツのイベントであり、世界中のハッカーや研究者を魅了しています。\
以下のリンクから今すぐ登録し、この素晴らしいカンファレンスをお見逃しなく！:

{% embed url="https://www.dragonjarcon.org/" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* **サイバーセキュリティ企業で働いていますか？** **HackTricksで会社を宣伝**したいですか？または、**PEASSの最新バージョンにアクセスしたり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけてください。これは、私たちの独占的な[**NFTコレクション**](https://opensea.io/collection/the-peass-family)です。
* [**公式のPEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう。
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter**で私を**フォロー**してください[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**。**
* **ハッキングのトリックを共有するには、**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **と** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **にPRを提出してください。**

</details>
