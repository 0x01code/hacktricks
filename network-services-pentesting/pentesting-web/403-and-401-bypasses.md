# 403 e 401 Bypasses

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* Você trabalha em uma **empresa de cibersegurança**? Você quer ver sua **empresa anunciada no HackTricks**? ou você quer ter acesso à **última versão do PEASS ou baixar o HackTricks em PDF**? Verifique os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Descubra [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nossa coleção exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)
* **Junte-se ao** [**💬**](https://emojipedia.org/speech-balloon/) [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe suas técnicas de hacking enviando PRs para o** [**repositório hacktricks**](https://github.com/carlospolop/hacktricks) **e** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="../../.gitbook/assets/image (1) (1).png" alt=""><figcaption></figcaption></figure>

[**DragonJAR Security Conference é um evento internacional de cibersegurança**](https://www.dragonjarcon.org/) com mais de uma década que será realizado em 7 e 8 de setembro de 2023 em Bogotá, Colômbia. É um evento de grande conteúdo técnico onde as últimas pesquisas em espanhol são apresentadas, atraindo hackers e pesquisadores de todo o mundo.\
Registre-se agora no seguinte link e não perca esta grande conferência!:

{% embed url="https://www.dragonjarcon.org/" %}

## Fuzzing de Verbos/Métodos HTTP

Tente usar **diferentes verbos** para acessar o arquivo: `GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH, INVENTED, HACK`

* Verifique os cabeçalhos de resposta, talvez algumas informações possam ser fornecidas. Por exemplo, uma resposta **200** para **HEAD** com `Content-Length: 55` significa que o **verbo HEAD pode acessar as informações**. Mas você ainda precisa encontrar uma maneira de exfiltrar essas informações.
* Usando um cabeçalho HTTP como `X-HTTP-Method-Override: PUT` pode sobrescrever o verbo usado.
* Use o verbo **`TRACE`** e, se tiver muita sorte, talvez na resposta você possa ver também os **cabeçalhos adicionados por proxies intermediários** que podem ser úteis.

## Fuzzing de Cabeçalhos HTTP

* **Mude o cabeçalho Host** para algum valor arbitrário ([que funcionou aqui](https://medium.com/@sechunter/exploiting-admin-panel-like-a-boss-fc2dd2499d31))
* Tente [**usar outros User Agents**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/User-Agents/UserAgents.fuzz.txt) para acessar o recurso.
*   **Fuzz HTTP Headers**: Tente usar **Headers** de proxy HTTP, autenticação HTTP Basic e NTLM brute-force (com algumas combinações apenas) e outras técnicas. Para fazer tudo isso, criei a ferramenta [**fuzzhttpbypass**](https://github.com/carlospolop/fuzzhttpbypass).

    * `X-Originating-IP: 127.0.0.1`
    * `X-Forwarded-For: 127.0.0.1`
    * `X-Forwarded: 127.0.0.1`
    * `Forwarded-For: 127.0.0.1`
    * `X-Remote-IP: 127.0.0.1`
    * `X-Remote-Addr: 127.0.0.1`
    * `X-ProxyUser-Ip: 127.0.0.1`
    * `X-Original-URL: 127.0.0.1`
    * `Client-IP: 127.0.0.1`
    * `True-Client-IP: 127.0.0.1`
    * `Cluster-Client-IP: 127.0.0.1`
    * `X-ProxyUser-Ip: 127.0.0.1`
    * `Host: localhost`

    Se o **caminho estiver protegido**, você pode tentar contornar a proteção do caminho usando esses outros cabeçalhos:

    * `X-Original-URL: /admin/console`
    * `X-Rewrite-URL: /admin/console`
* Se a página estiver **atrás de um proxy**, talvez seja o proxy que esteja impedindo você de acessar as informações privadas. Tente abusar do [**HTTP Request Smuggling**](../../pentesting-web/http-request-smuggling/) **ou** [**hop-by-hop headers**](../../pentesting-web/abusing-hop-by-hop-headers.md)**.**
* Fuzz [**cabeçalhos HTTP especiais**](special-http-headers.md) procurando por diferentes respostas.
  * **Fuzz cabeçalhos HTTP especiais** enquanto fuzzing **Métodos HTTP**.
* **Remova o cabeçalho Host** e talvez você consiga contornar a proteção.

## Fuzzing de Caminho

Se _/caminho_ estiver bloqueado:

* Tente usar _**/**_**%2e/caminho \_(se o acesso estiver bloqueado por um proxy, isso pode contornar a proteção). Tente também**\_\*\* /%252e\*\*/caminho (codifique duas vezes a URL)
* Tente **bypass Unicode**: _/**%ef%bc%8f**caminho_ (Os caracteres codificados em URL são como "/"), então quando codificados de volta, será _//caminho_ e talvez você já tenha contornado a verificação do nome _/caminho_
* **Outros bypasses de caminho**:
  * site.com/secret –> HTTP 403 Forbidden
  * site.com/SECRET –> HTTP 200 OK
  * site.com/secret/ –> HTTP 200 OK
  * site.com/secret/. –> HTTP 200 OK
  * site.com//secret// –> HTTP 200 OK
  * site.com/./secret/.. –> HTTP 200 OK
  * site.com/;/secret –> HTTP 200 OK
  * site.com/.;/secret –> HTTP 200 OK
  * site.com//;//secret –> HTTP 200 OK
  * site
````
```
# Bypass 401 and 403 errors

Algumas vezes, quando você tenta acessar uma página web, você pode receber um erro 401 ou 403. Esses erros indicam que você não tem permissão para acessar a página. No entanto, existem algumas técnicas que você pode usar para tentar contornar esses erros.

## Usando credenciais padrão

Muitos sistemas vêm com credenciais padrão para contas de administrador ou de convidado. Aqui estão algumas credenciais padrão comuns que você pode tentar:

```
admin    admin
admin    password
admin    1234
admin    admin1234
admin    123456
root     toor
test     test
guest    guest
```

## Usando um proxy

Às vezes, um site pode bloquear seu endereço IP específico, mas permitir que outros endereços IP acessem o site. Nesse caso, você pode usar um proxy para acessar o site. Um proxy é um servidor que atua como intermediário entre você e o site que você está tentando acessar. Quando você usa um proxy, o site vê o endereço IP do proxy em vez do seu endereço IP real.

Existem muitos proxies gratuitos disponíveis na internet. Alguns exemplos incluem [HideMyAss](https://www.hidemyass.com/), [ProxySite](https://www.proxysite.com/), e [KProxy](https://kproxy.com/).

## Usando um navegador diferente

Às vezes, um site pode bloquear um navegador específico, mas permitir que outros navegadores acessem o site. Nesse caso, você pode tentar usar um navegador diferente para acessar o site. Alguns exemplos de navegadores incluem Google Chrome, Mozilla Firefox, Safari e Microsoft Edge.

## Usando um agente de usuário diferente

Um agente de usuário é uma string que um navegador envia para um site para informar ao site qual navegador está sendo usado. Às vezes, um site pode bloquear um agente de usuário específico, mas permitir que outros agentes de usuário acessem o site. Nesse caso, você pode tentar usar um agente de usuário diferente para acessar o site.

Existem muitas extensões de navegador disponíveis que permitem que você altere seu agente de usuário. Alguns exemplos incluem [User-Agent Switcher](https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg) para o Google Chrome e [User Agent Switcher](https://addons.mozilla.org/en-US/firefox/addon/user-agent-switcher-revived/) para o Mozilla Firefox.
```
````
## Ferramentas Automáticas

* [https://github.com/lobuhi/byp4xx](https://github.com/lobuhi/byp4xx)
* [https://github.com/iamj0ker/bypass-403](https://github.com/iamj0ker/bypass-403)
* [https://github.com/gotr00t0day/forbiddenpass](https://github.com/gotr00t0day/forbiddenpass)
* [Extensão Burp - 403 Bypasser](https://portswigger.net/bappstore/444407b96d9c4de0adb7aed89e826122)

<figure><img src="../../.gitbook/assets/image (1) (1).png" alt=""><figcaption></figcaption></figure>

[**A Conferência de Segurança DragonJAR é um evento internacional de cibersegurança**](https://www.dragonjarcon.org/) com mais de uma década de existência que será realizada nos dias 7 e 8 de setembro de 2023 em Bogotá, Colômbia. É um evento com grande conteúdo técnico onde são apresentadas as últimas pesquisas em espanhol que atrai hackers e pesquisadores de todo o mundo.\
Registre-se agora no seguinte link e não perca esta grande conferência!:

{% embed url="https://www.dragonjarcon.org/" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* Você trabalha em uma **empresa de cibersegurança**? Você quer ver sua **empresa anunciada no HackTricks**? ou quer ter acesso à **última versão do PEASS ou baixar o HackTricks em PDF**? Verifique os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Descubra [**A Família PEASS**](https://opensea.io/collection/the-peass-family), nossa coleção exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)
* **Junte-se ao** [**💬**](https://emojipedia.org/speech-balloon/) [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe suas técnicas de hacking enviando PRs para o** [**repositório hacktricks**](https://github.com/carlospolop/hacktricks) **e para o** [**repositório hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
