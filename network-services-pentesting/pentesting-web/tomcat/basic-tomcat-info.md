# рдореМрд▓рд┐рдХ рдЯреЙрдордХреИрдЯ рд╕реВрдЪрдирд╛

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдПрдХреНрд╕реЗрд╕ рдЪрд╛рд╣рд┐рдП**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдж рдкреАрдПрд╕ рдлреИрдорд┐рд▓реА**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**рдПрдирдПрдлрдЯреАрдЬрд╝**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рдЧреНрд░реБрдк**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдЧреНрд░реБрдк**](https://t.me/peass) рдореЗрдВ рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж[**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ**ред

</details>

**Try Hard рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣**

<figure><img src="../.gitbook/assets/telegram-cloud-document-1-5159108904864449420.jpg" alt=""><figcaption></figcaption></figure>

{% embed url="https://discord.gg/tryhardsecurity" %}

***

### рд░реВрдЯ рдХреЗ рд╕рд╛рде рди рдЪрд▓рд╛рдиреЗ рдХреА рдмрдЪрд╛рд╡

рд░реВрдЯ рдХреЗ рд╕рд╛рде рдЯреЙрдордХреИрдЯ рди рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд╛рдорд╛рдиреНрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИ рдХрд┐ рдкреЛрд░реНрдЯ 80/443 рдореЗрдВ рдПрдХ рдПрдкрд╛рдЪ рд╕рд░реНрд╡рд░ рд╕реЗрдЯ рдХрд░рдирд╛ рдФрд░, рдпрджрд┐ рдЕрдиреБрд░реЛрдзрд┐рдд рдкрде рдПрдХ рд░реЗрдЧреЗрдХреНрд╕ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рддреЛ рдЕрдиреБрд░реЛрдз рдЯреЙрдордХреИрдЯ рдкрд░ рдПрдХ рд╡рд┐рднрд┐рдиреНрди рдкреЛрд░реНрдЯ рдкрд░ рдЪрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдВрд░рдЪрдирд╛
```
тФЬтФАтФА bin
тФЬтФАтФА conf
тФВ   тФЬтФАтФА catalina.policy
тФВ   тФЬтФАтФА catalina.properties
тФВ   тФЬтФАтФА context.xml
тФВ   тФЬтФАтФА tomcat-users.xml
тФВ   тФЬтФАтФА tomcat-users.xsd
тФВ   тФФтФАтФА web.xml
тФЬтФАтФА lib
тФЬтФАтФА logs
тФЬтФАтФА temp
тФЬтФАтФА webapps
тФВ   тФЬтФАтФА manager
тФВ   тФВ   тФЬтФАтФА images
тФВ   тФВ   тФЬтФАтФА META-INF
тФВ   тФВ   тФФтФАтФА WEB-INF
|   |       тФФтФАтФА web.xml
тФВ   тФФтФАтФА ROOT
тФВ       тФФтФАтФА WEB-INF
тФФтФАтФА work
тФФтФАтФА Catalina
тФФтФАтФА localhost
```
* `bin` рдлрд╝реЛрд▓реНрдбрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдмрд╛рдЗрдирд░реА рдХреЛ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдФрд░ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛрддрд╛ рд╣реИред
* `conf` рдлрд╝реЛрд▓реНрдбрд░ рдЯреЙрдордХреИрдЯ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╡рд┐рднрд┐рдиреНрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИред
* `tomcat-users.xml` рдлрд╝рд╛рдЗрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдФрд░ рдЙрдирдХреЗ рджрд╛рдпрд┐рддреНрд╡ рднреВрдорд┐рдХрд╛рдПрдБ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддреА рд╣реИред
* `lib` рдлрд╝реЛрд▓реНрдбрд░ рдЯреЙрдордХреИрдЯ рдХреЗ рд╕рд╣реА рдХрд╛рдо рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╡рд┐рднрд┐рдиреНрди JAR рдлрд╝рд╛рдЗрд▓реЗрдВ рд░рдЦрддрд╛ рд╣реИред
* `logs` рдФрд░ `temp` рдлрд╝реЛрд▓реНрдбрд░ рдЕрд╕реНрдерд╛рдпреА рд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддреЗ рд╣реИрдВред
* `webapps` рдлрд╝реЛрд▓реНрдбрд░ рдЯреЙрдордХреИрдЯ рдХрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡реЗрдмрд░реВрдЯ рд╣реИ рдФрд░ рд╕рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рд╣реЛрд╕реНрдЯ рдХрд░рддрд╛ рд╣реИред `work` рдлрд╝реЛрд▓реНрдбрд░ рдПрдХ рдХреИрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рд░рдирдЯрд╛рдЗрдо рдХреЗ рджреМрд░рд╛рди рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдкреНрд░рддреНрдпреЗрдХ рдлрд╝реЛрд▓реНрдбрд░ `webapps` рдХреЗ рдЕрдВрджрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрд░рдЪрдирд╛ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред
```
webapps/customapp
тФЬтФАтФА images
тФЬтФАтФА index.jsp
тФЬтФАтФА META-INF
тФВ   тФФтФАтФА context.xml
тФЬтФАтФА status.xsd
тФФтФАтФА WEB-INF
тФЬтФАтФА jsp
|   тФФтФАтФА admin.jsp
тФФтФАтФА web.xml
тФФтФАтФА lib
|    тФФтФАтФА jdbc_drivers.jar
тФФтФАтФА classes
тФФтФАтФА AdminServlet.class
```
рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдлрд╝рд╛рдЗрд▓ `WEB-INF/web.xml` рд╣реИ, рдЬрд┐рд╕реЗ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ **рд░реВрдЯреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА** рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИ рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдФрд░ рдЗрди рд░реВрдЯреНрд╕ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рд╡рд╛рд▓реА рдХрдХреНрд╖рд╛рдПрдБ рд╣реИрдВред\
рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЧрдИ рдХрдХреНрд╖рд╛рдПрдБ `WEB-INF/classes` рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред рдпреЗ рдХрдХреНрд╖рд╛рдПрдБ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рднреА рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддреА рд╣реИрдВред рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдХреЛрдИ рднреА рд╕реБрд░рдХреНрд╖рд╛ рдХрдореА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрдордЬреЛрд░ рд╣реЛрдиреЗ рдХреА рдУрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддреА рд╣реИред `lib` рдлрд╝реЛрд▓реНрдбрд░ рдЙрд╕ рд╡рд┐рд╢реЗрд╖ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред `jsp` рдлрд╝реЛрд▓реНрдбрд░ [рдЬрдХрд╛рд░реНрддрд╛ рд╕рд░реНрд╡рд░ рдкреЗрдЬреНрд╕ (JSP)](https://en.wikipedia.org/wiki/Jakarta\_Server\_Pages) рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдкрд╣рд▓реЗ `JavaServer Pages` рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рдерд╛, рдЬреЛ рдПрдХ рдЕрдкрд╛рдЪреЗ рд╕рд░реНрд╡рд░ рдкрд░ PHP рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рдорд╛рди рд╣реИред

рдпрд╣рд╛рдБ рдПрдХ рдЙрджрд╛рд╣рд░рдг **web.xml** рдлрд╝рд╛рдЗрд▓ рд╣реИред
```xml
<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">

<web-app>
<servlet>
<servlet-name>AdminServlet</servlet-name>
<servlet-class>com.inlanefreight.api.AdminServlet</servlet-class>
</servlet>

<servlet-mapping>
<servlet-name>AdminServlet</servlet-name>
<url-pattern>/admin</url-pattern>
</servlet-mapping>
</web-app>
```
рдКрдкрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ `web.xml` рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдПрдХ **рдирдпрд╛ рд╕рд░реНрд╡рд▓реЗрдЯ рдЬрд┐рд╕реЗ `AdminServlet` рдирд╛рдордХ** рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ **рдХрдХреНрд╖ `com.inlanefreight.api.AdminServlet`** рд╕реЗ рдореИрдк рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрд╛рд╡рд╛ рдбреЙрдЯ рдиреЛрдЯреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреИрдХреЗрдЬ рдирд╛рдо рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рдорддрд▓рдм рдКрдкрд░ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрдХреНрд╖ рдХреЗ рд▓рд┐рдП рдбрд┐рд╕реНрдХ рдкрд░ рдкрде рд╣реЛрдЧрд╛:

* **`classes/com/inlanefreight/api/AdminServlet.class`**

рдЕрдЧрд▓реЗ, рдПрдХ рдирдпрд╛ рд╕рд░реНрд╡рд▓реЗрдЯ рдореИрдкрд┐рдВрдЧ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ **`/admin` рдХреЛ `AdminServlet` рдХреЗ рд╕рд╛рде рдореИрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП**ред рдпрд╣ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд┐рд╕реА рднреА рдЕрдиреБрд░реЛрдз рдХреЛ **`/admin` рдХреЗ рд▓рд┐рдП `AdminServlet.class`** рдХрдХреНрд╖ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреЗрдЬреЗрдЧрд╛ред **`web.xml`** рд╡рд┐рд╡рд░рдгрдХрд░реНрддрд╛ рдореЗрдВ рдХрдИ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** рд╣реЛрддреА рд╣реИ рдФрд░ рдпрд╣ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдлрд╝рд╛рдЗрд▓ рд╣реИ рдЬреЛ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрддреА рд╣реИ рдЬрдм рдПрдХ **рд╕реНрдерд╛рдиреАрдп рдлрд╝рд╛рдЗрд▓ рд╕рдорд╛рд╡реЗрд╢рди (LFI) рд╡рдВрд╢рд╛рд╡рд▓реА** рдХрд╛ рд▓рд╛рдн рдЙрдард╛рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред

### tomcat-users

**`tomcat-users.xml`** рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ **`/manager` рдФрд░ `host-manager` рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреГрд╖реНрдареЛрдВ** рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдпрд╛ рди рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
```xml
<?xml version="1.0" encoding="UTF-8"?>

<SNIP>

<tomcat-users xmlns="http://tomcat.apache.org/xml"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://tomcat.apache.org/xml tomcat-users.xsd"
version="1.0">
<!--
By default, no user is included in the "manager-gui" role required
to operate the "/manager/html" web application.  If you wish to use this app,
you must define such a user - the username and password are arbitrary.

Built-in Tomcat manager roles:
- manager-gui    - allows access to the HTML GUI and the status pages
- manager-script - allows access to the HTTP API and the status pages
- manager-jmx    - allows access to the JMX proxy and the status pages
- manager-status - allows access to the status pages only

The users below are wrapped in a comment and are therefore ignored. If you
wish to configure one or more of these users for use with the manager web
application, do not forget to remove the <!.. ..> that surrounds them. You
will also need to set the passwords to something appropriate.
-->


<SNIP>

!-- user manager can access only manager section -->
<role rolename="manager-gui" />
<user username="tomcat" password="tomcat" roles="manager-gui" />

<!-- user admin can access manager and admin section both -->
<role rolename="admin-gui" />
<user username="admin" password="admin" roles="manager-gui,admin-gui" />


</tomcat-users>
```
рдпрд╣ рдлрд╝рд╛рдЗрд▓ рд╣рдореЗрдВ рджрд┐рдЦрд╛рддреА рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рднреВрдорд┐рдХрд╛ `manager-gui`, `manager-script`, `manager-jmx`, рдФрд░ `manager-status` рдХрд┐рд╕рдХреЛ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ `tomcat` рдЬрд┐рд╕рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб `tomcat` рд╣реИ, рдХреЗ рдкрд╛рд╕ `manager-gui` рднреВрдорд┐рдХрд╛ рд╣реИ, рдФрд░ рдПрдХ рджреВрд╕рд░рд╛ рдХрдордЬреЛрд░ рдкрд╛рд╕рд╡рд░реНрдб `admin` рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ `admin` рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
