# GraphQL

<details>

<summary><strong>рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a> <strong>рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks\_live)\*\* рдкрд░ рдлреЙрд▓реЛ\*\* рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## рдкрд░рд┐рдЪрдп

GraphQL рдХреЛ **REST API рдХреЗ рд▓рд┐рдП рдПрдХ рдХреБрд╢рд▓ рд╡рд┐рдХрд▓реНрдк** рдХреЗ рд░реВрдк рдореЗрдВ **рд╣рд╛рдЗрд▓рд╛рдЗрдЯ** рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ рдмреИрдХрдПрдВрдб рд╕реЗ рдбреЗрдЯрд╛ рдХреНрд╡реЗрд░реА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред REST рдХреЗ рд╡рд┐рдкрд░реАрдд, рдЬреЛ рдЕрдХреНрд╕рд░ рдбреЗрдЯрд╛ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкрд░ рдЕрдиреЗрдХ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, GraphQL рдПрдХ **рдПрдХрд▓ рдЕрдиреБрд░реЛрдз** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдЙрдирдХреА рдбреЗрдЯрд╛ рд▓рд╛рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдХреЛ рдХрдо рдХрд░рдХреЗ **рд▓рд╛рдн рдкрд╣реБрдВрдЪрд╛рддреА** рд╣реИред

## GraphQL рдФрд░ рд╕реБрд░рдХреНрд╖рд╛

рдирдИ рддрдХрдиреАрдХреЛрдВ рдХреЗ рдЖрдЧрдорди рдХреЗ рд╕рд╛рде, рдЬреИрд╕реЗ рдХрд┐ GraphQL, рдирдИ рд╕реБрд░рдХреНрд╖рд╛ рд╕рдВрд╡рд░реНрдзрди рднреА рд╕рд╛рдордиреЗ рдЖрддреЗ рд╣реИрдВред рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рдпрд╣ рд╣реИ рдХрд┐ **GraphQL рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рддрдВрддреНрд░ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ**ред рдРрд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдпреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреА рдЬрд┐рдореНрдореЗрджрд╛рд░реА рд╣реИред рд╕рд╣реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд┐рдирд╛, GraphQL рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЕрдкреНрд░рдорд╛рдгрд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдо рдкреИрджрд╛ рдХрд░рддрд╛ рд╣реИред

### рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдмреНрд░реВрдЯ рдлреЛрд░реНрд╕ рд╣рдорд▓реЗ рдФрд░ GraphQL

рдЙрджреНрдШрд╛рдЯрд┐рдд GraphQL рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХреЗ рд▓рд┐рдП, рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдмреНрд░реВрдЯ рдлреЛрд░реНрд╕ рд╣рдорд▓реЛрдВ рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рдкрдереЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рд╕реБрдЭрд╛рд╡рд┐рдд рд╣реИред рдпреЗ рдкрде рд╣реИрдВ:

* `/graphql`
* `/graphiql`
* `/graphql.php`
* `/graphql/console`
* `/api`
* `/api/graphql`
* `/graphql/api`
* `/graphql/graphql`

рдЦреБрд▓реЗ GraphQL рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреА рдкрд╣рдЪрд╛рди, рд╕рдорд░реНрдерд┐рдд рдХреНрд╡реЗрд░реАрдЬ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдпрд╣ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдВрдЪреА рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓реА рдбреЗрдЯрд╛ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред GraphQL рдХрд╛ рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рд╕рд┐рд╕реНрдЯрдо рдЗрд╕реЗ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕реНрдХреАрдорд╛ рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рдХреНрд╡реЗрд░реАрдЬ рдХрд╛ рд╡рд┐рд╡рд░рдг рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, GraphQL рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдкрд░ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдкрд░ рдЬрд╛рдПрдВ: [**GraphQL: рдПрдкреАрдЖрдИ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд╡реЗрд░реА рднрд╛рд╖рд╛ред**](https://graphql.org/learn/introspection/)

### рдлрд┐рдВрдЧрд░рдкреНрд░рд┐рдВрдЯ

рдЙрдкрдХрд░рдг [**graphw00f**](https://github.com/dolevf/graphw00f) рд╕рд░реНрд╡рд░ рдореЗрдВ рдХреМрди рд╕рд╛ GraphQL рдЗрдВрдЬрди рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ рдФрд░ рдлрд┐рд░ рд╕реБрд░рдХреНрд╖рд╛ рдорд╣рд╛рдирд┐рд░реАрдХреНрд╖рдХ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╕рд╣рд╛рдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред

#### рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдХреНрд╡реЗрд░реАрдЬ <a href="#universal-queries" id="universal-queries"></a>

рдпрджрд┐ рдПрдХ URL рдПрдХ GraphQL рд╕реЗрд╡рд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ **рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдХреНрд╡реЗрд░реА**, `query{__typename}`, рднреЗрдЬреА рдЬрд╛ рд╕рдХрддреА рд╣реИред рдпрджрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ `{"data": {"__typename": "Query"}}` рд╢рд╛рдорд┐рд▓ рд╣реИ, рддреЛ рдпрд╣ рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ рдХрд┐ URL рдореЗрдВ рдПрдХ GraphQL рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╣реЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред рдпрд╣ рд╡рд┐рдзрд┐ GraphQL рдХреЗ `__typename` рдлрд╝реАрд▓реНрдб рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИ, рдЬреЛ рдкреВрдЫреЗ рдЧрдП рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкреНрд░рдХрдЯ рдХрд░рддрд╛ рд╣реИред

```javascript
query{__typename}
```

### рдореВрд▓ рдЬрд╛рдВрдЪ

Graphql рдЖрдо рддреМрд░ рдкрд░ **GET**, **POST** (x-www-form-urlencoded) рдФрд░ **POST**(json) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП CSRF рд╣рдорд▓реЛрдВ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ json рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рд╕реБрдЭрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

#### рдЖрддреНрдо-рдЬрд╛рдВрдЪ

рд╕реНрдХреАрдорд╛ рд╕реВрдЪрдирд╛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `__schema` рдлреАрд▓реНрдб рдХреНрд╡реЗрд░реА рдХрд░реЗрдВред рдпрд╣ рдлрд╝реАрд▓реНрдб рд╕рднреА рдХреНрд╡реЗрд░реА рдХреЗ рдореВрд▓ рдкреНрд░рдХрд╛рд░ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред

```bash
query={__schema{types{name,fields{name}}}}
```

рдЗрд╕ рдХреНрд╡реЗрд░реА рдХреЗ рд╕рд╛рде рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рд╕рднреА рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рдирд╛рдо рдорд┐рд▓реЗрдЧрд╛:

![](<../../.gitbook/assets/image (202).png>)

```bash
query={__schema{types{name,fields{name,args{name,description,type{name,kind,ofType{name, kind}}}}}}}
```

рдЗрд╕ рдХреНрд╡реЗрд░реА рдХреЗ рд╕рд╛рде рдЖрдк рд╕рднреА рдкреНрд░рдХрд╛рд░, рдЙрд╕рдХреЗ рдлрд╝реАрд▓реНрдб, рдФрд░ рдЙрд╕рдХреЗ рддрд░реНрдХ (рдФрд░ рддрд░реНрдХ рдХреЗ рдкреНрд░рдХрд╛рд░) рдХреЛ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧрд╛ рдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдХреИрд╕реЗ рдХреНрд╡реЗрд░реА рдХрд░реЗрдВред

![](<../../.gitbook/assets/image (207) (3).png>)

**рддреНрд░реБрдЯрд┐рдпрд╛рдБ**

рдпрд╣ рджреЗрдЦрдирд╛ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ рдХреНрдпрд╛ **рддреНрд░реБрдЯрд┐рдпрд╛рдБ** **рджрд┐рдЦрд╛рдИ** рдЬрд╛рдПрдВрдЧреА рдХреНрдпреЛрдВрдХрд┐ рдпреЗ рдЙрдкрдпреЛрдЧреА **рдЬрд╛рдирдХрд╛рд░реА** рдХреЗ рд╕рд╛рде рд╕рд╣рд╛рдпрдХ рд╣реЛрдВрдЧреАред

```
?query={__schema}
?query={}
?query={thisdefinitelydoesnotexist}
```

**рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реНрдХреАрдо рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ**

{% hint style="info" %}
рдпрджрд┐ рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рд╕рдХреНрд╖рдо рд╣реИ рд▓реЗрдХрд┐рди рдЙрдкрд░реЛрдХреНрдд рдХреНрд╡реЗрд░реА рдирд╣реАрдВ рдЪрд▓рддреА рд╣реИ, рддреЛ рдХреНрд╡реЗрд░реА рд╕рдВрд░рдЪрдирд╛ рд╕реЗ `onOperation`, `onFragment`, рдФрд░ `onField` рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред
{% endhint %}

```bash
#Full introspection query

query IntrospectionQuery {
__schema {
queryType {
name
}
mutationType {
name
}
subscriptionType {
name
}
types {
...FullType
}
directives {
name
description
args {
...InputValue
}
onOperation  #Often needs to be deleted to run query
onFragment   #Often needs to be deleted to run query
onField      #Often needs to be deleted to run query
}
}
}

fragment FullType on __Type {
kind
name
description
fields(includeDeprecated: true) {
name
description
args {
...InputValue
}
type {
...TypeRef
}
isDeprecated
deprecationReason
}
inputFields {
...InputValue
}
interfaces {
...TypeRef
}
enumValues(includeDeprecated: true) {
name
description
isDeprecated
deprecationReason
}
possibleTypes {
...TypeRef
}
}

fragment InputValue on __InputValue {
name
description
type {
...TypeRef
}
defaultValue
}

fragment TypeRef on __Type {
kind
name
ofType {
kind
name
ofType {
kind
name
ofType {
kind
name
}
}
}
}
```

рдЗрдирд▓рд╛рдЗрди рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреНрд╡реЗрд░реА:

```
/?query=fragment%20FullType%20on%20Type%20{+%20%20kind+%20%20name+%20%20description+%20%20fields%20{+%20%20%20%20name+%20%20%20%20description+%20%20%20%20args%20{+%20%20%20%20%20%20...InputValue+%20%20%20%20}+%20%20%20%20type%20{+%20%20%20%20%20%20...TypeRef+%20%20%20%20}+%20%20}+%20%20inputFields%20{+%20%20%20%20...InputValue+%20%20}+%20%20interfaces%20{+%20%20%20%20...TypeRef+%20%20}+%20%20enumValues%20{+%20%20%20%20name+%20%20%20%20description+%20%20}+%20%20possibleTypes%20{+%20%20%20%20...TypeRef+%20%20}+}++fragment%20InputValue%20on%20InputValue%20{+%20%20name+%20%20description+%20%20type%20{+%20%20%20%20...TypeRef+%20%20}+%20%20defaultValue+}++fragment%20TypeRef%20on%20Type%20{+%20%20kind+%20%20name+%20%20ofType%20{+%20%20%20%20kind+%20%20%20%20name+%20%20%20%20ofType%20{+%20%20%20%20%20%20kind+%20%20%20%20%20%20name+%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20}+%20%20%20%20}+%20%20}+}++query%20IntrospectionQuery%20{+%20%20schema%20{+%20%20%20%20queryType%20{+%20%20%20%20%20%20name+%20%20%20%20}+%20%20%20%20mutationType%20{+%20%20%20%20%20%20name+%20%20%20%20}+%20%20%20%20types%20{+%20%20%20%20%20%20...FullType+%20%20%20%20}+%20%20%20%20directives%20{+%20%20%20%20%20%20name+%20%20%20%20%20%20description+%20%20%20%20%20%20locations+%20%20%20%20%20%20args%20{+%20%20%20%20%20%20%20%20...InputValue+%20%20%20%20%20%20}+%20%20%20%20}+%20%20}+}
```

рдЖрдЦрд┐рд░реА рдХреЛрдб рд▓рд╛рдЗрди рдПрдХ graphql рдХреНрд╡реЗрд░реА рд╣реИ рдЬреЛ graphql рд╕реЗ рд╕рднреА рдореЗрдЯрд╛-рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдбрдВрдк рдХрд░реЗрдЧреА (рдСрдмреНрдЬ

```javascript
query={flags{name, value}}
```

рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ рдпрджрд┐ **рдХреНрд╡реЗрд░реА рдХрд░рдиреЗ рдХрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ** рдПрдХ **рдореМрд▓рд┐рдХ** **рдкреНрд░рдХрд╛рд░** рдЬреИрд╕реЗ рдХрд┐ **рд╕реНрдЯреНрд░рд┐рдВрдЧ** рд╣реИ рдЬреИрд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ

![](<../../.gitbook/assets/image (441).png>)

рдЖрдк рдЗрд╕реЗ рдмрд╕ рдХреНрд╡реЗрд░реА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```javascript
query={hiddenFlags}
```

рдПрдХ рдФрд░ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ "_Query_" рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрдВрджрд░ 2 рдСрдмреНрдЬреЗрдХреНрдЯ рдереЗ: "_user_" рдФрд░ "_users_"ред рдпрджрд┐ рдЗрди рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдЖрд░реНрдЧреНрдпрдореЗрдВрдЯ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ рдЙрди рд╕реЗ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдЖрдк рд╕рд╣реЗрдЬреЗ рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ:

![](<../../.gitbook/assets/image (208).png>)

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдпрджрд┐ рдЖрдк рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдкрдХреЛ рдпрд╣ **рддреНрд░реБрдЯрд┐** рдорд┐рд▓рддреА рд╣реИ:

![](<../../.gitbook/assets/image (210).png>)

рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рд╕реЗ рдпрд╣ "_**uid**_" рдЖрд░реНрдЧреНрдпрдореЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЦреЛрдЬреЗрдЧрд╛ рдЬрд┐рд╕рдХрд╛ рдкреНрд░рдХрд╛рд░ _**Int**_ рд╣реИред рдЬреИрд╕реЗ рд╣реА рдЖрдк рдЙрд╕ рдХреНрд╡реЗрд░реА рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рджрд┐рдпрд╛ рдЧрдпрд╛ рдЙрд╕ рдЫрд╡рд┐ рдХреЛ рдкрдврд╝рддреЗ рд╣реИрдВ, рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ "_**user**_" рдореЗрдВ "_**uid**_" рдирд╛рдордХ **arg** рдерд╛ рдЬрд┐рд╕рдХрд╛ рдкреНрд░рдХрд╛рд░ _Int_ рдерд╛ред

рдЗрд╕рд▓рд┐рдП, рдХреБрдЫ рд╣рд▓реНрдХреЗ _**uid**_ рдмреНрд░реВрдЯрдлреЛрд░реНрд╕ рдХрд░рдХреЗ рдореИрдВрдиреЗ рдкрд╛рдпрд╛ рдХрд┐ _**uid**=**1**_ рдореЗрдВ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдкреНрд░рд╛рдкреНрдд рд╣реБрдЖ рдерд╛:\
`query={user(uid:1){user,password}}`

![](<../../.gitbook/assets/image (211).png>)

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдореИрдВрдиреЗ **рдЦреЛрдЬ** рдХрд┐рдпрд╛ рдХрд┐ рдореИрдВ "_**user**_" рдФрд░ "_**password**_" рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд▓рд┐рдП рдкреВрдЫ рд╕рдХрддрд╛ рд╣реВрдБ рдХреНрдпреЛрдВрдХрд┐ рдЕрдЧрд░ рдореИрдВ рдХреБрдЫ рдРрд╕рд╛ рдЦреЛрдЬрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реВрдБ рдЬреЛ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ (`query={user(uid:1){noExists}}`) рддреЛ рдореБрдЭреЗ рдпрд╣ рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ:

![](<../../.gitbook/assets/image (213).png>)

рдФрд░ **рдЬрд╛рдБрдЪ рдЪрд░рдг** рдХреЗ рджреМрд░рд╛рди рдореБрдЭреЗ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ "_**dbuser**_" рдСрдмреНрдЬ

```javascript
{
searchPerson(name: "John Doe") {
email
}
}
```

рдЖрдк рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдирд╛рдо рджреНрд╡рд╛рд░рд╛ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдХреА рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм рдХреА рдЧрдИ рдлрд┐рд▓реНрдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```javascript
{
searchPerson(name: "John Doe") {
email
subscribedMovies {
edges {
node {
name
}
}
}
}
}
```

рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ рдЗрд╕рдореЗрдВ рдЗрдВрд╕рд╛рди рдХреЗ `subscribedMovies` рдХрд╛ `name` рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдХреЗрддрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

рдЖрдк рдПрдХ рд╕рд╛рде \*\*рдХрдИ рдСрдмреНрдЬ

```javascript
{
searchPerson(subscribedMovies: [{name: "Inception"}, {name: "Rocky"}]) {
name
}
}r
```

рдпрд╛ рдлрд┐рд░ **рдЕрд▓рд╛рдпрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрдИ рд╡рд┐рднрд┐рдиреНрди рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд╕рдВрдмрдВрдз**:

```javascript
{
johnsMovieList: searchPerson(name: "John Doe") {
subscribedMovies {
edges {
node {
name
}
}
}
}
davidsMovieList: searchPerson(name: "David Smith") {
subscribedMovies {
edges {
node {
name
}
}
}
}
}
```

### рдореНрдпреБрдЯреЗрд╢рди

**рдореНрдпреБрдЯреЗрд╢рди рд╕рд░реНрд╡рд░-рд╕рд╛рдЗрдб рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред**

**рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди** рдореЗрдВ рдЖрдк **рдШреЛрд╖рд┐рдд** **рдореНрдпреБрдЯреЗрд╢рди** рдвреВрдВрдв рд╕рдХрддреЗ рд╣реИрдВред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЫрд╡рд┐ рдореЗрдВ "_рдореНрдпреБрдЯреЗрд╢рдирдЯрд╛рдЗрдк_" рдХреЛ "_рдореНрдпреБрдЯреЗрд╢рди_" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ "_рдореНрдпреБрдЯреЗрд╢рди_" рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдореНрдпреБрдЯреЗрд╢рди рдХреЗ рдирд╛рдо рд╣реЛрддреЗ рд╣реИрдВ (рдЬреИрд╕реЗ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ "_рд╡реНрдпрдХреНрддрд┐ рдЬреЛрдбрд╝реЗрдВ_" рдХреЛ):

![](../../.gitbook/assets/screenshot-from-2021-03-13-18-26-27.png)

рдЗрд╕ рд╕реЗрдЯрдЕрдк рдореЗрдВ, рдПрдХ **рдбреЗрдЯрд╛рдмреЗрд╕** рдореЗрдВ **рд╡реНрдпрдХреНрддрд┐** рдФрд░ **рдлрд┐рд▓реНрдореЗрдВ** рд╣реЛрддреА рд╣реИрдВред **рд╡реНрдпрдХреНрддрд┐** рдЕрдкрдиреЗ **рдИрдореЗрд▓** рдФрд░ **рдирд╛рдо** рд╕реЗ рдкрд╣рдЪрд╛рдиреА рдЬрд╛рддреА рд╣реИрдВ; **рдлрд┐рд▓реНрдореЗрдВ** рдЕрдкрдиреЗ **рдирд╛рдо** рдФрд░ **рд░реЗрдЯрд┐рдВрдЧ** рд╕реЗред **рд╡реНрдпрдХреНрддрд┐** рдПрдХ-рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рджреЛрд╕реНрдд рдмрди рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдХреЗ рдкрд╛рд╕ рдлрд┐рд▓реНрдореЗрдВ рднреА рд╣реЛ рд╕рдХрддреА рд╣реИрдВ, рдЬреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рднреАрддрд░ рд╕рдВрдмрдВрдзреЛрдВ рдХреЛ рджрд░реНрд╢рд╛рддреА рд╣реИрдВред

рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ **рдирдИ** рдлрд┐рд▓реНрдореЗрдВ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдореНрдпреБрдЯреЗрд╢рди рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░рд╣ рд╕реЗ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ (рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдореНрдпреБрдЯреЗрд╢рди рдХреЛ `addMovie` рдХрд╣рд╛ рдЧрдпрд╛ рд╣реИ):

```javascript
mutation {
addMovie(name: "Jumanji: The Next Level", rating: "6.8/10", releaseYear: 2019) {
movies {
name
rating
}
}
}
```

**рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреНрд╡реЗрд░реА рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рдорд╛рди рдФрд░ рдкреНрд░рдХрд╛рд░ рджреЛрдиреЛрдВ рджрд┐рдЦрд╛рдП рдЧрдП рд╣реИрдВред**

рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдбреЗрдЯрд╛рдмреЗрд╕ рдПрдХ **рдкрд░рд┐рд╡рд░реНрддрди** рдСрдкрд░реЗрд╢рди рдХреЛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ `addPerson` рдирд╛рдордХ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ **рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ** рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рд╕рд╛рде рд╣реА рдЙрдирдХреЗ рдореМрдЬреВрджрд╛ **рджреЛрд╕реНрддреЛрдВ** рдФрд░ **рдлрд┐рд▓реНрдореЛрдВ** рдХреЗ рд╕рдВрдмрдВрдзреЛрдВ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рджреЛрд╕реНрдд рдФрд░ рдлрд┐рд▓реНрдореЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдЗрдиреНрд╣реЗрдВ рдирд╡рдирд┐рд░реНрдорд┐рдд рд╡реНрдпрдХреНрддрд┐ рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗред

```javascript
mutation {
addPerson(name: "James Yoe", email: "jy@example.com", friends: [{name: "John Doe"}, {email: "jd@example.com"}], subscribedMovies: [{name: "Rocky"}, {name: "Interstellar"}, {name: "Harry Potter and the Sorcerer's Stone"}]) {
person {
name
email
friends {
edges {
node {
name
email
}
}
}
subscribedMovies {
edges {
node {
name
rating
releaseYear
}
}
}
}
}
}
```

### рдПрдкреАрдЖрдИ рдЕрдиреБрд░реЛрдз рдореЗрдВ рдмреИрдЪрд┐рдВрдЧ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕

рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА [https://lab.wallarm.com/graphql-batching-attack/](https://lab.wallarm.com/graphql-batching-attack/) рд╕реЗ рд▓реА рдЧрдИ рд╣реИред\
**рд╡рд┐рднрд┐рдиреНрди рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЗ рд╕рд╛рде рдХрдИ рдХреНрд╡реЗрд░реА рдПрдХ рд╕рд╛рде рднреЗрдЬрдХрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдХрд░рдирд╛ GraphQL рдПрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред рдпрд╣ рдПрдХ рдХреНрд▓рд╛рд╕рд┐рдХ рдмреНрд░реВрдЯ рдлреЛрд░реНрд╕ рд╣рдорд▓рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдм GraphQL рдмреИрдЪрд┐рдВрдЧ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рдХрд╛рд░рдг рдПрдХ HTTP рдЕрдиреБрд░реЛрдз рдореЗрдВ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд▓реЙрдЧрд┐рди/рдкрд╛рд╕рд╡рд░реНрдб рдкреЗрдпрд░ рднреЗрдЬрдирд╛ рд╕рдВрднрд╡ рд╣реИред рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдмрд╛рд╣рд░реА рджрд░ рдирд┐рдЧрд░рд╛рдиреА рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ рдзреЛрдЦрд╛ рджреЗрдЧрд╛ рдХрд┐ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ рдФрд░ рдХреЛрдИ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕рд┐рдВрдЧ рдмреЙрдЯ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рд╣реИред

рдиреАрдЪреЗ рдЖрдк рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЕрдиреБрд░реЛрдз рдХрд╛ рд╕рдмрд╕реЗ рд╕рд░рд▓ рдкреНрд░рджрд░реНрд╢рди рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, **рддреАрди рд╡рд┐рднрд┐рдиреНрди рдИрдореЗрд▓/рдкрд╛рд╕рд╡рд░реНрдб рдкреЗрдпрд░ рдПрдХ рд╕рд╛рде**ред рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдЗрд╕реА рддрд░рд╣ рдПрдХ рд╣реА рдЕрдиреБрд░реЛрдз рдореЗрдВ рд╣рдЬрд╛рд░реЛрдВ рднреЗрдЬрдирд╛ рд╕рдВрднрд╡ рд╣реИ:

![](<../../.gitbook/assets/image (182) (1).png>)

рд╣рдо рдЬрд╡рд╛рдм рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкрд╣рд▓рд╛ рдФрд░ рддреАрд╕рд░рд╛ рдЕрдиреБрд░реЛрдз _null_ рд▓реМрдЯрд╛рдП рдФрд░ _рддреНрд░реБрдЯрд┐_ рдЦрдВрдб рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдкреНрд░рдХрдЯ рдХрд┐рдпрд╛ред **рджреВрд╕рд░рд╛ рдореНрдпреБрдЯреЗрд╢рди рд╕рд╣реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдбреЗрдЯрд╛ рд░рдЦрддрд╛ рдерд╛ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╕рд╣реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рддреНрд░ рдЯреЛрдХрди рд╣реИред

![](<../../.gitbook/assets/image (119) (1).png>)

## рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреЗ рдмрд┐рдирд╛ GraphQL

рдЕрдзрд┐рдХрд╛рдВрд╢ **graphql рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ**ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЬрдм рдПрдХ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ graphql рджреНрд╡рд╛рд░рд╛ рдлреЗрдВрдХреА рдЧрдИ рддреНрд░реБрдЯрд┐рдпрд╛рдБ [**clairvoyance**](https://github.com/nikitastupin/clairvoyance) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВ рддрд╛рдХрд┐ рд╡реЗ рд╕реНрдХреАрдорд╛ рдХрд╛ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╣рд┐рд╕реНрд╕рд╛ рдкреБрдирд░реНрд░рдЪрд┐рдд рдХрд░ рд╕рдХреЗрдВред

рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, Burp Suite рдПрдХреНрд╕рдЯреЗрдВрд╢рди [**GraphQuail**](https://github.com/forcesunseen/graphquail) рдПрдХреНрд╕рдЯреЗрдВрд╢рди **Burp рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛ рд░рд╣реЗ GraphQL рдПрдкреАрдЖрдИ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдзреНрдпрд╛рди рд╕реЗ рджреЗрдЦрддрд╛ рд╣реИ** рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдирдП рдХреНрд╡реЗрд░реА рдХреЗ рд╕рд╛рде рдПрдХ рдЖрдВрддрд░рд┐рдХ GraphQL **рд╕реНрдХреАрдорд╛ рдмрдирд╛рддрд╛ рд╣реИ**ред рдпрд╣ рдЧреНрд░рд╛рдлрд╝рд┐рдХреНрд╕ рдХреЛ GraphiQL рдФрд░ Voyager рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдПрдХ рдирдХрд▓реА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬрдм рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреНрд╡реЗрд░реА рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреА рд╣реИред рдЗрд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, GraphQuail рд╕рднреА рдХреНрд╡реЗрд░реА, рддрд░реНрдХ рдФрд░ рдлрд╝реАрд▓реНрдбреНрд╕ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдПрдкреАрдЖрдИ рдХреЗ рднреАрддрд░ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реИрдВред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [**рдпрд╣ рдЬрд╛рдВрдЪреЗрдВ**](https://blog.forcesunseen.com/graphql-security-testing-without-a-schema)ред

рдПрдХ рдЕрдЪреНрдЫреА **рд╡рд░реНрдбрд▓рд┐рд╕реНрдЯ** [**рдпрд╣рд╛рдБ рд╕реЗ рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИ**](https://github.com/Escape-Technologies/graphql-wordlist?)ред

### GraphQL рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рд░реЛрдХрдиреЗ рдХреА рд░рдХреНрд╖рд╛ рдХреЛ рдЫрд▓рдирд╛ <a href="#bypassing-graphql-introspection-defences" id="bypassing-graphql-introspection-defences"></a>

### **GraphQL рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рд░рдХреНрд╖рд╛ рдХреЛ рдЫрд▓рдирд╛**

рдПрдкреАрдЖрдИ рдореЗрдВ рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреНрд╡реЗрд░реА рдкрд░ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЛ рдЫрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, `__schema` рдХреА рд╢рдмреНрджрдХреЛрд╢ рдХреЗ рдмрд╛рдж рдПрдХ **рд╡рд┐рд╢реЗрд╖ рд╡рд░реНрдг рдбрд╛рд▓рдирд╛** рдкреНрд░рднрд╛рд╡реА рд╕рд╛рдмрд┐рдд рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рд╡рд┐рдзрд┐ рд░реЗрдЧреЗрдХреНрд╕ рдкреИрдЯрд░реНрди рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдп рдбреЗрд╡рд▓рдкрд░ рд▓рд╛рдкрд░рд╡рд╛рд╣рд┐рдпреЛрдВ рдХрд╛ рд╢реЛрд╖рдг рдХрд░рддреА рд╣реИ рдЬреЛ рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `__schema` рдХреА рд╢рдмреНрджрдХреЛрд╢ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдЬреИрд╕реЗ рдХрд┐ рдЕрдВрддрд░рд┐рдХреНрд╖, рдирдП рд▓рд╛рдЗрдиреНрд╕, рдФрд░ рдХрдорд╛, рдЬреЛ GraphQL рдирдЬрд░рдЕрдВрджрд╛рдЬ рдХрд░рддрд╛ рд╣реИ рд▓реЗрдХрд┐рди рд░реЗрдЧреЗрдХреНрд╕ рдореЗрдВ рдзреНрдпрд╛рди рдирд╣реАрдВ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЛ рдЯрд╛рд▓ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, `__schema` рдХреЗ рдмрд╛рдж рдПрдХ рдиреНрдпреВрд▓рд╛рдЗрди рдХреЗ рд╕рд╛рде рдПрдХ рдЗрдВрдЯреНрд░реЛрд╕реНрдкреЗрдХреНрд╢рди рдХреНрд╡реЗрд░реА рдРрд╕реЗ рд░рдХреНрд╖рд╛рдУрдВ рдХреЛ рдЫрд▓ рд╕рдХрддреА рд╣реИ:

```bash
# Example with newline to bypass
{
"query": "query{__schema
{queryType{name}}}"
}
```

рдЕрдЧрд░ рдЕрд╕рдлрд▓ рд╣реЛ рддреЛ рд╡рд┐рдХрд▓реНрдкреА рдЕрдиреБрд░реЛрдз рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ, рдЬреИрд╕реЗ рдХрд┐ **GET рдЕрдиреБрд░реЛрдз** рдпрд╛ **POST with `x-www-form-urlencoded`**, рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░рддрд┐рдмрдВрдз рдХреЗрд╡рд▓ POST рдЕрдиреБрд░реЛрдзреЛрдВ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

### **рдЙрдЬрд╛рдЧрд░ GraphQL рд╕рдВрд░рдЪрдирд╛рдПрдБ рдЦреЛрдЬрдирд╛**

рдЬрдм рдЕрдВрддрд░реНрдирд┐рд╣рд┐рддреАрдХрд░рдг рдЕрдХреНрд╖рдо рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдкреВрд░реНрд╡-рд▓реЛрдб рдХреНрд╡реЗрд░реАрдЬ рдХреЗ рд▓рд┐рдП рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рд╕реНрд░реЛрдд рдХреЛ рдЬрд╛рдВрдЪрдирд╛ рдПрдХ рдЙрдкрдпреБрдХреНрдд рд░рдгрдиреАрддрд┐ рд╣реИред рдЗрди рдХреНрд╡реЗрд░реАрдЬ рдХреЛ рдбреЗрд╡рд▓рдкрд░ рдЯреВрд▓реНрд╕ рдореЗрдВ `Sources` рдЯреИрдм рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ API рдХреА рд╕реНрдХреАрдорд╛ рдореЗрдВ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ **рдЙрдЬрд╛рдЧрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдХреНрд╡реЗрд░реАрдЬ** рдХреЛ рдкреНрд░рдХрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдбреЗрд╡рд▓рдкрд░ рдЯреВрд▓реНрд╕ рдореЗрдВ рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рд╣реИрдВ:

```javascript
Inspect/Sources/"Search all files"
file:* mutation
file:* query
```

## GraphQL рдореЗрдВ CSRF

рдпрджрд┐ рдЖрдкрдХреЛ CSRF рдХреНрдпрд╛ рд╣реИ рдЗрд╕рдХрд╛ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреГрд╖реНрда рдХреЛ рдкрдврд╝реЗрдВ:

{% content-ref url="../../pentesting-web/csrf-cross-site-request-forgery.md" %}
[csrf-cross-site-request-forgery.md](../../pentesting-web/csrf-cross-site-request-forgery.md)
{% endcontent-ref %}

рд╡рд╣рд╛рдВ рдЖрдкрдХреЛ рдХрдИ GraphQL endpoints рдорд┐рд▓реЗрдВрдЧреЗ **рдЬреЛ CSRF рдЯреЛрдХрди рдХреЗ рдмрд┐рдирд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рд╣реИрдВред**

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ GraphQL рдЕрдиреБрд░реЛрдз рдЖрдо рддреМрд░ рдкрд░ Content-Type **`application/json`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ POST рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВред

```javascript
{"operationName":null,"variables":{},"query":"{\n  user {\n    firstName\n    __typename\n  }\n}\n"}
```

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдзрд┐рдХрд╛рдВрд╢ GraphQL endpoints рднреА **`form-urlencoded` POST requests рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ:**

```javascript
query=%7B%0A++user+%7B%0A++++firstName%0A++++__typename%0A++%7D%0A%7D%0A
```

рдЗрд╕рд▓рд┐рдП, рдЬреИрд╕реЗ рд╣реА рдкрд┐рдЫрд▓реЗ рдЬреИрд╕реЗ CSRF рдЕрдиреБрд░реЛрдз **рдкреНрд░реАрдлреНрд▓рд╛рдЗрдЯ рдЕрдиреБрд░реЛрдз рдХреЗ рдмрд┐рдирд╛** рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВ, GraphQL рдореЗрдВ CSRF рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдкрд░рд┐рд╡рд░реНрддрди** рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ Chrome рдХреЗ `samesite` рдзреНрд╡рдЬ рдХрд╛ рдирдпрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреБрдХреА рдорд╛рди `Lax` рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХреБрдХреА рдХреЗрд╡рд▓ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рд╡реЗрдм рд╕реЗ GET рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рднреЗрдЬреА рдЬрд╛рдПрдЧреАред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрд╣ рд╕рд╛рдорд╛рдиреНрдпрдд: рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ **рдХреНрд╡реЗрд░реА рдЕрдиреБрд░реЛрдз** рдХреЛ рднреА **GET рдЕрдиреБрд░реЛрдз** рдХреЗ рд░реВрдк рдореЗрдВ рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ CSRF рдЯреЛрдХрди рдХреЛ GET рдЕрдиреБрд░реЛрдз рдореЗрдВ рд╕рддреНрдпрд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, [**XS-Search**](../../pentesting-web/xs-search/) **рд╣рдорд▓рд╛** рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ GraphQL рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕реЗ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЙрджреНрдзрд╛рд░рдг рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкреНрд░рдорд╛рдгреЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗред

рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП **рдпрд╣рд╛рдБ** [**рдореВрд▓ рдкреЛрд╕реНрдЯ рджреЗрдЦреЗрдВ**](https://blog.doyensec.com/2021/05/20/graphql-csrf.html)ред

## GraphQL рдореЗрдВ рдЕрдзрд┐рдХреГрддрд┐

рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкрд░ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрдИ GraphQL рдлрд╝рдВрдХреНрд╢рди рд╢реНрд░реЛрддрд╛ рдХреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХреГрддрд┐ рдХреА рдирд╣реАрдВред

рдХреНрд╡реЗрд░реА рдЗрдирдкреБрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЦрд╛рддрд╛ рд╡рд┐рд╡рд░рдгреЛрдВ рдХреА рдУрд░ рд▓реЗ рдЬрд╛рдиреЗ рдХрд╛ рдХрд╛рд░рдг рдмрди рд╕рдХрддрд╛ рд╣реИ [рд▓реАрдХ](https://hackerone.com/reports/792927)ред

рдореНрдпреБрдЯреЗрд╢рди рдЕрдХрд╛рдЙрдВрдЯ рд▓реЗ рдЬрд╛рдиреЗ рддрдХ рднреА рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдЕрдиреНрдп рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред

```javascript
{
"operationName":"updateProfile",
"variables":{"username":INJECT,"data":INJECT},
"query":"mutation updateProfile($username: String!,...){updateProfile(username: $username,...){...}}"
}
```

### GraphQL рдореЗрдВ рдЕрдзрд┐рдХреГрддрд┐ рдХреЛ рдЫрд▓рдХрд░рдирд╛

[рдХреНрд╡реЗрд░реАрдЬрд╝ рдХреЛ рдЪреЗрдирд┐рдВрдЧ](https://s1n1st3r.gitbook.io/theb10g/graphql-query-authentication-bypass-vuln) рдХрд░рдХреЗ рдПрдХ рдХрдордЬреЛрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдгрд╛рд▓реА рдХреЛ рдЫрд▓рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдСрдкрд░реЗрд╢рди "forgotPassword" рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рдХреЗрд╡рд▓ forgotPassword рдХреНрд╡реЗрд░реА рдХреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЗрд╕реЗ рдЫрд▓рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдПрдХ рдХреНрд╡реЗрд░реА рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣рдо "register" рдФрд░ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЪрд░рдг рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдЙрд╕реЗ рдПрдХ рдирдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рдХрд░ рд╕рдХреЗред

<figure><img src="../../.gitbook/assets/GraphQLAuthBypassMethod.PNG" alt=""><figcaption></figcaption></figure>

## GraphQL рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрд▓рд╛рдпрд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджрд░ рд╕реАрдорд╛рдПрдВ рдЫрд▓рдХрд░рдирд╛

GraphQL рдореЗрдВ, рдЕрд▓рд╛рдпрд╕реЗрд╕ рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬреЛ рдПрдкреАрдЖрдИ рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╕рдордп **рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд╛рдордХрд░рдг** рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдпрд╣ рдХреНрд╖рдорддрд╛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ **рдПрдХ рд╣реА рдЕрдиреБрд░реЛрдз рдореЗрдВ рдПрдХ рд╣реА рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдЕрдиреБрд╕рдВрдзрд╛рди рдХреЗ рд▓рд┐рдП** рдЙрдкрдпреЛрдЧреА рд╣реИред рдЕрд▓рд╛рдпрд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрди рдЧреНрд░реЗрдлрд╝рдХреНрдпреВрдПрд▓ рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реАрдорд╛ рдХреЛ рдкрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рдирдХреЗ рдкрд╛рд╕ рдПрдХ рд╣реА рдирд╛рдо рд╡рд╛рд▓реА рдХрдИ рд╕рдВрдкрддреНрддрд┐рдпрд╛рдБ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреАред

GraphQL рдЕрд▓рд╛рдпрд╕реЗрд╕ рдХреЗ рд╡рд┐рд╕реНрддреГрдд рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрд╕рд╛рдзрди рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ: [рдЕрд▓рд╛рдпрд╕реЗрд╕](https://portswigger.net/web-security/graphql/what-is-graphql#aliases)ред

рдЬрдмрдХрд┐ рдЕрд▓рд╛рдпрд╕реЗрд╕ рдХрд╛ рдореБрдЦреНрдп рдЙрджреНрджреЗрд╢реНрдп рдЕрдиреЗрдХ рдПрдкреАрдЖрдИ рдХреЙрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЛ рдХрдо рдХрд░рдирд╛ рд╣реИ, рдПрдХ рдЕрдирдЬрд╛рдиреЗ рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓рд╛ рдкрд╣рдЪрд╛рдирд╛ рдЧрдпрд╛ рд╣реИ рдЬрд╣рд╛рдБ рдЕрд▓рд╛рдпрд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЧреНрд░рд╛рдлрд╝рдХреНрдпреВрдПрд▓ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкрд░ рдмреНрд░реВрдЯ рдлрд╝реЛрд░реНрд╕ рд╣рдорд▓реЗ рдХреЛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдХреБрдЫ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреЛ рдПрдЪрдЯреАрдЯреАрдкреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рдХреЗ рдмреНрд░реВрдЯ рдлрд╝реЛрд░реНрд╕ рд╣рдорд▓реЛрдВ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд░ рд╕реЗ рд╕рдВрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпреЗ рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд░реНрд╕ рд╢рд╛рдпрдж рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рднреАрддрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИрдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рди рд░рдЦреЗрдВред рдЬреИрд╕рд╛ рдХрд┐ рдЕрд▓рд╛рдпрд╕реЗрд╕ рдПрдХ рд╣реА рдПрдЪрдЯреАрдЯреАрдкреА рдЕрдиреБрд░реЛрдз рдореЗрдВ рдХрдИ рдХреНрд╡реЗрд░реАрдЬрд╝ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рд╡реЗ рдРрд╕реА рд░реЗрдЯ рд╕реАрдорд╛рдПрдВ рдЪрдХреНрдХреВ рд▓рдЧрд╛рдиреЗ рдХреА рдЙрдкрд╛рдпреБрдХреНрддрддрд╛ рдХреЛ рджреВрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдиреАрдЪреЗ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдХреЛ рдзреНрдпрд╛рди рд╕реЗ рджреЗрдЦреЗрдВ, рдЬреЛ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдЕрд▓рд╛рдпрд╕реНрдб рдХреНрд╡реЗрд░реАрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдЯреЛрд░ рдбрд┐рд╕реНрдХрд╛рдЙрдВрдЯ рдХреЛрдб рдХреА рд╡реИрдзрддрд╛ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред рдпрд╣ рд╡рд┐рдзрд┐ рджрд░ рд╕реАрдорд╛рдПрдВ рдЫрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛ рд╕рдХрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдХрдИ рдХреНрд╡реЗрд░реАрдЬрд╝ рдХреЛ рдПрдХ рд╣реА рдПрдЪрдЯреАрдЯреАрдкреА рдЕрдиреБрд░реЛрдз рдореЗрдВ рд╕рдВрдХрд▓рд┐рдд рдХрд░рддреА рд╣реИ, рд╕рдВрднрд╛рд╡рдирд╛ рд╕реЗ рдПрдХ рд╕рд╛рде рдХрдИ рдбрд┐рд╕реНрдХрд╛рдЙрдВрдЯ рдХреЛрдб рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред

```bash
# Example of a request utilizing aliased queries to check for valid discount codes
query isValidDiscount($code: Int) {
isvalidDiscount(code:$code){
valid
}
isValidDiscount2:isValidDiscount(code:$code){
valid
}
isValidDiscount3:isValidDiscount(code:$code){
valid
}
}
```

## рдЙрдкрдХрд░рдг

### рд╕реБрд░рдХреНрд╖рд╛ рджреЛрд╖ рд╕реНрдХреИрдирд░

* [https://github.com/gsmith257-cyber/GraphCrawler](https://github.com/gsmith257-cyber/GraphCrawler): рдЯреВрд▓рдХрд┐рдЯ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдХреАрдорд╛ рдкрдХрдбрд╝рдиреЗ рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ, рдЕрдзрд┐рдХреГрддрд┐ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ, рдмреНрд░реВрдЯ рдлреЛрд░реНрд╕ рд╕реНрдХреАрдорд╛, рдФрд░ рджрд┐рдП рдЧрдП рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдкрде рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* [https://blog.doyensec.com/2020/03/26/graphql-scanner.html](https://blog.doyensec.com/2020/03/26/graphql-scanner.html): рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдпрд╛ [Burp рдПрдХреНрд╕рдЯреЗрдВрд╢рди](https://github.com/doyensec/inql) рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* [https://github.com/swisskyrepo/GraphQLmap](https://github.com/swisskyrepo/GraphQLmap): CLI рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рд╣рдорд▓реЗ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
* [https://gitlab.com/dee-see/graphql-path-enum](https://gitlab.com/dee-see/graphql-path-enum): рдПрдХ рдЯреВрд▓ рдЬреЛ рдПрдХ рджрд┐рдП рдЧрдП рдкреНрд░рдХрд╛рд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рддрд╛ рд╣реИред
* [https://github.com/doyensec/inql](https://github.com/doyensec/inql): рдЙрдиреНрдирдд GraphQL рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдмрд░реНрдк рдПрдХреНрд╕рдЯреЗрдВрд╢рдиред _**рд╕реНрдХреИрдирд░**_ InQL v5.0 рдХрд╛ рдореВрд▓ рд╣реИ, рдЬрд╣рд╛рдВ рдЖрдк рдПрдХ GraphQL рдПрдВрдбрдкреНрд╡рд╛рдЗрдВрдЯ рдпрд╛ рд╕реНрдерд╛рдиреАрдп рдЖрдВрддрд░рдЬреНрдЮрд╛рди рд╕реНрдХреАрдорд╛ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рдХреНрд╡реЗрд░реА рдФрд░ рдореНрдпреБрдЯреЗрд╢рди рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ, рдЙрдиреНрд╣реЗрдВ рдЖрдкрдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрд░рдЪрд┐рдд рджреГрд╢реНрдп рдореЗрдВ рд╕рдВрдЧрдард┐рдд рдХрд░рддрд╛ рд╣реИред _**рд╣рдорд▓рд╛рд╡рд░**_ рдШрдЯрдХ рдЖрдкрдХреЛ рдмреИрдЪ GraphQL рд╣рдорд▓реЛрдВ рдХреЛ рдЪрд▓рд╛рдиреЗ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рдЧрд▓рддреА рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдП рдЧрдП рджрд░ рд╕реАрдорд╛рдУрдВ рдХреЛ рдШреЗрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

### рдХреНрд▓рд╛рдЗрдВрдЯ

* [https://github.com/graphql/graphiql](https://github.com/graphql/graphiql): GUI рдХреНрд▓рд╛рдЗрдВрдЯ
* [https://altair.sirmuel.design/](https://altair.sirmuel.design/): GUI рдХреНрд▓рд╛рдЗрдВрдЯ

### рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкрд░реАрдХреНрд╖рдг

{% embed url="https://graphql-dashboard.herokuapp.com/" %}

* AutoGraphQL рдХреЛ рд╕рдордЭрд╛рдиреЗ рд╡рд╛рд▓рд╛ рд╡реАрдбрд┐рдпреЛ: [https://www.youtube.com/watch?v=JJmufWfVvyU](https://www.youtube.com/watch?v=JJmufWfVvyU)

## рд╕рдВрджрд░реНрдн

* [**https://jondow.eu/practical-graphql-attack-vectors/**](https://jondow.eu/practical-graphql-attack-vectors/)
* [**https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696**](https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696)
* [**https://medium.com/@apkash8/graphql-vs-rest-api-model-common-security-test-cases-for-graphql-endpoints-5b723b1468b4**](https://medium.com/@apkash8/graphql-vs-rest-api-model-common-security-test-cases-for-graphql-endpoints-5b723b1468b4)
* [**http://ghostlulz.com/api-hacking-graphql/**](http://ghostlulz.com/api-hacking-graphql/)
* [**https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/GraphQL%20Injection/README.md**](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/GraphQL%20Injection/README.md)
* [**https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696**](https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696)
* [**https://portswigger.net/web-security/graphql**](https://portswigger.net/web-security/graphql)

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a> <strong>рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ **HackTricks** рдореЗрдВ рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks\_live)\*\* рдкрд░ рдлреЙрд▓реЛ\*\* рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдФрд░ рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХреНрд▓рд╛рдЙрдб рдЧрд┐рдЯрд╣рдм рд░реЗрдкреЛ рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗред

</details>
