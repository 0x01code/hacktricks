# 8086 - Kupima Usalama wa InfluxDB

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Tumia [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kujenga na **kutumia taratibu za kiotomatiki** zinazotumia zana za jamii ya **kisasa zaidi** duniani.\
Pata Ufikiaji Leo:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako inatangazwa kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwenye** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Taarifa Msingi

**InfluxDB** ni **hifadhidata ya mfululizo wa wakati (TSDB)** ya chanzo wazi iliyoendelezwa na InfluxData. TSDBs zimeboreshwa kwa kuhifadhi na kutumikia data za mfululizo wa wakati, ambazo zinajumuisha jozi za alama ya wakati-thamani. Tofauti na hifadhidata za matumizi ya jumla, TSDBs hutoa uboreshaji mkubwa katika **nafasi ya kuhifadhi** na **utendaji** kwa seti za data za mfululizo wa wakati. Zinatumia algorithms za kubana maalum na zinaweza kuwezeshwa kwa kuondoa data za zamani kiotomatiki. Pia, indeksi maalum ya hifadhidata inaboresha utendaji wa uchunguzi.

**Bandari ya chaguo-msingi**: 8086
```
PORT     STATE SERVICE VERSION
8086/tcp open  http    InfluxDB http admin 1.7.5
```
## Uchambuzi

Kutoka kwa mtazamo wa mtu anayefanya uchunguzi wa kuingilia kati, hii ni database nyingine ambayo inaweza kuhifadhi habari nyeti, kwa hivyo ni muhimu kujua jinsi ya kudondosha habari zote.

### Uthibitishaji

InfluxDB inaweza kuhitaji uthibitishaji au la.
```bash
# Try unauthenticated
influx -host 'host name' -port 'port #'
> use _internal
```
Ikiwa unapata **kosa kama** hili: `ERR: haiwezi kuchambua vitambulisho vya uthibitishaji` inamaanisha kuwa inahitaji **vitambulisho fulani**.
```
influx ‚Äìusername influx ‚Äìpassword influx_pass
```
Kulikuwa na udhaifu katika influxdb ambao uliruhusu kukiuka uthibitishaji: [**CVE-2019-20933**](https://github.com/LorenzoTullini/InfluxDB-Exploit-CVE-2019-20933)

### Uchunguzi wa Kuelekezwa

Taarifa ya mfano huu ilichukuliwa kutoka [**hapa**](https://oznetnerd.com/2017/06/11/getting-know-influxdb/).

#### Onyesha maktaba za data

Maktaba za data zilizopatikana ni `telegraf` na `internal` (utazipata kila mahali).
```bash
> show databases
name: databases
name
----
telegraf
_internal
```
#### Onyesha meza/vipimo

[**Hati ya InfluxDB**](https://docs.influxdata.com/influxdb/v1.2/introduction/getting_started/) inaelezea kuwa **vipimo** katika InfluxDB vinaweza kulinganishwa na meza za SQL. Jina la vipimo hivi linaashiria yaliyomo kwake, kila moja ikiwa na data inayohusiana na kipengele fulani.
```bash
> show measurements
name: measurements
name
----
cpu
disk
diskio
kernel
mem
processes
swap
system
```
#### Onyesha nguzo/majina ya uga

Majina ya uga ni kama **nguzo** za hifadhidata
```bash
> show field keys
name: cpu
fieldKey         fieldType
--------         ---------
usage_guest      float
usage_guest_nice float
usage_idle       float
usage_iowait     float

name: disk
fieldKey     fieldType
--------     ---------
free         integer
inodes_free  integer
inodes_total integer
inodes_used  integer

[ ... more keys ...]
```
#### Kudondosha Meza

Na mwishowe unaweza **kudondosha meza** kwa kufanya kitu kama hiki
```bash
select * from cpu
name: cpu
time                cpu       host   usage_guest usage_guest_nice usage_idle        usage_iowait        usage_irq usage_nice usage_softirq        usage_steal usage_system        usage_user
----                ---       ----   ----------- ---------------- ----------        ------------        --------- ---------- -------------        ----------- ------------        ----------
1497018760000000000 cpu-total ubuntu 0           0                99.297893681046   0                   0         0          0                    0           0.35105315947842414 0.35105315947842414
1497018760000000000 cpu1      ubuntu 0           0                99.69909729188728 0                   0         0          0                    0           0.20060180541622202 0.10030090270811101
```
{% hint style="warning" %}
Katika jaribio fulani la kubainisha uthibitishaji, ilibainika kuwa jina la meza linahitaji kuwa kati ya alama za nukta mbili kama: `select * from "cpu"`
{% endhint %}

### Uthibitishaji wa Kiotomatiki
```bash
msf6 > use auxiliary/scanner/http/influxdb_enum
```
<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa muundo wa PDF** Angalia [**MPANGO WA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi ya PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**The PEASS Family**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwenye** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Tumia [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kujenga na **kuautomatisha mchakato** wa kazi zako kwa kutumia zana za jamii zilizo **za juu zaidi** duniani.\
Pata Ufikiaji Leo:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
