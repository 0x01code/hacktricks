# 9200 - рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рди**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рдПрдХ **рд╡рд┐рддрд░рд┐рдд**, **рдУрдкрди рд╕реЛрд░реНрд╕** рдЦреЛрдЬ рдФрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЗрдВрдЬрди рд╣реИ рдЬреЛ **рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдбреЗрдЯрд╛** рдХреЗ рд▓рд┐рдП рд╣реИред рдпрд╣ рдЕрдкрдиреА **рдЧрддрд┐**, **рд╕реНрдХреЗрд▓реЗрдмрд┐рд▓рд┐рдЯреА**, рдФрд░ **рд╕рд░рд▓ REST API** рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕рд┐рджреНрдз рд╣реИред Apache Lucene рдкрд░ рдирд┐рд░реНрдорд┐рдд, рдпрд╣ 2010 рдореЗрдВ рдкрд╣рд▓реА рдмрд╛рд░ Elasticsearch N.V. (рдЕрдм Elastic рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ) рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред Elasticsearch Elastic Stack рдХрд╛ рдореВрд▓ рдШрдЯрдХ рд╣реИ, рдбреЗрдЯрд╛ рдЗрдирдЬреЗрдХреНрд╢рди, рдПрдирд░рд┐рдЪрдореЗрдВрдЯ, рд╕реНрдЯреЛрд░реЗрдЬ, рд╡рд┐рд╢реНрд▓реЗрд╖рдг, рдФрд░ рд╡рд┐рдЬреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдХреЗ рд▓рд┐рдП рдУрдкрди рд╕реЛрд░реНрд╕ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИред рдпрд╣ рд╕реНрдЯреИрдХ, рдЬрд┐рд╕реЗ рдЖрдорддреМрд░ рдкрд░ ELK рд╕реНрдЯреИрдХ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЙрдЧрд╕реНрдЯреИрд╢ рдФрд░ рдХрд┐рдмрд╛рдирд╛ рдХреЛ рднреА рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЕрдм рдмреАрдЯреНрд╕ рдирд╛рдордХ рд╣рд▓реНрдХреЗ рдбреЗрдЯрд╛ рд╢рд┐рдкрд┐рдВрдЧ рдПрдЬреЗрдВрдЯреНрд╕ рд╣реИрдВред

### рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рдЗрдВрдбреЗрдХреНрд╕ рдХреНрдпрд╛ рд╣реИ?

рдПрдХ рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ **рдЗрдВрдбреЗрдХреНрд╕** рдПрдХ **рд╕рдВрдмрдВрдзрд┐рдд рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ** рдХрд╛ рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬреЛ **JSON** рдХреЗ рд░реВрдк рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдкреНрд░рддреНрдпреЗрдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ **рдХреБрдВрдЬреА** рдФрд░ рдЙрдирдХреЗ рд╕рдВрдмрдВрдзрд┐рдд **рдорд╛рди** (рд╕реНрдЯреНрд░рд┐рдВрдЧ, рд╕рдВрдЦреНрдпрд╛, рдмреВрд▓рд┐рдпрди, рддрд╛рд░реАрдЦреЗрдВ, рдПрд░реЗ, рднреВ-рд╕реНрдерд╛рди рдЖрджрд┐) рд╣реЛрддреЗ рд╣реИрдВред

рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рдПрдХ рдкреНрд░рднрд╛рд╡реА рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ **рдЙрд▓реНрдЯрд╛ рдЗрдВрдбреЗрдХреНрд╕** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рддреЗрдЬ рдлреБрд▓-рдЯреЗрдХреНрд╕реНрдЯ рдЦреЛрдЬ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдЗрдВрдбреЗрдХреНрд╕ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдореЗрдВ рд╣рд░ рдЕрджреНрд╡рд┐рддреАрдп рд╢рдмреНрдж рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рд╢рдмреНрдж рдореЗрдВ рдХрд┐рд╕ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рд╡рд╣ рд╢рдмреНрдж рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд╣ рдкрд╣рдЪрд╛рдирддрд╛ рд╣реИред

рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди, рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрд▓реНрдЯрд╛ рдЗрдВрдбреЗрдХреНрд╕ рдирд┐рд░реНрдорд╛рдг рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдирдЬрджреАрдХреА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдЦреЛрдЬ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред **рдЗрдВрдбреЗрдХреНрд╕ API** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рднреАрддрд░ JSON рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЬреЛрдбрд╝рдиреЗ рдпрд╛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ**: 9200/tcp

## рдореИрдиреБрдЕрд▓ рдЧрдгрдирд╛

### рдмреИрдирд░

рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ **HTTP** рд╣реИред рдЬрдм рдЖрдк рдЗрд╕реЗ HTTP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдкрдХреЛ рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓реЗрдЧреА: `http://10.10.10.115:9200/`

![](<../.gitbook/assets/image (264).png>)

рдпрджрд┐ рдЖрдк `/` рддрдХ рдкрд╣реБрдВрдЪрддреЗ рд╕рдордп рдЙрд╕ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рдирд╣реАрдВ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЦрдВрдб рджреЗрдЦреЗрдВред

### рдкреНрд░рдорд╛рдгреАрдХрд░рдг

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИ**, рдЗрд╕рд▓рд┐рдП рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдЕрдВрджрд░ рдХреБрдЫ рднреА рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдЖрдк рдЗрд╕рдХрд╛ рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдкреНрд░рдорд╛рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдПред

рдЖрдк рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЕрдХреНрд╖рдо рд╣реИ рдПрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде:
```bash
curl -X GET "ELASTICSEARCH-SERVER:9200/_xpack/security/user"
{"error":{"root_cause":[{"type":"exception","reason":"Security must be explicitly enabled when using a [basic] license. Enable security by setting [xpack.security.enabled] to [true] in the elasticsearch.yml file and restart the node."}],"type":"exception","reason":"Security must be explicitly enabled when using a [basic] license. Enable security by setting [xpack.security.enabled] to [true] in the elasticsearch.yml file and restart the node."},"status":500}
```
**рд╣рд╛рд▓рд╛рдВрдХрд┐**, рдЕрдЧрд░ рдЖрдк `/` рдкрд░ рдПрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░рд╣ рдХреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ:
```bash
{"error":{"root_cause":[{"type":"security_exception","reason":"missing authentication credentials for REST request [/]","header":{"WWW-Authenticate":"Basic realm=\"security\" charset=\"UTF-8\""}}],"type":"security_exception","reason":"missing authentication credentials for REST request [/]","header":{"WWW-Authenticate":"Basic realm=\"security\" charset=\"UTF-8\""}},"status":401}
```
рдпрд╣ рдпрд╣рд╛рдБ рдпрд╣ рдорддрд▓рдм рд╣реИ рдХрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ **рдЖрдкрдХреЛ рдорд╛рдиреНрдп рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рд╕реЗ рдХреЛрдИ рднреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВред рдлрд┐рд░, рдЖрдк [**рдЗрд╕реЗ рдмреНрд░реВрдЯрдлрд╝реЛрд░реНрд╕ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**](../generic-methodologies-and-resources/brute-force.md#elasticsearch) (рдпрд╣ HTTP рдмреЗрд╕рд┐рдХ рдСрде рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреБрдЫ рднреА рдЬреЛ рдмреАрдПрдлрд╝ HTTP рдмреЗрд╕рд┐рдХ рдСрде рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЙрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ)ред\
рдпрд╣рд╛рдБ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ **рд╕реВрдЪреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо** рд╣реИрдВ: _**рдПрд▓рд╛рд╕реНрдЯрд┐рдХ** (рд╕реБрдкрд░рдпреВрдЬрд░), рд░рд┐рдореЛрдЯ_рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ_рдпреВрдЬрд╝рд░, рдмреАрдЯреНрд╕_рд╕рд┐рд╕реНрдЯрдо, рд▓реЙрдЧрд╕реНрдЯреИрд╢_рд╕рд┐рд╕реНрдЯрдо, рдХрд┐рдмрд╛рдирд╛, рдХрд┐рдмрд╛рдирд╛_рд╕рд┐рд╕реНрдЯрдо, рдПрдкреАрдПрдо_рд╕рд┐рд╕реНрдЯрдо,_ \_рдПрдиреЛрдирд┐рдорд╕\_ред_ рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдЗрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб **changeme** рд╣реЛрддрд╛ рд╣реИред
```
curl -X GET http://user:password@IP:9200/
```
### рдореВрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬрд╛рдВрдЪ
```bash
#List all roles on the system:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/role"

#List all users on the system:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/user"

#Get more information about the rights of an user:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/user/<USERNAME>"
```
### Elastic Info

рдпрд╣рд╛рдБ рдХреБрдЫ endpoints рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк **GET рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ** рддрд╛рдХрд┐ рдЖрдк elasticsearch рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ **рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд** рдХрд░ рд╕рдХреЗрдВ:

| \_cat                           | /\_cluster                    | /\_security               |
| ------------------------------- | ----------------------------- | ------------------------- |
| /\_cat/segments                 | /\_cluster/allocation/explain | /\_security/user          |
| /\_cat/shards                   | /\_cluster/settings           | /\_security/privilege     |
| /\_cat/repositories             | /\_cluster/health             | /\_security/role\_mapping |
| /\_cat/recovery                 | /\_cluster/state              | /\_security/role          |
| /\_cat/plugins                  | /\_cluster/stats              | /\_security/api\_key      |
| /\_cat/pending\_tasks           | /\_cluster/pending\_tasks     |                           |
| /\_cat/nodes                    | /\_nodes                      |                           |
| /\_cat/tasks                    | /\_nodes/usage                |                           |
| /\_cat/templates                | /\_nodes/hot\_threads         |                           |
| /\_cat/thread\_pool             | /\_nodes/stats                |                           |
| /\_cat/ml/trained\_models       | /\_tasks                      |                           |
| /\_cat/transforms/\_all         | /\_remote/info                |                           |
| /\_cat/aliases                  |                               |                           |
| /\_cat/allocation               |                               |                           |
| /\_cat/ml/anomaly\_detectors    |                               |                           |
| /\_cat/count                    |                               |                           |
| /\_cat/ml/data\_frame/analytics |                               |                           |
| /\_cat/ml/datafeeds             |                               |                           |
| /\_cat/fielddata                |                               |                           |
| /\_cat/health                   |                               |                           |
| /\_cat/indices                  |                               |                           |
| /\_cat/master                   |                               |                           |
| /\_cat/nodeattrs                |                               |                           |
| /\_cat/nodes                    |                               |                           |

рдпреЗ endpoints [**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╕реЗ рд▓рд┐рдП рдЧрдП рд╣реИрдВ**](https://www.elastic.co/guide/en/elasticsearch/reference/current/rest-apis.html) рдЬрд╣рд╛рдБ рдЖрдк **рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ**ред\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдЖрдк `/_cat` рддрдХ рдкрд╣реБрдВрдЪрддреЗ рд╣реИрдВ рддреЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЙрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЗ `/_cat/*` endpoints рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗ рдЬрд┐рдиреНрд╣реЗрдВ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕рдорд░реНрдерд┐рдд рдХрд░рддрд╛ рд╣реИред

`/_security/user` рдореЗрдВ (рдпрджрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдХреНрд╖рдо рд╣реИ) рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рднреВрдорд┐рдХрд╛ `superuser` рд░рдЦрддрд╛ рд╣реИред

### Indices

рдЖрдк `http://10.10.10.115:9200/_cat/indices?v` рдкрд╣реБрдВрдЪрдХрд░ **рд╕рднреА рдЕрдиреБрдХреНрд░рдореЛрдВ рдХреЛ рдПрдХрддреНрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред
```
health status index   uuid                   pri rep docs.count docs.deleted store.size pri.store.size
green  open   .kibana 6tjAYZrgQ5CwwR0g6VOoRg   1   0          1            0        4kb            4kb
yellow open   quotes  ZG2D1IqkQNiNZmi2HRImnQ   5   1        253            0    262.7kb        262.7kb
yellow open   bank    eSVpNfCfREyYoVigNWcrMw   5   1       1000            0    483.2kb        483.2kb
```
**рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рдХреМрди рд╕реА рдкреНрд░рдХрд╛рд░ рдХреА рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬреА рдЧрдИ рд╣реИ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдЖрдк рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: `http://host:9200/<index>` рдЬреИрд╕реЗ рдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ `http://10.10.10.115:9200/bank`

![](<../.gitbook/assets/image (265).png>)

### рдЗрдВрдбреЗрдХреНрд╕ рдбрдВрдк

рдЕрдЧрд░ рдЖрдк рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ **рд╕рднреА рд╕рд╛рдордЧреНрд░реА** рдХреЛ рдбрдВрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: `http://host:9200/<index>/_search?pretty=true` рдЬреИрд╕реЗ рдХрд┐ `http://10.10.10.115:9200/bank/_search?pretty=true`

![](<../.gitbook/assets/image (266).png>)

_рдПрдХ рдХреНрд╖рдг рд▓реЗрдХрд░ рдмреИрдВрдХ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рджрд╕реНрддрд╛рд╡реЗрдЬ (рдПрдВрдЯреНрд░реА) рдХреА рд╕рд╛рдордЧреНрд░реА рдФрд░ рдЗрд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдлреАрд▓реНрдб рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП._

рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░ рдЖрдкрдХреЛ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ **"рд╣рд┐рдЯреНрд╕" рдХреЗ рдЕрдВрджрд░ "рдЯреЛрдЯрд▓" рдирд╛рдордХ рдПрдХ рдлреАрд▓реНрдб рд╣реИ** рдЬреЛ рдЗрд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ **1000 рджрд╕реНрддрд╛рд╡реЗрдЬ рдорд┐рд▓реЗ** рд╣реИрдВ рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ 10 рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХрд┐рдП рдЧрдП рд╣реИрдВред рдпрд╣ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ 10 рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреА рд╕реАрдорд╛ рд╣реЛрддреА рд╣реИ**ред\
рд▓реЗрдХрд┐рди, рдЕрдм рдЬрдм рдЖрдк рдЬрд╛рди рдЪреБрдХреЗ рд╣реИрдВ рдХрд┐ **рдЗрд╕ рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ 1000 рджрд╕реНрддрд╛рд╡реЗрдЬ рд╣реИрдВ**, рддреЛ рдЖрдк рд╕рднреА рдЙрдиреНрд╣реЗрдВ рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдЖрдк рдбрдВрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЙрд╕реЗ рдЗрдВрдбрд┐рдХреЗрдЯ рдХрд░рддреЗ рд╣реБрдП **`рд╕рд╛рдЗрдЬрд╝`** рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ: `http://10.10.10.115:9200/quotes/_search?pretty=true&size=1000`\
_рдиреЛрдЯ: рдпрджрд┐ рдЖрдк рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдЗрдВрдбрд┐рдХреЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╕рднреА рджрд╕реНрддрд╛рд╡реЗрдЬ рдлрд┐рд░ рднреА рдбрдВрдк рд╣реЛ рдЬрд╛рдПрдВрдЧреЗ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЖрдк `рд╕рд╛рдЗрдЬрд╝=9999` рдЗрдВрдбрд┐рдХреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЕрдЧрд░ рдЕрдзрд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рд╣реЛрддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдЕрдЬреАрдм рд╣реЛрдЧрд╛ (рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЬрд╛рдВрдЪрдирд╛ рдЪрд╛рд╣рд┐рдП)ред_

### рд╕рднреА рдбрдВрдк

рд╕рднреА рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк **рдкрд┐рдЫрд▓реЗ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдмрд┐рдирд╛ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╣реА рдкрде рдЪрд▓реЗрдВ**`http://host:9200/_search?pretty=true` рдЬреИрд╕реЗ рдХрд┐ `http://10.10.10.115:9200/_search?pretty=true`\
рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реАрдорд┐рдд 10** рдкрд░рд┐рдгрд╛рдо рд▓рд╛рдЧреВ рд╣реЛрдЧрд╛ред рдЖрдк `рд╕рд╛рдЗрдЬрд╝` рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдЕрдзрд┐рдХ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдбрдВрдк** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдкрд┐рдЫрд▓реЗ рдЦрдВрдб рдХреЛ рдкрдврд╝реЗрдВред

### рдЦреЛрдЬ

рдпрджрд┐ рдЖрдк рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА рдЦреЛрдЬ рд░рд╣реЗ рд╣реИрдВ рддреЛ рдЖрдк **рд╕рднреА рдЗрдВрдбреЗрдХреНрд╕ рдкрд░ рд░реЙ рд╕рд░реНрдЪ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ `http://host:9200/_search?pretty=true&q=<search_term>` рдЬреИрд╕реЗ рдХрд┐ `http://10.10.10.115:9200/_search?pretty=true&q=Rockwell`

![](<../.gitbook/assets/image (267).png>)

рдпрджрд┐ рдЖрдк **рдХреЗрд╡рд▓ рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдкрд░ рдЦреЛрдЬрдирд╛** рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдЖрдк **рдкрде** рдкрд░ **рдЗрдВрдбрд┐рдХреЗрдЯ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: `http://host:9200/<index>/_search?pretty=true&q=<search_term>`

_рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЦреЛрдЬ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ q рдкреИрд░рд╛рдореАрдЯрд░ **рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ**_

рдЖрдк рдПрдХ рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рд╕реЗрд╡рд╛ рдХреЛ рдлрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП [https://github.com/misalabs/horuz](https://github.com/misalabs/horuz) рдЬреИрд╕реА рдХреБрдЫ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### рд▓реЗрдЦрди рдЕрдиреБрдорддрд┐рдпрд╛рдБ

рдЖрдк рдЕрдкрдиреА рд▓реЗрдЦрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдПрдХ рдирдП рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рдПрдХ рдирдП рджрд╕реНрддрд╛рд╡реЗрдЬ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдХреЗ рдХреБрдЫ рдРрд╕рд╛ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
curl -X POST '10.10.10.115:9200/bookindex/books' -H 'Content-Type: application/json' -d'
{
"bookId" : "A00-3",
"author" : "Sankaran",
"publisher" : "Mcgrahill",
"name" : "how to get a job"
}'
```
рд╡рд╣ cmd рдПрдХ **рдирдпрд╛ рдЗрдВрдбреЗрдХреНрд╕** рдмрдирд╛рдПрдЧрд╛ рдЬрд┐рд╕рдХрд╛ рдирд╛рдо `bookindex` рд╣реЛрдЧрд╛ рдФрд░ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдбреЙрдХреНрдпреВрдореЗрдВрдЯ рдкреНрд░рдХрд╛рд░ `books` рд╣реЛрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ "_bookId_", "_author_", "_publisher_" рдФрд░ "_name_" рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╣реЛрдВрдЧреАред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдирдпрд╛ рдЗрдВрдбреЗрдХреНрд╕ рдЕрдм рд╕реВрдЪреА рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ рд░рд╣рд╛ рд╣реИ**:

![](<../.gitbook/assets/image (268).png>)

рдФрд░ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдмрдирд╛рдП рдЧрдП рдЧреБрдг** рдХреЛ рдзреНрдпрд╛рди рд╕реЗ рджреЗрдЦреЗрдВ:

![](<../.gitbook/assets/image (269).png>)

## рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЧрдгрдирд╛

рдХреБрдЫ рдЙрдкрдХрд░рдг рдкрд╣рд▓реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗ:
```bash
msf > use auxiliary/scanner/elasticsearch/indices_enum
```
{% embed url="https://github.com/theMiddleBlue/nmap-elasticsearch-nse" %}

## рд╢реЛрдбрди

* `port:9200 рдПрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ`

<details>

<summary><strong>рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВред

</details>
