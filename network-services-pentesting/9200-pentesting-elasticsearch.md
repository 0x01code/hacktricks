# 9200 - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–µ–Ω–Ω—è Elasticsearch

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—ñ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub**.

</details>

## –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

Elasticsearch - —Ü–µ **—Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏–π**, **–≤—ñ–¥–∫—Ä–∏—Ç–∏–π** –ø–æ—à—É–∫–æ–≤–∏–π —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏–π –¥–≤–∏–∂–æ–∫ –¥–ª—è **–≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö**. –í—ñ–Ω –≤—ñ–¥–æ–º–∏–π —Å–≤–æ—î—é **—à–≤–∏–¥–∫—ñ—Å—Ç—é**, **–º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—é** —Ç–∞ **–ø—Ä–æ—Å—Ç–∏–º–∏ REST API**. –ü–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ Apache Lucene, –≤–ø–µ—Ä—à–µ –±—É–≤ –≤–∏–ø—É—â–µ–Ω–∏–π –≤ 2010 —Ä–æ—Ü—ñ –∫–æ–º–ø–∞–Ω—ñ—î—é Elasticsearch N.V. (—Ç–µ–ø–µ—Ä –≤—ñ–¥–æ–º–æ—é —è–∫ Elastic). Elasticsearch —î –æ—Å–Ω–æ–≤–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º Elastic Stack, –∫–æ–ª–µ–∫—Ü—ñ—ó –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è, –∑–±–∞–≥–∞—á–µ–Ω–Ω—è, –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è, –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö. –¶–µ–π —Å—Ç–µ–∫, —è–∫–∏–π —á–∞—Å—Ç–æ –Ω–∞–∑–∏–≤–∞—é—Ç—å ELK Stack, —Ç–∞–∫–æ–∂ –≤–∫–ª—é—á–∞—î Logstash —Ç–∞ Kibana, –∞ —Ç–µ–ø–µ—Ä –º–∞—î –ª–µ–≥–∫—ñ –∞–≥–µ–Ω—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–∞–Ω–∏—Ö, —è–∫—ñ –Ω–∞–∑–∏–≤–∞—é—Ç—å—Å—è Beats.

### –©–æ —Ç–∞–∫–µ —ñ–Ω–¥–µ–∫—Å Elasticsearch?

–Ü–Ω–¥–µ–∫—Å Elasticsearch - —Ü–µ –∫–æ–ª–µ–∫—Ü—ñ—è **–ø–æ–≤'—è–∑–∞–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤**, –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —É —Ñ–æ—Ä–º–∞—Ç—ñ **JSON**. –ö–æ–∂–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ **–∫–ª—é—á—ñ–≤** —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö **–∑–Ω–∞—á–µ–Ω—å** (—Ä—è–¥–∫—ñ–≤, —á–∏—Å–µ–ª, –±—É–ª–µ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å, –¥–∞—Ç, –º–∞—Å–∏–≤—ñ–≤, –≥–µ–æ–ª–æ–∫–∞—Ü—ñ–π —Ç–æ—â–æ).

Elasticsearch –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö, —è–∫–∞ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **—ñ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω–∏–º —ñ–Ω–¥–µ–∫—Å–æ–º**, –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ–≤–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ—à—É–∫—É. –¶–µ–π —ñ–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–ª—ñ—á—É—î –∫–æ–∂–Ω–µ —É–Ω—ñ–∫–∞–ª—å–Ω–µ —Å–ª–æ–≤–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö —Ç–∞ –≤–∏–∑–Ω–∞—á–∞—î –¥–æ–∫—É–º–µ–Ω—Ç–∏, –≤ —è–∫–∏—Ö –∑'—è–≤–ª—è—î—Ç—å—Å—è –∫–æ–∂–Ω–µ —Å–ª–æ–≤–æ.

–ü—ñ–¥ —á–∞—Å —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó Elasticsearch –∑–±–µ—Ä—ñ–≥–∞—î –¥–æ–∫—É–º–µ–Ω—Ç–∏ —Ç–∞ —Å—Ç–≤–æ—Ä—é—î —ñ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω–∏–π —ñ–Ω–¥–µ–∫—Å, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∑–¥—ñ–π—Å–Ω—é–≤–∞—Ç–∏ –º–∞–π–∂–µ –º–∏—Ç—Ç—î–≤–∏–π –ø–æ—à—É–∫. –î–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∞–±–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è JSON-–¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —ñ–Ω–¥–µ–∫—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **—ñ–Ω–¥–µ–∫—Å–æ–≤–∏–π API**.

**–ü–æ—Ä—Ç –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º**: 9200/tcp

## –†—É—á–Ω–∞ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–Ω—è

### –ë–∞–Ω–µ—Ä

–ü—Ä–æ—Ç–æ–∫–æ–ª, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ Elasticsearch, - **HTTP**. –ü—Ä–∏ –¥–æ—Å—Ç—É–ø—ñ –¥–æ –Ω—å–æ–≥–æ —á–µ—Ä–µ–∑ HTTP –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ —Ü—ñ–∫–∞–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é: `http://10.10.10.115:9200/`

![](<../.gitbook/assets/image (264).png>)

–Ø–∫—â–æ –≤–∏ –Ω–µ –±–∞—á–∏—Ç–µ —Ü—é –≤—ñ–¥–ø–æ–≤—ñ–¥—å –ø—Ä–∏ –¥–æ—Å—Ç—É–ø—ñ –¥–æ `/`, –ø–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä–æ–∑–¥—ñ–ª.

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

**–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º Elasticsearch –Ω–µ –º–∞—î –≤–≤—ñ–º–∫–Ω–µ–Ω–æ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó**, —Ç–æ–º—É –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—å–æ–≥–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.

–í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –≤–∏–º–∫–Ω–µ–Ω–∞, –∑—Ä–æ–±–∏–≤—à–∏ –∑–∞–ø–∏—Ç –¥–æ:
```bash
curl -X GET "ELASTICSEARCH-SERVER:9200/_xpack/security/user"
{"error":{"root_cause":[{"type":"exception","reason":"Security must be explicitly enabled when using a [basic] license. Enable security by setting [xpack.security.enabled] to [true] in the elasticsearch.yml file and restart the node."}],"type":"exception","reason":"Security must be explicitly enabled when using a [basic] license. Enable security by setting [xpack.security.enabled] to [true] in the elasticsearch.yml file and restart the node."},"status":500}
```
**–û–¥–Ω–∞–∫**, —è–∫—â–æ –≤–∏ –Ω–∞–¥—Å–∏–ª–∞—î—Ç–µ –∑–∞–ø–∏—Ç –¥–æ `/` —ñ –æ—Ç—Ä–∏–º—É—î—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å, –ø–æ–¥—ñ–±–Ω—É –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó:
```bash
{"error":{"root_cause":[{"type":"security_exception","reason":"missing authentication credentials for REST request [/]","header":{"WWW-Authenticate":"Basic realm=\"security\" charset=\"UTF-8\""}}],"type":"security_exception","reason":"missing authentication credentials for REST request [/]","header":{"WWW-Authenticate":"Basic realm=\"security\" charset=\"UTF-8\""}},"status":401}
```
–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞, —ñ **–ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥—ñ–π—Å–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ**, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –±—É–¥—å-—è–∫—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑ Elasticsearch. –ü–æ—Ç—ñ–º –≤–∏ –º–æ–∂–µ—Ç–µ [**—Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–ª–∞–º–∞—Ç–∏ –π–æ–≥–æ**](../generic-methodologies-and-resources/brute-force.md#elasticsearch) (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î HTTP –±–∞–∑–æ–≤—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é, —Ç–æ–º—É –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—É–¥—å-—â–æ, —â–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è BF HTTP –±–∞–∑–æ–≤–æ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó).\
–û—Å—å **—Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤–∏—Ö —ñ–º–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**: _**elastic** (—Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á), remote\_monitoring\_user, beats\_system, logstash\_system, kibana, kibana\_system, apm\_system,_ \_anonymous\_.\_ –£ —Å—Ç–∞—Ä—ñ—à–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Elasticsearch –¥–ª—è —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ç–∏–ø–æ–≤–∏–π –ø–∞—Ä–æ–ª—å **changeme**.
```
curl -X GET http://user:password@IP:9200/
```
### –û—Å–Ω–æ–≤–Ω–∞ –ø–µ—Ä–µ–ª—ñ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
```bash
#List all roles on the system:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/role"

#List all users on the system:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/user"

#Get more information about the rights of an user:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/user/<USERNAME>"
```
### –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ Elastic

–û—Å—å –¥–µ—è–∫—ñ –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏, –¥–æ —è–∫–∏—Ö –≤–∏ –º–æ–∂–µ—Ç–µ **–æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é GET**, —â–æ–± **–æ—Ç—Ä–∏–º–∞—Ç–∏** –¥–µ—è–∫—É **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é** –ø—Ä–æ elasticsearch:

| \_cat                           | /\_cluster                    | /\_security               |
| ------------------------------- | ----------------------------- | ------------------------- |
| /\_cat/segments                 | /\_cluster/allocation/explain | /\_security/user          |
| /\_cat/shards                   | /\_cluster/settings           | /\_security/privilege     |
| /\_cat/repositories             | /\_cluster/health             | /\_security/role\_mapping |
| /\_cat/recovery                 | /\_cluster/state              | /\_security/role          |
| /\_cat/plugins                  | /\_cluster/stats              | /\_security/api\_key      |
| /\_cat/pending\_tasks           | /\_cluster/pending\_tasks     |                           |
| /\_cat/nodes                    | /\_nodes                      |                           |
| /\_cat/tasks                    | /\_nodes/usage                |                           |
| /\_cat/templates                | /\_nodes/hot\_threads         |                           |
| /\_cat/thread\_pool             | /\_nodes/stats                |                           |
| /\_cat/ml/trained\_models       | /\_tasks                      |                           |
| /\_cat/transforms/\_all         | /\_remote/info                |                           |
| /\_cat/aliases                  |                               |                           |
| /\_cat/allocation               |                               |                           |
| /\_cat/ml/anomaly\_detectors    |                               |                           |
| /\_cat/count                    |                               |                           |
| /\_cat/ml/data\_frame/analytics |                               |                           |
| /\_cat/ml/datafeeds             |                               |                           |
| /\_cat/fielddata                |                               |                           |
| /\_cat/health                   |                               |                           |
| /\_cat/indices                  |                               |                           |
| /\_cat/master                   |                               |                           |
| /\_cat/nodeattrs                |                               |                           |
| /\_cat/nodes                    |                               |                           |

–¶—ñ –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏ –±—É–ª–∏ [**–≤–∑—è—Ç—ñ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó**](https://www.elastic.co/guide/en/elasticsearch/reference/current/rest-apis.html), –¥–µ –≤–∏ –º–æ–∂–µ—Ç–µ **–∑–Ω–∞–π—Ç–∏ –±—ñ–ª—å—à–µ**.\
–¢–∞–∫–æ–∂, —è–∫—â–æ –≤–∏ –∑–≤–µ—Ä–Ω–µ—Ç–µ—Å—å –¥–æ `/_cat`, –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏ `/_cat/*`.

–£ `/_security/user` (—è–∫—â–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é), –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏, —è–∫–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î —Ä–æ–ª—å `superuser`.

### –Ü–Ω–¥–µ–∫—Å–∏

–í–∏ –º–æ–∂–µ—Ç–µ **–∑—ñ–±—Ä–∞—Ç–∏ –≤—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏**, –∑–≤–µ—Ä–Ω—É–≤—à–∏—Å—å –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://10.10.10.115:9200/_cat/indices?v`
```
health status index   uuid                   pri rep docs.count docs.deleted store.size pri.store.size
green  open   .kibana 6tjAYZrgQ5CwwR0g6VOoRg   1   0          1            0        4kb            4kb
yellow open   quotes  ZG2D1IqkQNiNZmi2HRImnQ   5   1        253            0    262.7kb        262.7kb
yellow open   bank    eSVpNfCfREyYoVigNWcrMw   5   1       1000            0    483.2kb        483.2kb
```
–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ç–∏–ø –¥–∞–Ω–∏—Ö, —è–∫—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —ñ–Ω–¥–µ–∫—Å—ñ**, –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ: `http://host:9200/<index>` –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `http://10.10.10.115:9200/bank`

![](<../.gitbook/assets/image (265).png>)

### –î–∞–º–ø —ñ–Ω–¥–µ–∫—Å—É

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ **–≤–∏–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ –≤–º—ñ—Å—Ç** —ñ–Ω–¥–µ–∫—Å—É, –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ: `http://host:9200/<index>/_search?pretty=true` –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `http://10.10.10.115:9200/bank/_search?pretty=true`

![](<../.gitbook/assets/image (266).png>)

_–ü—Ä–∏–¥—ñ–ª—ñ—Ç—å —Ö–≤–∏–ª–∏–Ω—É, —â–æ–± –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –≤–º—ñ—Å—Ç –∫–æ–∂–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∑–∞–ø–∏—Å—É) –≤ —ñ–Ω–¥–µ–∫—Å—ñ –±–∞–Ω–∫—É —Ç–∞ –ø–æ–ª—è —Ü—å–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É, —è–∫—ñ –º–∏ –±–∞—á–∏–ª–∏ –≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ._

–¢–∞–∫–∏–º —á–∏–Ω–æ–º, –Ω–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–º—ñ—Ç–∏—Ç–∏, —â–æ **—î –ø–æ–ª–µ –∑ –Ω–∞–∑–≤–æ—é "total" –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ "hits"**, —è–∫–µ –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ, —â–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—å–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É –±—É–ª–æ –∑–Ω–∞–π–¥–µ–Ω–æ **1000 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤**, –∞–ª–µ –ª–∏—à–µ 10 –±—É–ª–æ –≤–∏—Ç—è–≥–Ω—É—Ç–æ. –¶–µ —Ç–æ–º—É, —â–æ **–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —î –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ 10 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤**.\
–ê–ª–µ, —Ç–µ–ø–µ—Ä, –∫–æ–ª–∏ –≤–∏ –∑–Ω–∞—î—Ç–µ, —â–æ **—Ü–µ–π —ñ–Ω–¥–µ–∫—Å –º—ñ—Å—Ç–∏—Ç—å 1000 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤**, –≤–∏ –º–æ–∂–µ—Ç–µ **–≤–∏–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ** –∑ –Ω–∏—Ö, –≤–∫–∞–∑–∞–≤—à–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤, —è–∫—ñ –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–∏–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ **`size`**: `http://10.10.10.115:9200/quotes/_search?pretty=true&size=1000`asd\
_–ü—Ä–∏–º—ñ—Ç–∫–∞: –Ø–∫—â–æ –≤–∏ –≤–∫–∞–∂–µ—Ç–µ –±—ñ–ª—å—à–µ —á–∏—Å–ª–æ, –≤—Å—ñ –∑–∞–ø–∏—Å–∏ –≤—Å–µ –æ–¥–Ω–æ –±—É–¥—É—Ç—å –≤–∏–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∫–∞–∑–∞—Ç–∏ `size=9999`, —ñ —Ü–µ –±—É–¥–µ –¥–∏–≤–Ω–æ, —è–∫—â–æ –±—É–¥–µ –±—ñ–ª—å—à–µ –∑–∞–ø–∏—Å—ñ–≤ (–∞–ª–µ –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏)._

### –í–∏–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å–µ

–©–æ–± –≤–∏–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å–µ, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–π—Ç–∏ –∑–∞ **—Ç–∏–º —Å–∞–º–∏–º —à–ª—è—Ö–æ–º, —â–æ –π —Ä–∞–Ω—ñ—à–µ, –∞–ª–µ –Ω–µ –≤–∫–∞–∑—É—é—á–∏ –∂–æ–¥–Ω–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É** `http://host:9200/_search?pretty=true` –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `http://10.10.10.115:9200/_search?pretty=true`\
–ü–∞–º'—è—Ç–∞–π—Ç–µ, —â–æ –≤ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –±—É–¥–µ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ **–æ–±–º–µ–∂–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –Ω–∞ 10** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `size`, —â–æ–± –≤–∏–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ **–±—ñ–ª—å—à—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Ä–æ–∑–¥—ñ–ª –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.

### –ü–æ—à—É–∫

–Ø–∫—â–æ –≤–∏ —à—É–∫–∞—î—Ç–µ –ø–µ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ **–ø–æ—à—É–∫ –ø–æ –≤—Å—ñ—Ö —ñ–Ω–¥–µ–∫—Å–∞—Ö**, –ø–µ—Ä–µ–π—à–æ–≤—à–∏ –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://host:9200/_search?pretty=true&q=<search_term>` —è–∫ —É `http://10.10.10.115:9200/_search?pretty=true&q=Rockwell`

![](<../.gitbook/assets/image (267).png>)

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ **—à—É–∫–∞—Ç–∏ –≤ —ñ–Ω–¥–µ–∫—Å—ñ**, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ **–≤–∫–∞–∑–∞—Ç–∏** –π–æ–≥–æ –≤ **—à–ª—è—Ö—É**: `http://host:9200/<index>/_search?pretty=true&q=<search_term>`

_–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –ø–∞—Ä–∞–º–µ—Ç—Ä q, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è –ø–æ—à—É–∫—É –≤–º—ñ—Å—Ç—É, **–ø—ñ–¥—Ç—Ä–∏–º—É—î —Ä–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏**_

–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —â–æ—Å—å –Ω–∞ –∑—Ä–∞–∑–æ–∫ [https://github.com/misalabs/horuz](https://github.com/misalabs/horuz), —â–æ–± –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∞–∑–∑–∏–Ω–≥ —Å–µ—Ä–≤—ñ—Å—É Elasticsearch.

### –ü—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å

–í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–≤–æ—ó –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å, —Å–ø—Ä–æ–±—É–≤–∞–≤—à–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω–æ–≤–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É, –∑–∞–ø—É—Å—Ç–∏–≤—à–∏ —â–æ—Å—å –Ω–∞ –∑—Ä–∞–∑–æ–∫:
```bash
curl -X POST '10.10.10.115:9200/bookindex/books' -H 'Content-Type: application/json' -d'
{
"bookId" : "A00-3",
"author" : "Sankaran",
"publisher" : "Mcgrahill",
"name" : "how to get a job"
}'
```
–¶—è –∫–æ–º–∞–Ω–¥–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å **–Ω–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å** –ø—ñ–¥ –Ω–∞–∑–≤–æ—é `bookindex` –∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–º —Ç–∏–ø—É `books`, —è–∫–∏–π –º–∞—î –∞—Ç—Ä–∏–±—É—Ç–∏ "_bookId_", "_author_", "_publisher_" —Ç–∞ "_name_"

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —è–∫ **–Ω–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å –∑'—è–≤–ª—è—î—Ç—å—Å—è —É —Å–ø–∏—Å–∫—É**:

![](<../.gitbook/assets/image (268).png>)

–Ü –ø–æ–º—ñ—Ç—ñ—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ**:

![](<../.gitbook/assets/image (269).png>)

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–Ω—è

–î–µ—è–∫—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –æ—Ç—Ä–∏–º–∞—é—Ç—å –¥–µ—è–∫—ñ –¥–∞–Ω—ñ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ñ —Ä–∞–Ω—ñ—à–µ:
```bash
msf > use auxiliary/scanner/elasticsearch/indices_enum
```
## Shodan

* `port:9200 elasticsearch`

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—ñ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.**

</details>
