# 9200 - Elasticsearch рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) **рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВ**.
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ.

</details>

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

[рдореБрдЦреНрдп рдкреГрд╖реНрда](https://www.elastic.co/what-is/elasticsearch) рд╕реЗ рдЖрдк рдХреБрдЫ рдЙрдкрдпреЛрдЧреА рд╡рд┐рд╡рд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ:

> Elasticsearch рдПрдХ рд╡рд┐рддрд░рд┐рдд, рдУрдкрди рд╕реЛрд░реНрд╕ рд╕рд░реНрдЪ рдФрд░ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рдЗрдВрдЬрди рд╣реИ рдЬреЛ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЯреЗрдХреНрд╕реНрдЯреБрдЕрд▓, рдиреНрдпреВрдореЗрд░рд┐рдХрд▓, рдЬрд┐рдпреЛрд╕реНрдкреЗрд╢рд┐рдпрд▓, рд╕реНрдЯреНрд░рдХреНрдЪрд░реНрдб, рдФрд░ рдЕрдирд╕реНрдЯреНрд░рдХреНрдЪрд░реНрдб рд╢рд╛рдорд┐рд▓ рд╣реИрдВред Elasticsearch Apache Lucene рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ рдФрд░ рдкрд╣рд▓реА рдмрд╛рд░ 2010 рдореЗрдВ Elasticsearch N.V. (рдЕрдм Elastic рдХреЗ рдирд╛рдо рд╕реЗ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ) рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рдЗрд╕рдХреЗ рд╕рд░рд▓ REST APIs, рд╡рд┐рддрд░рд┐рдд рдкреНрд░рдХреГрддрд┐, рдЧрддрд┐, рдФрд░ рд╕реНрдХреЗрд▓реЗрдмрд┐рд▓рд┐рдЯреА рдХреЗ рд▓рд┐рдП рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, Elasticsearch Elastic Stack рдХрд╛ рдХреЗрдВрджреНрд░реАрдп рдШрдЯрдХ рд╣реИ, рдЬреЛ рдбреЗрдЯрд╛ рдЗрдВрдЬреЗрд╕реНрд╢рди, рд╕рдореГрджреНрдзрд┐, рд╕рдВрдЧреНрд░рд╣рдг, рд╡рд┐рд╢реНрд▓реЗрд╖рдг, рдФрд░ рджреГрд╢реНрдпреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдУрдкрди рд╕реЛрд░реНрд╕ рдЯреВрд▓реНрд╕ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИред рдЖрдорддреМрд░ рдкрд░ ELK Stack (Elasticsearch, Logstash, рдФрд░ Kibana рдХреЗ рдмрд╛рдж) рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, Elastic Stack рдЕрдм Beats рдХрд╛ рдПрдХ рд╕рдореГрджреНрдз рд╕рдВрдЧреНрд░рд╣ рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╣рд▓реНрдХреЗ рд╢рд┐рдкрд┐рдВрдЧ рдПрдЬреЗрдВрдЯреНрд╕ рд╣реИрдВ рдЬреЛ рдбреЗрдЯрд╛ рдХреЛ Elasticsearch рдореЗрдВ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдиреЗ рдЬрд╛рддреЗ рд╣реИрдВред

### Elasticsearch рдЗрдВрдбреЗрдХреНрд╕ рдХреНрдпрд╛ рд╣реИ?

Elasticsearch _рдЗрдВрдбреЗрдХреНрд╕_ **рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХрд╛ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИ** рдЬреЛ рдПрдХ-рджреВрд╕рд░реЗ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛрддреЗ рд╣реИрдВред Elasticsearch рдбреЗрдЯрд╛ рдХреЛ JSON рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ _рдХреБрдВрдЬрд┐рдпреЛрдВ_ (рдлреАрд▓реНрдбреНрд╕ рдпрд╛ рдкреНрд░реЙрдкрд░реНрдЯреАрдЬрд╝ рдХреЗ рдирд╛рдо) рдХреЛ рдЙрдирдХреЗ рд╕рдВрдмрдВрдзрд┐рдд рдореВрд▓реНрдпреЛрдВ (рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕, рдирдВрдмрд░реНрд╕, рдмреВрд▓рд┐рдпрдиреНрд╕, рддрд┐рдерд┐рдпрд╛рдВ, рдореВрд▓реНрдпреЛрдВ рдХреЗ рдРрд░реЗ, рдЬрд┐рдпреЛрд▓реЛрдХреЗрд╢рдиреНрд╕, рдпрд╛ рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рдбреЗрдЯрд╛) рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рддрд╛ рд╣реИред

Elasticsearch рдПрдХ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ _рдЗрдиреНрд╡рд░реНрдЯреЗрдб рдЗрдВрдбреЗрдХреНрд╕_ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдмрд╣реБрдд рддреЗрдЬрд╝ рдлреБрд▓-рдЯреЗрдХреНрд╕реНрдЯ рд╕рд░реНрдЪреЗрд╕ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдПрдХ рдЗрдиреНрд╡рд░реНрдЯреЗрдб рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ рд╣рд░ рдЕрдиреЛрдЦреЗ рд╢рдмреНрдж рдХреА рд╕реВрдЪреА рд╣реЛрддреА рд╣реИ рдЬреЛ рдХрд┐рд╕реА рднреА рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рдкреНрд░рдХрдЯ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЙрди рд╕рднреА рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдирдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╢рдмреНрдж рд╣реЛрддрд╛ рд╣реИред

рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди, Elasticsearch рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рд▓рдЧрднрдЧ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдбреЗрдЯрд╛ рдХреЛ рдЦреЛрдЬрдиреЗ рдпреЛрдЧреНрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдиреНрд╡рд░реНрдЯреЗрдб рдЗрдВрдбреЗрдХреНрд╕ рдмрдирд╛рддрд╛ рд╣реИред рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдХреЛ рдЗрдВрдбреЗрдХреНрд╕ API рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рд░рдВрдн рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдк рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ рдПрдХ JSON рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ**: 9200/tcp

## рдореИрдиреБрдЕрд▓ рдПрдиреНрдпреВрдорд░реЗрд╢рди

### рдмреИрдирд░

Elasticsearch рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ **HTTP** рд╣реИред рдЬрдм рдЖрдк рдЗрд╕реЗ HTTP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдкрдХреЛ рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓реЗрдЧреА: `http://10.10.10.115:9200/`

![](<../.gitbook/assets/image (264).png>)

рдпрджрд┐ рдЖрдк `/` рдПрдХреНрд╕реЗрд╕ рдХрд░рддреЗ рд╕рдордп рд╡рд╣ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдирд╣реАрдВ рджреЗрдЦрддреЗ рд╣реИрдВ рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЕрдиреБрднрд╛рдЧ рджреЗрдЦреЗрдВред

### рдкреНрд░рдорд╛рдгреАрдХрд░рдг

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ Elasticsearch рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ**, рдЗрд╕рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЖрдк рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдЕрдВрджрд░ рдХреА рд╕рднреА рдЪреАрдЬреЛрдВ рддрдХ рдХрд┐рд╕реА рднреА рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдЕрдХреНрд╖рдорддрд╛ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
curl -X GET "ELASTICSEARCH-SERVER:9200/_xpack/security/user"
{"error":{"root_cause":[{"type":"exception","reason":"Security must be explicitly enabled when using a [basic] license. Enable security by setting [xpack.security.enabled] to [true] in the elasticsearch.yml file and restart the node."}],"type":"exception","reason":"Security must be explicitly enabled when using a [basic] license. Enable security by setting [xpack.security.enabled] to [true] in the elasticsearch.yml file and restart the node."},"status":500}
```
**рд╣рд╛рд▓рд╛рдВрдХрд┐**, рдпрджрд┐ рдЖрдк `/` рдкрд░ рдПрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреИрд╕рд╛ рдкреНрд░рддрд┐рд╕рд╛рдж рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ:
```bash
{"error":{"root_cause":[{"type":"security_exception","reason":"missing authentication credentials for REST request [/]","header":{"WWW-Authenticate":"Basic realm=\"security\" charset=\"UTF-8\""}}],"type":"security_exception","reason":"missing authentication credentials for REST request [/]","header":{"WWW-Authenticate":"Basic realm=\"security\" charset=\"UTF-8\""}},"status":401}
```
рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ **рдЖрдкрдХреЛ рдорд╛рдиреНрдп рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ** рддрд╛рдХрд┐ Elasticsearch рд╕реЗ рдХреЛрдИ рднреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛ рд╕рдХреЗред рдлрд┐рд░, рдЖрдк [**рдЗрд╕реЗ рдмреНрд░реВрдЯрдлреЛрд░реНрд╕ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**](../generic-methodologies-and-resources/brute-force.md#elasticsearch) (рдпрд╣ HTTP рдмреЗрд╕рд┐рдХ рдСрде рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреБрдЫ рднреА рдЬреЛ HTTP рдмреЗрд╕рд┐рдХ рдСрде рдХреЛ рдмреНрд░реВрдЯрдлреЛрд░реНрд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЙрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ)ред\
рдпрд╣рд╛рдБ рдЖрдкрдХреЗ рдкрд╛рд╕ **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдпреВрдЬрд╝рд░рдиреЗрдореНрд╕ рдХреА рд╕реВрдЪреА рд╣реИ**: _**elastic** (рд╕реБрдкрд░рдпреВрдЬрд╝рд░), remote\_monitoring\_user, beats\_system, logstash\_system, kibana, kibana\_system, apm\_system,_ \_anonymous\_.\_ Elasticsearch рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдЗрд╕ рдпреВрдЬрд╝рд░ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб **changeme** рд╣реЛрддрд╛ рд╣реИ
```
curl -X GET http://user:password@IP:9200/
```
### рдореВрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реВрдЪреАрдХрд░рдг
```bash
#List all roles on the system:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/role"

#List all users on the system:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/user"

#Get more information about the rights of an user:
curl -X GET "ELASTICSEARCH-SERVER:9200/_security/user/<USERNAME>"
```
### Elastic рдЬрд╛рдирдХрд╛рд░реА

рдпрд╣рд╛рдБ рдХреБрдЫ endpoints рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк **GET рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ elasticsearch рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ **рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд** рдХрд░ рд╕рдХреЗрдВ:

| \_cat                           | /\_cluster                    | /\_security               |
| ------------------------------- | ----------------------------- | ------------------------- |
| /\_cat/segments                 | /\_cluster/allocation/explain | /\_security/user          |
| /\_cat/shards                   | /\_cluster/settings           | /\_security/privilege     |
| /\_cat/repositories             | /\_cluster/health             | /\_security/role\_mapping |
| /\_cat/recovery                 | /\_cluster/state              | /\_security/role          |
| /\_cat/plugins                  | /\_cluster/stats              | /\_security/api\_key      |
| /\_cat/pending\_tasks           | /\_cluster/pending\_tasks     |                           |
| /\_cat/nodes                    | /\_nodes                      |                           |
| /\_cat/tasks                    | /\_nodes/usage                |                           |
| /\_cat/templates                | /\_nodes/hot\_threads         |                           |
| /\_cat/thread\_pool             | /\_nodes/stats                |                           |
| /\_cat/ml/trained\_models       | /\_tasks                      |                           |
| /\_cat/transforms/\_all         | /\_remote/info                |                           |
| /\_cat/aliases                  |                               |                           |
| /\_cat/allocation               |                               |                           |
| /\_cat/ml/anomaly\_detectors    |                               |                           |
| /\_cat/count                    |                               |                           |
| /\_cat/ml/data\_frame/analytics |                               |                           |
| /\_cat/ml/datafeeds             |                               |                           |
| /\_cat/fielddata                |                               |                           |
| /\_cat/health                   |                               |                           |
| /\_cat/indices                  |                               |                           |
| /\_cat/master                   |                               |                           |
| /\_cat/nodeattrs                |                               |                           |
| /\_cat/nodes                    |                               |                           |

рдпреЗ endpoints [**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рд╕реЗ рд▓рд┐рдП рдЧрдП рд╣реИрдВ**](https://www.elastic.co/guide/en/elasticsearch/reference/current/rest-apis.html) рдЬрд╣рд╛рдБ рдЖрдк **рдФрд░ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ**ред\
рд╕рд╛рде рд╣реА, рдпрджрд┐ рдЖрдк `/_cat` рдПрдХреНрд╕реЗрд╕ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЙрд╕ instance рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд `/_cat/*` endpoints рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗред

`/_security/user` рдореЗрдВ (рдпрджрд┐ auth рд╕рдХреНрд╖рдо рд╣реИ) рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ `superuser` рднреВрдорд┐рдХрд╛ рдХреЗ рд╕рд╛рде рд╣реИред

### Indices

рдЖрдк `http://10.10.10.115:9200/_cat/indices?v` рдПрдХреНрд╕реЗрд╕ рдХрд░рдХреЗ **рд╕рднреА indices рдПрдХрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред
```
health status index   uuid                   pri rep docs.count docs.deleted store.size pri.store.size
green  open   .kibana 6tjAYZrgQ5CwwR0g6VOoRg   1   0          1            0        4kb            4kb
yellow open   quotes  ZG2D1IqkQNiNZmi2HRImnQ   5   1        253            0    262.7kb        262.7kb
yellow open   bank    eSVpNfCfREyYoVigNWcrMw   5   1       1000            0    483.2kb        483.2kb
```
### рдЗрдВрдбреЗрдХреНрд╕ рдХреА рдЬрд╛рдирдХрд╛рд░реА

**рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдбреЗрдЯрд╛ рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рд╕реЗрд╡ рд╣реИ, рдЗрд╕рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП** рдЖрдк рдЗрд╕ рдкрддреЗ рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ: `http://host:9200/<index>` рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ `http://10.10.10.115:9200/bank`

![](<../.gitbook/assets/image (265).png>)

### рдЗрдВрдбреЗрдХреНрд╕ рдбрдВрдк рдХрд░реЗрдВ

рдпрджрд┐ рдЖрдк **рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдХреА рд╕рднреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдбрдВрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**, рддреЛ рдЖрдк рдЗрд╕ рдкрддреЗ рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ: `http://host:9200/<index>/_search?pretty=true` рдЬреИрд╕реЗ `http://10.10.10.115:9200/bank/_search?pretty=true`

![](<../.gitbook/assets/image (266).png>)

_рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░ рдереЛрдбрд╝рд╛ рд╕рдордп рд▓реЗрдВ рдФрд░ рдмреИрдВрдХ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рдкреНрд░рддреНрдпреЗрдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ (рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐) рдХреА рд╕рд╛рдордЧреНрд░реА рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВ рдФрд░ рдЗрд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рд╕реЗ рдЬреЛ рд╣рдордиреЗ рдкрд┐рдЫрд▓реЗ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рджреЗрдЦрд╛ рдерд╛ред_

рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ **"рд╣рд┐рдЯреНрд╕" рдХреЗ рдЕрдВрджрд░ "рдЯреЛрдЯрд▓" рдирд╛рдордХ рдПрдХ рдХреНрд╖реЗрддреНрд░ рд╣реИ** рдЬреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ **рдЗрд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ 1000 рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкрд╛рдП рдЧрдП** рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ 10 рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ред рдпрд╣ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ 10 рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреА рд╕реАрдорд╛ рд╣реЛрддреА рд╣реИ**ред\
рд▓реЗрдХрд┐рди, рдЕрдм рдЬрдм рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ **рдЗрд╕ рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ 1000 рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╣реИрдВ**, рдЖрдк **рдЙрди рд╕рднреА рдХреЛ рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** **`size`** рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдЖрдк рдЬрд┐рддрдиреА рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреЛ рдбрдВрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЙрд╕ рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдХреЗ: `http://10.10.10.115:9200/quotes/_search?pretty=true&size=1000`asd\
_рдиреЛрдЯ: рдпрджрд┐ рдЖрдк рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╕рднреА рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ рд╡реИрд╕реЗ рднреА рдбрдВрдк рд╣реЛ рдЬрд╛рдПрдВрдЧреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЖрдк `size=9999` рдЗрдВрдЧрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдЕрдЬреАрдм рд╣реЛрдЧрд╛ рдпрджрд┐ рдЕрдзрд┐рдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ рд╣реЛрддреАрдВ (рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП)ред_

### рд╕рднреА рдбрдВрдк рдХрд░реЗрдВ

рд╕рднреА рдХреЛ рдбрдВрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк **рдкрд╣рд▓реЗ рдХреА рддрд░рд╣ рд╣реА рдкрде рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рднреА рдЗрдВрдбреЗрдХреНрд╕ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд┐рдП рдмрд┐рдирд╛** `http://host:9200/_search?pretty=true` рдЬреИрд╕реЗ `http://10.10.10.115:9200/_search?pretty=true`\
рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ **10 рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реАрдорд╛** рд▓рд╛рдЧреВ рд╣реЛрдЧреАред рдЖрдк `size` рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдЕрдзрд┐рдХ рдорд╛рддреНрд░рд╛ рдореЗрдВ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рдбрдВрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдкрд┐рдЫрд▓рд╛ рдЕрдиреБрднрд╛рдЧ рдкрдврд╝реЗрдВред

### рдЦреЛрдЬ

рдпрджрд┐ рдЖрдк рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА рдХреА рдЦреЛрдЬ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рддреЛ рдЖрдк **рд╕рднреА рдЗрдВрдбреЗрдХреНрд╕ рдкрд░ рдПрдХ рдХрдЪреНрдЪреА рдЦреЛрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** `http://host:9200/_search?pretty=true&q=<search_term>` рдЬреИрд╕реЗ `http://10.10.10.115:9200/_search?pretty=true&q=Rockwell`

![](<../.gitbook/assets/image (267).png>)

рдпрджрд┐ рдЖрдк рдХреЗрд╡рд▓ **рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдкрд░ рдЦреЛрдЬ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ рдЖрдк **рдкрде рдкрд░ рдЗрд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: `http://host:9200/<index>/_search?pretty=true&q=<search_term>`

_рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ q рдкреИрд░рд╛рдореАрдЯрд░ рдЬреЛ рд╕рд╛рдордЧреНрд░реА рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИ **рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ**_

рдЖрдк [https://github.com/misalabs/horuz](https://github.com/misalabs/horuz) рдЬреИрд╕реА рдХрд┐рд╕реА рдЪреАрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ elasticsearch рд╕реЗрд╡рд╛ рдХреЛ fuzz рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐рдпрд╛рдВ

рдЖрдк рдПрдХ рдирдП рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рдПрдХ рдирдпрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдХреЗ рдЕрдкрдиреА рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреИрд╕рд╛ рдХреБрдЫ рдЪрд▓рд╛рдХрд░:
```bash
curl -X POST '10.10.10.115:9200/bookindex/books' -H 'Content-Type: application/json' -d'
{
"bookId" : "A00-3",
"author" : "Sankaran",
"publisher" : "Mcgrahill",
"name" : "how to get a job"
}'
```
рдпрд╣ cmd рдПрдХ **рдирдпрд╛ рдЗрдВрдбреЗрдХреНрд╕** рдмрдирд╛рдПрдЧрд╛ рдЬрд┐рд╕реЗ `bookindex` рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ `books` рдкреНрд░рдХрд╛рд░ рдХрд╛ рдПрдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╣реЛрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ "_bookId_", "_author_", "_publisher_" рдФрд░ "_name_" рдЧреБрдг рд╣реЛрдВрдЧреЗред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреИрд╕реЗ **рдирдпрд╛ рдЗрдВрдбреЗрдХреНрд╕ рдЕрдм рд╕реВрдЪреА рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ**:

![](<../.gitbook/assets/image (268).png>)

рдФрд░ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдмрдирд╛рдИ рдЧрдИ рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ** рдХрд╛ рдзреНрдпрд╛рди рджреЗрдВ:

![](<../.gitbook/assets/image (269).png>)

## рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕реВрдЪреАрдмрджреНрдзрддрд╛

рдХреБрдЫ рдЙрдкрдХрд░рдг рдкрд╣рд▓реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдП рдЧрдП рдХреБрдЫ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗ:
```bash
msf > use auxiliary/scanner/elasticsearch/indices_enum
```
## Shodan

* `port:9200 elasticsearch`

<details>

<summary><strong>рд╢реВрдиреНрдп рд╕реЗ рдирд╛рдпрдХ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╢реЗрдпрд░ рдХрд░реЗрдВ.

</details>
