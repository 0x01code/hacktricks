# 4786 - Cisco Smart Install

<details>

<summary><strong>Impara l'hacking AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Esperto Red Team AWS di HackTricks)</strong></a><strong>!</strong></summary>

* Lavori in una **azienda di sicurezza informatica**? Vuoi vedere la **tua azienda pubblicizzata su HackTricks**? o vuoi avere accesso all'**ultima versione del PEASS o scaricare HackTricks in PDF**? Controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Scopri [**La Famiglia PEASS**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* **Unisciti al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguimi** su **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR al** [**repo di hacktricks**](https://github.com/carlospolop/hacktricks) **e al** [**repo di hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


## Informazioni di Base

**Cisco Smart Install** √® un servizio Cisco progettato per automatizzare la configurazione iniziale e il caricamento di un'immagine del sistema operativo per l'hardware Cisco nuovo. **Per impostazione predefinita, Cisco Smart Install √® attivo sull'hardware Cisco e utilizza il protocollo di livello di trasporto, TCP, con il numero di porta 4786.**

**Porta predefinita:** 4786
```
PORT      STATE  SERVICE
4786/tcp  open   smart-install
```
## **Strumento di Sfruttamento di Smart Install**

**Nel 2018 √® stata scoperta una vulnerabilit√† critica, CVE-2018-0171, in questo protocollo. Il livello di minaccia √® 9.8 sulla scala CVSS.**

**Un pacchetto appositamente creato inviato alla porta TCP/4786, dove √® attivo Cisco Smart Install, attiva un buffer overflow, consentendo a un attaccante di:**

* riavviare forzatamente il dispositivo
* chiamare RCE
* rubare configurazioni di apparecchiature di rete.

**Il** [**SIET**](https://github.com/frostbits-security/SIET) **(Strumento di Sfruttamento di Smart Install)** √® stato sviluppato per sfruttare questa vulnerabilit√†, ti consente di abusare di Cisco Smart Install. In questo articolo ti mostrer√≤ come puoi leggere un file di configurazione legittimo dell'hardware di rete. La configurazione dell'esfiltrazione pu√≤ essere preziosa per un pentester perch√© permetter√† di apprendere le caratteristiche uniche della rete. E questo render√† la vita pi√π facile e permetter√† di trovare nuovi vettori per un attacco.

**Il dispositivo di destinazione sar√† uno switch Cisco Catalyst 2960 "live". Le immagini virtuali non hanno Cisco Smart Install, quindi puoi solo esercitarti sull'hardware reale.**

L'indirizzo dello switch di destinazione √® **10.10.100.10 e CSI √® attivo.** Carica SIET e avvia l'attacco. **L'argomento -g** significa esfiltrazione della configurazione dal dispositivo, **l'argomento -i** ti consente di impostare l'indirizzo IP del target vulnerabile.
```
~/opt/tools/SIET$ sudo python2 siet.py -g -i 10.10.100.10
```
<figure><img src="../.gitbook/assets/image (770).png" alt=""><figcaption></figcaption></figure>

La configurazione dello switch **10.10.100.10** sar√† nella cartella **tftp/**

<figure><img src="../.gitbook/assets/image (1113).png" alt=""><figcaption></figcaption></figure>


<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

<details>

<summary><strong>Impara l'hacking AWS da zero a esperto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Lavori in una **azienda di sicurezza informatica**? Vuoi vedere la tua **azienda pubblicizzata su HackTricks**? o vuoi avere accesso all'**ultima versione del PEASS o scaricare HackTricks in PDF**? Controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Scopri [**La Famiglia PEASS**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* Ottieni il [**merchandising ufficiale PEASS & HackTricks**](https://peass.creator-spring.com)
* **Unisciti al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguimi** su **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR al** [**repo hacktricks**](https://github.com/carlospolop/hacktricks) **e al** [**repo hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
