# 4786 - Cisco Smart Install

<details>

<summary><strong>AWS hackleme becerilerini sıfırdan ileri seviyeye öğrenmek için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>'ı öğrenin!</strong></summary>

* Bir **cybersecurity şirketinde** çalışıyor musunuz? **Şirketinizi HackTricks'te reklamını görmek** ister misiniz? veya **PEASS'ın en son sürümüne veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family), özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keşfedin.
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin.
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'ı takip edin**.
* **Hacking hilelerinizi [hacktricks repo](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)'ya PR göndererek paylaşın**.

</details>

## Temel Bilgiler

**Cisco Smart Install**, yeni Cisco donanımları için başlangıç yapılandırmasını ve işletim sistemi görüntüsünün yüklenmesini otomatikleştirmek için tasarlanmış bir Cisco'dur. **Cisco Smart Install, varsayılan olarak Cisco donanımlarında etkindir ve taşıma katmanı protokolü olan TCP'yi, 4786 port numarasıyla kullanır.**

**Varsayılan port:** 4786
```
PORT      STATE  SERVICE
4786/tcp  open   smart-install
```
## **Smart Install Sömürü Aracı**

**2018 yılında, bu protokolde kritik bir güvenlik açığı olan CVE-2018-0171 bulundu. Tehdit seviyesi CVSS ölçeğinde 9.8'dir.**

**Cisco Smart Install'in etkin olduğu TCP/4786 portuna gönderilen özel olarak oluşturulmuş bir paket, bir saldırganın aşağıdaki işlemleri gerçekleştirmesine olanak tanıyan bir bellek taşması tetikler:**

* cihazı zorla yeniden başlatma
* RCE çağırma
* ağ ekipmanı yapılandırmalarını çalma.

**Bu zafiyeti sömürmek için** [**SIET**](https://github.com/frostbits-security/SIET) **(Smart Install Sömürü Aracı)** geliştirilmiştir, bu araç sayesinde Cisco Smart Install'i kötüye kullanabilirsiniz. Bu makalede, meşru bir ağ donanımı yapılandırma dosyasını nasıl okuyabileceğinizi göstereceğim. Yapılandırma çalma, bir pentester için değerli olabilir çünkü ağın benzersiz özellikleri hakkında bilgi edinmesini sağlar. Bu da işleri kolaylaştırır ve saldırı için yeni vektörler bulmayı mümkün kılar.

**Hedef cihaz, "canlı" bir Cisco Catalyst 2960 switch olacak. Sanal görüntülerde Cisco Smart Install bulunmadığından, sadece gerçek donanımda pratik yapabilirsiniz.**

Hedef switch'in adresi **10.10.100.10 ve CSI etkin.** SIET'i yükleyin ve saldırıyı başlatın. **-g argümanı**, cihazdan yapılandırmanın çalınmasını sağlar, **-i argümanı** ise zafiyete açık hedefin IP adresini belirlemenize olanak tanır.
```
~/opt/tools/SIET$ sudo python2 siet.py -g -i 10.10.100.10
```
<figure><img src="../.gitbook/assets/image (302).png" alt=""><figcaption></figcaption></figure>

Anahtar yapılandırması **10.10.100.10** IP adresine sahip ana dizindeki **tftp/** klasöründe olacak.

<figure><img src="../.gitbook/assets/image (73).png" alt=""><figcaption></figcaption></figure>

<details>

<summary><strong>AWS hacklemeyi sıfırdan kahraman seviyesine öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>!</strong></summary>

* Bir **cybersecurity şirketinde** çalışıyor musunuz? **Şirketinizi HackTricks'te reklamını görmek** ister misiniz? veya **PEASS'ın en son sürümüne veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonunu.
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin.
* [**💬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi [hacktricks repo](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)'ya PR göndererek paylaşın**.

</details>
