# 23 - Testowanie penetracyjne Telnetu

<details>

<summary><strong>Naucz się hakować AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** nas na **Twitterze** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

**Natychmiastowo dostępne narzędzie do konfiguracji oceny podatności i testowania penetracyjnego**. Uruchom pełne testowanie penetracyjne z dowolnego miejsca za pomocą ponad 20 narzędzi i funkcji, które obejmują rozpoznanie i raportowanie. Nie zastępujemy testerów penetracyjnych - opracowujemy niestandardowe narzędzia, moduły wykrywania i eksploatacji, aby dać im więcej czasu na głębsze drążenie, otwieranie powłok i dobrą zabawę.

{% embed url="https://pentest-tools.com/" %}

## **Podstawowe informacje**

Telnet to protokół sieciowy, który umożliwia użytkownikom niezabezpieczony dostęp do komputera przez sieć.

**Domyślny port:** 23
```
23/tcp open  telnet
```
Banner Grabbing to proces uzyskiwania informacji o usłudze Telnet poprzez pobranie banera, który zawiera informacje o wersji oprogramowania i systemie operacyjnym. Można to zrobić za pomocą narzędzi takich jak `telnet`, `nc` lub `nmap`.

#### **Telnet Banner Grabbing za pomocą Telnet**

Aby uzyskać baner Telnet za pomocą samego Telnet, wykonaj następujące polecenie:

```plaintext
telnet <adres_IP> <port>
```

Po nawiązaniu połączenia z serwerem Telnet, zostanie wyświetlony baner, który zawiera informacje o wersji oprogramowania i systemie operacyjnym.

#### **Telnet Banner Grabbing za pomocą nc**

Aby uzyskać baner Telnet za pomocą narzędzia `nc`, wykonaj następujące polecenie:

```plaintext
nc -vn <adres_IP> <port>
```

Po nawiązaniu połączenia z serwerem Telnet, zostanie wyświetlony baner, który zawiera informacje o wersji oprogramowania i systemie operacyjnym.

#### **Telnet Banner Grabbing za pomocą nmap**

Aby uzyskać baner Telnet za pomocą narzędzia `nmap`, wykonaj następujące polecenie:

```plaintext
nmap -p <port> --script telnet-ntlm-info <adres_IP>
```

Nmap wykorzystuje skrypt `telnet-ntlm-info` do pobrania banera Telnet, który zawiera informacje o wersji oprogramowania i systemie operacyjnym.
```bash
nc -vn <IP> 23
```
Wszystkie interesujące operacje wyliczania można wykonać za pomocą **nmap**:
```bash
nmap -n -sV -Pn --script "*telnet* and safe" -p 23 <IP>
```
Skrypt `telnet-ntlm-info.nse` pobierze informacje NTLM (wersje systemu Windows).

Z [RFC dotyczącego telnetu](https://datatracker.ietf.org/doc/html/rfc854): W protokole TELNET istnieje wiele "**opcji**", które będą sankcjonowane i mogą być używane z użyciem struktury "**DO, DON'T, WILL, WON'T**", aby umożliwić użytkownikowi i serwerowi uzgodnienie użycia bardziej skomplikowanego (lub po prostu innego) zestawu konwencji dla ich połączenia TELNET. Takie opcje mogą obejmować zmianę zestawu znaków, trybu echo, itp.

**Wiem, że możliwe jest wyliczenie tych opcji, ale nie wiem jak, więc daj mi znać, jeśli wiesz jak.**

### [Atak brutalnej siły](../generic-methodologies-and-resources/brute-force.md#telnet)

## Plik konfiguracyjny
```bash
/etc/inetd.conf
/etc/xinetd.d/telnet
/etc/xinetd.d/stelnet
```
## Automatyczne polecenia HackTricks

Below are some useful commands that can be used during a Telnet session to automate certain tasks:

Poniżej znajdują się przydatne polecenia, które można używać podczas sesji Telnet w celu zautomatyzowania określonych zadań:

### Enable Command Echo

### Włączanie echo polecenia

By default, Telnet does not display the commands you type. To enable command echo, use the following command:

Domyślnie Telnet nie wyświetla wpisywanych poleceń. Aby włączyć echo polecenia, użyj poniższego polecenia:

```plaintext
toggle localchars
```

### Automate Login

### Automatyczne logowanie

To automate the login process, you can use the following command:

Aby zautomatyzować proces logowania, można użyć poniższego polecenia:

```plaintext
username <username> password <password>
```

Replace `<username>` with the desired username and `<password>` with the corresponding password.

Zastąp `<username>` odpowiednią nazwą użytkownika i `<password>` odpowiadającym hasłem.

### Automate Commands Execution

### Automatyczne wykonywanie poleceń

To automate the execution of commands after logging in, you can use the following command:

Aby zautomatyzować wykonywanie poleceń po zalogowaniu, można użyć poniższego polecenia:

```plaintext
echo "<command>" | telnet <host> <port>
```

Replace `<command>` with the desired command, `<host>` with the target host IP address, and `<port>` with the target port number.

Zastąp `<command>` odpowiednim poleceniem, `<host>` adresem IP docelowego hosta i `<port>` numerem portu docelowego.

### Automate File Transfer

### Automatyczny transfer plików

To automate the transfer of files using Telnet, you can use the following command:

Aby zautomatyzować transfer plików za pomocą Telnet, można użyć poniższego polecenia:

```plaintext
echo -e "put <local_file> <remote_file>\nquit" | telnet <host> <port>
```

Replace `<local_file>` with the path to the local file you want to transfer and `<remote_file>` with the desired name for the remote file.

Zastąp `<local_file>` ścieżką do lokalnego pliku, który chcesz przesłać, a `<remote_file>` odpowiednią nazwą dla pliku zdalnego.

### Automate Telnet Session

### Automatyczna sesja Telnet

To automate the entire Telnet session, including login and command execution, you can use the following command:

Aby zautomatyzować całą sesję Telnet, włącznie z logowaniem i wykonywaniem poleceń, można użyć poniższego polecenia:

```plaintext
(echo "username <username>"; echo "password <password>"; echo "<command>"; echo "quit") | telnet <host> <port>
```

Replace `<username>` with the desired username, `<password>` with the corresponding password, `<command>` with the desired command, `<host>` with the target host IP address, and `<port>` with the target port number.

Zastąp `<username>` odpowiednią nazwą użytkownika, `<password>` odpowiadającym hasłem, `<command>` odpowiednim poleceniem, `<host>` adresem IP docelowego hosta i `<port>` numerem portu docelowego.
```
Protocol_Name: Telnet    #Protocol Abbreviation if there is one.
Port_Number:  23     #Comma separated if there is more than one.
Protocol_Description: Telnet          #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for t=Telnet
Note: |
wireshark to hear creds being passed
tcp.port == 23 and ip.addr != myip

https://book.hacktricks.xyz/pentesting/pentesting-telnet

Entry_2:
Name: Banner Grab
Description: Grab Telnet Banner
Command: nc -vn {IP} 23

Entry_3:
Name: Nmap with scripts
Description: Run nmap scripts for telnet
Command: nmap -n -sV -Pn --script "*telnet*" -p 23 {IP}

Entry_4:
Name: consoleless mfs enumeration
Description: Telnet enumeration without the need to run msfconsole
Note: sourced from https://github.com/carlospolop/legion
Command: msfconsole -q -x 'use auxiliary/scanner/telnet/telnet_version; set RHOSTS {IP}; set RPORT 23; run; exit' && msfconsole -q -x 'use auxiliary/scanner/telnet/brocade_enable_login; set RHOSTS {IP}; set RPORT 23; run; exit' && msfconsole -q -x 'use auxiliary/scanner/telnet/telnet_encrypt_overflow; set RHOSTS {IP}; set RPORT 23; run; exit' && msfconsole -q -x 'use auxiliary/scanner/telnet/telnet_ruggedcom; set RHOSTS {IP}; set RPORT 23; run; exit'

```
<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

**Natychmiastowo dostępne narzędzia do oceny podatności i testowania penetracyjnego**. Uruchom pełny test penetracyjny z dowolnego miejsca za pomocą ponad 20 narzędzi i funkcji, które obejmują rozpoznanie i raportowanie. Nie zastępujemy testerów penetracyjnych - opracowujemy niestandardowe narzędzia, moduły wykrywania i eksploatacji, aby umożliwić im zagłębianie się, zdobywanie powłok i dobrą zabawę.

{% embed url="https://pentest-tools.com/" %}

<details>

<summary><strong>Dowiedz się, jak hakować AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć **reklamę swojej firmy w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** nas na **Twitterze** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) **i** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **repozytoriów GitHub.**

</details>
