# 22 - Pentesting SSH/SFTP

<details>

<summary><strong>Lernen Sie AWS-Hacking von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks bewerben m√∂chten** oder **HackTricks als PDF herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **GitHub-Repositories** senden.

</details>

<img src="../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" data-size="original">

Wenn Sie sich f√ºr eine **Hacking-Karriere** interessieren und das Unhackbare hacken m√∂chten - **wir stellen ein!** (_flie√üendes Polnisch in Wort und Schrift erforderlich_).

{% embed url="https://www.stmcyber.com/careers" %}

## Grundlegende Informationen

**SSH (Secure Shell oder Secure Socket Shell)** ist ein Netzwerkprotokoll, das eine sichere Verbindung zu einem Computer √ºber ein unsicheres Netzwerk erm√∂glicht. Es ist unerl√§sslich, um die Vertraulichkeit und Integrit√§t von Daten beim Zugriff auf entfernte Systeme zu gew√§hrleisten.

**Standardport:** 22
```
22/tcp open  ssh     syn-ack
```
**SSH-Server:**

* [openSSH](http://www.openssh.org) - OpenBSD SSH, wird in BSD, Linux-Distributionen und Windows seit Windows 10 mitgeliefert.
* [Dropbear](https://matt.ucc.asn.au/dropbear/dropbear.html) - SSH-Implementierung f√ºr Umgebungen mit geringem Speicher- und Prozessorressourcen, wird in OpenWrt mitgeliefert.
* [PuTTY](https://www.chiark.greenend.org.uk/\~sgtatham/putty/) - SSH-Implementierung f√ºr Windows, der Client wird h√§ufig verwendet, aber die Verwendung des Servers ist seltener.
* [CopSSH](https://www.itefix.net/copssh) - Implementierung von OpenSSH f√ºr Windows.

**SSH-Bibliotheken (Serverseitige Implementierung):**

* [libssh](https://www.libssh.org) - Mehrplattform-C-Bibliothek, die das SSHv2-Protokoll implementiert, mit Bindungen in [Python](https://github.com/ParallelSSH/ssh-python), [Perl](https://github.com/garnier-quentin/perl-libssh/) und [R](https://github.com/ropensci/ssh); wird von KDE f√ºr sftp und von GitHub f√ºr die git SSH-Infrastruktur verwendet.
* [wolfSSH](https://www.wolfssl.com/products/wolfssh/) - SSHv2-Serverbibliothek, die in ANSI C geschrieben ist und f√ºr eingebettete, RTOS- und ressourcenbeschr√§nkte Umgebungen entwickelt wurde.
* [Apache MINA SSHD](https://mina.apache.org/sshd-project/index.html) - Die Apache SSHD Java-Bibliothek basiert auf Apache MINA.
* [paramiko](https://github.com/paramiko/paramiko) - Python SSHv2-Protokollbibliothek.

## Enumeration

### Banner Grabbing
```bash
nc -vn <IP> 22
```
### Automatisierte ssh-audit

ssh-audit ist ein Tool zur √úberpr√ºfung der Konfiguration von SSH-Servern und -Clients.

[https://github.com/jtesta/ssh-audit](https://github.com/jtesta/ssh-audit) ist ein aktualisierter Fork von [https://github.com/arthepsy/ssh-audit/](https://github.com/arthepsy/ssh-audit/)

**Funktionen:**

* Unterst√ºtzung f√ºr SSH1- und SSH2-Protokollserver;
* Analyse der SSH-Client-Konfiguration;
* Erfassen des Banners, Erkennen von Ger√§ten oder Software und Betriebssystem, Erkennen von Kompression;
* Erfassen von Schl√ºsselaustausch-, Hostschl√ºssel-, Verschl√ºsselungs- und Nachrichtenauthentifizierungsalgorithmen;
* Ausgabe von Algorithmusinformationen (verf√ºgbar seit, entfernt/deaktiviert, unsicher/schwach/veraltet, usw.);
* Ausgabe von Algorithmusempfehlungen (hinzuf√ºgen oder entfernen basierend auf erkannter Softwareversion);
* Ausgabe von Sicherheitsinformationen (bezogene Probleme, zugewiesene CVE-Liste, usw.);
* Analyse der SSH-Versionenkompatibilit√§t basierend auf Algorithmusinformationen;
* Historische Informationen von OpenSSH, Dropbear SSH und libssh;
* L√§uft auf Linux und Windows;
* Keine Abh√§ngigkeiten
```bash
usage: ssh-audit.py [-1246pbcnjvlt] <host>

-1,  --ssh1             force ssh version 1 only
-2,  --ssh2             force ssh version 2 only
-4,  --ipv4             enable IPv4 (order of precedence)
-6,  --ipv6             enable IPv6 (order of precedence)
-p,  --port=<port>      port to connect
-b,  --batch            batch output
-c,  --client-audit     starts a server on port 2222 to audit client
software config (use -p to change port;
use -t to change timeout)
-n,  --no-colors        disable colors
-j,  --json             JSON output
-v,  --verbose          verbose output
-l,  --level=<level>    minimum output level (info|warn|fail)
-t,  --timeout=<secs>   timeout (in seconds) for connection and reading
(default: 5)
$ python3 ssh-audit <IP>
```
### √ñffentlicher SSH-Schl√ºssel des Servers

```plaintext
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDZz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz6Xz
```bash
ssh-keyscan -t rsa <IP> -p <PORT>
```
### Schwache Verschl√ºsselungsalgorithmen

Dies wird standardm√§√üig von **nmap** entdeckt. Sie k√∂nnen jedoch auch **sslscan** oder **sslyze** verwenden.

### Nmap-Skripte
```bash
nmap -p22 <ip> -sC # Send default nmap scripts for SSH
nmap -p22 <ip> -sV # Retrieve version
nmap -p22 <ip> --script ssh2-enum-algos # Retrieve supported algorythms
nmap -p22 <ip> --script ssh-hostkey --script-args ssh_hostkey=full # Retrieve weak keys
nmap -p22 <ip> --script ssh-auth-methods --script-args="ssh.user=root" # Check authentication methods
```
### Shodan

* `ssh`

## Brute-Force von Benutzernamen, Passw√∂rtern und privaten Schl√ºsseln

### Benutzernamen-Enumeration

In einigen Versionen von OpenSSH k√∂nnen Sie einen Timing-Angriff durchf√ºhren, um Benutzer zu enumerieren. Sie k√∂nnen ein Metasploit-Modul verwenden, um dies auszunutzen:
```
msf> use scanner/ssh/ssh_enumusers
```
### [Brute Force](../generic-methodologies-and-resources/brute-force.md#ssh)

Einige g√§ngige SSH-Anmeldeinformationen finden Sie [hier](https://github.com/danielmiessler/SecLists/blob/master/Passwords/Default-Credentials/ssh-betterdefaultpasslist.txt) und [hier](https://github.com/danielmiessler/SecLists/blob/master/Passwords/Common-Credentials/top-20-common-SSH-passwords.txt) und unten.

### Brute Force mit privatem Schl√ºssel

Wenn Sie einige SSH-Private Keys kennen, die verwendet werden k√∂nnten... probieren wir es aus. Sie k√∂nnen das Nmap-Skript verwenden:
```
https://nmap.org/nsedoc/scripts/ssh-publickey-acceptance.html
```
Oder das MSF-Hilfsmodul:
```
msf> use scanner/ssh/ssh_identify_pubkeys
```
Oder verwenden Sie `ssh-keybrute.py` (native Python3, leichtgewichtig und mit aktivierten veralteten Algorithmen): [snowdroppe/ssh-keybrute](https://github.com/snowdroppe/ssh-keybrute).

#### Bekannte schlechte Schl√ºssel k√∂nnen hier gefunden werden:

{% embed url="https://github.com/rapid7/ssh-badkeys/tree/master/authorized" %}

#### Schwache SSH-Schl√ºssel / vorhersagbare PRNG von Debian

Einige Systeme weisen bekannte Schwachstellen im Zufallsseed auf, der zur Generierung kryptografischer Materialien verwendet wird. Dies kann zu einem dramatisch reduzierten Schl√ºsselraum f√ºhren, der bruteforce-angegriffen werden kann. Vorgefertigte Schl√ºssels√§tze, die auf von schwachem PRNG betroffenen Debian-Systemen generiert wurden, sind hier verf√ºgbar: [g0tmi1k/debian-ssh](https://github.com/g0tmi1k/debian-ssh).

Sie sollten hier nach g√ºltigen Schl√ºsseln f√ºr die Zielsysteme suchen.

### Kerberos

**crackmapexec** kann das Protokoll `ssh` verwenden und die Option `--kerberos` verwenden, um sich √ºber Kerberos zu authentifizieren.\
Weitere Informationen finden Sie unter `crackmapexec ssh --help`.

## Standardanmeldeinformationen

| **Hersteller** | **Benutzernamen**                                                                                           | **Passw√∂rter**                                                                                                                                                                                             |
| -------------- | ----------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| APC            | apc, device                                                                                                 | apc                                                                                                                                                                                                        |
| Brocade        | admin                                                                                                       | admin123, password, brocade, fibranne                                                                                                                                                                      |
| Cisco          | admin, cisco, enable, hsa, pix, pnadmin, ripeop, root, shelladmin                                           | admin, Admin123, default, password, secur4u, cisco, Cisco, \_Cisco, cisco123, C1sco!23, Cisco123, Cisco1234, TANDBERG, change\_it, 12345, ipics, pnadmin, diamond, hsadb, c, cc, attack, blender, changeme |
| Citrix         | root, nsroot, nsmaint, vdiadmin, kvm, cli, admin                                                            | C1trix321, nsroot, nsmaint, kaviza, kaviza123, freebsd, public, rootadmin, wanscaler                                                                                                                       |
| D-Link         | admin, user                                                                                                 | private, admin, user                                                                                                                                                                                       |
| Dell           | root, user1, admin, vkernel, cli                                                                            | calvin, 123456, password, vkernel, Stor@ge!, admin                                                                                                                                                         |
| EMC            | admin, root, sysadmin                                                                                       | EMCPMAdm7n, Password#1, Password123#, sysadmin, changeme, emc                                                                                                                                              |
| HP/3Com        | admin, root, vcx, app, spvar, manage, hpsupport, opc\_op                                                    | admin, password, hpinvent, iMC123, pvadmin, passw0rd, besgroup, vcx, nice, access, config, 3V@rpar, 3V#rpar, procurve, badg3r5, OpC\_op, !manage, !admin                                                   |
| Huawei         | admin, root                                                                                                 | 123456, admin, root, Admin123, Admin@storage, Huawei12#$, HwDec@01, hwosta2.0, HuaWei123, fsp200@HW, huawei123                                                                                             |
| IBM            | USERID, admin, manager, mqm, db2inst1, db2fenc1, dausr1, db2admin, iadmin, system, device, ufmcli, customer | PASSW0RD, passw0rd, admin, password, Passw8rd, iadmin, apc, 123456, cust0mer                                                                                                                               |
| Juniper        | netscreen                                                                                                   | netscreen                                                                                                                                                                                                  |
| NetApp         | admin                                                                                                       | netapp123                                                                                                                                                                                                  |
| Oracle         | root, oracle, oravis, applvis, ilom-admin, ilom-operator, nm2user                                           | changeme, ilom-admin, ilom-operator, welcome1, oracle                                                                                                                                                      |
| VMware         | vi-admin, root, hqadmin, vmware, admin                                                                      | vmware, vmw@re, hqadmin, default                                                                                                                                                                           |

## SSH-MitM

Wenn Sie sich im lokalen Netzwerk des Opfers befinden, das sich √ºber Benutzernamen und Passwort mit dem SSH-Server verbinden wird, k√∂nnen Sie versuchen, **einen MitM-Angriff durchzuf√ºhren, um diese Anmeldeinformationen zu stehlen**:

**Angriffspfad:**

* **Traffic-Umleitung:** Der Angreifer **leitet** den Datenverkehr des Opfers auf seine Maschine um und f√§ngt so den Verbindungsversuch zum SSH-Server ab.
* **Abfangen und Protokollieren:** Die Maschine des Angreifers fungiert als **Proxy** und **erfasst** die Anmeldeinformationen des Benutzers, indem sie vorgibt, der legitime SSH-Server zu sein.
* **Befehlsausf√ºhrung und Weiterleitung:** Schlie√ülich **protokolliert der Server des Angreifers die Anmeldeinformationen des Benutzers**, **leitet die Befehle** an den echten SSH-Server weiter, **f√ºhrt** sie aus und **sendet die Ergebnisse zur√ºck** an den Benutzer, sodass der Vorgang nahtlos und legitim erscheint.

[**SSH MITM**](https://github.com/jtesta/ssh-mitm) tut genau das, was oben beschrieben ist.

Um den eigentlichen MitM-Angriff durchzuf√ºhren, k√∂nnen Sie Techniken wie ARP-Spoofing, DNS-Spoofing oder andere, die in den [**Network Spoofing Attacks**](../generic-methodologies-and-resources/pentesting-network/#spoofing) beschrieben sind, verwenden.

## SSH-Snake

Wenn Sie ein Netzwerk durchqueren m√∂chten, indem Sie auf Systemen entdeckte SSH-Private Keys verwenden und f√ºr neue Hosts auf jedem System jeden privaten Schl√ºssel verwenden, ben√∂tigen Sie [**SSH-Snake**](https://github.com/MegaManSec/SSH-Snake).

SSH-Snake f√ºhrt automatisch und rekursiv folgende Aufgaben aus:

1. Auf dem aktuellen System werden alle SSH-Private Keys gefunden,
2. Auf dem aktuellen System werden alle Hosts oder Ziele (Benutzer@Host) gefunden, f√ºr die die privaten Schl√ºssel akzeptiert werden k√∂nnen,
3. Es wird versucht, eine SSH-Verbindung zu allen Zielen unter Verwendung aller entdeckten privaten Schl√ºssel herzustellen,
4. Wenn eine Verbindung zu einem Ziel erfolgreich hergestellt wird, werden die Schritte #1 - #4 auf dem verbundenen System wiederholt.

Es ist vollst√§ndig selbstreplizierend und selbstverbreitend - und vollst√§ndig dateilos.

## Konfigurationsfehler

### Root-Anmeldung

Es ist √ºblich, dass SSH-Server standardm√§√üig die Anmeldung des Root-Benutzers zulassen, was ein erhebliches Sicherheitsrisiko darstellt. Das **Deaktivieren der Root-Anmeldung** ist ein wesentlicher Schritt zur Sicherung des Servers. Unbefugter Zugriff mit administrativen Rechten und Brute-Force-Angriffe k√∂nnen durch diese √Ñnderung abgemildert werden.

**So deaktivieren Sie die Root-Anmeldung in OpenSSH:**

1. **Bearbeiten Sie die SSH-Konfigurationsdatei** mit: `sudoedit /etc/ssh/sshd_config`
2. **√Ñndern Sie die Einstellung** von `#PermitRootLogin yes` zu **`PermitRootLogin no`**.
3. **Laden Sie die Konfiguration neu** mit: `sudo systemctl daemon-reload`
4. **Starten Sie den SSH-Server neu**, um die √Ñnderungen anzuwenden: `sudo systemctl restart sshd`

### SFTP-Brute-Force

* [**SFTP-Brute-Force**](../generic-methodologies-and-resources/brute-force.md#sftp)

### SFTP-Befehlsausf√ºhrung

Es kommt h√§ufig vor, dass bei SFTP-Konfigurationen ein Fehler auftritt, bei dem Administratoren m√∂chten, dass Benutzer Dateien austauschen k√∂nnen, ohne den Remote-Shell-Zugriff zu aktivieren. Trotz der Einstellung von Benutzern mit nicht-interaktiven Shells (z. B. `/usr/bin/nologin`) und der Beschr√§nkung auf ein bestimmtes Verzeichnis bleibt eine Sicherheitsl√ºcke bestehen. **Benutzer k√∂nnen diese Einschr√§nkungen umgehen**, indem sie unmittelbar nach dem Anmelden die Ausf√ºhrung eines Befehls (wie `/bin/bash`) anfordern, bevor ihr zugewiesener nicht-interaktiver Shell √ºbernommen wird. Dadurch wird die unbefugte Befehlsausf√ºhrung erm√∂glicht, was die beabsichtigten Sicherheitsma√ünahmen untergr√§bt.

[Beispiel von hier](https://community.turgensec.com/ssh-hacking-guide/):
```bash
ssh -v noraj@192.168.1.94 id
...
Password:
debug1: Authentication succeeded (keyboard-interactive).
Authenticated to 192.168.1.94 ([192.168.1.94]:22).
debug1: channel 0: new [client-session]
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
debug1: pledge: network
debug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0
debug1: Sending command: id
debug1: client_input_channel_req: channel 0 rtype exit-status reply 0
debug1: client_input_channel_req: channel 0 rtype eow@openssh.com reply 0
uid=1000(noraj) gid=100(users) groups=100(users)
debug1: channel 0: free: client-session, nchannels 1
Transferred: sent 2412, received 2480 bytes, in 0.1 seconds
Bytes per second: sent 43133.4, received 44349.5
debug1: Exit status 0

$ ssh noraj@192.168.1.94 /bin/bash
```
Hier ist ein Beispiel f√ºr eine sichere SFTP-Konfiguration (`/etc/ssh/sshd_config` - openSSH) f√ºr den Benutzer `noraj`:

```plaintext
# SFTP configuration for noraj user
Subsystem sftp internal-sftp

Match User noraj
    ChrootDirectory /home/noraj
    ForceCommand internal-sftp
    AllowTcpForwarding no
    X11Forwarding no
    PasswordAuthentication yes
    PermitTunnel no
    PermitTTY no
    PermitUserEnvironment no
    AllowAgentForwarding no
    AllowStreamLocalForwarding no
    ClientAliveInterval 300
    ClientAliveCountMax 2
    UsePAM yes
```

Diese Konfiguration erm√∂glicht es dem Benutzer `noraj`, SFTP sicher zu verwenden. Der Benutzer wird in das Verzeichnis `/home/noraj` eingeschr√§nkt und kann nur den internen SFTP-Befehl ausf√ºhren. Die Weiterleitung von TCP- und X11-Verbindungen ist deaktiviert. Die Authentifizierung per Passwort ist erlaubt, w√§hrend Tunneling, TTY und Benutzerumgebungen nicht erlaubt sind. Die Weiterleitung von Agenten und lokalen Streams ist ebenfalls deaktiviert. Die Verbindung wird alle 300 Sekunden aufrechterhalten und nach 2 fehlgeschlagenen Versuchen getrennt. PAM wird verwendet, um die Authentifizierung zu erm√∂glichen.
```
Match User noraj
ChrootDirectory %h
ForceCommand internal-sftp
AllowTcpForwarding no
PermitTunnel no
X11Forwarding no
PermitTTY no
```
Diese Konfiguration erlaubt nur SFTP: Sie deaktiviert den Shell-Zugriff, indem sie den Startbefehl erzwingt und den TTY-Zugriff deaktiviert, aber auch jegliche Art von Portweiterleitung oder Tunneling deaktiviert.

### SFTP Tunneling

Wenn Sie Zugriff auf einen SFTP-Server haben, k√∂nnen Sie Ihren Datenverkehr auch √ºber diesen tunneln, zum Beispiel mit Hilfe der g√§ngigen Portweiterleitung:
```bash
sudo ssh -L <local_port>:<remote_host>:<remote_port> -N -f <username>@<ip_compromised>
```
### SFTP Symlink

Der **sftp** hat den Befehl "**symlink**". Daher k√∂nnen Sie, wenn Sie **Schreibrechte** in einem Ordner haben, **Symlinks** von **anderen Ordnern/Dateien** erstellen. Da Sie wahrscheinlich in einem Chroot gefangen sind, ist dies f√ºr Sie **nicht besonders n√ºtzlich**, aber wenn Sie auf den erstellten **Symlink** von einem **no-chroot** **Service** aus zugreifen k√∂nnen (zum Beispiel, wenn Sie auf den Symlink √ºber das Web zugreifen k√∂nnen), k√∂nnten Sie die √ºber den Web ge√∂ffneten **symlinked Dateien** √∂ffnen.

Um beispielsweise einen **Symlink** von einer neuen Datei **"**_**froot**_**" auf "**_**/**_**"** zu erstellen:
```bash
sftp> symlink / froot
```
Wenn Sie √ºber das Web auf die Datei "_froot_" zugreifen k√∂nnen, k√∂nnen Sie das Stammverzeichnis ("/") des Systems auflisten.

### Authentifizierungsmethoden

In hochsicheren Umgebungen ist es √ºblich, nur die Authentifizierung per Schl√ºssel oder Zwei-Faktor-Authentifizierung zu aktivieren, anstatt die einfache Passwort-basierte Authentifizierung zu verwenden. Oft werden jedoch die st√§rkeren Authentifizierungsmethoden aktiviert, ohne die schw√§cheren zu deaktivieren. Ein h√§ufiger Fall ist die Aktivierung von `publickey` in der openSSH-Konfiguration und die Festlegung als Standardmethode, ohne `password` zu deaktivieren. Durch die Verwendung des Verbose-Modus des SSH-Clients kann ein Angreifer sehen, dass eine schw√§chere Methode aktiviert ist:
```bash
ssh -v 192.168.1.94
OpenSSH_8.1p1, OpenSSL 1.1.1d  10 Sep 2019
...
debug1: Authentications that can continue: publickey,password,keyboard-interactive
```
Wenn zum Beispiel eine Begrenzung f√ºr Authentifizierungsfehler festgelegt ist und Sie niemals die M√∂glichkeit haben, die Passwortmethode zu erreichen, k√∂nnen Sie die Option `PreferredAuthentications` verwenden, um diese Methode zu erzwingen.
```bash
ssh -v 192.168.1.94 -o PreferredAuthentications=password
...
debug1: Next authentication method: password
```
√úberpr√ºfen Sie die Konfiguration des SSH-Servers, um sicherzustellen, dass nur erwartete Methoden autorisiert sind. Die Verwendung des Verbose-Modus auf dem Client kann helfen, die Effektivit√§t der Konfiguration zu sehen.

### Konfigurationsdateien
```bash
ssh_config
sshd_config
authorized_keys
ssh_known_hosts
known_hosts
id_rsa
```
## Fuzzing

* [https://packetstormsecurity.com/files/download/71252/sshfuzz.txt](https://packetstormsecurity.com/files/download/71252/sshfuzz.txt)
* [https://www.rapid7.com/db/modules/auxiliary/fuzzers/ssh/ssh\_version\_2](https://www.rapid7.com/db/modules/auxiliary/fuzzers/ssh/ssh\_version\_2)

## Referenzen

* Sie k√∂nnen interessante Anleitungen zum Absichern von SSH unter [https://www.ssh-audit.com/hardening\_guides.html](https://www.ssh-audit.com/hardening\_guides.html) finden.
* [https://community.turgensec.com/ssh-hacking-guide](https://community.turgensec.com/ssh-hacking-guide)

<img src="../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" data-size="original">

Wenn Sie an einer **Hackerkarriere** interessiert sind und das Unhackbare hacken m√∂chten - **wir stellen ein!** (_flie√üendes Polnisch in Wort und Schrift erforderlich_).

{% embed url="https://www.stmcyber.com/careers" %}

## HackTricks Automatische Befehle
```
Protocol_Name: SSH
Port_Number: 22
Protocol_Description: Secure Shell Hardening

Entry_1:
Name: Hydra Brute Force
Description: Need Username
Command: hydra -v -V -u -l {Username} -P {Big_Passwordlist} -t 1 {IP} ssh

Entry_2:
Name: consolesless mfs enumeration
Description: SSH enumeration without the need to run msfconsole
Note: sourced from https://github.com/carlospolop/legion
Command: msfconsole -q -x 'use auxiliary/scanner/ssh/ssh_version; set RHOSTS {IP}; set RPORT 22; run; exit' && msfconsole -q -x 'use scanner/ssh/ssh_enumusers; set RHOSTS {IP}; set RPORT 22; run; exit' && msfconsole -q -x 'use auxiliary/scanner/ssh/juniper_backdoor; set RHOSTS {IP}; set RPORT 22; run; exit'

```
<details>

<summary><strong>Lernen Sie AWS-Hacking von Null auf Held mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks bewerben m√∂chten** oder **HackTricks als PDF herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositories senden.

</details>
