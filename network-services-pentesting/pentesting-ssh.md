# 22 - Testowanie penetracyjne SSH/SFTP

<details>

<summary><strong>Nauka hakowania AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Je≈õli chcesz zobaczyƒá swojƒÖ **firmƒô reklamowanƒÖ w HackTricks** lub **pobraƒá HackTricks w formacie PDF**, sprawd≈∫ [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* ZdobƒÖd≈∫ [**oficjalne gad≈ºety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinƒô PEASS**](https://opensea.io/collection/the-peass-family), naszƒÖ kolekcjƒô ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Do≈ÇƒÖcz do** üí¨ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **≈õled≈∫** nas na **Twitterze** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siƒô swoimi sztuczkami hakowania, przesy≈ÇajƒÖc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

<figure><img src="../.gitbook/assets/i3.png" alt=""><figcaption></figcaption></figure>

**Wskaz√≥wka dotyczƒÖca nagrody za b≈ÇƒÖd**: **Zarejestruj siƒô** na platformie **Intigriti**, premium **platformie nagr√≥d za b≈Çƒôdy stworzonej przez haker√≥w, dla haker√≥w**! Do≈ÇƒÖcz do nas na [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) ju≈º dzi≈õ i zacznij zarabiaƒá nagrody a≈º do **$100,000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

## Podstawowe informacje

**SSH (Secure Shell lub Secure Socket Shell)** to protok√≥≈Ç sieciowy umo≈ºliwiajƒÖcy bezpieczne po≈ÇƒÖczenie z komputerem przez niezabezpieczonƒÖ sieƒá. Jest niezbƒôdny do zachowania poufno≈õci i integralno≈õci danych podczas dostƒôpu do system√≥w zdalnych.

**Domy≈õlny port:** 22
```
22/tcp open  ssh     syn-ack
```
**Serwery SSH:**

* [openSSH](http://www.openssh.org) ‚Äì OpenBSD SSH, dostarczany w dystrybucjach BSD, Linuxa i Windows od wersji Windows 10
* [Dropbear](https://matt.ucc.asn.au/dropbear/dropbear.html) ‚Äì Implementacja SSH dla ≈õrodowisk o niskiej pamiƒôci i zasobach procesora, dostarczana w OpenWrt
* [PuTTY](https://www.chiark.greenend.org.uk/\~sgtatham/putty/) ‚Äì Implementacja SSH dla Windows, klient jest powszechnie u≈ºywany, ale u≈ºycie serwera jest rzadsze
* [CopSSH](https://www.itefix.net/copssh) ‚Äì Implementacja OpenSSH dla Windows

**Biblioteki SSH (implementujƒÖce po stronie serwera):**

* [libssh](https://www.libssh.org) ‚Äì Wieloplatformowa biblioteka w jƒôzyku C implementujƒÖca protok√≥≈Ç SSHv2 z wiƒÖzaniami w [Pythonie](https://github.com/ParallelSSH/ssh-python), [Perlu](https://github.com/garnier-quentin/perl-libssh/) i [R](https://github.com/ropensci/ssh); jest u≈ºywana przez KDE do sftp i przez GitHub do infrastruktury git SSH
* [wolfSSH](https://www.wolfssl.com/products/wolfssh/) ‚Äì Biblioteka serwera SSHv2 napisana w ANSI C, przeznaczona dla wbudowanych, system√≥w operacyjnych czasu rzeczywistego i ≈õrodowisk o ograniczonych zasobach
* [Apache MINA SSHD](https://mina.apache.org/sshd-project/index.html) ‚Äì Biblioteka SSHD w jƒôzyku Java Apache oparta na Apache MINA
* [paramiko](https://github.com/paramiko/paramiko) ‚Äì Biblioteka protoko≈Çu SSHv2 w Pythonie

## Wyliczanie

### Pobieranie banera
```bash
nc -vn <IP> 22
```
### Zautomatyzowany audyt ssh

ssh-audit to narzƒôdzie do audytu konfiguracji serwera i klienta ssh.

[https://github.com/jtesta/ssh-audit](https://github.com/jtesta/ssh-audit) to zaktualizowana wersja od [https://github.com/arthepsy/ssh-audit/](https://github.com/arthepsy/ssh-audit/)

**Funkcje:**

* Obs≈Çuga serwera protoko≈Çu SSH1 i SSH2;
* analiza konfiguracji klienta SSH;
* pobieranie banera, rozpoznawanie urzƒÖdzenia lub oprogramowania oraz systemu operacyjnego, wykrywanie kompresji;
* zbieranie algorytm√≥w wymiany klucza, klucza hosta, szyfrowania i kodu uwierzytelniania wiadomo≈õci;
* wyprowadzanie informacji o algorytmach (dostƒôpne od, usuniƒôte/wy≈ÇƒÖczone, niebezpieczne/s≈Çabe/przestarza≈Çe, itp.);
* wyprowadzanie zalece≈Ñ dotyczƒÖcych algorytm√≥w (dodawanie lub usuwanie na podstawie rozpoznanego numeru wersji oprogramowania);
* wyprowadzanie informacji o bezpiecze≈Ñstwie (powiƒÖzane problemy, przypisana lista CVE, itp.);
* analiza zgodno≈õci wersji SSH na podstawie informacji o algorytmach;
* informacje historyczne z OpenSSH, Dropbear SSH i libssh;
* dzia≈Ça na systemach Linux i Windows;
* brak zale≈ºno≈õci
```bash
usage: ssh-audit.py [-1246pbcnjvlt] <host>

-1,  --ssh1             force ssh version 1 only
-2,  --ssh2             force ssh version 2 only
-4,  --ipv4             enable IPv4 (order of precedence)
-6,  --ipv6             enable IPv6 (order of precedence)
-p,  --port=<port>      port to connect
-b,  --batch            batch output
-c,  --client-audit     starts a server on port 2222 to audit client
software config (use -p to change port;
use -t to change timeout)
-n,  --no-colors        disable colors
-j,  --json             JSON output
-v,  --verbose          verbose output
-l,  --level=<level>    minimum output level (info|warn|fail)
-t,  --timeout=<secs>   timeout (in seconds) for connection and reading
(default: 5)
$ python3 ssh-audit <IP>
```
### Publiczny klucz SSH serwera

[Obejrzyj to w akcji (Asciinema)](https://asciinema.org/a/96ejZKxpbuupTK9j7h8BdClzp)
```bash
ssh-keyscan -t rsa <IP> -p <PORT>
```
### S≈Çabe algorytmy szyfrowania

To jest domy≈õlnie odkrywane przez **nmap**. Ale mo≈ºna tak≈ºe u≈ºyƒá **sslcan** lub **sslyze**.

### Skrypty Nmap
```bash
nmap -p22 <ip> -sC # Send default nmap scripts for SSH
nmap -p22 <ip> -sV # Retrieve version
nmap -p22 <ip> --script ssh2-enum-algos # Retrieve supported algorythms
nmap -p22 <ip> --script ssh-hostkey --script-args ssh_hostkey=full # Retrieve weak keys
nmap -p22 <ip> --script ssh-auth-methods --script-args="ssh.user=root" # Check authentication methods
```
### Shodan

* `ssh`

## Brute force usernames, passwords and private keys

### Wyliczanie nazw u≈ºytkownik√≥w

W niekt√≥rych wersjach OpenSSH mo≈ºna przeprowadziƒá atak czasowy w celu wyliczenia u≈ºytkownik√≥w. Mo≈ºna skorzystaƒá z modu≈Çu metasploit w celu wykorzystania tego:
```
msf> use scanner/ssh/ssh_enumusers
```
### [Atak si≈Çowy](../generic-methodologies-and-resources/brute-force.md#ssh)

Niekt√≥re powszechne dane uwierzytelniajƒÖce ssh [tutaj](https://github.com/danielmiessler/SecLists/blob/master/Passwords/Default-Credentials/ssh-betterdefaultpasslist.txt) i [tutaj](https://github.com/danielmiessler/SecLists/blob/master/Passwords/Common-Credentials/top-20-common-SSH-passwords.txt) oraz poni≈ºej.

### Atak si≈Çowy na klucz prywatny

Je≈õli znasz jakie≈õ klucze prywatne ssh, kt√≥re mogƒÖ byƒá u≈ºyte... spr√≥bujmy tego. Mo≈ºesz u≈ºyƒá skryptu nmap:
```
https://nmap.org/nsedoc/scripts/ssh-publickey-acceptance.html
```
Lub modu≈Ç pomocniczy MSF:
```
msf> use scanner/ssh/ssh_identify_pubkeys
```
### Znane z≈Çe klucze mo≈ºna znale≈∫ƒá tutaj:

{% embed url="https://github.com/rapid7/ssh-badkeys/tree/master/authorized" %}

### S≈Çabe klucze SSH / Przewidywalny generator liczb losowych w Debianie

Niekt√≥re systemy majƒÖ znane wady w ziarnie losowym u≈ºywanym do generowania materia≈Ç√≥w kryptograficznych. Mo≈ºe to skutkowaƒá dramatycznym zmniejszeniem przestrzeni kluczy, kt√≥re mo≈ºna z≈Çamaƒá metodƒÖ bruteforce. Zestawy wstƒôpnie wygenerowanych kluczy wygenerowanych na systemach Debian dotkniƒôtych s≈Çabym PRNG sƒÖ dostƒôpne tutaj: [g0tmi1k/debian-ssh](https://github.com/g0tmi1k/debian-ssh).

Nale≈ºy sprawdziƒá tutaj, aby wyszukaƒá prawid≈Çowe klucze dla maszyny ofiary.

### Kerberos

**crackmapexec** u≈ºywajƒÖc protoko≈Çu `ssh` mo≈ºe u≈ºyƒá opcji `--kerberos` do **uwierzytelniania za pomocƒÖ Kerberosa**.\
Aby uzyskaƒá wiƒôcej informacji, uruchom `crackmapexec ssh --help`.

## Domy≈õlne dane uwierzytelniajƒÖce

| **Producent** | **Nazwy u≈ºytkownik√≥w**                                                                                      | **Has≈Ça**                                                                                                                                                                                                  |
| ------------- | ----------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| APC           | apc, device                                                                                                 | apc                                                                                                                                                                                                        |
| Brocade       | admin                                                                                                       | admin123, password, brocade, fibranne                                                                                                                                                                      |
| Cisco         | admin, cisco, enable, hsa, pix, pnadmin, ripeop, root, shelladmin                                           | admin, Admin123, default, password, secur4u, cisco, Cisco, \_Cisco, cisco123, C1sco!23, Cisco123, Cisco1234, TANDBERG, change\_it, 12345, ipics, pnadmin, diamond, hsadb, c, cc, attack, blender, changeme |
| Citrix        | root, nsroot, nsmaint, vdiadmin, kvm, cli, admin                                                            | C1trix321, nsroot, nsmaint, kaviza, kaviza123, freebsd, public, rootadmin, wanscaler                                                                                                                       |
| D-Link        | admin, user                                                                                                 | private, admin, user                                                                                                                                                                                       |
| Dell          | root, user1, admin, vkernel, cli                                                                            | calvin, 123456, password, vkernel, Stor@ge!, admin                                                                                                                                                         |
| EMC           | admin, root, sysadmin                                                                                       | EMCPMAdm7n, Password#1, Password123#, sysadmin, changeme, emc                                                                                                                                              |
| HP/3Com       | admin, root, vcx, app, spvar, manage, hpsupport, opc\_op                                                    | admin, password, hpinvent, iMC123, pvadmin, passw0rd, besgroup, vcx, nice, access, config, 3V@rpar, 3V#rpar, procurve, badg3r5, OpC\_op, !manage, !admin                                                   |
| Huawei        | admin, root                                                                                                 | 123456, admin, root, Admin123, Admin@storage, Huawei12#$, HwDec@01, hwosta2.0, HuaWei123, fsp200@HW, huawei123                                                                                             |
| IBM           | USERID, admin, manager, mqm, db2inst1, db2fenc1, dausr1, db2admin, iadmin, system, device, ufmcli, customer | PASSW0RD, passw0rd, admin, password, Passw8rd, iadmin, apc, 123456, cust0mer                                                                                                                               |
| Juniper       | netscreen                                                                                                   | netscreen                                                                                                                                                                                                  |
| NetApp        | admin                                                                                                       | netapp123                                                                                                                                                                                                  |
| Oracle        | root, oracle, oravis, applvis, ilom-admin, ilom-operator, nm2user                                           | changeme, ilom-admin, ilom-operator, welcome1, oracle                                                                                                                                                      |
| VMware        | vi-admin, root, hqadmin, vmware, admin                                                                      | vmware, vmw@re, hqadmin, default                                                                                                                                                                           |

## SSH-MitM

Je≈õli znajdujesz siƒô w sieci lokalnej ofiary, kt√≥ra ma po≈ÇƒÖczyƒá siƒô z serwerem SSH za pomocƒÖ nazwy u≈ºytkownika i has≈Ça, mo≈ºesz spr√≥bowaƒá **przeprowadziƒá atak typu MitM, aby ukra≈õƒá te dane uwierzytelniajƒÖce:**

**≈öcie≈ºka ataku:**

* **Przekierowanie ruchu:** AtakujƒÖcy **przekierowuje** ruch ofiary na swojƒÖ maszynƒô, efektywnie **przechwytujƒÖc** pr√≥bƒô po≈ÇƒÖczenia z serwerem SSH.
* **Przechwycenie i logowanie:** Maszyna atakujƒÖcego dzia≈Ça jako **proxy**, **przechwytujƒÖc** dane logowania u≈ºytkownika, udajƒÖc prawid≈Çowy serwer SSH.
* **Wykonanie polece≈Ñ i przekazywanie:** W ko≈Ñcu serwer atakujƒÖcego **loguje dane uwierzytelniajƒÖce u≈ºytkownika**, **przekazuje polecenia** do rzeczywistego serwera SSH, **wykonuje** je i **przesy≈Ça wyniki** z powrotem do u≈ºytkownika, sprawiajƒÖc, ≈ºe proces wydaje siƒô byƒá p≈Çynny i legalny.

[**SSH MITM**](https://github.com/jtesta/ssh-mitm) robi dok≈Çadnie to, co opisano powy≈ºej.

Aby przechwyciƒá i przeprowadziƒá rzeczywisty atak typu MitM, mo≈ºna u≈ºyƒá technik takich jak ARP spoofing, DNS spoofing lub inne opisane w [**Atakach na podszywanie siƒô w sieci**](../generic-methodologies-and-resources/pentesting-network/#spoofing).

## SSH-Snake

Je≈õli chcesz przemierzaƒá sieƒá, korzystajƒÖc z odkrytych prywatnych kluczy SSH na systemach, wykorzystujƒÖc ka≈ºdy klucz prywatny na ka≈ºdym systemie do nowych host√≥w, to [**SSH-Snake**](https://github.com/MegaManSec/SSH-Snake) jest tym, czego potrzebujesz.

SSH-Snake automatycznie i rekurencyjnie wykonuje nastƒôpujƒÖce zadania:

1. Na bie≈ºƒÖcym systemie znajduje wszystkie klucze prywatne SSH,
2. Na bie≈ºƒÖcym systemie znajduje wszystkie hosty lub miejsca docelowe (u≈ºytkownik@host), kt√≥re mogƒÖ zaakceptowaƒá klucze prywatne,
3. Pr√≥buje po≈ÇƒÖczyƒá siƒô przez SSH ze wszystkimi miejscami docelowymi, u≈ºywajƒÖc wszystkich odkrytych kluczy prywatnych,
4. Je≈õli po≈ÇƒÖczenie z miejscem docelowym powiedzie siƒô, powtarza kroki #1 - #4 na po≈ÇƒÖczonym systemie.

Jest to w pe≈Çni samoreplikujƒÖce siƒô i samopropagujƒÖce -- oraz ca≈Çkowicie bezplikowe.

## B≈Çƒôdy konfiguracji SSH

### Logowanie jako root

Czƒôsto serwery SSH pozwalajƒÖ na logowanie u≈ºytkownika root domy≈õlnie, co stanowi znaczne ryzyko bezpiecze≈Ñstwa. **Wy≈ÇƒÖczenie logowania jako root** jest kluczowym krokiem w zabezpieczaniu serwera. Nieuprawniony dostƒôp z uprawnieniami administracyjnymi oraz ataki bruteforce mo≈ºna zminimalizowaƒá, dokonujƒÖc tej zmiany.

**Aby wy≈ÇƒÖczyƒá logowanie jako root w OpenSSH:**

1. **Edytuj plik konfiguracyjny SSH** za pomocƒÖ: `sudoedit /etc/ssh/sshd_config`
2. **Zmie≈Ñ ustawienie** z `#PermitRootLogin yes` na **`PermitRootLogin no`**.
3. **Prze≈Çaduj konfiguracjƒô** za pomocƒÖ: `sudo systemctl daemon-reload`
4. **Uruchom ponownie serwer SSH**, aby zastosowaƒá zmiany: `sudo systemctl restart sshd`

### Atak bruteforce SFTP

* [**Atak bruteforce SFTP**](../generic-methodologies-and-resources/brute-force.md#sftp)

### Wykonanie polece≈Ñ SFTP

Czƒôsto wystƒôpuje powszechne przeoczenie w konfiguracjach SFTP, gdzie administratorzy zamierzajƒÖ, aby u≈ºytkownicy wymieniali pliki bez w≈ÇƒÖczania zdalnego dostƒôpu do pow≈Çoki. Pomimo ustawienia u≈ºytkownik√≥w z nieaktywnymi pow≈Çokami (np. `/usr/bin/nologin`) i ograniczenia ich do okre≈õlonego katalogu, pozostaje luka w zabezpieczeniach. **U≈ºytkownicy mogƒÖ ominƒÖƒá te ograniczenia**, ≈ºƒÖdajƒÖc wykonania polecenia (np. `/bin/bash`) natychmiast po zalogowaniu, zanim przejmie kontrolƒô ich przeznaczona nieaktywna pow≈Çoka. Pozwala to na nieautoryzowane wykonanie polece≈Ñ, podwa≈ºajƒÖc zamierzone ≈õrodki bezpiecze≈Ñstwa.

[Przyk≈Çad stƒÖd](https://community.turgensec.com/ssh-hacking-guide/):
```bash
ssh -v noraj@192.168.1.94 id
...
Password:
debug1: Authentication succeeded (keyboard-interactive).
Authenticated to 192.168.1.94 ([192.168.1.94]:22).
debug1: channel 0: new [client-session]
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
debug1: pledge: network
debug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0
debug1: Sending command: id
debug1: client_input_channel_req: channel 0 rtype exit-status reply 0
debug1: client_input_channel_req: channel 0 rtype eow@openssh.com reply 0
uid=1000(noraj) gid=100(users) groups=100(users)
debug1: channel 0: free: client-session, nchannels 1
Transferred: sent 2412, received 2480 bytes, in 0.1 seconds
Bytes per second: sent 43133.4, received 44349.5
debug1: Exit status 0

$ ssh noraj@192.168.1.94 /bin/bash
```
Oto przyk≈Çad zabezpieczonej konfiguracji SFTP (`/etc/ssh/sshd_config` - openSSH) dla u≈ºytkownika `noraj`:
```
Match User noraj
ChrootDirectory %h
ForceCommand internal-sftp
AllowTcpForwarding no
PermitTunnel no
X11Forwarding no
PermitTTY no
```
To konfiguracja pozwoli tylko na SFTP: wy≈ÇƒÖczenie dostƒôpu do pow≈Çoki poprzez wymuszenie uruchomienia polecenia start i wy≈ÇƒÖczenie dostƒôpu do TTY, ale tak≈ºe wy≈ÇƒÖczenie wszystkich rodzaj√≥w przekierowywania port√≥w lub tunelowania.

### Tunelowanie SFTP

Je≈õli masz dostƒôp do serwera SFTP, mo≈ºesz r√≥wnie≈º przekierowaƒá sw√≥j ruch przez niego, na przyk≈Çad korzystajƒÖc z powszechnego przekierowywania port√≥w:
```bash
sudo ssh -L <local_port>:<remote_host>:<remote_port> -N -f <username>@<ip_compromised>
```
### SFTP Symlink

**SFTP** posiada polecenie "**symlink**". Dlatego, je≈õli masz **prawa do zapisu** w pewnym folderze, mo≈ºesz tworzyƒá **symlinki** do **innych folder√≥w/plik√≥w**. Poniewa≈º prawdopodobnie jeste≈õ **uwiƒôziony** w chroocie, to **nie bƒôdzie to specjalnie przydatne** dla Ciebie, ale je≈õli mo≈ºesz **uzyskaƒá dostƒôp** do utworzonego **symlinku** z **us≈Çugi bez chroota** (na przyk≈Çad, je≈õli mo≈ºesz uzyskaƒá dostƒôp do symlinku z sieci), mo≈ºesz **otworzyƒá pliki poprzez sieƒá**.

Na przyk≈Çad, aby utworzyƒá **symlink** od nowego pliku **"**_**froot**_**" do "**_**/**_**"**:
```bash
sftp> symlink / froot
```
Je≈õli mo≈ºesz uzyskaƒá dostƒôp do pliku "_froot_" za po≈õrednictwem sieci, bƒôdziesz m√≥g≈Ç wy≈õwietliƒá zawarto≈õƒá folderu root ("/") systemu.

### Metody uwierzytelniania

W ≈õrodowiskach o wysokim poziomie bezpiecze≈Ñstwa powszechnƒÖ praktykƒÖ jest w≈ÇƒÖczanie tylko uwierzytelniania opartego na kluczu lub uwierzytelniania dwuetapowego, a nie opartego na prostym ha≈õle. Jednak czƒôsto silniejsze metody uwierzytelniania sƒÖ w≈ÇƒÖczane bez wy≈ÇƒÖczania s≈Çabszych. Czƒôstym przypadkiem jest w≈ÇƒÖczenie `publickey` w konfiguracji openSSH i ustawienie go jako domy≈õlnƒÖ metodƒô, ale nie wy≈ÇƒÖczenie `password`. Dlatego, korzystajƒÖc z trybu verbose klienta SSH, atakujƒÖcy mo≈ºe zobaczyƒá, ≈ºe w≈ÇƒÖczona jest s≈Çabsza metoda:
```bash
ssh -v 192.168.1.94
OpenSSH_8.1p1, OpenSSL 1.1.1d  10 Sep 2019
...
debug1: Authentications that can continue: publickey,password,keyboard-interactive
```
Na przyk≈Çad, je≈õli ustawiono limit niepowodze≈Ñ uwierzytelniania i nigdy nie masz szansy dotrzeƒá do metody has≈Ça, mo≈ºesz u≈ºyƒá opcji `PreferredAuthentications`, aby wymusiƒá u≈ºycie tej metody.
```bash
ssh -v 192.168.1.94 -o PreferredAuthentications=password
...
debug1: Next authentication method: password
```
### Pliki konfiguracyjne
```bash
ssh_config
sshd_config
authorized_keys
ssh_known_hosts
known_hosts
id_rsa
```
## Fuzzing

* [https://packetstormsecurity.com/files/download/71252/sshfuzz.txt](https://packetstormsecurity.com/files/download/71252/sshfuzz.txt)
* [https://www.rapid7.com/db/modules/auxiliary/fuzzers/ssh/ssh\_version\_2](https://www.rapid7.com/db/modules/auxiliary/fuzzers/ssh/ssh\_version\_2)

## References

* Mo≈ºesz znale≈∫ƒá interesujƒÖce przewodniki dotyczƒÖce zabezpieczania SSH pod adresem [https://www.ssh-audit.com/hardening\_guides.html](https://www.ssh-audit.com/hardening\_guides.html)
* [https://community.turgensec.com/ssh-hacking-guide](https://community.turgensec.com/ssh-hacking-guide)

<figure><img src="../.gitbook/assets/i3.png" alt=""><figcaption></figcaption></figure>

**Wskaz√≥wka dotyczƒÖca nagrody za b≈ÇƒÖd**: **Zarejestruj siƒô** na platformie **Intigriti**, premium platformie **nagr√≥d za b≈Çƒôdy stworzonej przez haker√≥w, dla haker√≥w**! Do≈ÇƒÖcz do nas na [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) ju≈º dzi≈õ i zacznij zarabiaƒá nagrody a≈º do **$100,000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

## HackTricks Automatic Commands
```
Protocol_Name: SSH
Port_Number: 22
Protocol_Description: Secure Shell Hardening

Entry_1:
Name: Hydra Brute Force
Description: Need Username
Command: hydra -v -V -u -l {Username} -P {Big_Passwordlist} -t 1 {IP} ssh

Entry_2:
Name: consolesless mfs enumeration
Description: SSH enumeration without the need to run msfconsole
Note: sourced from https://github.com/carlospolop/legion
Command: msfconsole -q -x 'use auxiliary/scanner/ssh/ssh_version; set RHOSTS {IP}; set RPORT 22; run; exit' && msfconsole -q -x 'use scanner/ssh/ssh_enumusers; set RHOSTS {IP}; set RPORT 22; run; exit' && msfconsole -q -x 'use auxiliary/scanner/ssh/juniper_backdoor; set RHOSTS {IP}; set RPORT 22; run; exit'

```
<details>

<summary><strong>Naucz siƒô hakowaƒá AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Je≈õli chcesz zobaczyƒá swojƒÖ **firmƒô reklamowanƒÖ w HackTricks** lub **pobraƒá HackTricks w formacie PDF** sprawd≈∫ [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Kup [**oficjalne gad≈ºety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinƒô PEASS**](https://opensea.io/collection/the-peass-family), naszƒÖ kolekcjƒô ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Do≈ÇƒÖcz do** üí¨ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **≈õled≈∫** nas na **Twitterze** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siƒô swoimi sztuczkami hakerskimi, przesy≈ÇajƒÖc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
