# macOS SIP

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—ñ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub**.

</details>

## **–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è**

**–ó–∞—Ö–∏—Å—Ç —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏ (SIP)** –≤ macOS - —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –Ω–∞–≤—ñ—Ç—å –Ω–∞–π–±—ñ–ª—å—à –ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º —Ä–æ–±–∏—Ç–∏ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω—ñ –∑–º—ñ–Ω–∏ –≤ –∫–ª—é—á–æ–≤–∏—Ö —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –ø–∞–ø–∫–∞—Ö. –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –≤—ñ–¥—ñ–≥—Ä–∞—î –≤–∞–∂–ª–∏–≤—É —Ä–æ–ª—å —É –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏, –æ–±–º–µ–∂—É—é—á–∏ –¥—ñ—ó, —Ç–∞–∫—ñ —è–∫ –¥–æ–¥–∞–≤–∞–Ω–Ω—è, –∑–º—ñ–Ω–∞ –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ —É –∑–∞—Ö–∏—â–µ–Ω–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö. –û—Å–Ω–æ–≤–Ω—ñ –ø–∞–ø–∫–∏, —è–∫—ñ –∑–∞—Ö–∏—â–µ–Ω—ñ SIP, –≤–∫–ª—é—á–∞—é—Ç—å:

* **/System**
* **/bin**
* **/sbin**
* **/usr**

–ü—Ä–∞–≤–∏–ª–∞, —è–∫—ñ –≤–∏–∑–Ω–∞—á–∞—é—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É SIP, –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–æ–º—É —Ñ–∞–π–ª—ñ, —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–æ–º—É –∑–∞ –∞–¥—Ä–µ—Å–æ—é **`/System/Library/Sandbox/rootless.conf`**. –£ —Ü—å–æ–º—É —Ñ–∞–π–ª—ñ —à–ª—è—Ö–∏, —è–∫—ñ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ –∞—Å—Ç–µ—Ä–∏—Å–∫–∞ (*), –≤–≤–∞–∂–∞—é—Ç—å—Å—è –≤–∏–Ω—è—Ç–∫–∞–º–∏ –≤—ñ–¥ –≤ —ñ–Ω—à–∏—Ö —Å—É–≤–æ—Ä–∏—Ö –æ–±–º–µ–∂–µ–Ω—å SIP.

–†–æ–∑–≥–ª—è–Ω—å—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥:
```javascript
/usr
* /usr/libexec/cups
* /usr/local
* /usr/share/man
```
–¶–µ–π —É—Ä–∏–≤–æ–∫ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î, —â–æ, —Ö–æ—á–∞ SIP –∑–∞–≥–∞–ª–æ–º –∑–∞—Ö–∏—â–∞—î –∫–∞—Ç–∞–ª–æ–≥ **`/usr`**, —ñ—Å–Ω—É—é—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥–∏ (`/usr/libexec/cups`, `/usr/local` —Ç–∞ `/usr/share/man`), –¥–µ –∑–º—ñ–Ω–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è, —è–∫ —Ü–µ –≤–∫–∞–∑–∞–Ω–æ –∑—ñ—Ä–æ—á–∫–æ—é (*) –ø–µ—Ä–µ–¥ —ó—Ö–Ω—ñ–º–∏ —à–ª—è—Ö–∞–º–∏.

–©–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –∑–∞—Ö–∏—â–µ–Ω–∏–π SIP –∫–∞—Ç–∞–ª–æ–≥ –∞–±–æ —Ñ–∞–π–ª, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É **`ls -lOd`**, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤ **`restricted`** –∞–±–æ **`sunlnk`**. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:
```bash
ls -lOd /usr/libexec/cups
drwxr-xr-x  11 root  wheel  sunlnk 352 May 13 00:29 /usr/libexec/cups
```
–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø—Ä–∞–ø–æ—Ä–µ—Ü—å **`sunlnk`** –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ, —â–æ —Å–∞–º –∫–∞—Ç–∞–ª–æ–≥ `/usr/libexec/cups` **–Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∏–π**, —Ö–æ—á–∞ —Ñ–∞–π–ª–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω—å–æ–≥–æ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ, –∑–º—ñ–Ω–µ–Ω—ñ –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω—ñ.

–ó —ñ–Ω—à–æ–≥–æ –±–æ–∫—É:
```bash
ls -lOd /usr/libexec
drwxr-xr-x  338 root  wheel  restricted 10816 May 13 00:29 /usr/libexec
```
–¢—É—Ç **`restricted`** –ø—Ä–∞–ø–æ—Ä–µ—Ü—å –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ, —â–æ –∫–∞—Ç–∞–ª–æ–≥ `/usr/libexec` –∑–∞—Ö–∏—â–µ–Ω–∏–π SIP. –£ SIP-–∑–∞—Ö–∏—â–µ–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ —Ñ–∞–π–ª–∏ –Ω–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ, –∑–º—ñ–Ω–µ–Ω—ñ –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω—ñ.

–ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, —è–∫—â–æ —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç —Ä–æ–∑—à–∏—Ä–µ–Ω–æ–≥–æ **`com.apple.rootless`**, —Ü–µ–π —Ñ–∞–π–ª —Ç–∞–∫–æ–∂ –±—É–¥–µ **–∑–∞—Ö–∏—â–µ–Ω–∏–π SIP**.

**SIP —Ç–∞–∫–æ–∂ –æ–±–º–µ–∂—É—î —ñ–Ω—à—ñ –¥—ñ—ó root**, —Ç–∞–∫—ñ —è–∫:

* –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–µ–Ω–∞–¥—ñ–π–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å —è–¥—Ä–∞
* –û—Ç—Ä–∏–º–∞–Ω–Ω—è task-–ø–æ—Ä—Ç—ñ–≤ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—ñ–≤, –ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö Apple
* –ó–º—ñ–Ω–∞ –∑–º—ñ–Ω–Ω–∏—Ö NVRAM
* –î–æ–∑–≤—ñ–ª –Ω–∞ —è–¥–µ—Ä–Ω–∏–π –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

–û–ø—Ü—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –∑–º—ñ–Ω–Ω—ñ–π nvram —è–∫ –±—ñ—Ç–æ–≤–∏–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å (`csr-active-config` –Ω–∞ Intel —Ç–∞ `lp-sip0` –∑—á–∏—Ç—É—î—Ç—å—Å—è –∑ Device Tree –¥–ª—è ARM). –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –ø—Ä–∞–ø–æ—Ä—Ü—ñ —É –≤–∏—Ö—ñ–¥–Ω–æ–º—É –∫–æ–¥—ñ XNU —É `csr.sh`:

<figure><img src="../../../.gitbook/assets/image (720).png" alt=""><figcaption></figcaption></figure>

### –°—Ç–∞—Ç—É—Å SIP

–í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π SIP –Ω–∞ –≤–∞—à—ñ–π —Å–∏—Å—Ç–µ–º—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏:
```bash
csrutil status
```
–Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–º–∫–Ω—É—Ç–∏ SIP, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–º–ø'—é—Ç–µ—Ä —É —Ä–µ–∂–∏–º—ñ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è (–Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ Command+R –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É), –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ–Ω–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É:
```bash
csrutil disable
```
–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –∑–∞–ª–∏—à–∏—Ç–∏ SIP —É–≤—ñ–º–∫–Ω–µ–Ω–∏–º, –∞–ª–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è, –≤–∏ –º–æ–∂–µ—Ç–µ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
```bash
csrutil enable --without debug
```
### –Ü–Ω—à—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

- **–ó–∞–±–æ—Ä–æ–Ω—è—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–µ–ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å —è–¥—Ä–∞** (kexts), –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –≤–∑–∞—î–º–æ–¥—ñ—é –ª–∏—à–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å –∑ —è–¥—Ä–æ–º —Å–∏—Å—Ç–µ–º–∏.
- **–ó–∞–ø–æ–±—ñ–≥–∞—î –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—é** –ø—Ä–æ—Ü–µ—Å—ñ–≤ —Å–∏—Å—Ç–µ–º–∏ macOS, –∑–∞—Ö–∏—â–∞—é—á–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏ –≤—ñ–¥ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.
- **–ó–∞–±–æ—Ä–æ–Ω—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤** —Ç–∏–ø—É dtrace –¥–ª—è —ñ–Ω—Å–ø–µ–∫—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—ñ–≤ —Å–∏—Å—Ç–µ–º–∏, –¥–æ–¥–∞—Ç–∫–æ–≤–æ –∑–∞—Ö–∏—â–∞—é—á–∏ —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏.

**[–î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é SIP —É —Ü—å–æ–º—É –≤–∏—Å—Ç—É–ø—ñ](https://www.slideshare.net/i0n1c/syscan360-stefan-esser-os-x-el-capitan-sinking-the-ship).**

## –û–±—Ö—ñ–¥ SIP

–û–±—Ö—ñ–¥ SIP –¥–æ–∑–≤–æ–ª—è—î –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫—É:

- **–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**: –ß–∏—Ç–∞—Ç–∏ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Ç–∞–∫—ñ —è–∫ –ø–æ—à—Ç–∞, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ —ñ—Å—Ç–æ—Ä—ñ—è Safari –∑ —É—Å—ñ—Ö –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
- **–û–±—Ö—ñ–¥ TCC**: –ü—Ä—è–º–µ –≤—Ç—Ä—É—á–∞–Ω–Ω—è –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö TCC (Transparency, Consent, and Control), —â–æ–± –Ω–∞–¥–∞—Ç–∏ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤–µ–±–∫–∞–º–µ—Ä–∏, –º—ñ–∫—Ä–æ—Ñ–æ–Ω—É —Ç–∞ —ñ–Ω—à–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤.
- **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–π–Ω–æ—Å—Ç—ñ**: –†–æ–∑–º—ñ—â–µ–Ω–Ω—è —à–∫—ñ–¥–ª–∏–≤–æ–≥–æ –ü–ó –≤ –∑–∞—Ö–∏—â–µ–Ω–∏—Ö –≤—ñ–¥ SIP –º—ñ—Å—Ü—è—Ö, –∑—Ä–æ–±–ª—è—é—á–∏ –π–æ–≥–æ —Å—Ç—ñ–π–∫–∏–º –¥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è, –Ω–∞–≤—ñ—Ç—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ root. –¶–µ —Ç–∞–∫–æ–∂ –≤–∫–ª—é—á–∞—î –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—É –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—Ç—Ä—É—á–∞–Ω–Ω—è —É —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–¥–∞–ª–µ–Ω–Ω—è —à–∫—ñ–¥–ª–∏–≤–æ–≥–æ –ü–ó (MRT).
- **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω—å —è–¥—Ä–∞**: –•–æ—á–∞ —ñ—Å–Ω—É—é—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞—Ö–æ–¥–∏ –±–µ–∑–ø–µ–∫–∏, –æ–±—Ö—ñ–¥ SIP —Å–ø—Ä–æ—â—É—î –ø—Ä–æ—Ü–µ—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–µ–ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å —è–¥—Ä–∞.

### –ü–∞–∫–µ—Ç–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä—ñ–≤

**–ü–∞–∫–µ—Ç–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä—ñ–≤, –ø—ñ–¥–ø–∏—Å–∞–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–æ–º Apple**, –º–æ–∂—É—Ç—å –æ–±—ñ–π—Ç–∏ –π–æ–≥–æ –∑–∞—Ö–∏—Å—Ç. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –Ω–∞–≤—ñ—Ç—å –ø–∞–∫–µ—Ç–∏, –ø—ñ–¥–ø–∏—Å–∞–Ω—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º–∏, –±—É–¥—É—Ç—å –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ, —è–∫—â–æ –≤–æ–Ω–∏ –Ω–∞–º–∞–≥–∞—Ç–∏–º—É—Ç—å—Å—è –∑–º—ñ–Ω–∏—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ –≤—ñ–¥ SIP –∫–∞—Ç–∞–ª–æ–≥–∏.

### –í—ñ–¥—Å—É—Ç–Ω—ñ–π —Ñ–∞–π–ª SIP

–û–¥–Ω–∏–º –∑ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –∫–∞–Ω–∞–ª—ñ–≤ –¥–ª—è –æ–±—Ö–æ–¥—É —î —Ç–µ, —â–æ —è–∫—â–æ —Ñ–∞–π–ª –≤–∫–∞–∑–∞–Ω–∏–π —É **`rootless.conf`**, –∞–ª–µ –Ω–∞—Ä–∞–∑—ñ –Ω–µ —ñ—Å–Ω—É—î, –π–æ–≥–æ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏. –®–∫—ñ–¥–ª–∏–≤–µ –ü–ó –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ –¥–ª—è **—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–π–Ω–æ—Å—Ç—ñ** –≤ —Å–∏—Å—Ç–µ–º—ñ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–ª–æ–≤–º–∏—Å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª .plist –≤ `/System/Library/LaunchDaemons`, —è–∫—â–æ –≤—ñ–Ω –≤–∫–∞–∑–∞–Ω–∏–π —É `rootless.conf`, –∞–ª–µ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π.

### com.apple.rootless.install.heritable

{% hint style="danger" %}
–ü—Ä–∞–≤–æ **`com.apple.rootless.install.heritable`** –¥–æ–∑–≤–æ–ª—è—î –æ–±—ñ–π—Ç–∏ SIP
{% endhint %}

#### Shrootless

[**–î–æ—Å–ª—ñ–¥–Ω–∏–∫–∏ –∑ —Ü—å–æ–≥–æ –¥–æ–ø–∏—Å—É –≤ –±–ª–æ–∑—ñ**](https://www.microsoft.com/en-us/security/blog/2021/10/28/microsoft-finds-new-macos-vulnerability-shrootless-that-could-bypass-system-integrity-protection/) –≤–∏—è–≤–∏–ª–∏ —É—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –≤ –º–µ—Ö–∞–Ω—ñ–∑–º—ñ –ó–∞—Ö–∏—Å—Ç—É –¶—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –°–∏—Å—Ç–µ–º–∏ (SIP) macOS, —è–∫—É –Ω–∞–∑–≤–∞–ª–∏ —É—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—é 'Shrootless'. –¶—è —É—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–æ—Å—É—î—Ç—å—Å—è –¥–µ–º–æ–Ω–∞ **`system_installd`**, —è–∫–∏–π –º–∞—î –ø—Ä–∞–≤–æ **`com.apple.rootless.install.heritable`**, —â–æ –¥–æ–∑–≤–æ–ª—è—î –±—É–¥—å-—è–∫–æ–º—É –∑ –π–æ–≥–æ –¥–æ—á—ñ—Ä–Ω—ñ—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ –æ–±—ñ–π—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ SIP.

–î–µ–º–æ–Ω **`system_installd`** –±—É–¥–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –ø–∞–∫–µ—Ç–∏, —è–∫—ñ –ø—ñ–¥–ø–∏—Å–∞–Ω—ñ **Apple**.

–î–æ—Å–ª—ñ–¥–Ω–∏–∫–∏ –≤–∏—è–≤–∏–ª–∏, —â–æ –ø—ñ–¥ —á–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç–∞, –ø—ñ–¥–ø–∏—Å–∞–Ω–æ–≥–æ Apple (.pkg —Ñ–∞–π–ª), **`system_installd`** **–≤–∏–∫–æ–Ω—É—î** –±—É–¥—å-—è–∫—ñ **–ø—ñ—Å–ª—è-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è** —Å–∫—Ä–∏–ø—Ç–∏, –≤–∫–ª—é—á–µ–Ω—ñ –≤ –ø–∞–∫–µ—Ç. –¶—ñ —Å–∫—Ä–∏–ø—Ç–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –æ–±–æ–ª–æ–Ω–∫–æ—é **`zsh`**, —è–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ **–≤–∏–∫–æ–Ω—É—î** –∫–æ–º–∞–Ω–¥–∏ –∑ —Ñ–∞–π–ª—É **`/etc/zshenv`**, —è–∫—â–æ –≤—ñ–Ω —ñ—Å–Ω—É—î, –Ω–∞–≤—ñ—Ç—å —É –Ω–µ—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ. –¶—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É –º–æ–∂–Ω–∞ –±—É–ª–æ –± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞–º–∏: —Å—Ç–≤–æ—Ä–∏–≤—à–∏ —à–∫—ñ–¥–ª–∏–≤–∏–π —Ñ–∞–π–ª `/etc/zshenv` —ñ —á–µ–∫–∞—é—á–∏, –∫–æ–ª–∏ **`system_installd` –≤–∏–∫–ª–∏—á–µ `zsh`**, –≤–æ–Ω–∏ –º–æ–≥–ª–∏ –± –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó.

–ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, –±—É–ª–æ –≤–∏—è–≤–ª–µ–Ω–æ, —â–æ **`/etc/zshenv` –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π –º–µ—Ç–æ–¥ –∞—Ç–∞–∫–∏**, –Ω–µ –ª–∏—à–µ –¥–ª—è –æ–±—Ö–æ–¥—É SIP. –£ –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —î —Ñ–∞–π–ª `~/.zshenv`, —è–∫–∏–π –ø—Ä–∞—Ü—é—î —Ç–∞–∫ —Å–∞–º–æ, —è–∫ `/etc/zshenv`, –∞–ª–µ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –ø—Ä–∞–≤ root. –¶–µ–π —Ñ–∞–π–ª –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫ –º–µ—Ö–∞–Ω—ñ–∑–º –ø–æ—Å—Ç—ñ–π–Ω–æ—Å—Ç—ñ, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É `zsh`, –∞–±–æ —è–∫ –º–µ—Ö–∞–Ω—ñ–∑–º –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤. –Ø–∫—â–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—ñ–¥–≤–∏—â—É—î –ø—Ä–∏–≤—ñ–ª–µ—ó –¥–æ root –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `sudo -s` –∞–±–æ `sudo <–∫–æ–º–∞–Ω–¥–∞>`, —Ñ–∞–π–ª `~/.zshenv` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π, –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—ñ–¥–≤–∏—â—É—é—á–∏ –¥–æ root.

#### [**CVE-2022-22583**](https://perception-point.io/blog/technical-analysis-cve-2022-22583/)

–£ [**CVE-2022-22583**](https://perception-point.io/blog/technical-analysis-cve-2022-22583/) –±—É–ª–æ –≤–∏—è–≤–ª–µ–Ω–æ, —â–æ —Ç–æ–π —Å–∞–º–∏–π –ø—Ä–æ—Ü–µ—Å **`system_installd`** –≤—Å–µ —â–µ –º–æ–∂–Ω–∞ –±—É–ª–æ –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –ø–æ–º—ñ—â–∞–≤ **–ø—ñ—Å–ª—è-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç –≤—Å–µ—Ä–µ–¥–∏–Ω—É –≤–∏–ø–∞–¥–∫–æ–≤–æ –Ω–∞–∑–≤–∞–Ω–æ—ó –ø–∞–ø–∫–∏, –∑–∞—Ö–∏—â–µ–Ω–æ—ó SIP –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `/tmp`**. –°–ø—Ä–∞–≤–∞ –≤ —Ç–æ–º—É, —â–æ **`/tmp` —Å–∞–º –ø–æ —Å–æ–±—ñ –Ω–µ –∑–∞—Ö–∏—â–µ–Ω–∏–π –≤—ñ–¥ SIP**, —Ç–æ–º—É –±—É–ª–æ –º–æ–∂–ª–∏–≤–æ **–ø—ñ–¥–∫–ª—é—á–∏—Ç–∏** –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –æ–±—Ä–∞–∑ –¥–æ –Ω—å–æ–≥–æ, –ø—ñ—Å–ª—è —á–æ–≥–æ **—ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä** –ø–æ–º—ñ—â–∞–≤ –±–∏ —Ç—É–¥–∏ **–ø—ñ—Å–ª—è-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç**, **–≤—ñ–¥–º–æ–Ω—Ç—É–≤–∞–≤** –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –æ–±—Ä–∞–∑, **–ø–µ—Ä–µ—Å—Ç–≤–æ—Ä–∏–≤** –≤—Å—ñ **–ø–∞–ø–∫–∏** —ñ **–¥–æ–¥–∞–≤** **—Å–∫—Ä–∏–ø—Ç –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è** –∑ **–≤–∏–∫–æ–Ω–∞–≤—á–∏–º –∫–æ–¥–æ–º**.

#### [fsck\_cs utility](https://www.theregister.com/2016/03/30/apple\_os\_x\_rootless/)

–ë—É–ª–∞ –≤–∏—è–≤–ª–µ–Ω–∞ —É—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å, –¥–µ **`fsck_cs`** –±—É–ª–æ –∑–≤–µ–¥–µ–Ω–æ –≤ –æ–º–∞–Ω—É, —â–æ –ø—Ä–∏–∑–≤–µ–ª–æ –¥–æ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–æ–≥–æ —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ –π–æ–≥–æ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å —Å–ª—ñ–¥—É–≤–∞—Ç–∏ **—Å–∏–º–≤–æ–ª—ñ—á–Ω–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º**. –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ —Å—Ç–≤–æ—Ä–∏–ª–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ _`/dev/diskX`_ –Ω–∞ —Ñ–∞–π–ª `/System/Library/Extensions/AppleKextExcludeList.kext/Contents/Info.plist`. –í–∏–∫–æ–Ω–∞–Ω–Ω—è **`fsck_cs`** –Ω–∞ _`/dev/diskX`_ –ø—Ä–∏–∑–≤–µ–ª–æ –¥–æ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è `Info.plist`. –¶–µ–π —Ñ–∞–π–ª –º–∞—î –≤–∞–∂–ª–∏–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è SIP –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ (–ó–∞—Ö–∏—Å—Ç –¶—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –°–∏—Å—Ç–µ–º–∏), —è–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω—å —è–¥—Ä–∞. –ü—ñ—Å–ª—è –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å SIP –∫–µ—Ä—É–≤–∞—Ç–∏ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è–º–∏ —è–¥—Ä–∞ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è.

–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—ñ—î—ó —É—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ:
```bash
ln -s /System/Library/Extensions/AppleKextExcludeList.kext/Contents/Info.plist /dev/diskX
fsck_cs /dev/diskX 1>&-
touch /Library/Extensions/
reboot
```
–ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è —Ü—ñ—î—ó –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ –º–∞—î —Å–µ—Ä–π–æ–∑–Ω—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏. –§–∞–π–ª `Info.plist`, —è–∫–∏–π –∑–∞–∑–≤–∏—á–∞–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ–∑–≤–æ–ª–∞–º–∏ –¥–ª—è —è–¥–µ—Ä–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å, —Å—Ç–∞—î –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º. –¶–µ –æ–∑–Ω–∞—á–∞—î –Ω–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —á–æ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É –ø–µ–≤–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å, —Ç–∞–∫–∏—Ö —è–∫ `AppleHWAccess.kext`. –í–Ω–∞—Å–ª—ñ–¥–æ–∫ —Ü—å–æ–≥–æ, –∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è–º –º–µ—Ö–∞–Ω—ñ–∑–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é SIP, —Ü–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ, –Ω–∞–¥–∞—é—á–∏ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø–∏—Å –≤ –û–ó–ü —Å–∏—Å—Ç–µ–º–∏.


#### [–ú–æ–Ω—Ç—É–≤–∞–Ω–Ω—è –Ω–∞–¥ SIP –∑–∞—Ö–∏—â–µ–Ω–∏–º–∏ –ø–∞–ø–∫–∞–º–∏](https://www.slideshare.net/i0n1c/syscan360-stefan-esser-os-x-el-capitan-sinking-the-ship)

–ë—É–ª–æ –º–æ–∂–ª–∏–≤–æ –∑–º–æ–Ω—Ç—É–≤–∞—Ç–∏ –Ω–æ–≤—É —Ñ–∞–π–ª–æ–≤—É —Å–∏—Å—Ç–µ–º—É –Ω–∞–¥ **SIP –∑–∞—Ö–∏—â–µ–Ω–∏–º–∏ –ø–∞–ø–∫–∞–º–∏ –¥–ª—è –æ–±—Ö—ñ–¥ –∑–∞—Ö–∏—Å—Ç—É**.
```bash
mkdir evil
# Add contento to the folder
hdiutil create -srcfolder evil evil.dmg
hdiutil attach -mountpoint /System/Library/Snadbox/ evil.dmg
```
#### [–û–±—Ö—ñ–¥ –∞–ø–≥—Ä–µ–π–¥–µ—Ä–∞ (2016)](https://objective-see.org/blog/blog\_0x14.html)

–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ –≤–±—É–¥–æ–≤–∞–Ω–æ–≥–æ –æ–±—Ä–∞–∑—É –¥–∏—Å–∫–∞ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∞ –≤ `Install macOS Sierra.app` –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –û–°, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —É—Ç–∏–ª—ñ—Ç—É `bless`. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–∏–≥–ª—è–¥–∞—î –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:
```bash
/usr/sbin/bless -setBoot -folder /Volumes/Macintosh HD/macOS Install Data -bootefi /Volumes/Macintosh HD/macOS Install Data/boot.efi -options config="\macOS Install Data\com.apple.Boot" -label macOS Installer
```
–ë–µ–∑–ø–µ–∫—É —Ü—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É –º–æ–∂–Ω–∞ –ø—ñ–¥–¥–∞–≤–∞—Ç–∏ —Ä–∏–∑–∏–∫—É, —è–∫—â–æ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑–º—ñ–Ω—é—î –æ–±—Ä–∞–∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (`InstallESD.dmg`) –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º. –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –ø–æ–ª—è–≥–∞—î –≤ –∑–∞–º—ñ–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á–∞ (dyld) –Ω–∞ –∑–ª–æ–≤–º–∏—Å–Ω—É –≤–µ—Ä—Å—ñ—é (`libBaseIA.dylib`). –¶—è –∑–∞–º—ñ–Ω–∞ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—á–∞.

–ö–æ–¥ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞ –æ—Ç—Ä–∏–º—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—ñ–¥ —á–∞—Å –ø—Ä–æ—Ü–µ—Å—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–æ–≤—ñ—Ä—É —Å–∏—Å—Ç–µ–º–∏ –¥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—á–∞. –ê—Ç–∞–∫–∞ –ø—Ä–æ–¥–æ–≤–∂—É—î—Ç—å—Å—è —à–ª—è—Ö–æ–º –∑–º—ñ–Ω–∏ –æ–±—Ä–∞–∑—É `InstallESD.dmg` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É swizzling, –∑–æ–∫—Ä–µ–º–∞ —Å–ø—Ä—è–º–æ–≤—É—é—á–∏ –Ω–∞ –º–µ—Ç–æ–¥ `extractBootBits`. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∑–ª–æ–≤–º–∏—Å–Ω–æ–≥–æ –∫–æ–¥—É –¥–æ –º–æ–º–µ–Ω—Ç—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±—Ä–∞–∑—É –¥–∏—Å–∫–∞.

–ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `InstallESD.dmg` —î `BaseSystem.dmg`, —è–∫–∏–π —Å–ª—É–∂–∏—Ç—å –∫–æ—Ä–µ–Ω–µ–≤–æ—é —Ñ–∞–π–ª–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é –∫–æ–¥—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è. –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –≤ —Ü–µ –¥–æ–∑–≤–æ–ª—è—î –∑–ª–æ–≤–º–∏—Å–Ω–æ–º—É –∫–æ–¥—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –ø—Ä–æ—Ü–µ—Å—ñ, –∑–¥–∞—Ç–Ω–æ–º—É –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ –û–°, –∑–Ω–∞—á–Ω–æ –∑–±—ñ–ª—å—à—É—é—á–∏ –ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—ó —Å–∏—Å—Ç–µ–º–∏.


#### [systemmigrationd (2023)](https://www.youtube.com/watch?v=zxZesAN-TEk)

–£ —Ü—å–æ–º—É –≤–∏—Å—Ç—É–ø—ñ –∑ [**DEF CON 31**](https://www.youtube.com/watch?v=zxZesAN-TEk) –ø–æ–∫–∞–∑–∞–Ω–æ, —è–∫ **`systemmigrationd`** (—è–∫–∏–π –º–æ–∂–µ –æ–±—ñ–π—Ç–∏ SIP) –≤–∏–∫–æ–Ω—É—î **bash** —Ç–∞ **perl** —Å–∫—Ä–∏–ø—Ç, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∑–ª–æ–≤–∂–∏–≤–∞–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ **`BASH_ENV`** —Ç–∞ **`PERL5OPT`**.

### **com.apple.rootless.install**

{% hint style="danger" %}
–ü—Ä–∞–≤–æ **`com.apple.rootless.install`** –¥–æ–∑–≤–æ–ª—è—î –æ–±—ñ–π—Ç–∏ SIP
{% endhint %}

–ü—Ä–∞–≤–æ `com.apple.rootless.install` –≤—ñ–¥–æ–º–µ —è–∫ –æ–±—Ö—ñ–¥ –ó–∞—Ö–∏—Å—Ç—É –¶—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –°–∏—Å—Ç–µ–º–∏ (SIP) –Ω–∞ macOS. –¶–µ –±—É–ª–æ –æ—Å–æ–±–ª–∏–≤–æ –∑–≥–∞–¥–∞–Ω–æ —É –∑–≤'—è–∑–∫—É –∑ [**CVE-2022-26712**](https://jhftss.github.io/CVE-2022-26712-The-POC-For-SIP-Bypass-Is-Even-Tweetable/).

–£ —Ü—å–æ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É —Å–∏—Å—Ç–µ–º–Ω–∞ —Å–ª—É–∂–±–∞ XPC, —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∞ –∑–∞ —à–ª—è—Ö–æ–º `/System/Library/PrivateFrameworks/ShoveService.framework/Versions/A/XPCServices/SystemShoveService.xpc`, –º–∞—î —Ü–µ –ø—Ä–∞–≤–æ. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ø–æ–≤'—è–∑–∞–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—É –æ–±—ñ–π—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è SIP. –ö—Ä—ñ–º —Ç–æ–≥–æ, —Ü—è —Å–ª—É–∂–±–∞ –æ—Å–æ–±–ª–∏–≤–æ –º–∞—î –º–µ—Ç–æ–¥, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–º—ñ—â–∞—Ç–∏ —Ñ–∞–π–ª–∏ –±–µ–∑ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö –∑–∞—Ö–æ–¥—ñ–≤ –±–µ–∑–ø–µ–∫–∏.


## –ó–∞–ø–µ—á–∞—Ç–∞–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –∑–Ω—ñ–º–∫–∏

–ó–∞–ø–µ—á–∞—Ç–∞–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –∑–Ω—ñ–º–∫–∏ - —Ü–µ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫—É Apple –≤–≤–µ–ª–∞ –≤ **macOS Big Sur (macOS 11)** —è–∫ —á–∞—Å—Ç–∏–Ω—É –º–µ—Ö–∞–Ω—ñ–∑–º—É **–ó–∞—Ö–∏—Å—Ç—É –¶—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –°–∏—Å—Ç–µ–º–∏ (SIP)** –¥–ª—è –Ω–∞–¥–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ä—ñ–≤–Ω—è –±–µ–∑–ø–µ–∫–∏ —Ç–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏. –¶–µ, –ø–æ —Å—É—Ç—ñ, —î –ª–∏—à–µ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –≤–µ—Ä—Å—ñ—ó —Ç–æ–º–∞ —Å–∏—Å—Ç–µ–º–∏.

–û—Å—å –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–≥–ª—è–¥:

1. **–ù–µ–∑–º—ñ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞**: –ó–∞–ø–µ—á–∞—Ç–∞–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –∑–Ω—ñ–º–∫–∏ —Ä–æ–±–ª—è—Ç—å —Ç–æ–º —Å–∏—Å—Ç–µ–º–∏ macOS "–Ω–µ–∑–º—ñ–Ω–Ω–∏–º", —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –π–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏. –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –±—É–¥—å-—è–∫–∏–º –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–º –∞–±–æ –≤–∏–ø–∞–¥–∫–æ–≤–∏–º –∑–º—ñ–Ω–∞–º —Å–∏—Å—Ç–µ–º–∏, —è–∫—ñ –º–æ–∂—É—Ç—å —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ–∫—É –∞–±–æ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∏.
2. **–û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏**: –ö–æ–ª–∏ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–±–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è macOS, macOS —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π —Å–∏—Å—Ç–µ–º–Ω–∏–π –∑–Ω—ñ–º–æ–∫. –¢–æ–¥—ñ —Ç–æ–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è macOS –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **APFS (Apple File System)** –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ —Ü—å–æ–≥–æ –Ω–æ–≤–æ–≥–æ –∑–Ω—ñ–º–∫–∞. –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å —Å—Ç–∞—î –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ—à–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∂–¥–∏ –º–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–Ω—ñ–º–∫–∞, —è–∫—â–æ —â–æ—Å—å –ø—ñ–¥–µ –Ω–µ —Ç–∞–∫ –ø—ñ–¥ —á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.
3. **–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö**: –£ –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—î—é —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ç–æ–º—ñ–≤ –î–∞–Ω–∏—Ö —Ç–∞ –°–∏—Å—Ç–µ–º–∏, –≤–≤–µ–¥–µ–Ω–æ—ó –≤ macOS Catalina, —Ñ—É–Ω–∫—Ü—ñ—è –ó–∞–ø–µ—á–∞—Ç–∞–Ω–∏—Ö –°–∏—Å—Ç–µ–º–Ω–∏—Ö –ó–Ω—ñ–º–∫—ñ–≤ –ø–µ—Ä–µ–∫–æ–Ω—É—î—Ç—å—Å—è, —â–æ –≤—Å—ñ –≤–∞—à—ñ –¥–∞–Ω—ñ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –Ω–∞ –æ–∫—Ä–µ–º–æ–º—É "**–î–∞–Ω—ñ**" —Ç–æ–º—ñ. –¶–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ä–æ–±–∏—Ç—å –≤–∞—à—ñ –¥–∞–Ω—ñ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏ –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–∏, —â–æ —Å–ø—Ä–æ—â—É—î –ø—Ä–æ—Ü–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –ø—ñ–¥–≤–∏—â—É—î –±–µ–∑–ø–µ–∫—É —Å–∏—Å—Ç–µ–º–∏.

–ü–∞–º'—è—Ç–∞–π—Ç–µ, —â–æ —Ü—ñ –∑–Ω—ñ–º–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–µ—Ä—É—é—Ç—å—Å—è macOS —ñ –Ω–µ –∑–∞–π–º–∞—é—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –º—ñ—Å—Ü—è –Ω–∞ –≤–∞—à–æ–º—É –¥–∏—Å–∫—É, –∑–∞–≤–¥—è–∫–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º —Å–ø—ñ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ—Ä—É APFS. –¢–∞–∫–æ–∂ –≤–∞–∂–ª–∏–≤–æ –∑–∞—É–≤–∞–∂–∏—Ç–∏, —â–æ —Ü—ñ –∑–Ω—ñ–º–∫–∏ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –≤—ñ–¥ **–∑–Ω—ñ–º–∫—ñ–≤ Time Machine**, —è–∫—ñ —î –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∏–º–∏ –∫–æ–ø—ñ—è–º–∏ –≤—Å—ñ—î—ó —Å–∏—Å—Ç–µ–º–∏.

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–Ω—ñ–º–∫—ñ–≤

–ö–æ–º–∞–Ω–¥–∞ **`diskutil apfs list`** –ø–æ–∫–∞–∑—É—î **–¥–µ—Ç–∞–ª—ñ –æ–±—Å—è–≥—ñ–≤ APFS** —Ç–∞ —ó—Ö —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:

<pre><code>+-- Container disk3 966B902E-EDBA-4775-B743-CF97A0556A13
|   ====================================================
|   –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä APFS:     disk3
|   –†–æ–∑–º—ñ—Ä (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —î–º–Ω—ñ—Å—Ç—å):      494384795648 B (494.4 –ì–ë)
|   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ —î–º–Ω—ñ—Å—Ç—å –æ–±—Å—è–≥–∞–º–∏:   219214536704 B (219.2 –ì–ë) (44.3% –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ)
|   –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ —î–º–Ω—ñ—Å—Ç—å:       275170258944 B (275.2 –ì–ë) (55.7% –≤—ñ–ª—å–Ω–æ)
|   |
|   +-&#x3C; –§—ñ–∑–∏—á–Ω–∏–π –Ω–∞–∫–æ–ø–∏—á—É–≤–∞—á disk0s2 86D4B7EC-6FA5-4042-93A7-D3766A222EBE
|   |   -----------------------------------------------------------
|   |   –§—ñ–∑–∏—á–Ω–∏–π –Ω–∞–∫–æ–ø–∏—á—É–≤–∞—á APFS:   disk0s2
|   |   –†–æ–∑–º—ñ—Ä:                       494384795648 B (494.4 –ì–ë)
|   |
|   +-> –û–±—Å—è–≥ disk3s1 7A27E734-880F-4D91-A703-FB55861D49B7
|   |   ---------------------------------------------------
<strong>|   |   –î–∏—Å–∫ –æ–±—Å—è–≥—É APFS (–†–æ–ª—å):   disk3s1 (–°–∏—Å—Ç–µ–º–∞)
</strong>|   |   –Ü–º'—è:                      Macintosh HD (–±–µ–∑ —Ä—ñ–∑–Ω–∏—Ü—ñ —É —Ä–µ–≥—ñ—Å—Ç—Ä—ñ)
<strong>|   |   –¢–æ—á–∫–∞ –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è:               /System/Volumes/Update/mnt1
</strong>|   |   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ —î–º–Ω—ñ—Å—Ç—å:         12819210240 B (12.8 –ì–ë)
|   |   –ó–∞–ø–µ—á–∞—Ç–∞–Ω–∏–π:                    –ü–æ—à–∫–æ–¥–∂–µ–Ω–æ
|   |   FileVault:                 –¢–∞–∫ (–†–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ)
|   |   –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è:                 –ù—ñ
|   |   |
|   |   –ó–Ω—ñ–º–æ–∫:                  FAA23E0C-791C-43FF-B0E7-0E1C0810AC61
|   |   –î–∏—Å–∫ –∑–Ω—ñ–º–∫–∞:             disk3s1s1
<strong>|   |   –¢–æ—á–∫–∞ –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è –∑–Ω—ñ–º–∫–∞:      /
</strong><strong>|   |   –ó–Ω—ñ–º–æ–∫ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–∏–π:           –¢–∞–∫
</strong>[...]
+-> –û–±—Å—è–≥ disk3s5 281959B7-07A1-4940-BDDF-6419360F3327
|   ---------------------------------------------------
|   –î–∏—Å–∫ –æ–±—Å—è–≥—É APFS (–†–æ–ª—å):   disk3s5 (–î–∞–Ω—ñ)
|   –Ü–º'—è:                      Macintosh HD - Data (–±–µ–∑ —Ä—ñ–∑–Ω–∏—Ü—ñ —É —Ä–µ–≥—ñ—Å—Ç—Ä—ñ)
<strong>    |   –¢–æ—á–∫–∞ –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è:               /System/Volumes/Data
</strong><strong>    |   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ —î–º–Ω—ñ—Å—Ç—å:         412071784448 B (412.1 –ì–ë)
</strong>    |   –ó–∞–ø–µ—á–∞—Ç–∞–Ω–∏–π:                    –ù—ñ
|   FileVault:                 –¢–∞–∫ (–†–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ)
</code></pre>

–£ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –≤–∏–≤–æ–¥—ñ –º–æ–∂–Ω–∞ –ø–æ–±–∞—á–∏—Ç–∏, —â–æ **–¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –º—ñ—Å—Ü—è** –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –ø—ñ–¥ `/System/Volumes/Data`.

–ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, **–∑–Ω—ñ–º–æ–∫ —Ç–æ–º–∞ —Å–∏—Å—Ç–µ–º–∏ macOS** –º–æ–Ω—Ç—É—î—Ç—å—Å—è –≤ `/` —ñ –≤—ñ–Ω **–∑–∞–ø–µ—á–∞—Ç–∞–Ω–∏–π** (–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–æ –ø—ñ–¥–ø–∏—Å–∞–Ω–∏–π –û–°). –¢–∞–∫–∏–º —á–∏–Ω–æ–º, —è–∫—â–æ –æ–±—ñ–π—Ç–∏ SIP —ñ –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ, **–û–° –±—ñ–ª—å—à–µ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è**.

–¢–∞–∫–æ–∂ –º–æ–∂–Ω–∞ **–ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –ø–µ—á–∞—Ç–∫–∞ —É–≤—ñ–º–∫–Ω–µ–Ω–∞**, –∑–∞–ø—É—Å—Ç–∏–≤—à–∏:
```bash
csrutil authenticated-root status
Authenticated Root status: enabled
```
–ö—Ä—ñ–º —Ç–æ–≥–æ, –¥–∏—Å–∫ —ñ–∑ –∑–Ω—ñ–º–∫–æ–º —Ç–∞–∫–æ–∂ –º–æ–Ω—Ç—É—î—Ç—å—Å—è —É —Ä–µ–∂–∏–º—ñ **—Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è**:
```
mount
/dev/disk3s1s1 on / (apfs, sealed, local, read-only, journaled)
```
<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Å–≤–æ—é **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>
