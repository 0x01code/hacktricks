# –§–∞–π–ª–∏, —Ç–µ–∫–∏, –±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø–∞–º'—è—Ç—å macOS

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é –≤ —Ä–µ–∫–ª–∞–º—ñ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—ó —Ñ–∞–π–ª—ñ–≤

* **/Applications**: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –¥–æ–¥–∞—Ç–∫–∏ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ —Ç—É—Ç. –£—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–º–æ–∂—É—Ç—å –¥–æ –Ω–∏—Ö –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø.
* **/bin**: –ë—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞
* **/cores**: –Ø–∫—â–æ —ñ—Å–Ω—É—î, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–º–ø—ñ–≤ —è–¥—Ä–∞
* **/dev**: –í—Å–µ —Ç—Ä–∞–∫—Ç—É—î—Ç—å—Å—è —è–∫ —Ñ–∞–π–ª, —Ç–æ–º—É –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Ç—É—Ç –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó –∞–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è.
* **/etc**: –§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
* **/Library**: –¢—É—Ç –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –±–∞–≥–∞—Ç–æ –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥—ñ–≤ —Ç–∞ —Ñ–∞–π–ª—ñ–≤, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏, –∫–µ—à–∞–º–∏ —Ç–∞ –∂—É—Ä–Ω–∞–ª–∞–º–∏. –ü–∞–ø–∫–∞ Library —ñ—Å–Ω—É—î –≤ –∫–æ—Ä–µ–Ω—ñ —Ç–∞ –≤ –∫–æ–∂–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
* **/private**: –ù–µ–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–æ, –∞–ª–µ –±–∞–≥–∞—Ç–æ –∑–≥–∞–¥–∞–Ω–∏—Ö —Ç–µ–∫ —î —Å–∏–º–≤–æ–ª—ñ—á–Ω–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—É —Ç–µ–∫—É.
* **/sbin**: –û—Å–Ω–æ–≤–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ (–ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è–º)
* **/System**: –§–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫—É OS X. –¢—É—Ç –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–Ω–∞–π—Ç–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ª–∏—à–µ —Ñ–∞–π–ª–∏, —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è Apple (–Ω–µ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ).
* **/tmp**: –§–∞–π–ª–∏ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ 3 –¥–Ω—ñ (—Ü–µ —Å–∏–º–≤–æ–ª—ñ—á–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ /private/tmp)
* **/Users**: –î–æ–º–∞—à–Ω—è —Ç–µ–∫–∞ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
* **/usr**: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ñ –±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏
* **/var**: –§–∞–π–ª–∏ –∂—É—Ä–Ω–∞–ª—ñ–≤
* **/Volumes**: –ü—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥–∏—Å–∫–∏ –∑'—è–≤–ª—è—Ç—å—Å—è —Ç—É—Ç.
* **/.vol**: –ó–∞–ø—É—Å–∫–∞—é—á–∏ `stat a.txt`, –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ —â–æ—Å—å –Ω–∞ –∑—Ä–∞–∑–æ–∫ `16777223 7545753 -rw-r--r-- 1 username wheel ...`, –¥–µ –ø–µ—Ä—à–µ —á–∏—Å–ª–æ - —Ü–µ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–æ–º–∞, –¥–µ —ñ—Å–Ω—É—î —Ñ–∞–π–ª, –∞ –¥—Ä—É–≥–µ - –Ω–æ–º–µ—Ä —ñ–Ω–æ–¥—É. –í–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤–º—ñ—Å—Ç—É —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ /.vol/ –∑ —Ü—ñ—î—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é, –∑–∞–ø—É—Å—Ç–∏–≤—à–∏ `cat /.vol/16777223/7545753`

### –¢–µ–∫–∏ –¥–æ–¥–∞—Ç–∫—ñ–≤

* **–°–∏—Å—Ç–µ–º–Ω—ñ –¥–æ–¥–∞—Ç–∫–∏** —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –≤ `/System/Applications`
* **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ** –¥–æ–¥–∞—Ç–∫–∏ –∑–∞–∑–≤–∏—á–∞–π –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é—Ç—å—Å—è –≤ `/Applications` –∞–±–æ –≤ `~/Applications`
* **–î–∞–Ω—ñ –¥–æ–¥–∞—Ç–∫—ñ–≤** –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ `/Library/Application Support` –¥–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å —è–∫ root, —Ç–∞ `~/Library/Application Support` –¥–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á.
* –î–µ–º–æ–Ω–∏ **—Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤**, —è–∫—ñ **–ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∑–∞–ø—É—Å–∫—É —è–∫ root**, –∑–∞–∑–≤–∏—á–∞–π —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –≤ `/Library/PrivilegedHelperTools/`
* **–î–æ–¥–∞—Ç–∫–∏ –≤ –ø—ñ—Å–æ—á–Ω–∏—Ü—ñ** –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ —Ç–µ–∫—É `~/Library/Containers`. –ö–æ–∂–µ–Ω –¥–æ–¥–∞—Ç–æ–∫ –º–∞—î —Ç–µ–∫—É –∑ –Ω–∞–∑–≤–æ—é, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—É –ø–∞–∫–µ—Ç–∞ –¥–æ–¥–∞—Ç–∫–∞ (`com.apple.Safari`).
* **–Ø–¥—Ä–æ** —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–µ –≤ `/System/Library/Kernels/kernel`
* **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —è–¥—Ä–∞ Apple** —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –≤ `/System/Library/Extensions`
* **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —è–¥—Ä–∞ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –≤–∏—Ä–æ–±–Ω–∏–∫—ñ–≤** –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `/Library/Extensions`

### –§–∞–π–ª–∏ –∑ —á—É—Ç–ª–∏–≤–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é

macOS –∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —Ç–∞–∫—É —è–∫ –ø–∞—Ä–æ–ª—ñ, –≤ –∫—ñ–ª—å–∫–æ—Ö –º—ñ—Å—Ü—è—Ö:

{% content-ref url="macos-sensitive-locations.md" %}
[macos-sensitive-locations.md](macos-sensitive-locations.md)
{% endcontent-ref %}

### –í—Ä–∞–∑–ª–∏–≤—ñ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∏ pkg

{% content-ref url="macos-installers-abuse.md" %}
[macos-installers-abuse.md](macos-installers-abuse.md)
{% endcontent-ref %}

## –û—Å–æ–±–ª–∏–≤—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è OS X

* **`.dmg`**: –§–∞–π–ª–∏ –æ–±—Ä–∞–∑—ñ–≤ –¥–∏—Å–∫—ñ–≤ Apple –¥—É–∂–µ –ø–æ—à–∏—Ä–µ–Ω—ñ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º-—ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä—ñ–≤.
* **`.kext`**: –í–æ–Ω–∏ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –ø–µ–≤–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É —ñ —î –≤–µ—Ä—Å—ñ—î—é –¥—Ä–∞–π–≤–µ—Ä–∞ –¥–ª—è OS X. (—Ü–µ –ø–∞–∫–µ—Ç)
* **`.plist`**: –¢–∞–∫–æ–∂ –≤—ñ–¥–æ–º–∏–π —è–∫ property list, –∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —É —Ñ–æ—Ä–º–∞—Ç—ñ XML –∞–±–æ –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ.
* –ú–æ–∂–µ –±—É—Ç–∏ XML –∞–±–æ –±—ñ–Ω–∞—Ä–Ω–∏–π. –ë—ñ–Ω–∞—Ä–Ω—ñ –º–æ–∂–Ω–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
* `defaults read config.plist`
* `/usr/libexec/PlistBuddy -c print config.plsit`
* `plutil -p ~/Library/Preferences/com.apple.screensaver.plist`
* `plutil -convert xml1 ~/Library/Preferences/com.apple.screensaver.plist -o -`
* `plutil -convert json ~/Library/Preferences/com.apple.screensaver.plist -o -`
* **`.app`**: –î–æ–¥–∞—Ç–∫–∏ Apple, —è–∫—ñ —Å–ª—ñ–¥—É—é—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ —Ç–µ–∫–∏ (—Ü–µ –ø–∞–∫–µ—Ç).
* **`.dylib`**: –î–∏–Ω–∞–º—ñ—á–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ (–ø–æ–¥—ñ–±–Ω—ñ –¥–æ —Ñ–∞–π–ª—ñ–≤ DLL —É Windows)
* **`.pkg`**: –¶–µ —Ç–µ —Å–∞–º–µ, —â–æ –π xar (eXtensible Archive format). –ö–æ–º–∞–Ω–¥–∞ installer –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É —Ü–∏—Ö —Ñ–∞–π–ª—ñ–≤.
* **`.DS_Store`**: –¶–µ–π —Ñ–∞–π–ª —î –≤ –∫–æ–∂–Ω—ñ–π —Ç–µ–∫—ñ, –≤—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î –∞—Ç—Ä–∏–±—É—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–∫–∏.
* **`.Spotlight-V100`**: –¶—è —Ç–µ–∫–∞ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ –∫–æ—Ä–µ–Ω–µ–≤—ñ–π —Ç–µ–∫—ñ –∫–æ–∂–Ω–æ–≥–æ —Ç–æ–º—É –≤ —Å–∏—Å—Ç–µ–º—ñ.
* **`.metadata_never_index`**: –Ø–∫—â–æ —Ü–µ–π —Ñ–∞–π–ª –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä–µ–Ω—ñ —Ç–æ–º—É, Spotlight –Ω–µ —ñ–Ω–¥–µ–∫—Å—É–≤–∞—Ç–∏–º–µ —Ü–µ–π —Ç–æ–º.
* **`.noindex`**: –§–∞–π–ª–∏ —Ç–∞ —Ç–µ–∫–∏ –∑ —Ü–∏–º —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º –Ω–µ –±—É–¥—É—Ç—å —ñ–Ω–¥–µ–∫—Å—É–≤–∞—Ç–∏—Å—è Spotlight.

### –ü–∞–∫–µ—Ç–∏ macOS

–ü–∞–∫–µ—Ç - —Ü–µ **—Ç–µ–∫–∞**, —è–∫–∞ **–≤–∏–≥–ª—è–¥–∞—î —è–∫ –æ–±'—î–∫—Ç —É Finder** (–ø—Ä–∏–∫–ª–∞–¥ –ø–∞–∫–µ—Ç—ñ–≤ - —Ñ–∞–π–ª–∏ `*.app`).

{% content-ref url="macos-bundles.md" %}
[macos-bundles.md](macos-bundles.md)
{% endcontent-ref %}

## –ö–µ—à —Å–ø—ñ–ª—å–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ Dyld

–ù–∞ macOS (—ñ iOS) –≤—Å—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ —Å–ø—ñ–ª—å–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, —Ç–∞–∫—ñ —è–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Ç–∞ dylib, **–æ–±'—î–¥–Ω–∞–Ω—ñ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª**, —è–∫–∏–π –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **–∫–µ—à–µ–º —Å–ø—ñ–ª—å–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ dyld**. –¶–µ –ø–æ–∫—Ä–∞—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–¥ –º–æ–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏—Å—è —à–≤–∏–¥—à–µ.

–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–æ –∫–µ—à—É —Å–ø—ñ–ª—å–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ dyld, —è–¥—Ä–æ —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —è–¥—Ä–∞ —Ç–∞–∫–æ–∂ –∫–æ–º–ø—ñ–ª—é—é—Ç—å—Å—è –≤ –∫–µ—à —è–¥—Ä–∞, —è–∫–∏–π –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

–î–ª—è –≤–∏–ª—É—á–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫ –∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É –∫–µ—à—É —Å–ø—ñ–ª—å–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ dylib –º–æ–∂–Ω–∞ –±—É–ª–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª [dyld\_shared\_cache\_util](https://www.mbsplugins.de/files/dyld\_shared\_cache\_util-dyld-733.8.zip), —è–∫–∏–π –º–æ–∂–ª–∏–≤–æ –∑–∞—Ä–∞–∑ –Ω–µ –ø—Ä–∞—Ü—é—î, –∞–ª–µ –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ [**dyldextractor**](https://github.com/arandomdev/dyldextractor):

{% code overflow="wrap" %}
```bash
# dyld_shared_cache_util
dyld_shared_cache_util -extract ~/shared_cache/ /System/Volumes/Preboot/Cryptexes/OS/System/Library/dyld/dyld_shared_cache_arm64e

# dyldextractor
dyldex -l [dyld_shared_cache_path] # List libraries
dyldex_all [dyld_shared_cache_path] # Extract all
# More options inside the readme
```
{% endcode %}

–£ —Å—Ç–∞—Ä—ñ—à–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö –≤–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ **—Å–ø—ñ–ª—å–Ω–∏–π –∫–µ—à** –≤ **`/System/Library/dyld/`**.

–£ iOS –≤–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —ó—Ö –≤ **`/System/Library/Caches/com.apple.dyld/`**.

{% hint style="success" %}
–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `dyld_shared_cache_util` –Ω–µ –ø—Ä–∞—Ü—é—î, –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç–∏ **—Å–ø—ñ–ª—å–Ω–∏–π dyld –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª –≤ Hopper** —ñ Hopper –∑–º–æ–∂–µ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –≤—Å—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —Ç–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–∞–º **–≤–∏–±—Ä–∞—Ç–∏, —è–∫—É —Å–∞–º–µ** –≤–∏ —Ö–æ—á–µ—Ç–µ –¥–æ—Å–ª—ñ–¥–∏—Ç–∏:
{% endhint %}

<figure><img src="../../../.gitbook/assets/image (680).png" alt="" width="563"><figcaption></figcaption></figure>

## –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –¥–æ–∑–≤–æ–ª–∏ –Ω–∞ —Ñ–∞–π–ª–∏

### –î–æ–∑–≤–æ–ª–∏ –Ω–∞ —Ç–µ–∫–∏

–£ **—Ç–µ—Ü—ñ**, **—á–∏—Ç–∞–Ω–Ω—è** –¥–æ–∑–≤–æ–ª—è—î **–ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —ó—ó**, **–∑–∞–ø–∏—Å** –¥–æ–∑–≤–æ–ª—è—î **–≤–∏–¥–∞–ª—è—Ç–∏** —Ç–∞ **–∑–∞–ø–∏—Å—É–≤–∞—Ç–∏** —Ñ–∞–π–ª–∏ –≤ –Ω—ñ–π, –∞ **–≤–∏–∫–æ–Ω–∞–Ω–Ω—è** –¥–æ–∑–≤–æ–ª—è—î **–ø–µ—Ä–µ–º—ñ—â–∞—Ç–∏—Å—è** –ø–æ –∫–∞—Ç–∞–ª–æ–∑—ñ. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ **–¥–æ–∑–≤–æ–ª–æ–º –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—É** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–∞—Ç–∞–ª–æ–≥—É, –¥–µ –≤—ñ–Ω **–Ω–µ –º–∞—î –¥–æ–∑–≤–æ–ª—É –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**, **–Ω–µ –∑–º–æ–∂–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏** —Ñ–∞–π–ª.

### –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤

–Ñ –¥–µ—è–∫—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –≤ —Ñ–∞–π–ª–∞—Ö, —â–æ –∑–º—ñ–Ω—é—é—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É —Ñ–∞–π–ª—É. –í–∏ –º–æ–∂–µ—Ç–µ **–ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–ø–æ—Ä—Ü—ñ** —Ñ–∞–π–ª—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–∞—Ç–∞–ª–æ–≥—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `ls -lO /—à–ª—è—Ö/–¥–æ/–∫–∞—Ç–∞–ª–æ–≥—É`

* **`uchg`**: –í—ñ–¥–æ–º–∏–π —è–∫ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å **uchange**, –∑–∞–ø–æ–±—ñ–≥–∞—î –±—É–¥—å-—è–∫–∏–º –¥—ñ—è–º –∑–º—ñ–Ω–∏ –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è **—Ñ–∞–π–ª—É**. –©–æ–± –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –π–æ–≥–æ, –≤–∏–∫–æ–Ω–∞–π—Ç–µ: `chflags uchg file.txt`
* –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á root –º–æ–∂–µ **–≤–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å** —Ç–∞ –∑–º—ñ–Ω–∏—Ç–∏ —Ñ–∞–π–ª
* **`restricted`**: –¶–µ–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å —Ä–æ–±–∏—Ç—å —Ñ–∞–π–ª **–∑–∞—Ö–∏—â–µ–Ω–∏–º –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SIP** (–≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ —Ü–µ–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å –¥–æ —Ñ–∞–π–ª—É).
* **`Sticky bit`**: –Ø–∫—â–æ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å Sticky bit, **—Ç—ñ–ª—å–∫–∏** –≤–ª–∞—Å–Ω–∏–∫ –∫–∞—Ç–∞–ª–æ–≥—É –∞–±–æ root –º–æ–∂—É—Ç—å **–ø–µ—Ä–µ–π–º–µ–Ω–æ–≤—É–≤–∞—Ç–∏ –∞–±–æ –≤–∏–¥–∞–ª—è—Ç–∏** —Ñ–∞–π–ª–∏. –ó–∞–∑–≤–∏—á–∞–π —Ü–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ /tmp, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –∑–≤–∏—á–∞–π–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –≤–∏–¥–∞–ª–µ–Ω–Ω—é –∞–±–æ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—é —Ñ–∞–π–ª—ñ–≤ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

–£—Å—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ —Ñ–∞–π–ª—ñ `sys/stat.h` (–∑–Ω–∞–π–¥—ñ—Ç—å –π–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `mdfind stat.h | grep stat.h`) —ñ —Ü–µ:

* `UF_SETTABLE` 0x0000ffff: –ú–∞—Å–∫–∞ –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤, —è–∫—ñ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–∫.
* `UF_NODUMP` 0x00000001: –ù–µ –≤–∏–∫–∏–¥–∞—Ç–∏ —Ñ–∞–π–ª.
* `UF_IMMUTABLE` 0x00000002: –§–∞–π–ª –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–∏–π.
* `UF_APPEND` 0x00000004: –ó–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ª–∏—à–µ –¥–æ–¥–∞–Ω—ñ.
* `UF_OPAQUE` 0x00000008: –ö–∞—Ç–∞–ª–æ–≥ —î –Ω–µ–ø—Ä–æ–∑–æ—Ä–∏–º–∏–º —â–æ–¥–æ –æ–±'—î–¥–Ω–∞–Ω–Ω—è.
* `UF_COMPRESSED` 0x00000020: –§–∞–π–ª —Å—Ç–∏—Å–Ω—É—Ç–∏–π (–¥–µ—è–∫—ñ —Ñ–∞–π–ª–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏).
* `UF_TRACKED` 0x00000040: –ù–µ–º–∞—î —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è/–ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –¥–ª—è —Ñ–∞–π–ª—ñ–≤ –∑ —Ü–∏–º –Ω–∞–±–æ—Ä–æ–º.
* `UF_DATAVAULT` 0x00000080: –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–∑–≤—ñ–ª –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø–∏—Å—É.
* `UF_HIDDEN` 0x00008000: –ü—ñ–¥–∫–∞–∑–∫–∞, —â–æ —Ü–µ–π –µ–ª–µ–º–µ–Ω—Ç –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—è –≤ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ.
* `SF_SUPPORTED` 0x009f0000: –ú–∞—Å–∫–∞ –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤, —è–∫—ñ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á.
* `SF_SETTABLE` 0x3fff0000: –ú–∞—Å–∫–∞ –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤, —è–∫—ñ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á.
* `SF_SYNTHETIC` 0xc0000000: –ú–∞—Å–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Å–∏–Ω—Ç–µ—Ç–∏—á–Ω–∏—Ö –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤.
* `SF_ARCHIVED` 0x00010000: –§–∞–π–ª –∑–∞–∞—Ä—Ö—ñ–≤–æ–≤–∞–Ω–∏–π.
* `SF_IMMUTABLE` 0x00020000: –§–∞–π–ª –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–∏–π.
* `SF_APPEND` 0x00040000: –ó–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ª–∏—à–µ –¥–æ–¥–∞–Ω—ñ.
* `SF_RESTRICTED` 0x00080000: –ü–æ—Ç—Ä—ñ–±–µ–Ω –¥–æ–∑–≤—ñ–ª –¥–ª—è –∑–∞–ø–∏—Å—É.
* `SF_NOUNLINK` 0x00100000: –ï–ª–µ–º–µ–Ω—Ç –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∏–π, –ø–µ—Ä–µ–π–º–µ–Ω–æ–≤–∞–Ω–∏–π –∞–±–æ –∑–º–æ–Ω—Ç–æ–≤–∞–Ω–∏–π.
* `SF_FIRMLINK` 0x00800000: –§–∞–π–ª —î –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º—É.
* `SF_DATALESS` 0x40000000: –§–∞–π–ª —î –æ–±'—î–∫—Ç–æ–º –±–µ–∑ –¥–∞–Ω–∏—Ö.

### **ACL —Ñ–∞–π–ª—ñ–≤**

ACL —Ñ–∞–π–ª—ñ–≤ –º—ñ—Å—Ç—è—Ç—å **ACE** (Access Control Entries), –¥–µ –º–æ–∂–Ω–∞ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ –±—ñ–ª—å—à **–¥–µ—Ç–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –¥–æ–∑–≤–æ–ª–∏** —Ä—ñ–∑–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º.

–ú–æ–∂–ª–∏–≤–æ –Ω–∞–¥–∞—Ç–∏ —Ü—ñ –¥–æ–∑–≤–æ–ª–∏ **–∫–∞—Ç–∞–ª–æ–≥—É**: `list`, `search`, `add_file`, `add_subdirectory`, `delete_child`, `delete_child`.\
–ê –¥–ª—è **—Ñ–∞–π–ª—É**: `read`, `write`, `append`, `execute`.

–ö–æ–ª–∏ —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å ACL, –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ **"+" –ø—Ä–∏ –ø–µ—Ä–µ–ª—ñ–∫—É –¥–æ–∑–≤–æ–ª—ñ–≤, —è–∫ —É**:
```bash
ls -ld Movies
drwx------+   7 username  staff     224 15 Apr 19:42 Movies
```
–í–∏ –º–æ–∂–µ—Ç–µ **—á–∏—Ç–∞—Ç–∏ ACLs** —Ñ–∞–π–ª—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
```bash
ls -lde Movies
drwx------+ 7 username  staff  224 15 Apr 19:42 Movies
0: group:everyone deny delete
```
–í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ **–≤—Å—ñ —Ñ–∞–π–ª–∏ –∑ ACL** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é (—Ü–µ –¥—É–∂–µ –ø–æ–≤—ñ–ª—å–Ω–æ):
```bash
ls -RAle / 2>/dev/null | grep -E -B1 "\d: "
```
### –†–æ–∑—à–∏—Ä–µ–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏

–†–æ–∑—à–∏—Ä–µ–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏ –º–∞—é—Ç—å –Ω–∞–∑–≤—É —Ç–∞ –±–∞–∂–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `ls -@` —Ç–∞ –∑–º—ñ–Ω–µ–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–º–∞–Ω–¥–∏ `xattr`. –î–µ—è–∫—ñ –ø–æ—à–∏—Ä–µ–Ω—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏:

* `com.apple.resourceFork`: –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–Ω–æ–≥–æ –≤–∏–ª–∏–≤—É. –¢–∞–∫–æ–∂ –≤–∏–¥–∏–º–∏–π —è–∫ `filename/..namedfork/rsrc`
* `com.apple.quarantine`: MacOS: –ú–µ—Ö–∞–Ω—ñ–∑–º –∫–∞—Ä–∞–Ω—Ç–∏–Ω—É Gatekeeper (III/6)
* `metadata:*`: MacOS: —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ –º–µ—Ç–∞–¥–∞–Ω—ñ, —Ç–∞–∫—ñ —è–∫ `_backup_excludeItem`, –∞–±–æ `kMD*`
* `com.apple.lastuseddate` (#PS): –î–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—É
* `com.apple.FinderInfo`: MacOS: –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è Finder (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª—å–æ—Ä–æ–≤—ñ –º—ñ—Ç–∫–∏)
* `com.apple.TextEncoding`: –í–∫–∞–∑—É—î –∫–æ–¥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É —Ñ–∞–π–ª—ñ–≤ ASCII
* `com.apple.logd.metadata`: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è logd –Ω–∞ —Ñ–∞–π–ª–∞—Ö —É `/var/db/diagnostics`
* `com.apple.genstore.*`: –ì–µ–Ω–µ—Ä–∞—Ü—ñ–π–Ω–µ —Å—Ö–æ–≤–∏—â–µ (`/.DocumentRevisions-V100` –≤ –∫–æ—Ä–µ–Ω—ñ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏)
* `com.apple.rootless`: MacOS: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞—Ö–∏—Å—Ç–æ–º —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏ –¥–ª—è –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è —Ñ–∞–π–ª—É (III/10)
* `com.apple.uuidb.boot-uuid`: –ü–æ–∑–Ω–∞—á–∫–∏ logd –¥–ª—è –µ–ø–æ—Ö –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º UUID
* `com.apple.decmpfs`: MacOS: –ü—Ä–æ–∑–æ—Ä–µ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ (II/7)
* `com.apple.cprotect`: \*OS: –î–∞–Ω—ñ –ø—Ä–æ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ñ–∞–π–ª—É (III/11)
* `com.apple.installd.*`: \*OS: –ú–µ—Ç–∞–¥–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ installd, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `installType`, `uniqueInstallID`

### –†–µ—Å—É—Ä—Å–Ω—ñ –≤–∏–ª–∏–≤–∏ | macOS ADS

–¶–µ —Å–ø–æ—Å—ñ–± –æ—Ç—Ä–∏–º–∞–Ω–Ω—è **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö –≤ MacOS**. –í–∏ –º–æ–∂–µ—Ç–µ –∑–±–µ—Ä–µ–≥—Ç–∏ –≤–º—ñ—Å—Ç –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç—É –∑ –Ω–∞–∑–≤–æ—é **com.apple.ResourceFork** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ–∞–π–ª—É, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –π–æ–≥–æ —É **file/..namedfork/rsrc**.
```bash
echo "Hello" > a.txt
echo "Hello Mac ADS" > a.txt/..namedfork/rsrc

xattr -l a.txt #Read extended attributes
com.apple.ResourceFork: Hello Mac ADS

ls -l a.txt #The file length is still q
-rw-r--r--@ 1 username  wheel  6 17 Jul 01:15 a.txt
```
–í–∏ –º–æ–∂–µ—Ç–µ **–∑–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏, —â–æ –º—ñ—Å—Ç—è—Ç—å —Ü–µ–π —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç**, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:

{% code overflow="wrap" %}
```bash
find / -type f -exec ls -ld {} \; 2>/dev/null | grep -E "[x\-]@ " | awk '{printf $9; printf "\n"}' | xargs -I {} xattr -lv {} | grep "com.apple.ResourceFork"
```
### decmpfs

–†–æ–∑—à–∏—Ä–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç `com.apple.decmpfs` –≤–∫–∞–∑—É—î, —â–æ —Ñ–∞–π–ª –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ, `ls -l` –ø–æ–≤—ñ–¥–æ–º–∏—Ç—å –ø—Ä–æ **—Ä–æ–∑–º—ñ—Ä 0**, –∞ —Å—Ç–∏—Å–ª—ñ –¥–∞–Ω—ñ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —É —Ü—å–æ–º—É –∞—Ç—Ä–∏–±—É—Ç—ñ. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–Ω–∏–π, –≤—ñ–Ω –±—É–¥–µ —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π —É –ø–∞–º'—è—Ç—ñ.

–¶–µ–π –∞—Ç—Ä–∏–±—É—Ç –º–æ–∂–Ω–∞ –ø–æ–±–∞—á–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `ls -lO`, –≤–∫–∞–∑–∞–Ω–∏–π —è–∫ —Å—Ç–∏—Å–Ω—É—Ç–∏–π, –æ—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∏—Å–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞–∫–æ–∂ –ø–æ–∑–Ω–∞—á–∞—é—Ç—å—Å—è –ø—Ä–∞–ø–æ—Ä—Ü–µ–º `UF_COMPRESSED`. –Ø–∫—â–æ —Å—Ç–∏—Å–Ω—É—Ç–∏–π —Ñ–∞–π–ª –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `chflags nocompressed </—à–ª—è—Ö/–¥–æ/—Ñ–∞–π–ª—É>`, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –±—É–¥–µ –∑–Ω–∞—Ç–∏, —â–æ —Ñ–∞–π–ª –±—É–≤ —Å—Ç–∏—Å–Ω—É—Ç–∏–π, —ñ —Ç–æ–º—É –Ω–µ –∑–º–æ–∂–µ —Ä–æ–∑–ø–∞–∫—É–≤–∞—Ç–∏ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö (–≤–æ–Ω–∞ –±—É–¥–µ –≤–≤–∞–∂–∞—Ç–∏, —â–æ —Ñ–∞–π–ª –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–æ—Ä–æ–∂–Ω—ñ–π).

–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç afscexpand –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –ø—Ä–∏–º—É—Å–æ–≤–æ–≥–æ —Ä–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É.

## **–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏ —Ç–∞** –§–æ—Ä–º–∞—Ç Mach-o

–ë—ñ–Ω–∞—Ä–Ω–∏–∫–∏ Mac OS –∑–∞–∑–≤–∏—á–∞–π –∫–æ–º–ø—ñ–ª—é—é—Ç—å—Å—è —è–∫ **—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏**. **–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –±—ñ–Ω–∞—Ä–Ω–∏–∫** –º–æ–∂–µ **–ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä —É –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ**.

{% content-ref url="universal-binaries-and-mach-o-format.md" %}
[universal-binaries-and-mach-o-format.md](universal-binaries-and-mach-o-format.md)
{% endcontent-ref %}

## –í–∏—Ç—è–≥ –ø–∞–º'—è—Ç—ñ macOS

{% content-ref url="macos-memory-dumping.md" %}
[macos-memory-dumping.md](macos-memory-dumping.md)
{% endcontent-ref %}

## –§–∞–π–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ä–∏–∑–∏–∫—É Mac OS

–ö–∞—Ç–∞–ª–æ–≥ `/System/Library/CoreServices/CoreTypes.bundle/Contents/Resources/System` - —Ü–µ –º—ñ—Å—Ü–µ, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ **—Ä–∏–∑–∏–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º–∏ —Ñ–∞–π–ª—ñ–≤**. –¶–µ–π –∫–∞—Ç–∞–ª–æ–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑—É—î —Ñ–∞–π–ª–∏ –Ω–∞ —Ä—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ —Ä–∏–∑–∏–∫—É, —â–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ç–µ, —è–∫ Safari –æ–±—Ä–æ–±–ª—è—î —Ü—ñ —Ñ–∞–π–ª–∏ –ø—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è. –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –Ω–∞—Å—Ç—É–ø–Ω—ñ:

* **LSRiskCategorySafe**: –§–∞–π–ª–∏ —Ü—ñ—î—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤–≤–∞–∂–∞—é—Ç—å—Å—è **–ø–æ–≤–Ω—ñ—Å—Ç—é –±–µ–∑–ø–µ—á–Ω–∏–º–∏**. Safari –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–∫—Ä–∏—î —Ü—ñ —Ñ–∞–π–ª–∏ –ø—ñ—Å–ª—è —ó—Ö –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
* **LSRiskCategoryNeutral**: –¶—ñ —Ñ–∞–π–ª–∏ –Ω–µ —Å—É–ø—Ä–æ–≤–æ–¥–∂—É—é—Ç—å—Å—è –∂–æ–¥–Ω–∏–º–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º–∏ —ñ **–Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** Safari.
* **LSRiskCategoryUnsafeExecutable**: –§–∞–π–ª–∏ —Ü—ñ—î—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó **—Å–ø—Ä–∏—á–∏–Ω—è—é—Ç—å –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è**, —â–æ —Ñ–∞–π–ª —î –¥–æ–¥–∞—Ç–∫–æ–º. –¶–µ —Å–ª—É–≥—É—î —è–∫ –∑–∞—Ö–∏—Å–Ω–∏–π –∑–∞—Ö—ñ–¥ –¥–ª—è –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
* **LSRiskCategoryMayContainUnsafeExecutable**: –¶—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ñ–∞–π–ª—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫ –∞—Ä—Ö—ñ–≤–∏, —è–∫—ñ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–π —Ñ–∞–π–ª. Safari —Å–ø—Ä–∏—á–∏–Ω–∏—Ç—å **–ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è**, —è–∫—â–æ –≤–æ–Ω–∞ –Ω–µ –º–æ–∂–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å—ñ –≤–º—ñ—Å—Ç –±–µ–∑–ø–µ—á–Ω—ñ –∞–±–æ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ñ.

## –§–∞–π–ª–∏ –∂—É—Ä–Ω–∞–ª—ñ–≤

* **`$HOME/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV2`**: –ú—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏, —Ç–∞–∫—É —è–∫ URL, –∑–≤—ñ–¥–∫–∏ –≤–æ–Ω–∏ –±—É–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ.
* **`/var/log/system.log`**: –û—Å–Ω–æ–≤–Ω–∏–π –∂—É—Ä–Ω–∞–ª —Å–∏—Å—Ç–µ–º OSX. com.apple.syslogd.plist –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∂—É—Ä–Ω–∞–ª—é–≤–∞–Ω–Ω—è (–º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –≤–æ–Ω–æ –≤–∏–º–∫–Ω–µ–Ω–µ, —à—É–∫–∞—é—á–∏ "com.apple.syslogd" –≤ `launchctl list`.
* **`/private/var/log/asl/*.asl`**: –¶–µ –∂—É—Ä–Ω–∞–ª–∏ —Å–∏—Å—Ç–µ–º–∏ Apple, —è–∫—ñ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ —Ü—ñ–∫–∞–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.
* **`$HOME/Library/Preferences/com.apple.recentitems.plist`**: –ó–±–µ—Ä—ñ–≥–∞—î –Ω–µ—â–æ–¥–∞–≤–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–∏ —á–µ—Ä–µ–∑ "Finder".
* **`$HOME/Library/Preferences/com.apple.loginitems.plsit`**: –ó–±–µ—Ä—ñ–≥–∞—î –µ–ª–µ–º–µ–Ω—Ç–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É —Å–∏—Å—Ç–µ–º–∏.
* **`$HOME/Library/Logs/DiskUtility.log`**: –§–∞–π–ª –∂—É—Ä–Ω–∞–ª—É –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–∏ DiskUtility (—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –¥–∏—Å–∫–∏, –≤–∫–ª—é—á–∞—é—á–∏ USB-–Ω–∞–∫–æ–ø–∏—á—É–≤–∞—á—ñ).
* **`/Library/Preferences/SystemConfiguration/com.apple.airport.preferences.plist`**: –î–∞–Ω—ñ –ø—Ä–æ –±–µ–∑–¥—Ä–æ—Ç–æ–≤—ñ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø—É.
* **`/private/var/db/launchd.db/com.apple.launchd/overrides.plist`**: –°–ø–∏—Å–æ–∫ –¥–µ–º–æ–Ω—ñ–≤, —è–∫—ñ –≤–∏–º–∫–Ω–µ–Ω—ñ.

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –ø—Ä–æ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤.

</details>
