# –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ macOS —Ç–∞ —Ñ–æ—Ä–º–∞—Ç Mach-O

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—Ç–∞** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub**.

</details>

## –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–ë—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ Mac OS –∑–∞–∑–≤–∏—á–∞–π –∫–æ–º–ø—ñ–ª—é—é—Ç—å—Å—è —è–∫ **—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏**. **–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª** –º–æ–∂–µ **–ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä —É –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ**.

–¶—ñ –±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å **—Å—Ç—Ä—É–∫—Ç—É—Ä—ñ Mach-O**, —è–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑:

* –ó–∞–≥–æ–ª–æ–≤–∫–∞
* –ö–æ–º–∞–Ω–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
* –î–∞–Ω–∏—Ö

![https://alexdremov.me/content/images/2022/10/6XLCD.gif](<../../../.gitbook/assets/image (559).png>)

## Fat Header

–®—É–∫–∞–π—Ç–µ —Ñ–∞–π–ª –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é: `mdfind fat.h | grep -i mach-o | grep -E "fat.h$"`

<pre class="language-c"><code class="lang-c"><strong>#define FAT_MAGIC	0xcafebabe
</strong><strong>#define FAT_CIGAM	0xbebafeca	/* NXSwapLong(FAT_MAGIC) */
</strong>
struct fat_header {
<strong>	uint32_t	magic;		/* FAT_MAGIC or FAT_MAGIC_64 */
</strong><strong>	uint32_t	nfat_arch;	/* number of structs that follow */
</strong>};

struct fat_arch {
cpu_type_t	cputype;	/* cpu specifier (int) */
cpu_subtype_t	cpusubtype;	/* machine specifier (int) */
uint32_t	offset;		/* file offset to this object file */
uint32_t	size;		/* size of this object file */
uint32_t	align;		/* alignment as a power of 2 */
};
</code></pre>

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –º—ñ—Å—Ç–∏—Ç—å **–º–∞–≥—ñ—á–Ω—ñ** –±–∞–π—Ç–∏, –∑–∞ —è–∫–∏–º–∏ —Å–ª—ñ–¥—É—î **–∫—ñ–ª—å–∫—ñ—Å—Ç—å** **–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä**, —è–∫—ñ –º—ñ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª (`nfat_arch`), —ñ –∫–æ–∂–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –º–∞—Ç–∏–º–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `fat_arch`.

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ü–µ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:

<pre class="language-shell-session"><code class="lang-shell-session">% file /bin/ls
/bin/ls: Mach-O universal binary with 2 architectures: [x86_64:Mach-O 64-bit executable x86_64] [arm64e:Mach-O 64-bit executable arm64e]
/bin/ls (for architecture x86_64):	Mach-O 64-bit executable x86_64
/bin/ls (for architecture arm64e):	Mach-O 64-bit executable arm64e

% otool -f -v /bin/ls
Fat headers
fat_magic FAT_MAGIC
<strong>nfat_arch 2
</strong><strong>architecture x86_64
</strong>    cputype CPU_TYPE_X86_64
cpusubtype CPU_SUBTYPE_X86_64_ALL
capabilities 0x0
<strong>    offset 16384
</strong><strong>    size 72896
</strong>    align 2^14 (16384)
<strong>architecture arm64e
</strong>    cputype CPU_TYPE_ARM64
cpusubtype CPU_SUBTYPE_ARM64E
capabilities PTR_AUTH_VERSION USERSPACE 0
<strong>    offset 98304
</strong><strong>    size 88816
</strong>    align 2^14 (16384)
</code></pre>

–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç [Mach-O View](https://sourceforge.net/projects/machoview/):

<figure><img src="../../../.gitbook/assets/image (5) (1) (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

–Ø–∫ –≤–∏, –º–æ–∂–ª–∏–≤–æ, –º–∏—Å–ª–∏—Ç–µ, –∑–∞–∑–≤–∏—á–∞–π —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª, —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–∏–π –¥–ª—è 2 –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä, **–ø–æ–¥–≤–æ—é—î —Ä–æ–∑–º—ñ—Ä** —Ç–æ–≥–æ, —â–æ —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–æ –ª–∏—à–µ –¥–ª—è 1 –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏.

## **–ó–∞–≥–æ–ª–æ–≤–æ–∫ Mach-O**

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –º—ñ—Å—Ç–∏—Ç—å –±–∞–∑–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ñ–∞–π–ª, —Ç–∞–∫—É —è–∫ –º–∞–≥—ñ—á–Ω—ñ –±–∞–π—Ç–∏ –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –π–æ–≥–æ —è–∫ —Ñ–∞–π–ª—É Mach-O —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ü—ñ–ª—å–æ–≤—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É. –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –π–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é: `mdfind loader.h | grep -i mach-o | grep -E "loader.h$"`
```c
#define	MH_MAGIC	0xfeedface	/* the mach magic number */
#define MH_CIGAM	0xcefaedfe	/* NXSwapInt(MH_MAGIC) */
struct mach_header {
uint32_t	magic;		/* mach magic number identifier */
cpu_type_t	cputype;	/* cpu specifier (e.g. I386) */
cpu_subtype_t	cpusubtype;	/* machine specifier */
uint32_t	filetype;	/* type of file (usage and alignment for the file) */
uint32_t	ncmds;		/* number of load commands */
uint32_t	sizeofcmds;	/* the size of all the load commands */
uint32_t	flags;		/* flags */
};

#define MH_MAGIC_64 0xfeedfacf /* the 64-bit mach magic number */
#define MH_CIGAM_64 0xcffaedfe /* NXSwapInt(MH_MAGIC_64) */
struct mach_header_64 {
uint32_t	magic;		/* mach magic number identifier */
int32_t		cputype;	/* cpu specifier */
int32_t		cpusubtype;	/* machine specifier */
uint32_t	filetype;	/* type of file */
uint32_t	ncmds;		/* number of load commands */
uint32_t	sizeofcmds;	/* the size of all the load commands */
uint32_t	flags;		/* flags */
uint32_t	reserved;	/* reserved */
};
```
**–¢–∏–ø–∏ —Ñ–∞–π–ª—ñ–≤**:

* MH\_EXECUTE (0x2): –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –≤–∏–∫–æ–Ω–∞–≤—á–∏–π —Ñ–∞–π–ª Mach-O
* MH\_DYLIB (0x6): –î–∏–Ω–∞–º—ñ—á–Ω–∞ –∑–≤'—è–∑–∞–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Mach-O (—Ç–æ–±—Ç–æ .dylib)
* MH\_BUNDLE (0x8): –ü–∞–∫—É–Ω–æ–∫ Mach-O (—Ç–æ–±—Ç–æ .bundle)
```bash
# Checking the mac header of a binary
otool -arch arm64e -hv /bin/ls
Mach header
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC_64    ARM64          E USR00     EXECUTE    19       1728   NOUNDEFS DYLDLINK TWOLEVEL PIE
```
–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ [Mach-O View](https://sourceforge.net/projects/machoview/):

<figure><img src="../../../.gitbook/assets/image (4) (1) (4).png" alt=""><figcaption></figcaption></figure>

## **–ö–æ–º–∞–Ω–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Mach-O**

**–ú–∞–∫–µ—Ç —Ñ–∞–π–ª—É –≤ –ø–∞–º'—è—Ç—ñ** –≤–∫–∞–∑–∞–Ω–∏–π —Ç—É—Ç, –¥–µ—Ç–∞–ª—ñ–∑—É—é—á–∏ **—Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ —Å–∏–º–≤–æ–ª—ñ–≤**, –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É –ø—ñ–¥ —á–∞—Å –ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ **—Å–ø—ñ–ª—å–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏**. –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –Ω–∞–¥–∞—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á—É **(dyld)** —â–æ–¥–æ –ø—Ä–æ—Ü–µ—Å—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª—É –≤ –ø–∞–º'—è—Ç—å.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É **load\_command**, –≤–∏–∑–Ω–∞—á–µ–Ω—É –≤ –∑–∞–∑–Ω–∞—á–µ–Ω–æ–º—É **`loader.h`**:
```objectivec
struct load_command {
uint32_t cmd;           /* type of load command */
uint32_t cmdsize;       /* total size of command in bytes */
};
```
–Ü—Å–Ω—É—î –±–ª–∏–∑—å–∫–æ **50 —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–æ–º–∞–Ω–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**, —è–∫—ñ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–æ–±–ª—è—î –ø–æ-—Ä—ñ–∑–Ω–æ–º—É. –ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—ñ –∑ –Ω–∏—Ö: `LC_SEGMENT_64`, `LC_LOAD_DYLINKER`, `LC_MAIN`, `LC_LOAD_DYLIB` —Ç–∞ `LC_CODE_SIGNATURE`.

### **LC\_SEGMENT/LC\_SEGMENT\_64**

{% hint style="success" %}
–§–∞–∫—Ç–∏—á–Ω–æ, —Ü–µ–π —Ç–∏–ø –∫–æ–º–∞–Ω–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–∏–∑–Ω–∞—á–∞—î, **—è–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–∏ \_\_TEXT** (–≤–∏–∫–æ–Ω–∞–≤—á–∏–π –∫–æ–¥) **—Ç–∞ \_\_DATA** (–¥–∞–Ω—ñ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—É) **–∑–≥—ñ–¥–Ω–æ –∑ –≤–∫–∞–∑–∞–Ω–∏–º–∏ –∑–º—ñ—â–µ–Ω–Ω—è–º–∏ –≤ —Ä–æ–∑–¥—ñ–ª—ñ –î–∞–Ω—ñ** –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª—É.
{% endhint %}

–¶—ñ –∫–æ–º–∞–Ω–¥–∏ **–≤–∏–∑–Ω–∞—á–∞—é—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∏**, —è–∫—ñ **–≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è** –≤ **–≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—ñ –ø–∞–º'—è—Ç—ñ** –ø—Ä–æ—Ü–µ—Å—É –ø—Ä–∏ –π–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ.

–Ü—Å–Ω—É—é—Ç—å **—Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏** —Å–µ–≥–º–µ–Ω—Ç—ñ–≤, —Ç–∞–∫—ñ —è–∫ —Å–µ–≥–º–µ–Ω—Ç **\_\_TEXT**, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –≤–∏–∫–æ–Ω–∞–≤—á–∏–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–∏, —Ç–∞ —Å–µ–≥–º–µ–Ω—Ç **\_\_DATA**, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –ø—Ä–æ—Ü–µ—Å–æ–º. –¶—ñ **—Å–µ–≥–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –≤ —Ä–æ–∑–¥—ñ–ª—ñ –¥–∞–Ω–∏—Ö** —Ñ–∞–π–ª—É Mach-O.

**–ö–æ–∂–µ–Ω —Å–µ–≥–º–µ–Ω—Ç** –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–¥—ñ–ª–µ–Ω–∏–π –Ω–∞ –∫—ñ–ª—å–∫–∞ **—Å–µ–∫—Ü—ñ–π**. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ **–∫–æ–º–∞–Ω–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** –º—ñ—Å—Ç–∏—Ç—å **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é** –ø—Ä–æ **—Ü—ñ —Å–µ–∫—Ü—ñ—ó** —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—ñ.

–£ –∑–∞–≥–æ–ª–æ–≤–∫—É —Å–ø–æ—á–∞—Ç–∫—É –≤–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–µ **–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–≥–º–µ–Ω—Ç–∞**:

<pre class="language-c"><code class="lang-c">struct segment_command_64 { /* –¥–ª—è 64-–±—ñ—Ç–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä */
uint32_t	cmd;		/* LC_SEGMENT_64 */
uint32_t	cmdsize;	/* –≤–∫–ª—é—á–∞—î —Ä–æ–∑–º—ñ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä section_64 */
char		segname[16];	/* –Ω–∞–∑–≤–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ */
uint64_t	vmaddr;		/* –∞–¥—Ä–µ—Å–∞ –ø–∞–º'—è—Ç—ñ —Ü—å–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ */
uint64_t	vmsize;		/* —Ä–æ–∑–º—ñ—Ä –ø–∞–º'—è—Ç—ñ —Ü—å–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ */
uint64_t	fileoff;	/* –∑–º—ñ—â–µ–Ω–Ω—è —Ñ–∞–π–ª—É —Ü—å–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ */
uint64_t	filesize;	/* –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ —Ñ–∞–π–ª—É */
int32_t		maxprot;	/* –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –∑–∞—Ö–∏—Å—Ç VM */
int32_t		initprot;	/* –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç VM */
<strong>	uint32_t	nsects;		/* –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–∫—Ü—ñ–π —É —Å–µ–≥–º–µ–Ω—Ç—ñ */
</strong>	uint32_t	flags;		/* –ø—Ä–∞–ø–æ—Ä—Ü—ñ */
};
</code></pre>

–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞:

<figure><img src="../../../.gitbook/assets/image (2) (2) (1) (1).png" alt=""><figcaption></figcaption></figure>

–¶–µ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∏–∑–Ω–∞—á–∞—î **–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–∫—Ü—ñ–π, –∑–∞–≥–æ–ª–æ–≤–∫–∏ —è–∫–∏—Ö –∑'—è–≤–ª—è—é—Ç—å—Å—è –ø—ñ—Å–ª—è** –Ω—å–æ–≥–æ:
```c
struct section_64 { /* for 64-bit architectures */
char		sectname[16];	/* name of this section */
char		segname[16];	/* segment this section goes in */
uint64_t	addr;		/* memory address of this section */
uint64_t	size;		/* size in bytes of this section */
uint32_t	offset;		/* file offset of this section */
uint32_t	align;		/* section alignment (power of 2) */
uint32_t	reloff;		/* file offset of relocation entries */
uint32_t	nreloc;		/* number of relocation entries */
uint32_t	flags;		/* flags (section type and attributes)*/
uint32_t	reserved1;	/* reserved (for offset or index) */
uint32_t	reserved2;	/* reserved (for count or sizeof) */
uint32_t	reserved3;	/* reserved */
};
```
–ü—Ä–∏–∫–ª–∞–¥ **–∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ä–æ–∑–¥—ñ–ª—É**:

<figure><img src="../../../.gitbook/assets/image (6) (2).png" alt=""><figcaption></figcaption></figure>

–Ø–∫—â–æ –≤–∏ **–¥–æ–¥–∞—î—Ç–µ** **–∑–º—ñ—â–µ–Ω–Ω—è —Ä–æ–∑–¥—ñ–ª—É** (0x37DC) + **–∑–º—ñ—â–µ–Ω–Ω—è**, –¥–µ **–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**, —É —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É `0x18000` --> `0x37DC + 0x18000 = 0x1B7DC`

<figure><img src="../../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

–¢–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏** –∑ **–∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
```bash
otool -lv /bin/ls
```
–ó–∞–≥–∞–ª—å–Ω—ñ —Å–µ–≥–º–µ–Ω—Ç–∏, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ü—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é:

* **`__PAGEZERO`:** –¶–µ –≤–∫–∞–∑—É—î —è–¥—Ä—É **–≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏** **–∞–¥—Ä–µ—Å—É –Ω—É–ª—å**, —â–æ–± —ó—ó **–Ω–µ –º–æ–∂–Ω–∞ –±—É–ª–æ —á–∏—Ç–∞—Ç–∏, –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ –∞–±–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏**. –ó–º—ñ–Ω–Ω—ñ maxprot —Ç–∞ minprot —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –Ω–∞ –Ω—É–ª—å, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏, —â–æ –Ω–∞ —Ü—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ **–Ω–µ–º–∞—î –ø—Ä–∞–≤ –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è-–∑–∞–ø–∏—Å-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è**.
* –¶–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–µ –¥–ª—è **–ø–æ–º'—è–∫—à–µ–Ω–Ω—è –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π –Ω—É–ª—å–æ–≤–∏—Ö –≤–∫–∞–∑—ñ–≤–Ω–∏–∫—ñ–≤**.
* **`__TEXT`**: –ú—ñ—Å—Ç–∏—Ç—å **–≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–π** **–∫–æ–¥** –∑ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ **—á–∏—Ç–∞–Ω–Ω—è** —Ç–∞ **–≤–∏–∫–æ–Ω–∞–Ω–Ω—è** (–±–µ–∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –∑–∞–ø–∏—Å—É)**.** –ó–∞–≥–∞–ª—å–Ω—ñ —Ä–æ–∑–¥—ñ–ª–∏ —Ü—å–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞:
* `__text`: –°–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–∏–π –±—ñ–Ω–∞—Ä–Ω–∏–π –∫–æ–¥
* `__const`: –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ñ –¥–∞–Ω—ñ
* `__cstring`: –†—è–¥–∫–æ–≤—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏
* `__stubs` —Ç–∞ `__stubs_helper`: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –ø—Ä–æ—Ü–µ—Å—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫
* **`__DATA`**: –ú—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ, —è–∫—ñ –º–æ–∂–Ω–∞ **—á–∏—Ç–∞—Ç–∏** —Ç–∞ **–ø–∏—Å–∞—Ç–∏** (–±–µ–∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è)**.**
* `__data`: –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ (—è–∫—ñ –±—É–ª–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ)
* `__bss`: –°—Ç–∞—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ (—è–∫—ñ –Ω–µ –±—É–ª–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ)
* `__objc_*` (\_\_objc\_classlist, \_\_objc\_protolist, —Ç–æ—â–æ): –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∞ –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Objective-C
* **`__LINKEDIT`**: –ú—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –¥–ª—è –ª—ñ–Ω–∫–µ—Ä–∞ (dyld), —Ç–∞–∫—É —è–∫ "–∑–∞–ø–∏—Å, —Ä—è–¥–æ–∫ —Ç–∞ –∑–∞–ø–∏—Å–∏ —Ç–∞–±–ª–∏—Ü—ñ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è."
* **`__OBJC`**: –ú—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—É –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Objective-C. –•–æ—á–∞ —Ü—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —Ç–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ —Å–µ–≥–º–µ–Ω—Ç—ñ \_\_DATA, —É —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª–∞—Ö \_\_objc\_\*.

### **`LC_MAIN`**

–ú—ñ—Å—Ç–∏—Ç—å —Ç–æ—á–∫—É –≤—Ö–æ–¥—É –≤ –∞—Ç—Ä–∏–±—É—Ç—ñ **entryoff**. –ü—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è **dyld** –ø—Ä–æ—Å—Ç–æ **–¥–æ–¥–∞—î** —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ (–≤ –ø–∞–º'—è—Ç—ñ) **–±–∞–∑–∏ –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª—É**, –∞ –ø–æ—Ç—ñ–º **–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å** –¥–æ —Ü—ñ—î—ó —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª—É.

### **LC\_CODE\_SIGNATURE**

–ú—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ **–ø—ñ–¥–ø–∏—Å –∫–æ–¥—É —Ñ–∞–π–ª—É Mach-O**. –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ **–∑—Å—É–≤**, —è–∫–∏–π **–≤–∫–∞–∑—É—î** –Ω–∞ **–±–ª–æ–± –ø—ñ–¥–ø–∏—Å—É**. –ó–∞–∑–≤–∏—á–∞–π —Ü–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å–∞–º–æ–º—É –∫—ñ–Ω—Ü—ñ —Ñ–∞–π–ª—É.\
–û–¥–Ω–∞–∫ –¥–µ—è–∫—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ü–µ–π —Ä–æ–∑–¥—ñ–ª –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ [**—Ü—å–æ–º—É –±–ª–æ–∑—ñ**](https://davedelong.com/blog/2018/01/10/reading-your-own-entitlements/) —Ç–∞ —Ü—å–æ–º—É [**gists**](https://gist.github.com/carlospolop/ef26f8eb9fafd4bc22e69e1a32b81da4).

### **LC\_LOAD\_DYLINKER**

–ú—ñ—Å—Ç–∏—Ç—å **—à–ª—è—Ö –¥–æ –≤–∏–∫–æ–Ω–∞–≤—á–æ–≥–æ —Ñ–∞–π–ª—É –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –ª—ñ–Ω–∫–µ—Ä–∞**, —è–∫–∏–π –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø—ñ–ª—å–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –≤ –∞–¥—Ä–µ—Å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø—Ä–æ—Ü–µ—Å—É. **–ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞–≤–∂–¥–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ –Ω–∞ `/usr/lib/dyld`**. –í–∞–∂–ª–∏–≤–æ –∑–∞—É–≤–∞–∂–∏—Ç–∏, —â–æ –≤ macOS –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è dylib –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ **—Ä–µ–∂–∏–º—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**, –∞ –Ω–µ –≤ —Ä–µ–∂–∏–º—ñ —è–¥—Ä–∞.

### **`LC_LOAD_DYLIB`**

–¶—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–ø–∏—Å—É—î –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å **–¥–∏–Ω–∞–º—ñ—á–Ω–æ—ó** **–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏**, —è–∫–∞ **–≤–∫–∞–∑—É—î** **–∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á—É** (dyld) **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–∞ –∑–≤'—è–∑–∞—Ç–∏ —Ü—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É**. –Ü—Å–Ω—É—î –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è LC\_LOAD\_DYLIB **–¥–ª—è –∫–æ–∂–Ω–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏**, —è–∫—É –ø–æ—Ç—Ä–µ–±—É—î –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª Mach-O.

* –¶—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é —Ç–∏–ø—É **`dylib_command`** (—è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É dylib, —â–æ –æ–ø–∏—Å—É—î —Ñ–∞–∫—Ç–∏—á–Ω—É –∑–∞–ª–µ–∂–Ω—É –¥–∏–Ω–∞–º—ñ—á–Ω—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É):
```objectivec
struct dylib_command {
uint32_t        cmd;            /* LC_LOAD_{,WEAK_}DYLIB */
uint32_t        cmdsize;        /* includes pathname string */
struct dylib    dylib;          /* the library identification */
};

struct dylib {
union lc_str  name;                 /* library's path name */
uint32_t timestamp;                 /* library's build time stamp */
uint32_t current_version;           /* library's current version number */
uint32_t compatibility_version;     /* library's compatibility vers number*/
};
```
![](<../../../.gitbook/assets/image (558).png>)

–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ü—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
```bash
otool -L /bin/ls
/bin/ls:
/usr/lib/libutil.dylib (compatibility version 1.0.0, current version 1.0.0)
/usr/lib/libncurses.5.4.dylib (compatibility version 5.4.0, current version 5.4.0)
/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.0.0)
```
–î–µ—è–∫—ñ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —à–∫—ñ–¥–ª–∏–≤–∏–º –ü–ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:

* **DiskArbitration**: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ USB-–Ω–∞–∫–æ–ø–∏—á—É–≤–∞—á—ñ–≤
* **AVFoundation:** –ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∞—É–¥—ñ–æ —Ç–∞ –≤—ñ–¥–µ–æ
* **CoreWLAN**: –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è Wifi.

{% hint style="info" %}
Mach-O –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –æ–¥–∏–Ω –∞–±–æ **–±—ñ–ª—å—à–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤**, —è–∫—ñ –±—É–¥—É—Ç—å **–≤–∏–∫–æ–Ω–∞–Ω—ñ –ø–µ—Ä–µ–¥** –∞–¥—Ä–µ—Å–æ—é, –≤–∫–∞–∑–∞–Ω–æ—é –≤ **LC\_MAIN**.\
–ó–º—ñ—â–µ–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ä–æ–∑–¥—ñ–ª—ñ **\_\_mod\_init\_func** —Å–µ–≥–º–µ–Ω—Ç–∞ **\_\_DATA\_CONST**.
{% endhint %}

## **–î–∞–Ω—ñ Mach-O**

–£ –æ—Å–Ω–æ–≤—ñ —Ñ–∞–π–ª—É –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –æ–±–ª–∞—Å—Ç—å –¥–∞–Ω–∏—Ö, —è–∫–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –∫—ñ–ª—å–∫–æ—Ö —Å–µ–≥–º–µ–Ω—Ç—ñ–≤, —è–∫—ñ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤ –æ–±–ª–∞—Å—Ç—ñ –∫–æ–º–∞–Ω–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è. **–£ –∫–æ–∂–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—ñ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏—Å—è —Ä—ñ–∑–Ω—ñ —Å–µ–∫—Ü—ñ—ó –¥–∞–Ω–∏—Ö**, –ø—Ä–∏—á–æ–º—É –∫–æ–∂–Ω–∞ —Å–µ–∫—Ü—ñ—è **–º—ñ—Å—Ç–∏—Ç—å –∫–æ–¥ –∞–±–æ –¥–∞–Ω—ñ**, —â–æ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è —Ç–∏–ø—É.

{% hint style="success" %}
–î–∞–Ω—ñ - —Ü–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É —á–∞—Å—Ç–∏–Ω–∞, —â–æ –º—ñ—Å—Ç–∏—Ç—å –≤—Å—é **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é**, —è–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–∞–º–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è **LC\_SEGMENTS\_64**
{% endhint %}

![https://www.oreilly.com/api/v2/epubs/9781785883378/files/graphics/B05055\_02\_38.jpg](<../../../.gitbook/assets/image (507) (3).png>)

–¶–µ –≤–∫–ª—é—á–∞—î:

* **–¢–∞–±–ª–∏—Ü—è —Ñ—É–Ω–∫—Ü—ñ–π:** –Ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ñ—É–Ω–∫—Ü—ñ—ó –ø—Ä–æ–≥—Ä–∞–º–∏.
* **–¢–∞–±–ª–∏—Ü—è —Å–∏–º–≤–æ–ª—ñ–≤**: –Ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–æ–≤–Ω—ñ—à–Ω—é —Ñ—É–Ω–∫—Ü—ñ—é, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—É –±—ñ–Ω–∞—Ä–Ω–∏–º —Ñ–∞–π–ª–æ–º
* –¢–∞–∫–æ–∂ –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, –Ω–∞–∑–≤–∏ –∑–º—ñ–Ω–Ω–∏—Ö —Ç–∞ —ñ–Ω—à–µ.

–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ü—å–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç [**Mach-O View**](https://sourceforge.net/projects/machoview/):

<figure><img src="../../../.gitbook/assets/image (2) (1) (4).png" alt=""><figcaption></figcaption></figure>

–ê–±–æ –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞:
```bash
size -m /bin/ls
```
<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
