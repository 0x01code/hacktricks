# macOS рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдмрд╛рдЗрдирд░реАрдЬрд╝ рдФрд░ Mach-O рдлреЙрд░реНрдореЗрдЯ

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **HackTricks** рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛрдЬрд╝ рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╢реЗрдпрд░ рдХрд░реЗрдВ.

</details>

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

Mac OS рдмрд╛рдЗрдирд░реАрдЬрд╝ рдЖрдорддреМрд░ рдкрд░ **рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдмрд╛рдЗрдирд░реАрдЬрд╝** рдХреЗ рд░реВрдк рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЬрд╛рддреА рд╣реИрдВред рдПрдХ **рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдмрд╛рдЗрдирд░реА** рдПрдХ рд╣реА рдлрд╛рдЗрд▓ рдореЗрдВ **рдХрдИ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░реНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░ рд╕рдХрддреА рд╣реИ**ред

рдпреЗ рдмрд╛рдЗрдирд░реАрдЬрд╝ **Mach-O рд╕рдВрд░рдЪрдирд╛** рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреА рд╣реИрдВ рдЬреЛ рдореВрд▓ рд░реВрдк рд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗ рдмрдиреА рд╣реЛрддреА рд╣реИ:

* рд╣реЗрдбрд░
* рд▓реЛрдб рдХрдорд╛рдВрдбреНрд╕
* рдбреЗрдЯрд╛

![](<../../../.gitbook/assets/image (559).png>)

## рдлреИрдЯ рд╣реЗрдбрд░

рдлрд╛рдЗрд▓ рдХреЛ рдЗрд╕рдХреЗ рд╕рд╛рде рдЦреЛрдЬреЗрдВ: `mdfind fat.h | grep -i mach-o | grep -E "fat.h$"`

<pre class="language-c"><code class="lang-c"><strong>#define FAT_MAGIC	0xcafebabe
</strong><strong>#define FAT_CIGAM	0xbebafeca	/* NXSwapLong(FAT_MAGIC) */
</strong>
struct fat_header {
<strong>	uint32_t	magic;		/* FAT_MAGIC or FAT_MAGIC_64 */
</strong><strong>	uint32_t	nfat_arch;	/* рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕реНрдЯреНрд░рдХреНрдЪрд░реНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ */
</strong>};

struct fat_arch {
cpu_type_t	cputype;	/* cpu рд╡рд┐рд╢реЗрд╖рдХ (int) */
cpu_subtype_t	cpusubtype;	/* рдорд╢реАрди рд╡рд┐рд╢реЗрд╖рдХ (int) */
uint32_t	offset;		/* рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдлрд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдлрд╛рдЗрд▓ рдСрдлрд╕реЗрдЯ */
uint32_t	size;		/* рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдлрд╛рдЗрд▓ рдХрд╛ рдЖрдХрд╛рд░ */
uint32_t	align;		/* 2 рдХреА рд╢рдХреНрддрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрд░реЗрдЦрдг */
};
</code></pre>

рд╣реЗрдбрд░ рдореЗрдВ **рдореИрдЬрд┐рдХ** рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдмрд╛рдж рдлрд╛рдЗрд▓ рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рдЖрд░реНрдХреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛** (`nfat_arch`) рд╣реЛрддреА рд╣реИ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдЖрд░реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ `fat_arch` рд╕реНрдЯреНрд░рдХреНрдЪрд░ рд╣реЛрдЧрд╛ред

рдЗрд╕реЗ рдЗрд╕рдХреЗ рд╕рд╛рде рдЬрд╛рдВрдЪреЗрдВ:

<pre class="language-shell-session"><code class="lang-shell-session">% file /bin/ls
/bin/ls: Mach-O рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдмрд╛рдЗрдирд░реА 2 рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░реНрд╕ рдХреЗ рд╕рд╛рде: [x86_64:Mach-O 64-рдмрд┐рдЯ рдПрдХреНрдЬреАрдХреНрдпреВрдЯреЗрдмрд▓ x86_64] [arm64e:Mach-O 64-рдмрд┐рдЯ рдПрдХреНрдЬреАрдХреНрдпреВрдЯреЗрдмрд▓ arm64e]
/bin/ls (for architecture x86_64):	Mach-O 64-рдмрд┐рдЯ рдПрдХреНрдЬреАрдХреНрдпреВрдЯреЗрдмрд▓ x86_64
/bin/ls (for architecture arm64e):	Mach-O 64-рдмрд┐рдЯ рдПрдХреНрдЬреАрдХреНрдпреВрдЯреЗрдмрд▓ arm64e

% otool -f -v /bin/ls
Fat headers
fat_magic FAT_MAGIC
<strong>nfat_arch 2
</strong><strong>architecture x86_64
</strong>    cputype CPU_TYPE_X86_64
cpusubtype CPU_SUBTYPE_X86_64_ALL
capabilities 0x0
<strong>    offset 16384
</strong><strong>    size 72896
</strong>    align 2^14 (16384)
<strong>architecture arm64e
</strong>    cputype CPU_TYPE_ARM64
cpusubtype CPU_SUBTYPE_ARM64E
capabilities PTR_AUTH_VERSION USERSPACE 0
<strong>    offset 98304
</strong><strong>    size 88816
</strong>    align 2^14 (16384)
</code></pre>

рдпрд╛ [Mach-O View](https://sourceforge.net/projects/machoview/) рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:

<figure><img src="../../../.gitbook/assets/image (5) (1) (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рд╕реЛрдЪ рд░рд╣реЗ рд╣реЛрдВрдЧреЗ, рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдмрд╛рдЗрдирд░реА рдЬреЛ 2 рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЧрдИ рд╣реИ, рдЙрд╕рдХрд╛ рдЖрдХрд╛рд░ рдЙрд╕ рдмрд╛рдЗрдирд░реА рдХреЗ рджреЛрдЧреБрдирд╛ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдХреЗрд╡рд▓ 1 рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП рдХрдВрдкрд╛рдЗрд▓ рдХреА рдЧрдИ рд╣реИред

## **Mach-O рд╣реЗрдбрд░**

рд╣реЗрдбрд░ рдореЗрдВ рдлрд╛рдЗрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдЗрд╕реЗ Mach-O рдлрд╛рдЗрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╣рдЪрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдЬрд┐рдХ рдмрд╛рдЗрдЯреНрд╕ рдФрд░ рд▓рдХреНрд╖реНрдп рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реАред рдЖрдк рдЗрд╕реЗ рдпрд╣рд╛рдБ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ: `mdfind loader.h | grep -i mach-o | grep -E "loader.h$"`
```c
#define	MH_MAGIC	0xfeedface	/* the mach magic number */
#define MH_CIGAM	0xcefaedfe	/* NXSwapInt(MH_MAGIC) */
struct mach_header {
uint32_t	magic;		/* mach magic number identifier */
cpu_type_t	cputype;	/* cpu specifier (e.g. I386) */
cpu_subtype_t	cpusubtype;	/* machine specifier */
uint32_t	filetype;	/* type of file (usage and alignment for the file) */
uint32_t	ncmds;		/* number of load commands */
uint32_t	sizeofcmds;	/* the size of all the load commands */
uint32_t	flags;		/* flags */
};

#define MH_MAGIC_64 0xfeedfacf /* the 64-bit mach magic number */
#define MH_CIGAM_64 0xcffaedfe /* NXSwapInt(MH_MAGIC_64) */
struct mach_header_64 {
uint32_t	magic;		/* mach magic number identifier */
int32_t		cputype;	/* cpu specifier */
int32_t		cpusubtype;	/* machine specifier */
uint32_t	filetype;	/* type of file */
uint32_t	ncmds;		/* number of load commands */
uint32_t	sizeofcmds;	/* the size of all the load commands */
uint32_t	flags;		/* flags */
uint32_t	reserved;	/* reserved */
};
```
**рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдХрд╛рд░**:

* MH\_EXECUTE (0x2): рдорд╛рдирдХ Mach-O рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп
* MH\_DYLIB (0x6): рдПрдХ Mach-O рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд┐рдВрдХреНрдб рд▓рд╛рдЗрдмреНрд░реЗрд░реА (рдЙрджрд╛. .dylib)
* MH\_BUNDLE (0x8): рдПрдХ Mach-O рдмрдВрдбрд▓ (рдЙрджрд╛. .bundle)
```bash
# Checking the mac header of a binary
otool -arch arm64e -hv /bin/ls
Mach header
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC_64    ARM64          E USR00     EXECUTE    19       1728   NOUNDEFS DYLDLINK TWOLEVEL PIE
```
рдпрд╛ [Mach-O View](https://sourceforge.net/projects/machoview/) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП:

<figure><img src="../../../.gitbook/assets/image (4) (1) (4).png" alt=""><figcaption></figcaption></figure>

## **Mach-O рд▓реЛрдб рдХрдорд╛рдВрдбреНрд╕**

рдпрд╣ **рдлрд╛рдЗрд▓ рдХреА рдореЗрдореЛрд░реА рдореЗрдВ рд▓реЗрдЖрдЙрдЯ** рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдореЗрдВ **рд╕рд┐рдВрдмрд▓ рдЯреЗрдмрд▓ рдХрд╛ рд╕реНрдерд╛рди**, рдирд┐рд╖реНрдкрд╛рджрди рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдореБрдЦреНрдп рдереНрд░реЗрдб рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ, рдФрд░ рдХреМрди рд╕реА **рд╢реЗрдпрд░реНрдб рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ** рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВ, рд╢рд╛рдорд┐рд▓ рд╣реИрдВред\
рдХрдорд╛рдВрдбреНрд╕ рдореВрд▓ рд░реВрдк рд╕реЗ рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓реЛрдбрд░ **(dyld) рдХреЛ рдпрд╣ рдирд┐рд░реНрджреЗрд╢ рджреЗрддреА рд╣реИрдВ рдХрд┐ рдмрд╛рдЗрдирд░реА рдХреЛ рдореЗрдореЛрд░реА рдореЗрдВ рдХреИрд╕реЗ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рдПред**

рд▓реЛрдб рдХрдорд╛рдВрдбреНрд╕ рд╕рднреА **load\_command** рд╕рдВрд░рдЪрдирд╛ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИрдВ, рдЬреЛ рдкрд╣рд▓реЗ рдЙрд▓реНрд▓реЗрдЦрд┐рдд **`loader.h`** рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИ:
```objectivec
struct load_command {
uint32_t cmd;           /* type of load command */
uint32_t cmdsize;       /* total size of command in bytes */
};
```
рд▓рдЧрднрдЧ **50 рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓реЛрдб рдХрдорд╛рдВрдбреНрд╕** рд╣реЛрддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рд╕рд┐рд╕реНрдЯрдо рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред рд╕рдмрд╕реЗ рдЖрдо рд╡рд╛рд▓реЗ рд╣реИрдВ: `LC_SEGMENT_64`, `LC_LOAD_DYLINKER`, `LC_MAIN`, `LC_LOAD_DYLIB`, рдФрд░ `LC_CODE_SIGNATURE`.

### **LC\_SEGMENT/LC\_SEGMENT\_64**

{% hint style="success" %}
рдореВрд▓ рд░реВрдк рд╕реЗ, рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд▓реЛрдб рдХрдорд╛рдВрдб **рдХреИрд╕реЗ \_\_TEXT** (рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рдХреЛрдб) **рдФрд░ \_\_DATA** (рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛) **рд╕реЗрдЧрдореЗрдВрдЯреНрд╕ рдХреЛ рд▓реЛрдб рдХрд░рдирд╛ рд╣реИ** рдпрд╣ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ **рдбреЗрдЯрд╛ рд╕реЗрдХреНрд╢рди рдореЗрдВ рджрд┐рдП рдЧрдП рдСрдлрд╕реЗрдЯреНрд╕ рдХреЗ рдЕрдиреБрд╕рд╛рд░** рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдмрд╛рдЗрдирд░реА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИред
{% endhint %}

рдпреЗ рдХрдорд╛рдВрдбреНрд╕ **рд╕реЗрдЧрдореЗрдВрдЯреНрд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ** рдЬреЛ рдХрд┐ **рд╡рд░реНрдЪреБрдЕрд▓ рдореЗрдореЛрд░реА рд╕реНрдкреЗрд╕** рдореЗрдВ **рдореИрдк рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ** рдЬрдм рдХреЛрдИ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИред

**рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░** рдХреЗ рд╕реЗрдЧрдореЗрдВрдЯреНрд╕ рд╣реЛрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ **\_\_TEXT** рд╕реЗрдЧрдореЗрдВрдЯ, рдЬреЛ рдХрд┐рд╕реА рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рдХреЛрдб рдХреЛ рд░рдЦрддрд╛ рд╣реИ, рдФрд░ **\_\_DATA** рд╕реЗрдЧрдореЗрдВрдЯ, рдЬреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреЛ рд╕рдорд╛рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИред рдпреЗ **рд╕реЗрдЧрдореЗрдВрдЯреНрд╕ рдордЪ-рдУ рдлрд╛рдЗрд▓ рдХреЗ рдбреЗрдЯрд╛ рд╕реЗрдХреНрд╢рди рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддреЗ рд╣реИрдВ**ред

**рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ** рдХреЛ рдЖрдЧреЗ **рд╡рд┐рднрд╛рдЬрд┐рдд** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдмрд╣реБрдд рд╕рд╛рд░реЗ **рд╕реЗрдХреНрд╢рдиреНрд╕** рдореЗрдВред **рд▓реЛрдб рдХрдорд╛рдВрдб рд╕реНрдЯреНрд░рдХреНрдЪрд░** рдореЗрдВ **рдЗрди рд╕реЗрдХреНрд╢рдиреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА** рд╣реЛрддреА рд╣реИ рдЬреЛ рд╕рдВрдмрдВрдзрд┐рдд рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рднреАрддрд░ рд╣реЛрддреА рд╣реИред

рд╣реЗрдбрд░ рдореЗрдВ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ **рд╕реЗрдЧрдореЗрдВрдЯ рд╣реЗрдбрд░** рдорд┐рд▓рддрд╛ рд╣реИ:

<pre class="language-c"><code class="lang-c">struct segment_command_64 { /* 64-рдмрд┐рдЯ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП */
uint32_t	cmd;		/* LC_SEGMENT_64 */
uint32_t	cmdsize;	/* includes sizeof section_64 structs */
char		segname[16];	/* рд╕реЗрдЧрдореЗрдВрдЯ рдХрд╛ рдирд╛рдо */
uint64_t	vmaddr;		/* рдЗрд╕ рд╕реЗрдЧрдореЗрдВрдЯ рдХрд╛ рдореЗрдореЛрд░реА рдПрдбреНрд░реЗрд╕ */
uint64_t	vmsize;		/* рдЗрд╕ рд╕реЗрдЧрдореЗрдВрдЯ рдХрд╛ рдореЗрдореЛрд░реА рд╕рд╛рдЗрдЬ */
uint64_t	fileoff;	/* рдЗрд╕ рд╕реЗрдЧрдореЗрдВрдЯ рдХрд╛ рдлрд╛рдЗрд▓ рдСрдлрд╕реЗрдЯ */
uint64_t	filesize;	/* рдлрд╛рдЗрд▓ рд╕реЗ рдореИрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд╛рд╢рд┐ */
int32_t		maxprot;	/* рдЕрдзрд┐рдХрддрдо VM рд╕реБрд░рдХреНрд╖рд╛ */
int32_t		initprot;	/* рдкреНрд░рд╛рд░рдВрднрд┐рдХ VM рд╕реБрд░рдХреНрд╖рд╛ */
<strong>	uint32_t	nsects;		/* рд╕реЗрдЧрдореЗрдВрдЯ рдореЗрдВ рд╕реЗрдХреНрд╢рдиреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ */
</strong>	uint32_t	flags;		/* рдЭрдВрдбреЗ */
};
</code></pre>

рд╕реЗрдЧрдореЗрдВрдЯ рд╣реЗрдбрд░ рдХрд╛ рдЙрджрд╛рд╣рд░рдг:

<figure><img src="../../../.gitbook/assets/image (2) (2) (1) (1).png" alt=""><figcaption></figcaption></figure>

рдпрд╣ рд╣реЗрдбрд░ **рдЙрди рд╕реЗрдХреНрд╢рдиреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдирдХреЗ рд╣реЗрдбрд░реНрд╕ рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрддреЗ рд╣реИрдВ**:
```c
struct section_64 { /* for 64-bit architectures */
char		sectname[16];	/* name of this section */
char		segname[16];	/* segment this section goes in */
uint64_t	addr;		/* memory address of this section */
uint64_t	size;		/* size in bytes of this section */
uint32_t	offset;		/* file offset of this section */
uint32_t	align;		/* section alignment (power of 2) */
uint32_t	reloff;		/* file offset of relocation entries */
uint32_t	nreloc;		/* number of relocation entries */
uint32_t	flags;		/* flags (section type and attributes)*/
uint32_t	reserved1;	/* reserved (for offset or index) */
uint32_t	reserved2;	/* reserved (for count or sizeof) */
uint32_t	reserved3;	/* reserved */
};
```
рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП **рдЕрдиреБрднрд╛рдЧ рд╢реАрд░реНрд╖рдХ**:

<figure><img src="../../../.gitbook/assets/image (6) (2).png" alt=""><figcaption></figcaption></figure>

рдпрджрд┐ рдЖрдк **рдЕрдиреБрднрд╛рдЧ рдСрдлрд╕реЗрдЯ** (0x37DC) + **рдСрдлрд╕реЗрдЯ** рдЬрд╣рд╛рдВ **рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ**, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ `0x18000` рдХреЛ **рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ** --> `0x37DC + 0x18000 = 0x1B7DC`

<figure><img src="../../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

**рдХрдорд╛рдВрдб рд▓рд╛рдЗрди** рдХреЗ рд╕рд╛рде **рд╣реЗрдбрд░реНрд╕ рдХреА рдЬрд╛рдирдХрд╛рд░реА** рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИ:
```bash
otool -lv /bin/ls
```
рдЗрд╕ cmd рджреНрд╡рд╛рд░рд╛ рд▓реЛрдб рдХрд┐рдП рдЧрдП рд╕рд╛рдорд╛рдиреНрдп рд╕реЗрдЧрдореЗрдВрдЯ:

* **`__PAGEZERO`:** рдпрд╣ рдХрд░реНрдиреЗрд▓ рдХреЛ рдирд┐рд░реНрджреЗрд╢ рджреЗрддрд╛ рд╣реИ рдХрд┐ **address zero** рдХреЛ **map** рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЗрд╕реЗ **рдкрдврд╝рд╛, рд▓рд┐рдЦрд╛ рдпрд╛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ maxprot рдФрд░ minprot рдЪрд░ рдХреЛ рд╢реВрдиреНрдп рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рдкреЗрдЬ рдкрд░ **рдХреЛрдИ рдкрдврд╝рдиреЗ-рд▓рд┐рдЦрдиреЗ-рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рдЕрдзрд┐рдХрд╛рд░ рдирд╣реАрдВ рд╣реИрдВ**ред
* рдпрд╣ рдЖрд╡рдВрдЯрди **NULL pointer dereference vulnerabilities рдХреЛ рдХрдо рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред
* **`__TEXT`**: **рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп** **рдХреЛрдб** рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ **рдкрдврд╝рдиреЗ** рдФрд░ **рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИ (рд▓рд┐рдЦрдиреЗ рдпреЛрдЧреНрдп рдирд╣реАрдВ)ред рдЗрд╕ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдЕрдиреБрднрд╛рдЧ:
* `__text`: рд╕рдВрдХрд▓рд┐рдд рдмрд╛рдЗрдирд░реА рдХреЛрдб
* `__const`: рд╕реНрдерд┐рд░ рдбреЗрдЯрд╛
* `__cstring`: рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЙрдиреНрд╕реНрдЯреЗрдВрдЯреНрд╕
* `__stubs` рдФрд░ `__stubs_helper`: рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдбрд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди рд╢рд╛рдорд┐рд▓
* **`__DATA`**: рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ **рдкрдврд╝рдиреЗ рдпреЛрдЧреНрдп** рдФрд░ **рд▓рд┐рдЦрдиреЗ рдпреЛрдЧреНрдп** рд╣реЛрддрд╛ рд╣реИ (рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рдирд╣реАрдВ)ред
* `__data`: рдЧреНрд▓реЛрдмрд▓ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ (рдЬреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд┐рдП рдЧрдП рд╣реИрдВ)
* `__bss`: рд╕реНрдЯреИрдЯрд┐рдХ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ (рдЬреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдирд╣реАрдВ рдХрд┐рдП рдЧрдП рд╣реИрдВ)
* `__objc_*` (\_\_objc\_classlist, \_\_objc\_protolist, рдЖрджрд┐): Objective-C рд░рдирдЯрд╛рдЗрдо рджреНрд╡рд╛рд░рд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреА рдЧрдИ рдЬрд╛рдирдХрд╛рд░реА
* **`__LINKEDIT`**: рд▓рд┐рдВрдХрд░ (dyld) рдХреЗ рд▓рд┐рдП рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИ рдЬреИрд╕реЗ, "рд╕рд┐рдВрдмрд▓, рд╕реНрдЯреНрд░рд┐рдВрдЧ, рдФрд░ рд░рд┐рд▓реЛрдХреЗрд╢рди рдЯреЗрдмрд▓ рдПрдВрдЯреНрд░реАрдЬрд╝ред"
* **`__OBJC`**: Objective-C рд░рдирдЯрд╛рдЗрдо рджреНрд╡рд╛рд░рд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреА рдЧрдИ рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА \_\_DATA рд╕реЗрдЧрдореЗрдВрдЯ рдореЗрдВ рднреА рдорд┐рд▓ рд╕рдХрддреА рд╣реИ, рд╡рд┐рднрд┐рдиреНрди \_\_objc\_\* рдЕрдиреБрднрд╛рдЧреЛрдВ рдХреЗ рднреАрддрд░ред

### **`LC_MAIN`**

рдЗрд╕рдореЗрдВ **entryoff attribute** рдореЗрдВ рдПрдВрдЯреНрд░реАрдкреЙрдЗрдВрдЯ рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИред рд▓реЛрдб рд╕рдордп рдкрд░, **dyld** рдмрд╕ рдЗрд╕ рдорд╛рди рдХреЛ рдмрд╛рдЗрдирд░реА рдХреЗ (рдореЗрдореЛрд░реА рдореЗрдВ) **рдмреЗрд╕** рдореЗрдВ **рдЬреЛрдбрд╝рддрд╛** рд╣реИ, рдлрд┐рд░ рдмрд╛рдЗрдирд░реА рдХреЗ рдХреЛрдб рдХреА рдирд┐рд╖реНрдкрд╛рджрди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдирд┐рд░реНрджреЗрд╢ рдкрд░ **рдХреВрджрддрд╛** рд╣реИред

### **LC\_CODE\_SIGNATURE**

Macho-O рдлрд╛рдЗрд▓ рдХреЗ **рдХреЛрдб рд╕рд┐рдЧреНрдиреЗрдЪрд░** рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИред рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ **рдСрдлрд╕реЗрдЯ** рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИ рдЬреЛ **рд╕рд┐рдЧреНрдиреЗрдЪрд░ рдмреНрд▓реЙрдм** рдХреА рдУрд░ **рдЗрд╢рд╛рд░рд╛** рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдлрд╛рдЗрд▓ рдХреЗ рдмрд╣реБрдд рдЕрдВрдд рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред\
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА рдЖрдк [**рдЗрд╕ рдмреНрд▓реЙрдЧ рдкреЛрд╕реНрдЯ**](https://davedelong.com/blog/2018/01/10/reading-your-own-entitlements/) рдФрд░ рдЗрд╕ [**gists**](https://gist.github.com/carlospolop/ef26f8eb9fafd4bc22e69e1a32b81da4) рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### **LC\_LOAD\_DYLINKER**

рдЗрд╕рдореЗрдВ **рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд┐рдВрдХрд░ рдПрдХреНрдЬреАрдХреНрдпреВрдЯреЗрдмрд▓** рдХрд╛ рдкрде рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рд╢реЗрдпрд░реНрдб рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдПрдбреНрд░реЗрд╕ рд╕реНрдкреЗрд╕ рдореЗрдВ рдореИрдк рдХрд░рддрд╛ рд╣реИред **рдорд╛рди рд╣рдореЗрд╢рд╛ `/usr/lib/dyld` рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдпрд╣ рдзреНрдпрд╛рди рджреЗрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ macOS рдореЗрдВ, dylib рдореИрдкрд┐рдВрдЧ **рдпреВрдЬрд░ рдореЛрдб** рдореЗрдВ рд╣реЛрддреА рд╣реИ, рдХрд░реНрдиреЗрд▓ рдореЛрдб рдореЗрдВ рдирд╣реАрдВред

### **`LC_LOAD_DYLIB`**

рдпрд╣ рд▓реЛрдб рдХрдорд╛рдВрдб рдПрдХ **рдбрд╛рдпрдирд╛рдорд┐рдХ** **рд▓рд╛рдЗрдмреНрд░реЗрд░реА** рдирд┐рд░реНрднрд░рддрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ рдЬреЛ **рд▓реЛрдбрд░** (dyld) рдХреЛ **рд╕рдВрдмрдВрдзрд┐рдд рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рд▓реЛрдб рдФрд░ рд▓рд┐рдВрдХ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрджреЗрд╢** рджреЗрддрд╛ рд╣реИред Mach-O рдмрд╛рдЗрдирд░реА рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ рдкреНрд░рддреНрдпреЗрдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд▓рд┐рдП рдПрдХ LC\_LOAD\_DYLIB рд▓реЛрдб рдХрдорд╛рдВрдб рд╣реЛрддрд╛ рд╣реИред

* рдпрд╣ рд▓реЛрдб рдХрдорд╛рдВрдб **`dylib_command`** рдкреНрд░рдХрд╛рд░ рдХреА рд╕рдВрд░рдЪрдирд╛ рд╣реЛрддреА рд╣реИ (рдЬрд┐рд╕рдореЗрдВ рдПрдХ struct dylib рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдирд┐рд░реНрднрд░ рдбрд╛рдпрдирд╛рдорд┐рдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ):
```objectivec
struct dylib_command {
uint32_t        cmd;            /* LC_LOAD_{,WEAK_}DYLIB */
uint32_t        cmdsize;        /* includes pathname string */
struct dylib    dylib;          /* the library identification */
};

struct dylib {
union lc_str  name;                 /* library's path name */
uint32_t timestamp;                 /* library's build time stamp */
uint32_t current_version;           /* library's current version number */
uint32_t compatibility_version;     /* library's compatibility vers number*/
};
```
рдЖрдк рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА cli рд╕реЗ рднреА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
otool -L /bin/ls
/bin/ls:
/usr/lib/libutil.dylib (compatibility version 1.0.0, current version 1.0.0)
/usr/lib/libncurses.5.4.dylib (compatibility version 5.4.0, current version 5.4.0)
/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.0.0)
```
рдХреБрдЫ рд╕рдВрднрд╛рд╡рд┐рдд рдореИрд▓рд╡реЗрдпрд░ рд╕рдВрдмрдВрдзрд┐рдд рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬрд╝ рд╣реИрдВ:

* **DiskArbitration**: USB рдбреНрд░рд╛рдЗрд╡реНрд╕ рдХреА рдирд┐рдЧрд░рд╛рдиреА
* **AVFoundation:** рдСрдбрд┐рдпреЛ рдФрд░ рд╡реАрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░
* **CoreWLAN**: рд╡рд╛рдИрдлрд╛рдИ рд╕реНрдХреИрдиред

{% hint style="info" %}
рдПрдХ Mach-O рдмрд╛рдЗрдирд░реА рдореЗрдВ рдПрдХ рдпрд╛ **рдЕрдзрд┐рдХ** **рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░реНрд╕** рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ **LC\_MAIN** рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдкрддреЗ рд╕реЗ **рдкрд╣рд▓реЗ** **рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред\
рдХрд┐рд╕реА рднреА рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░реНрд╕ рдХреЗ рдСрдлрд╕реЗрдЯ **\_\_mod\_init\_func** рд╕реЗрдХреНрд╢рди рдореЗрдВ рд░рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВ рдЬреЛ рдХрд┐ **\_\_DATA\_CONST** рд╕реЗрдЧрдореЗрдВрдЯ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрддреЗ рд╣реИрдВред
{% endhint %}

## **Mach-O рдбреЗрдЯрд╛**

рдлрд╛рдЗрд▓ рдХрд╛ рдореБрдЦреНрдп рднрд╛рдЧ рдЕрдВрддрд┐рдо рдХреНрд╖реЗрддреНрд░, рдбреЗрдЯрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд▓реЛрдб-рдХрдорд╛рдВрдбреНрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрдИ рд╕реЗрдЧрдореЗрдВрдЯреНрд╕ рд╣реЛрддреЗ рд╣реИрдВред **рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ рдореЗрдВ рдХрдИ рдбреЗрдЯрд╛ рд╕реЗрдХреНрд╢рдиреНрд╕ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ**ред рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдХреНрд╢рди рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХрд╛рд░ рдХрд╛ **рдХреЛрдб рдпрд╛ рдбреЗрдЯрд╛** рд╣реЛрддрд╛ рд╣реИред

{% hint style="success" %}
рдбреЗрдЯрд╛ рдореВрд▓ рд░реВрдк рд╕реЗ рд╡рд╣ рднрд╛рдЧ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕рднреА **рдЬрд╛рдирдХрд╛рд░реА** рд╣реЛрддреА рд╣реИ рдЬреЛ рд▓реЛрдб рдХрдорд╛рдВрдбреНрд╕ **LC\_SEGMENTS\_64** рджреНрд╡рд╛рд░рд╛ рд▓реЛрдб рдХреА рдЬрд╛рддреА рд╣реИред
{% endhint %}

![](<../../../.gitbook/assets/image (507) (3).png>)

рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:&#x20;

* **рдлрдВрдХреНрд╢рди рдЯреЗрдмрд▓:** рдЬрд┐рд╕рдореЗрдВ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдлрдВрдХреНрд╢рдиреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИред
* **рд╕рд┐рдВрдмрд▓ рдЯреЗрдмрд▓**: рдЬрд┐рд╕рдореЗрдВ рдмрд╛рдЗрдирд░реА рджреНрд╡рд╛рд░рд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдП рдЧрдП рдмрд╛рд╣рд░реА рдлрдВрдХреНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИ
* рдЗрд╕рдореЗрдВ рдЖрдВрддрд░рд┐рдХ рдлрдВрдХреНрд╢рди, рд╡реЗрд░рд┐рдПрдмрд▓ рдирд╛рдо рдФрд░ рдЕрдзрд┐рдХ рднреА рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

рдЗрд╕реЗ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк [**Mach-O View**](https://sourceforge.net/projects/machoview/) рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

<figure><img src="../../../.gitbook/assets/image (2) (1) (4).png" alt=""><figcaption></figcaption></figure>

рдпрд╛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ:
```bash
size -m /bin/ls
```
<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╢реЗрдпрд░ рдХрд░реЗрдВред

</details>
