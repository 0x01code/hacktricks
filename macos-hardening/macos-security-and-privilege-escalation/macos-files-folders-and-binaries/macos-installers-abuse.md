# macOS Installers рджреБрд░реБрдкрдпреЛрдЧ

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рджреНрд╡рд╛рд░рд╛ **рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## Pkg рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

рдПрдХ macOS **рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдкреИрдХреЗрдЬ** (рдЬрд┐рд╕реЗ `.pkg` рдлрд╝рд╛рдЗрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ) рдПрдХ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рд╣реИ рдЬрд┐рд╕рдХрд╛ macOS рджреНрд╡рд╛рд░рд╛ **рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рд╡рд┐рддрд░рд┐рдд** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпреЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдПрдХ **рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрд╢рди рдмреЙрдХреНрд╕ рдХреА рддрд░рд╣ рд╣реЛрддреА рд╣реИрдВ рдЬреЛ рдХрд┐рд╕реА рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреЛ** рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдЪреАрдЬрд╝реЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИред

рдкреИрдХреЗрдЬ рдлрд╝рд╛рдЗрд▓ рд╕реНрд╡рдпрдВ рдПрдХ рдЖрд░реНрдХрд╛рдЗрд╡ рд╣реИ рдЬреЛ рдПрдХ **рд╡рд┐рдЬреЗрддрд╛** рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ **рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХрд╛ рд╡рд░реНрдЧреАрдХрд░рдг** рд░рдЦрддрд╛ рд╣реИред рдпрд╣ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдкреБрд░рд╛рдиреА рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рдиреЗ рдпрд╛ рд╡рд┐рдиреНрдпрд╛рд╕ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕реЗрдЯ рдХрд░рдиреЗ рдЬреИрд╕реЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд╕реНрдХреНрд░рд┐рдкреНрдЯ** рднреА рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

### рд╡рд░реНрдЧреАрдХрд░рдг

<figure><img src="../../../.gitbook/assets/Pasted Graphic.png" alt="https://www.youtube.com/watch?v=iASSG0_zobQ"><figcaption></figcaption></figure>

* **рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрд╢рди (xml)**: рдЕрдиреБрдХреВрд▓рди (рд╢реАрд░реНрд╖рдХ, рд╕реНрд╡рд╛рдЧрдд рдкрд╛рда...) рдФрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ/рд╕реНрдерд╛рдкрдирд╛ рдЬрд╛рдВрдЪреЗрдВ
* **рдкреИрдХреЗрдЬрдЗрдиреНрдлреЛ (xml)**: рдЬрд╛рдирдХрд╛рд░реА, рд╕реНрдерд╛рдкрдирд╛ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ, рд╕реНрдерд╛рдкрдирд╛ рд╕реНрдерд╛рди, рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдкрде рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП
* **рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдмрд┐рд▓ (bom)**: рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рд╕реВрдЪреА рдЬреЛ рд╕реНрдерд╛рдкрд┐рдд, рдЕрдкрдбреЗрдЯ рдпрд╛ рд╣рдЯрд╛рдИ рдЬрд╛рдПрдЧреА, рдлрд╝рд╛рдЗрд▓ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдХреЗ рд╕рд╛рде
* **рдкреЗрд▓реЛрдб (CPIO рдЖрд░реНрдХрд╛рдЗрд╡ gzip рд╕рдВрдкреАрдбрд╝рд┐рдд)**: `рдкреИрдХреЗрдЬрдЗрдиреНрдлреЛ` рд╕реЗ `рд╕реНрдерд╛рдкрди-рд╕реНрдерд╛рди` рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓реЗрдВ
* **рд╕реНрдХреНрд░рд┐рдкреНрдЯ (CPIO рдЖрд░реНрдХрд╛рдЗрд╡ gzip рд╕рдВрдкреАрдбрд╝рд┐рдд)**: рдкреВрд░реНрд╡ рдФрд░ рдкрдЫрддрд╛рд╡реЗ рд╕реНрдерд╛рдкрд┐рдд рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдЕрдзрд┐рдХ рд╕рдВрд╕рд╛рдзрди рдирд┐рд╖реНрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдПред

### рдбреАрдХрдВрдкреНрд░реЗрд╕
```bash
# Tool to directly get the files inside a package
pkgutil тАФexpand "/path/to/package.pkg" "/path/to/out/dir"

# Get the files ina. more manual way
mkdir -p "/path/to/out/dir"
cd "/path/to/out/dir"
xar -xf "/path/to/package.pkg"

# Decompress also the CPIO gzip compressed ones
cat Scripts | gzip -dc | cpio -i
cpio -i < Scripts
```
рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдбреАрдХрдВрдкреНрд░реЗрд╕ рдХрд┐рдП рдмрд┐рдирд╛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдореБрдлреНрдд рдЯреВрд▓ [**Suspicious Package**](https://mothersruin.com/software/SuspiciousPackage/) рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

## DMG рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

DMG рдлрд╝рд╛рдЗрд▓реЗрдВ, рдпрд╛ рдПрдкреНрдкрд▓ рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬреЗрд╕, рдПрдкреНрдкрд▓ рдХреЗ macOS рджреНрд╡рд╛рд░рд╛ рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬреЗрд╕ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдПрдХ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рд╣реИрдВред рдПрдХ DMG рдлрд╝рд╛рдЗрд▓ рдореВрд▓ рд░реВрдк рд╕реЗ рдПрдХ **рдорд╛рдЙрдВрдЯ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ** рд╣реИ (рдпрд╣ рдЕрдкрдиреА рдЕрдкрдиреА рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИ) рдЬрд┐рд╕рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд╕рдВрдкреАрдбрд╝рд┐рдд рдФрд░ рдХрднреА-рдХрднреА рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд░реЙ рдмреНрд▓реЙрдХ рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИред рдЬрдм рдЖрдк рдПрдХ DMG рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓рддреЗ рд╣реИрдВ, macOS рдЙрд╕реЗ **рдРрд╕реЗ рд╣реА рдПрдХ рднреМрддрд┐рдХ рдбрд┐рд╕реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдЙрдВрдЯ** рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рдЗрд╕рдХреА рд╕рд╛рдордЧреНрд░реА рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВред

### рд╡рд░реНрдЧреАрдХрд░рдг

<figure><img src="../../../.gitbook/assets/image (12) (2).png" alt=""><figcaption></figcaption></figure>

DMG рдлрд╝рд╛рдЗрд▓ рдХреА рд╡рд░реНрдЧреАрдХрд░рдг рд╕рд╛рдордЧреНрд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдкреНрд▓рд┐рдХреЗрд╢рди DMGs рдХреЗ рд▓рд┐рдП, рдпрд╣ рдЖрдо рддреМрд░ рдкрд░ рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддрд╛ рд╣реИ:

* рд╢реАрд░реНрд╖ рд╕реНрддрд░: рдпрд╣ рдбрд┐рд╕реНрдХ рдЗрдореЗрдЬ рдХреА рдЬрдбрд╝ рд╣реИред рдЗрд╕рдореЗрдВ рдЖрдо рддреМрд░ рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рд╣реЛрддрд╛ рд╣реИред
* рдПрдкреНрд▓рд┐рдХреЗрд╢рди (.app): рдпрд╣ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реЛрддрд╛ рд╣реИред macOS рдореЗрдВ, рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЖрдо рддреМрд░ рдкрд░ рдПрдХ рдкреИрдХреЗрдЬ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рд╡рд╛рд▓реА рдХрдИ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдлрд╝рд╛рдЗрд▓реЗрдВ рдФрд░ рдлрд╝реЛрд▓реНрдбрд░ рд╣реЛрддреЗ рд╣реИрдВред
* рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рд▓рд┐рдВрдХ: рдпрд╣ macOS рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдХрд╛ рдПрдХ рд╢реЙрд░реНрдЯрдХрдЯ рд╣реЛрддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдпрд╣ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реЛред рдЖрдк рдЗрд╕ рд╢реЙрд░реНрдЯрдХрдЯ рдкрд░ .app рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЦреАрдВрдЪрдХрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

## pkg рджреНрд╡рд╛рд░рд╛ Privesc рджреБрд░реБрдкрдпреЛрдЧ

### рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрди

рдпрджрд┐ рдХреЛрдИ рдкреВрд░реНрд╡ рдпрд╛ рдкреЛрд╕реНрдЯ рд╕реНрдерд╛рдкрдирд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП **`/var/tmp/Installerutil`** рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛ рд░рд╣рд╛ рд╣реИ, рдФрд░ рд╣рдорд▓рд╛рд╡рд░ рдЙрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рддреЛ рд╡рд╣ рдЬрдм рднреА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИ рд╡рд╣ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдЙрдиреНрдирдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдпрд╛ рдПрдХ рдФрд░ рд╕рдорд╛рди рдЙрджрд╛рд╣рд░рдг:

<figure><img src="../../../.gitbook/assets/Pasted Graphic 5.png" alt="https://www.youtube.com/watch?v=iASSG0_zobQ"><figcaption></figcaption></figure>

### AuthorizationExecuteWithPrivileges

рдпрд╣ рдПрдХ [рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдлрд╝рдВрдХреНрд╢рди](https://developer.apple.com/documentation/security/1540038-authorizationexecutewithprivileg) рд╣реИ рдЬрд┐рд╕реЗ рдХрдИ рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдФрд░ рдЕрдкрдбреЗрдЯрд░реНрд╕ **рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХреБрдЫ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП** рдХрд╣реЗрдВрдЧреЗред рдпрд╣ рдлрд╝рдВрдХреНрд╢рди **рдлрд╝рд╛рдЗрд▓** рдХрд╛ **рдкрде** рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ **рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдЧрд░ рд╣рдорд▓рд╛рд╡рд░ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХреЛ **рд╕рдВрд╢реЛрдзрд┐рдд** рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЕрдкрдиреА рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдЙрдиреНрдирдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
```bash
# Breakpoint in the function to check wich file is loaded
(lldb) b AuthorizationExecuteWithPrivileges
# You could also check FS events to find this missconfig
```
### рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рджреНрд╡рд╛рд░рд╛ рдорд╛рдЙрдВрдЯрд┐рдВрдЧ

рдпрджрд┐ рдПрдХ рд╕реНрдерд╛рдкрдХ `/tmp/fixedname/bla/bla` рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реИ, рддреЛ `/tmp/fixedname` рдкрд░ **рдХреЛрдИ рдорд╛рд▓рд┐рдХ рдирд╣реАрдВ** рдХреЗ рд╕рд╛рде рдПрдХ рдорд╛рдЙрдВрдЯ рдмрдирд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рддрд╛рдХрд┐ рдЖрдк **рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рджреМрд░рд╛рди рдХрд┐рд╕реА рднреА рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд** рдХрд░ рд╕рдХреЗрдВ рдФрд░ рд╕реНрдерд╛рдкрдирд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗрдВред

рдЗрд╕рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ **CVE-2021-26089** рдЬрд┐рд╕рдиреЗ **рдПрдХ рдЖрд╡рдзрд┐рдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдЕрдзрд┐рдХ рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдерд╛ рддрд╛рдХрд┐ рд╡рд╣ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдЯреЙрдХ рджреЗрдЦреЗрдВ: [**OBTS v4.0: "Mount(ain) of Bugs" - Csaba Fitzl**](https://www.youtube.com/watch?v=jSYPazD4VcE)

## рдореИрд▓рд╡реЗрдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ pkg

### рдЦрд╛рд▓реА рдкреЗрд▓реЛрдб

рдХреЗрд╡рд▓ **рдкреНрд░реА рдФрд░ рдкреЛрд╕реНрдЯ-рд╕реНрдерд╛рдкрдирд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ** рдХреЗ рд╕рд╛рде рдПрдХ **`.pkg`** рдлрд╝рд╛рдЗрд▓ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдкреЗрд▓реЛрдб рдХреЗред

### рд╡рд┐рддрд░рдг xml рдореЗрдВ JS

рдкреИрдХреЗрдЬ рдХреЗ рд╡рд┐рддрд░рдг xml рдлрд╝рд╛рдЗрд▓ рдореЗрдВ **`<script>`** рдЯреИрдЧ рдЬреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдФрд░ рдЙрд╕ рдХреЛрдб рдХреЛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдпрд╣ **`system.run`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдХрдорд╛рдВрдбреНрд╕ рдХреЛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд** рдХрд░ рд╕рдХрддрд╛ рд╣реИ:

<figure><img src="../../../.gitbook/assets/image (14).png" alt=""><figcaption></figcaption></figure>

## рд╕рдВрджрд░реНрдн

* [**DEF CON 27 - Unpacking Pkgs A Look Inside Macos Installer Packages And Common Security Flaws**](https://www.youtube.com/watch?v=iASSG0\_zobQ)
* [**OBTS v4.0: "The Wild World of macOS Installers" - Tony Lambert**](https://www.youtube.com/watch?v=Eow5uNHtmIg)
