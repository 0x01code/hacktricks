# macOS рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХреНрд▓рд╛рдЙрдб тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж рдЯреНрд╡рд┐рдЯрд░ ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П рдЯреНрд╡рд┐рдЪ ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе рдпреВрдЯреНрдпреВрдм ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рдЬрд╛рд░реА рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдЖрдк **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рджрд╕реНрдпрддрд╛ рдХреА рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдж рдкреАрдПрд╕ рдлреИрдорд┐рд▓реА**](https://opensea.io/collection/the-peass-family) рдХреА рдЦрд╛рд╕ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рдЦреБрд▓рд╛рд╕рд╛ рдХрд░реЗрдВ
* [**PEASS рдФрд░ HackTricks рдХреА рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣** рдпрд╛ **рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣** рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж[**@carlospolopm**](https://twitter.com/hacktricks\_live) **рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕-рдХреНрд▓рд╛рдЙрдб рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рднреЗрдЬрдХрд░**.

</details>

## рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ (Kexts) **`.kext`** рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд╡рд╛рд▓реЗ **рдкреИрдХреЗрдЬ** рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ **рдореЗрди macOS рдХрд░реНрдиреЗрд▓ рд╕реНрдкреЗрд╕ рдореЗрдВ рд╕реАрдзреЗ рд▓реЛрдб** рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдореБрдЦреНрдп рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред

### рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ

рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдпрд╣ рдЗрддрдирд╛ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╣реИ рдХрд┐ **рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓реЛрдб рдХрд░рдирд╛ рдХрдард┐рди** рд╣реИред рдПрдХ рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпреЗ рд╣реИрдВ **рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ**:

* **рд░рд┐рдХрд╡рд░реА рдореЛрдб рдореЗрдВ рдкреНрд░рд╡реЗрд╢** рдХрд░рддреЗ рд╕рдордп, рдХрд░реНрдиреЗрд▓ **рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП:
* рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рдХрд░реНрдиреЗрд▓ рдХреЛрдб рд╕рд╛рдЗрдирд┐рдВрдЧ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ** рдХреЗ рд╕рд╛рде **рд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП**, рдЬреЛ рдХреЗрд╡рд▓ **рдПрдкреНрдкрд▓ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЬреЛ рдХрдВрдкрдиреА рдФрд░ рдХрд╛рд░рдгреЛрдВ рдХреА рд╡рд┐рд╕реНрддреГрдд рд╕рдореАрдХреНрд╖рд╛ рдХрд░реЗрдЧрд╛ рдХрд┐ рдпрд╣ рдХреНрдпреЛрдВ рдЖрд╡рд╢реНрдпрдХ рд╣реИред
* рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рдиреЛрдЯрд░рд╛рдЗрдЬрд╝** рднреА рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕реЗ рдПрдкреНрдкрд▓ рдореИрд▓рд╡реЗрдпрд░ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪ рд╕рдХреЗрдЧрд╛ред
* рдлрд┐рд░, **рд░реВрдЯ** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реИ рдЬреЛ рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рд▓реЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИ** рдФрд░ рдкреИрдХреЗрдЬ рдХреЗ рдЕрдВрджрд░ рдХреЗ рдлрд╝рд╛рдЗрд▓реЗрдВ **рд░реВрдЯ рдХреЗ рдирд╛рдо рд╕реЗ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП**ред
* рдЕрдкрд▓реЛрдб рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди, рдкреИрдХреЗрдЬ рдХреЛ рдПрдХ **рд╕реБрд░рдХреНрд╖рд┐рдд рдЧреИрд░-рд░реВрдЯ рд╕реНрдерд╛рди** рдореЗрдВ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: `/Library/StagedExtensions` (`com.apple.rootless.storage.KernelExtensionManagement` рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ)ред
* рдЕрдВрддрддрдГ, рдЗрд╕реЗ рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╕рдордп, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ [**рдкреБрд╖реНрдЯрд┐ рдЕрдиреБрд░реЛрдз рдорд┐рд▓реЗрдЧрд╛**](https://developer.apple.com/library/archive/technotes/tn2459/\_index.html) рдФрд░ рдпрджрд┐ рд╕реНрд╡реАрдХреГрдд рд╣реЛрддрд╛ рд╣реИ, рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдЗрд╕реЗ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд░реАрд╕реНрдЯрд╛рд░реНрдЯ** рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

### рд▓реЛрдбрд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛

рдХреИрдЯрд╛рд▓рд┐рдирд╛ рдореЗрдВ рдпрд╣ рдРрд╕рд╛ рдерд╛: рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ **рд╕рддреНрдпрд╛рдкрди** рдкреНрд░рдХреНрд░рд┐рдпрд╛ **рдпреВрдЬрд╝рд░рд▓реИрдВрдб** рдореЗрдВ рд╣реЛрддреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреЗрд╡рд▓ **`com.apple.private.security.kext-management`** рдЕрдиреБрдорддрд┐ рд╡рд╛рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реА **рдХрд░реНрдиреЗрд▓ рд╕реЗ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**: `kextcache`, `kextload`, `kextutil`, `kextd`, `syspolicyd`

1. **`kextutil`** cli **рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рддреНрдпрд╛рдкрди** рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ
* рдпрд╣ **`kextd`** рд╕реЗ **Mach рд╕реЗрд╡рд╛** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рддрдЪреАрдд рдХрд░реЗрдЧрд╛ред
2. **`kextd`** рдХрдИ рдЪреАрдЬреЗрдВ рдЬреИрд╕реЗ **рд╕рд┐рдЧреНрдиреЗрдЪрд░** рдЬреИрд╕реА рдЪреАрдЬреЗрдВ рдЬрд╛рдВрдЪреЗрдЧрд╛
* рдпрд╣ **`syspolicyd`** рд╕реЗ рдмрд╛рддрдЪреАрдд рдХрд░реЗрдЧрд╛ рдХрд┐ рдХреНрдпрд╛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди **рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред
3. **`syspolicyd`** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ **рдкреНрд░реЙрдореНрдкреНрдЯ** рдХрд░реЗрдЧрд╛ рдЕрдЧрд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдкрд╣рд▓реЗ рд╕реЗ рд▓реЛрдб рдирд╣реАрдВ рд╣реБрдЖ рд╣реИред
* **`syspolicyd`** рдкрд░рд┐рдгрд╛рдо рдХреЛ **`kextd`** рдХреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдЧрд╛
4. **`kextd`** рдЕрдВрддрддрдГ рдХрд░реНрдиреЗрд▓ рдХреЛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди **рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣ рд╕рдХреЗрдЧрд╛**

рдпрджрд┐ **`kextd`** рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ, рддреЛ **`kextutil`** рдПрдХ рд╣реА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

## рд╕рдВрджрд░реНрдн

* [https://www.makeuseof.com/how-to-enable-third-party-kernel-extensions-apple-silicon-mac/](https://www.makeuseof.com/how-to-enable-third-party-kernel-extensions-apple-silicon-mac/)
* [https://www.youtube.com/watch?v=hGKOskSiaQo](https://www.youtube.com/watch?v=hGKOskSiaQo)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХреНрд▓рд╛рдЙрдб тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж рдЯреНрд╡рд┐рдЯрд░ ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П рдЯреНрд╡рд┐рдЪ ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе рдпреВрдЯреНрдпреВрдм ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рдЬрд╛рд░реА рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдЖрдк **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рджрд╕реНрдпрддрд╛ рдХреА рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдж рдкреАрдПрд╕ рдлреИрдорд┐рд▓реА**](https://opensea.io/collection/the-peass-family) рдХреА рдЦрд╛рд╕ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рдЦреБрд▓рд╛рд╕рд╛ рдХрд░реЗрдВ
* [**PEASS рдФрд░ HackTricks рдХреА рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣** рдпрд╛ **рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣** рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж[**@carlospolopm**](https://twitter.com/hacktricks\_live) **рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕-рдХреНрд▓рд╛рдЙрдб рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рднреЗрдЬрдХрд░**.

</details>
