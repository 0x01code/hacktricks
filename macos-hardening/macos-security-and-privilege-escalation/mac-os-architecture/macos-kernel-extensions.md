# macOS рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде</strong></a><strong>!</strong></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдЖрдкрдХреЛ **PEASS рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рд╣реИ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рд╣реИ**? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦрд╛рд╕ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЦреБрд▓рд╛рд╕рд╛ рдХрд░реЗрдВ
* [**PEASS рдФрд░ HackTricks рдХреА рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣** рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВ ЁЯРж[**@carlospolopm**](https://twitter.com/hacktricks\_live)ред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕-рдХреНрд▓рд╛рдЙрдб рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рднреЗрдЬрдХрд░**ред

</details>

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ (Kexts) **рдкреИрдХреЗрдЬ** рд╣реЛрддреЗ рд╣реИрдВ рдЬрд┐рдирдХрд╛ **`.kext`** рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЬреЛ **рдореЗрди macOS рдХрд░реНрдиреЗрд▓ рд╕реНрдкреЗрд╕ рдореЗрдВ рд╕реАрдзреЗ рд▓реЛрдб рд╣реЛрддреЗ рд╣реИрдВ**, рдореБрдЦреНрдп рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред

### рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ

рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдпрд╣ рдЗрддрдирд╛ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╣реИ рдХрд┐ **рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓реЛрдб рдХрд░рдирд╛ рдХрдард┐рди** рд╣реИред рдПрдХ рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпреЗ рд╣реИрдВ **рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ**:

* **рд░рд┐рдХрд╡рд░реА рдореЛрдб рдореЗрдВ рдкреНрд░рд╡реЗрд╢** рдХрд░рддреЗ рд╕рдордп, рдХрд░реНрдиреЗрд▓ **рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП:
* рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рдХрд░реНрдиреЗрд▓ рдХреЛрдб рд╕рд╛рдЗрдирд┐рдВрдЧ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ** рдХреЗ рд╕рд╛рде **рд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП**, рдЬреЛ рдХреЗрд╡рд▓ **рдПрдкреНрдкрд▓ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЬреЛ рдХрдВрдкрдиреА рдФрд░ рдХреНрдпреЛрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЙрд╕реЗ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╕рдореАрдХреНрд╖рд╛ рдХрд░реЗрдЧрд╛ред
* рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рдиреЛрдЯрд░рд╛рдЗрдЬрд╝** рднреА рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕реЗ рдПрдкреНрдкрд▓ рдореИрд▓рд╡реЗрдпрд░ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪ рд╕рдХреЗрдЧрд╛ред
* рдлрд┐рд░, **рд░реВрдЯ** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реИ рдЬреЛ рдХрд░реНрдиреЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рд▓реЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИ** рдФрд░ рдкреИрдХреЗрдЬ рдХреЗ рдЕрдВрджрд░ рдХреЗ рдлрд╝рд╛рдЗрд▓реЗрдВ **рд░реВрдЯ рдХреЗ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП**ред
* рдЕрдкрд▓реЛрдб рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди, рдкреИрдХреЗрдЬ рдХреЛ рдПрдХ **рд╕реБрд░рдХреНрд╖рд┐рдд рдЧреИрд░-рд░реВрдЯ рд╕реНрдерд╛рди** рдореЗрдВ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: `/Library/StagedExtensions` (рдХреА рдЕрдиреБрдорддрд┐ `com.apple.rootless.storage.KernelExtensionManagement` рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ)ред
* рдЕрдВрддрддрдГ, рдЗрд╕реЗ рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╕рдордп, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ [**рдкреБрд╖реНрдЯрд┐ рдЕрдиреБрд░реЛрдз рдорд┐рд▓реЗрдЧрд╛**](https://developer.apple.com/library/archive/technotes/tn2459/\_index.html) рдФрд░ рдЕрдЧрд░ рд╕реНрд╡реАрдХреГрддрд┐ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдЗрд╕реЗ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд░реАрд╕реНрдЯрд╛рд░реНрдЯ** рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

### рд▓реЛрдбрд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛

рдХреИрдЯрд╛рд▓рд┐рдирд╛ рдореЗрдВ рдпрд╣ рдРрд╕рд╛ рдерд╛: рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ **рд╕рддреНрдпрд╛рдкрди** рдкреНрд░рдХреНрд░рд┐рдпрд╛ **рдпреВрдЬрд╝рд░рд▓реИрдВрдб** рдореЗрдВ рд╣реЛрддреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреЗрд╡рд▓ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдЬрд┐рдирдХреЗ рдкрд╛рд╕ **`com.apple.private.security.kext-management`** рдЕрдиреБрдорддрд┐ рд╣реИ, рдХреЗрд╡рд▓ **рдХрд░реНрдиреЗрд▓ рдХреЛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**: `kextcache`, `kextload`, `kextutil`, `kextd`, `syspolicyd`

1. **`kextutil`** cli **рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рддреНрдпрд╛рдкрди** рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░реЗрдЧрд╛
* рдпрд╣ **`kextd`** рд╕реЗ рдмрд╛рддрдЪреАрдд рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕реЗ рдПрдХ **Mach рд╕реЗрд╡рд╛** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднреЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред
2. **`kextd`** рдХрдИ рдЪреАрдЬреЗрдВ рдЬреИрд╕реЗ **рд╕рд┐рдЧреНрдиреЗрдЪрд░** рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдЧрд╛
* рдпрд╣ **`syspolicyd`** рд╕реЗ рдмрд╛рддрдЪреАрдд рдХрд░реЗрдЧрд╛ рддрд╛рдХрд┐ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ **рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ**ред
3. **`syspolicyd`** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ **рдкреНрд░реЙрдореНрдкреНрдЯ** рдХрд░реЗрдЧрд╛ рдЕрдЧрд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдкрд╣рд▓реЗ рд╕реЗ рд▓реЛрдб рдирд╣реАрдВ рд╣реБрдЖ рд╣реИред
* **`syspolicyd`** рдкрд░рд┐рдгрд╛рдо рдХреЛ **`kextd`** рдХреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдЧрд╛
4. **`kextd`** рдЕрдВрддрддрдГ рдХрд░реНрдиреЗрд▓ рдХреЛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди **рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣ рд╕рдХреЗрдЧрд╛**

рдЕрдЧрд░ **`kextd`** рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ, рддреЛ **`kextutil`** рдПрдХ рд╣реА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

## рд╕рдВрджрд░реНрдн

* [https://www.makeuseof.com/how-to-enable-third-party-kernel-extensions-apple-silicon-mac/](https://www.makeuseof.com/how-to-enable-third-party-kernel-extensions-apple-silicon-mac/)
* [https://www.youtube.com/watch?v=hGKOskSiaQo](https://www.youtube.com/watch?v=hGKOskSiaQo)

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдЖрдкрдХреЛ **PEASS рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рд╣реИ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рд╣реИ**? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦрд╛рд╕ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЦреБрд▓рд╛рд╕рд╛ рдХрд░реЗрдВ
* [**PEASS рдФрд░ HackTricks рдХреА рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣** рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВ ЁЯРж[**@carlospolopm**](https://twitter.com/hacktricks\_live)ред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕-рдХреНрд▓рд╛рдЙрдб рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рднреЗрдЬрдХрд░**ред

</details>
