# macOS рд╕рд┐рд╕реНрдЯрдо рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks рдХреНрд▓рд╛рдЙрдб тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж рдЯреНрд╡рд┐рдЯрд░ ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П рдЯреНрд╡рд┐рдЪ ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе рдпреВрдЯреНрдпреВрдм ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛** рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рдЪрд╛рд╣рд┐рдП? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХрд╕реНрдХреНрд▓реВрд╕рд┐рд╡ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛** **рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВ**.
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рд░реЗрдкреЛ (https://github.com/carlospolop/hacktricks) рдФрд░ рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕-рдХреНрд▓рд╛рдЙрдб рд░реЗрдкреЛ (https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ рдкреАрдЖрд░ рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>

## рд╕рд┐рд╕реНрдЯрдо рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ / рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕реБрд░рдХреНрд╖рд╛ рдлреНрд░реЗрдорд╡рд░реНрдХ

рдХрд░реНрдирд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд╡рд┐рдкрд░реАрдд, **рд╕рд┐рд╕реНрдЯрдо рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рдХрд░реНрдирд▓ рд╕реНрдерд╛рди рдХреЗ рдмрдЬрд╛рдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдерд╛рди рдореЗрдВ рдЪрд▓рддреЗ рд╣реИрдВ**, рдЬрд┐рд╕рд╕реЗ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЦрд░рд╛рдмреА рдХреЗ рдХрд╛рд░рдг рд╕рд┐рд╕реНрдЯрдо рдХреНрд░реИрд╢ рдХрд╛ рдЦрддрд░рд╛ рдХрдо рд╣реЛрддрд╛ рд╣реИред

<figure><img src="../../../.gitbook/assets/image (1) (3) (1) (1).png" alt=""><figcaption></figcaption></figure>

рд╕рд┐рд╕реНрдЯрдо рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рддреАрди рдкреНрд░рдХрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВ: **рдбреНрд░рд╛рдЗрд╡рд░рдХрд┐рдЯ** рдПрдХреНрд╕рдЯреЗрдВрд╢рди, **рдиреЗрдЯрд╡рд░реНрдХ** рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдФрд░ **рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕реБрд░рдХреНрд╖рд╛** рдПрдХреНрд╕рдЯреЗрдВрд╢рдиред

### **рдбреНрд░рд╛рдЗрд╡рд░рдХрд┐рдЯ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕**

рдбреНрд░рд╛рдЗрд╡рд░рдХрд┐рдЯ рдХрд░реНрдирд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХреЗ рд▓рд┐рдП рд╣реИрдВрдбрд▓рд░ рд╕рдкреНрд▓рд╛рдИ рдХрд░рддреЗ рд╣реИрдВред рдпрд╣ рдЙрдкрдХрд░рдг рдбреНрд░рд╛рдЗрд╡рд░ (рдЬреИрд╕реЗ USB, рд╕реАрд░рд┐рдпрд▓, NIC рдФрд░ HID рдбреНрд░рд╛рдЗрд╡рд░) рдХреЛ рдХрд░реНрдирд▓ рд╕реНрдерд╛рди рдХреЗ рдмрдЬрд╛рдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдерд╛рди рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдбреНрд░рд╛рдЗрд╡рд░рдХрд┐рдЯ рдлреНрд░реЗрдорд╡рд░реНрдХ рдореЗрдВ рдХреБрдЫ I/O рдХрд┐рдЯ рдХрдХреНрд╖рд╛рдУрдВ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдерд╛рди рд╕рдВрд╕реНрдХрд░рдг рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдХрд░реНрдирд▓ рдирд┐рдпрдорд┐рдд I/O рдХрд┐рдЯ рдШрдЯрдирд╛рдУрдВ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдерд╛рди рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рднреЗрдЬрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЗрди рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдорд╛рд╣реМрд▓ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### **рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕**

рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рдиреЗрдЯрд╡рд░реНрдХ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред рдХрдИ рдкреНрд░рдХрд╛рд░ рдХреЗ рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рд╣реЛрддреЗ рд╣реИрдВ:

* **рдРрдк рдкреНрд░реЙрдХреНрд╕реА**: рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рдлреНрд▓реЛ-рдЖрдзрд╛рд░рд┐рдд, рдХрд╕реНрдЯрдо рд╡реАрдкреАрдПрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╡реАрдкреАрдПрди рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреИрдХреЗрдЯреЛрдВ рдХреЗ рдмрдЬрд╛рдп рдХрдиреЗрдХреНрд╢рди (рдпрд╛ рдлреНрд▓реЛ) рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣реИрдВрдбрд▓ рдХрд░рддрд╛ рд╣реИред
* **рдкреИрдХреЗрдЯ рдЯрдирд▓**: рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рдкреИрдХреЗрдЯ-рдЖрдзрд╛рд░рд┐рдд, рдХрд╕реНрдЯрдо рд╡реАрдкреАрдПрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╡реАрдкреАрдПрди рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреИрдХреЗрдЯреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣реИрдВрдбрд▓ рдХрд░рддрд╛ рд╣реИред
* **рдлрд╝рд┐рд▓реНрдЯрд░ рдбреЗрдЯрд╛**: рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдиреЗрдЯрд╡рд░реНрдХ "рдлреНрд▓реЛ" рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдлреНрд▓реЛ рд╕реНрддрд░ рдкрд░ рдиреЗрдЯрд╡рд░реНрдХ рдбреЗрдЯрд╛ рдХрд╛ рдореЙрдирд┐рдЯрд░ рдпрд╛ рд╕рдВрд╢реЛрдзрди рдХрд░ рд╕рдХрддрд╛ рд╣реИред
* **рдлрд╝рд┐рд▓реНрдЯрд░ рдкреИрдХреЗрдЯ**: рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдиреЗрдЯрд╡
## ESF рдХреЛ рдЙрдорд╛рд░рд╡рд╛рд╡

ESF рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рд░реЗрдб рдЯреАрдорд░ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рдРрд╕реА рдХреЛрдИ рднреА рдЬрд╛рдирдХрд╛рд░реА рдЬреЛ рдЗрд╕реЗ рдЯрд╛рд▓ рд╕рдХрддреА рд╣реЛ, рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИред

### CVE-2021-30965

рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╕реБрд░рдХреНрд╖рд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ **рдкреВрд░реНрдг рдбрд┐рд╕реНрдХ рдкрд╣реБрдВрдЪ рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдХреЛрдИ рд╣рдорд▓рд╛рд╡рд░ рдЙрд╕реЗ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреЛ рдЪрд▓рд╛рдиреЗ рд╕реЗ рд░реЛрдХ рд╕рдХрддрд╛ рд╣реИ:
```bash
tccutil reset All
```
рдЗрд╕ рдмрд╛рдЗрдкрд╛рд╕ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдмрд╛рдЗрдкрд╛рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ **рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА** рдХреЗ рд▓рд┐рдП рдЯреЙрдХ рджреЗрдЦреЗрдВ [#OBTS v5.0: "The Achilles Heel of EndpointSecurity" - Fitzl Csaba](https://www.youtube.com/watch?v=lQO7tvNCoTI)

рдЕрдВрдд рдореЗрдВ, рдЗрд╕реЗ рдареАрдХ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдЬрдм **`tccd`** рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рдРрдк рдХреЛ рдирдИ рдЕрдиреБрдорддрд┐ **`kTCCServiceEndpointSecurityClient`** рджреА рдЧрдИ рдереА, рдЗрд╕рд╕реЗ `tccutil` рдЗрд╕рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХ рджреЗрддрд╛ рд╣реИ рдЬреЛ рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред

## рд╕рдВрджрд░реНрдн

* [**OBTS v3.0: "Endpoint Security & Insecurity" - Scott Knight**](https://www.youtube.com/watch?v=jaVkpM1UqOs)
* [**https://knight.sc/reverse%20engineering/2019/08/24/system-extension-internals.html**](https://knight.sc/reverse%20engineering/2019/08/24/system-extension-internals.html)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рдЪрд╛рд╣рд┐рдП? [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛред**

</details>
