# macOS Dirty NIB

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

**рддрдХрдиреАрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдореВрд▓ рдкреЛрд╕реНрдЯ рджреЗрдЦреЗрдВ: [https://blog.xpnsec.com/dirtynib/**](https://blog.xpnsec.com/dirtynib/).** рдпрд╣рд╛рдБ рдПрдХ рд╕рд╛рд░рд╛рдВрд╢ рд╣реИ:

NIB рдлрд╝рд╛рдЗрд▓реЗрдВ, рдЬреЛ Apple рдХреЗ рд╡рд┐рдХрд╛рд╕ рдкрд╛рд░рд┐рд╕реНрдерд┐рддрд┐рдХреА рддрдВрддреНрд░ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИрдВ, **UI рддрддреНрд╡реЛрдВ** рдФрд░ рдЙрдирдХреЗ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрддреА рд╣реИрдВред рдЗрдирдореЗрдВ рд╡рд┐рдВрдбреЛ рдФрд░ рдмрдЯрди рдЬреИрд╕реА рдЕрдиреБрдХреНрд░рдорд┐рдд рд╡рд╕реНрддреБрдПрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИрдВ, рдФрд░ рдЗрдиреНрд╣реЗрдВ рд░рдирдЯрд╛рдЗрдо рдкрд░ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрдирдХреЗ рдирд┐рд░рдВрддрд░ рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рд╡рдЬреВрдж, Apple рдЕрдм рдЕрдзрд┐рдХ рд╡реНрдпрд╛рдкрдХ UI рдкреНрд░рд╡рд╛рд╣ рджреГрд╢реНрдпрддрд╛ рдХреЗ рд▓рд┐рдП Storyboards рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд░рддрд╛ рд╣реИред

### NIB рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд╛ рдЪрд┐рдВрддрд╛рдПрдБ
рдпрд╣ рдзреНрдпрд╛рди рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ **NIB рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдо рд╣реЛ рд╕рдХрддреА рд╣реИрдВ**ред рдЗрдирдореЗрдВ **рдордирдорд╛рдиреЗ рдЖрджреЗрд╢реЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ** рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рдПрдХ рдРрдк рдХреЗ рднреАрддрд░ NIB рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди Gatekeeper рдХреЛ рдРрдк рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдирд╣реАрдВ рд░реЛрдХрддреЗ, рдЬреЛ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЦрддрд░рд╛ рд╣реИред

### Dirty NIB рдЗрдВрдЬреЗрдХреНрд╢рди рдкреНрд░рдХреНрд░рд┐рдпрд╛
#### NIB рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдирд╛ рдФрд░ рд╕реЗрдЯ рдХрд░рдирд╛
1. **рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реЗрдЯрдЕрдк**:
- XCode рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдирдИ NIB рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдВред
- рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдЬреЛрдбрд╝реЗрдВ, рдЗрд╕рдХреА рдХрдХреНрд╖рд╛ рдХреЛ `NSAppleScript` рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВред
- рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд░рдирдЯрд╛рдЗрдо рдЧреБрдгреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╛рд░рдВрднрд┐рдХ `source` рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред

2. **рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрди рдЧреИрдЬреЗрдЯ**:
- рд╕реЗрдЯрдЕрдк AppleScript рдХреЛ рдорд╛рдВрдЧ рдкрд░ рдЪрд▓рд╛рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред
- `Apple Script` рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрдЯрди рдПрдХреАрдХреГрдд рдХрд░реЗрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ `executeAndReturnError:` рдЪрдпрдирдХрд░реНрддрд╛ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдирд╛ред

3. **рдкрд░реАрдХреНрд╖рдг**:
- рдкрд░реАрдХреНрд╖рдг рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ Apple Script:
```bash
set theDialogText to "PWND"
display dialog theDialogText
```
- XCode рдбрд┐рдмрдЧрд░ рдореЗрдВ рдЪрд▓рд╛рдХрд░ рдФрд░ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВред

#### рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рдирд╛ (рдЙрджрд╛рд╣рд░рдг: Pages)
1. **рддреИрдпрд╛рд░реА**:
- рд▓рдХреНрд╖рд┐рдд рдРрдк (рдЬреИрд╕реЗ, Pages) рдХреЛ рдПрдХ рдЕрд▓рдЧ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ (рдЬреИрд╕реЗ, `/tmp/`) рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВред
- Gatekeeper рд╕рдорд╕реНрдпрд╛рдУрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдРрдк рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдХреИрд╢ рдХрд░реЗрдВред

2. **NIB рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░рдирд╛**:
- рдПрдХ рдореМрдЬреВрджрд╛ NIB рдлрд╝рд╛рдЗрд▓ (рдЬреИрд╕реЗ, About Panel NIB) рдХреЛ рддреИрдпрд╛рд░ рдХреА рдЧрдИ DirtyNIB рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдмрджрд▓реЗрдВред

3. **рдирд┐рд╖реНрдкрд╛рджрди**:
- рдРрдк рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░реЗрдВ (рдЬреИрд╕реЗ, `About` рдореЗрдиреВ рдЖрдЗрдЯрдо рдХрд╛ рдЪрдпрди рдХрд░рдирд╛)ред

#### рдкреНрд░рдорд╛рдг рдХрд╛ рд╕рд┐рджреНрдзрд╛рдВрдд: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдБрдЪ
- рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╕рд╣рдорддрд┐ рдХреЗ рдмрд┐рдирд╛ рдлрд╝реЛрдЯреЛ рдЬреИрд╕реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдФрд░ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП AppleScript рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВред

### рдХреЛрдб рдирдореВрдирд╛: рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг .xib рдлрд╝рд╛рдЗрд▓
- рдордирдорд╛рдиреЗ рдХреЛрдб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд░рдиреЗ рд╡рд╛рд▓реА [**рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг .xib рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдПрдХ рдирдореВрдирд╛**](https://gist.github.com/xpn/16bfbe5a3f64fedfcc1822d0562636b4) рджреЗрдЦреЗрдВ рдФрд░ рд╕рдореАрдХреНрд╖рд╛ рдХрд░реЗрдВред

### рд▓реЙрдиреНрдЪ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХрд╛ рд╕рдорд╛рдзрд╛рди
- рд▓реЙрдиреНрдЪ рдкреНрд░рддрд┐рдмрдВрдз рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд╕реНрдерд╛рдиреЛрдВ (рдЬреИрд╕реЗ, `/tmp`) рд╕реЗ рдРрдк рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдореЗрдВ рдмрд╛рдзрд╛ рдбрд╛рд▓рддреЗ рд╣реИрдВред
- рдпрд╣ рдкрд╣рдЪрд╛рдирдирд╛ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рдРрдк рд▓реЙрдиреНрдЪ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ NIB рдлрд╝рд╛рдЗрд▓ рдЗрдВрдЬреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рд▓рдХреНрд╖рд┐рдд рдХрд░реЗрдВред

### рдЕрддрд┐рд░рд┐рдХреНрдд macOS рд╕реБрд░рдХреНрд╖рд╛
macOS Sonoma рд╕реЗ рдЖрдЧреЗ, рдРрдк рдмрдВрдбрд▓реЛрдВ рдХреЗ рднреАрддрд░ рд╕рдВрд╢реЛрдзрди рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рд╣реИрдВред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдкрд╣рд▓реЗ рдХреЗ рддрд░реАрдХреЛрдВ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдереЗ:
1. рдРрдк рдХреЛ рдПрдХ рдЕрд▓рдЧ рд╕реНрдерд╛рди (рдЬреИрд╕реЗ, `/tmp/`) рдореЗрдВ рдХреЙрдкреА рдХрд░рдирд╛ред
2. рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдмрд╛рдпрдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдРрдк рдмрдВрдбрд▓ рдХреЗ рднреАрддрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХрд╛ рдирд╛рдо рдмрджрд▓рдирд╛ред
3. Gatekeeper рдХреЗ рд╕рд╛рде рдкрдВрдЬреАрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдРрдк рдЪрд▓рд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдРрдк рдмрдВрдбрд▓ рдореЗрдВ рд╕рдВрд╢реЛрдзрди рдХрд░рдирд╛ (рдЬреИрд╕реЗ, MainMenu.nib рдХреЛ Dirty.nib рд╕реЗ рдмрджрд▓рдирд╛)ред
4. рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХрд╛ рдирд╛рдо рд╡рд╛рдкрд╕ рдмрджрд▓рдирд╛ рдФрд░ рдЗрдВрдЬреЗрдХреНрдЯ рдХреА рдЧрдИ NIB рдлрд╝рд╛рдЗрд▓ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдРрдк рдХреЛ рдлрд┐рд░ рд╕реЗ рдЪрд▓рд╛рдирд╛ред

**рдиреЛрдЯ**: рд╣рд╛рд▓ рдХреЗ macOS рдЕрдкрдбреЗрдЯ рдиреЗ Gatekeeper рдХреИрд╢рд┐рдВрдЧ рдХреЗ рдмрд╛рдж рдРрдк рдмрдВрдбрд▓реЛрдВ рдХреЗ рднреАрддрд░ рдлрд╝рд╛рдЗрд▓ рд╕рдВрд╢реЛрдзрдиреЛрдВ рдХреЛ рд░реЛрдХрдХрд░ рдЗрд╕ рд╢реЛрд╖рдг рдХреЛ рдХрдо рдХрд░ рджрд┐рдпрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рд╢реЛрд╖рдг рдЕрдкреНрд░рднрд╛рд╡реА рд╣реЛ рдЧрдпрд╛ рд╣реИред


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
