# –ö–ª—é—á–æ–≤–∏–π –ª–∞–Ω—Ü—é–≥ macOS

{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º AWS: <img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**–®–∫–æ–ª–∞ –≤–∑–ª–æ–º—É AWS –¥–ª—è –ß–µ—Ä–≤–æ–Ω–æ—ó –ö–æ–º–∞–Ω–¥–∏ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**–®–∫–æ–ª–∞ –≤–∑–ª–æ–º—É GCP –¥–ª—è –ß–µ—Ä–≤–æ–Ω–æ—ó –ö–æ–º–∞–Ω–¥–∏ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ—à–∏—Ä—é–π—Ç–µ —Ö–∞–∫–µ—Ä—Å—å–∫—ñ —Ç—Ä—é–∫–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
{% endhint %}

### [WhiteIntel](https://whiteintel.io)

<figure><img src="../../.gitbook/assets/image (1227).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) - —Ü–µ –ø–æ—à—É–∫–æ–≤–∏–∫, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –Ω–∞ **—Ç–µ–º–Ω–æ–º—É –≤–µ–±—ñ** —Ç–∞ –Ω–∞–¥–∞—î **–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ** —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —á–∏ –±—É–ª–∏ **–∫–æ–º–ø–∞–Ω—ñ—è –∞–±–æ —ó—ó –∫–ª—ñ—î–Ω—Ç–∏ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ** **–≤–∏–∫—Ä–∞–¥–∞—á–∞–º–∏ —à–∫—ñ–¥–ª–∏–≤–∏—Ö –ø—Ä–æ–≥—Ä–∞–º**.

–û—Å–Ω–æ–≤–Ω–æ—é –º–µ—Ç–æ—é WhiteIntel —î –±–æ—Ä–æ—Ç—å–±–∞ –∑ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è–º –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ —Ç–∞ –∞—Ç–∞–∫–∞–º–∏ –≤–∏–º–∞–≥–∞–Ω–Ω—è –≤–∏–∫—É–ø—É, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ —à–∫—ñ–¥–ª–∏–≤–∏—Ö –ø—Ä–æ–≥—Ä–∞–º, —è–∫—ñ –∫—Ä–∞–¥—É—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.

–í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ó—Ö –≤–µ–±-—Å–∞–π—Ç —Ç–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —ó—Ö–Ω—ñ–π –¥–≤–∏–≥—É–Ω **–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ** –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º:

{% embed url="https://whiteintel.io" %}

***

## –û—Å–Ω–æ–≤–Ω—ñ –∫–ª—é—á–æ–≤—ñ –ª–∞–Ω—Ü—é–≥–∏

* **–ö–ª—é—á–æ–≤–∏–π –ª–∞–Ω—Ü—é–≥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞** (`~/Library/Keychains/login.keycahin-db`), —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è **–∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö**, —Ç–∞–∫–∏—Ö —è–∫ –ø–∞—Ä–æ–ª—ñ –¥–æ–¥–∞—Ç–∫—ñ–≤, –ø–∞—Ä–æ–ª—ñ –¥–ª—è –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç—É, —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏, –ø–∞—Ä–æ–ª—ñ –º–µ—Ä–µ–∂—ñ —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –ø—É–±–ª—ñ—á–Ω—ñ/–ø—Ä–∏–≤–∞—Ç–Ω—ñ –∫–ª—é—á—ñ.
* **–°–∏—Å—Ç–µ–º–Ω–∏–π –∫–ª—é—á–æ–≤–∏–π –ª–∞–Ω—Ü—é–≥** (`/Library/Keychains/System.keychain`), —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î **—Å–∏—Å—Ç–µ–º–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ**, —Ç–∞–∫—ñ —è–∫ –ø–∞—Ä–æ–ª—ñ WiFi, –∫–æ—Ä–µ–Ω–µ–≤—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ —Å–∏—Å—Ç–µ–º–∏, –ø—Ä–∏–≤–∞—Ç–Ω—ñ –∫–ª—é—á—ñ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –ø–∞—Ä–æ–ª—ñ –¥–æ–¥–∞—Ç–∫—ñ–≤ —Å–∏—Å—Ç–µ–º–∏.

### –î–æ—Å—Ç—É–ø –¥–æ –∫–ª—é—á–æ–≤–æ–≥–æ –ª–∞–Ω—Ü—é–≥–∞ –ø–∞—Ä–æ–ª—ñ–≤

–¶—ñ —Ñ–∞–π–ª–∏, —Ö–æ—á–∞ –≤–æ–Ω–∏ –Ω–µ –º–∞—é—Ç—å –≤–±—É–¥–æ–≤–∞–Ω–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É —ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ **–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ**, –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ —Ç–∞ –≤–∏–º–∞–≥–∞—é—Ç—å **–ø–∞—Ä–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è**. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Ç–∞–∫–∏–π —è–∫ [**Chainbreaker**](https://github.com/n0fate/chainbreaker), –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è.

## –ó–∞—Ö–∏—Å—Ç –∑–∞–ø–∏—Å—ñ–≤ –∫–ª—é—á–æ–≤–æ–≥–æ –ª–∞–Ω—Ü—é–≥–∞

### –°–ø–∏—Å–∫–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º (ACL)

–ö–æ–∂–µ–Ω –∑–∞–ø–∏—Å —É –∫–ª—é—á–æ–≤–æ–º—É –ª–∞–Ω—Ü—é–∑—ñ –∫–µ—Ä—É—î—Ç—å—Å—è **—Å–ø–∏—Å–∫–∞–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º (ACL)**, —è–∫—ñ –≤–∫–∞–∑—É—é—Ç—å, —Ö—Ç–æ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –¥—ñ—ó –∑ –∑–∞–ø–∏—Å–æ–º –∫–ª—é—á–æ–≤–æ–≥–æ –ª–∞–Ω—Ü—é–≥–∞, –≤–∫–ª—é—á–∞—é—á–∏:

* **ACLAuhtorizationExportClear**: –î–æ–∑–≤–æ–ª—è—î –≤–ª–∞—Å–Ω–∏–∫—É –æ—Ç—Ä–∏–º–∞—Ç–∏ —á—ñ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç —Å–µ–∫—Ä–µ—Ç—É.
* **ACLAuhtorizationExportWrapped**: –î–æ–∑–≤–æ–ª—è—î –≤–ª–∞—Å–Ω–∏–∫—É –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π —á—ñ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç —ñ–∑ –Ω–∞–¥–∞–Ω–∏–º —ñ–Ω—à–∏–º –ø–∞—Ä–æ–ª–µ–º.
* **ACLAuhtorizationAny**: –î–æ–∑–≤–æ–ª—è—î –≤–ª–∞—Å–Ω–∏–∫—É –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É –¥—ñ—é.

ACL —Å—É–ø—Ä–æ–≤–æ–¥–∂—É—é—Ç—å—Å—è **—Å–ø–∏—Å–∫–æ–º –¥–æ–≤—ñ—Ä–µ–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤**, —è–∫—ñ –º–æ–∂—É—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ü—ñ –¥—ñ—ó –±–µ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è. –¶–µ –º–æ–∂–µ –±—É—Ç–∏:

* **N`il`** (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó, **–≤—Å—ñ–º –¥–æ–≤—ñ—Ä—è—é—Ç—å**)
* –ü–æ—Ä–æ–∂–Ω—ñ–π —Å–ø–∏—Å–æ–∫ (**–Ω—ñ—Ö—Ç–æ –Ω–µ –¥–æ–≤—ñ—Ä—è—î**)
* **–°–ø–∏—Å–æ–∫** –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö **–¥–æ–¥–∞—Ç–∫—ñ–≤**.

–¢–∞–∫–æ–∂ –∑–∞–ø–∏—Å –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –∫–ª—é—á **`ACLAuthorizationPartitionID`,** —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó **teamid, apple,** —Ç–∞ **cdhash.**

* –Ø–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ **teamid**, —Ç–æ –¥–ª—è **–¥–æ—Å—Ç—É–ø—É –¥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É –±–µ–∑** –ø—ñ–¥–∫–∞–∑–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ **—Ç–æ–π —Å–∞–º–∏–π teamid**.
* –Ø–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ **apple**, —Ç–æ –¥–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ **–ø—ñ–¥–ø–∏—Å–∞–Ω–∏–π Apple**.
* –Ø–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ **cdhash**, —Ç–æ –¥–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π **cdhash**.

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É –∫–ª—é—á–æ–≤–æ–≥–æ –ª–∞–Ω—Ü—é–≥–∞

–ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ **–Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **`Keychain Access.app`**, –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞:

* –£—Å—ñ –¥–æ–¥–∞—Ç–∫–∏ –º–æ–∂—É—Ç—å —à–∏—Ñ—Ä—É–≤–∞—Ç–∏.
* **–ñ–æ–¥–µ–Ω –¥–æ–¥–∞—Ç–æ–∫** –Ω–µ –º–æ–∂–µ –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏/—Ä–æ–∑—à–∏—Ñ—Ä–æ–≤—É–≤–∞—Ç–∏ (–±–µ–∑ –ø—ñ–¥–∫–∞–∑–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞).
* –£—Å—ñ –¥–æ–¥–∞—Ç–∫–∏ –º–æ–∂—É—Ç—å –±–∞—á–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ.
* –ñ–æ–¥–µ–Ω –¥–æ–¥–∞—Ç–æ–∫ –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ ACL.
* **PartitionID** –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ **`apple`**.

–ö–æ–ª–∏ **–¥–æ–¥–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä—é—î –∑–∞–ø–∏—Å —É –∫–ª—é—á–æ–≤–æ–º—É –ª–∞–Ω—Ü—é–∑—ñ**, –ø—Ä–∞–≤–∏–ª–∞ —Ç—Ä–æ—Ö–∏ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è:

* –£—Å—ñ –¥–æ–¥–∞—Ç–∫–∏ –º–æ–∂—É—Ç—å —à–∏—Ñ—Ä—É–≤–∞—Ç–∏.
* –¢—ñ–ª—å–∫–∏ **—Å—Ç–≤–æ—Ä—é—é—á–∏–π –¥–æ–¥–∞—Ç–æ–∫** (–∞–±–æ –±—É–¥—å-—è–∫—ñ —ñ–Ω—à—ñ –¥–æ–¥–∞—Ç–∫–∏, —è–∫—ñ —è–≤–Ω–æ –¥–æ–¥–∞–Ω—ñ) –º–æ–∂—É—Ç—å –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏/—Ä–æ–∑—à–∏—Ñ—Ä–æ–≤—É–≤–∞—Ç–∏ (–±–µ–∑ –ø—ñ–¥–∫–∞–∑–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞).
* –£—Å—ñ –¥–æ–¥–∞—Ç–∫–∏ –º–æ–∂—É—Ç—å –±–∞—á–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ.
* –ñ–æ–¥–µ–Ω –¥–æ–¥–∞—Ç–æ–∫ –Ω–µ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ ACL.
* **PartitionID** –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ **`teamid:[teamID —Ç—É—Ç]`**.

## –î–æ—Å—Ç—É–ø –¥–æ –∫–ª—é—á–æ–≤–æ–≥–æ –ª–∞–Ω—Ü—é–≥–∞

### `security`
```bash
# Dump all metadata and decrypted secrets (a lot of pop-ups)
security dump-keychain -a -d

# Find generic password for the "Slack" account and print the secrets
security find-generic-password -a "Slack" -g

# Change the specified entrys PartitionID entry
security set-generic-password-parition-list -s "test service" -a "test acount" -S
```
### APIs

{% hint style="success" %}
**–ü–µ—Ä–µ–ª—ñ–∫ –∫–ª—é—á–æ–≤–∏—Ö –ø–µ—Ä–µ–ª—ñ—á–µ–Ω—å —Ç–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è** —Å–µ–∫—Ä–µ—Ç—ñ–≤, —è–∫—ñ **–Ω–µ –≤–∏–∫–ª–∏—á—É—Ç—å –∑–∞–ø–∏—Ç—É**, –º–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É [**LockSmith**](https://github.com/its-a-feature/LockSmith)
{% endhint %}

–ü–µ—Ä–µ–ª—ñ–∫ —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó** –ø—Ä–æ –∫–æ–∂–µ–Ω –∑–∞–ø–∏—Å —É –∫–ª—é—á–æ–≤–æ–º—É –ª–∞–Ω—Ü—é–∂–∫—É:

* API **`SecItemCopyMatching`** –Ω–∞–¥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–∂–µ–Ω –∑–∞–ø–∏—Å —Ç–∞ —î –¥–µ—è–∫—ñ –∞—Ç—Ä–∏–±—É—Ç–∏, —è–∫—ñ –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø—Ä–∏ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ:
* **`kSecReturnData`**: –Ø–∫—â–æ true, –≤—ñ–Ω —Å–ø—Ä–æ–±—É—î —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ (–≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å false, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –º–æ–∂–ª–∏–≤–∏—Ö —Å–ø–ª–∏–≤–∞—é—á–∏—Ö –≤—ñ–∫–æ–Ω)
* **`kSecReturnRef`**: –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–∞–∫–æ–∂ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç –∫–ª—é—á–æ–≤–æ–≥–æ –ª–∞–Ω—Ü—é–∂–∫–∞ (–≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å true —É –≤–∏–ø–∞–¥–∫—É, —è–∫—â–æ –ø—ñ–∑–Ω—ñ—à–µ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ, —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞—Ç–∏ –±–µ–∑ —Å–ø–ª–∏–≤–∞—é—á–æ–≥–æ –≤—ñ–∫–Ω–∞)
* **`kSecReturnAttributes`**: –û—Ç—Ä–∏–º–∞—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω—ñ –ø—Ä–æ –∑–∞–ø–∏—Å–∏
* **`kSecMatchLimit`**: –°–∫—ñ–ª—å–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏
* **`kSecClass`**: –Ø–∫–∏–π —Ç–∏–ø –∑–∞–ø–∏—Å—É —É –∫–ª—é—á–æ–≤–æ–º—É –ª–∞–Ω—Ü—é–∂–∫—É

–û—Ç—Ä–∏–º–∞–π—Ç–µ **ACLs** –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É:

* –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é API **`SecAccessCopyACLList`** –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ **ACL –¥–ª—è –µ–ª–µ–º–µ–Ω—Ç–∞ –∫–ª—é—á–æ–≤–æ–≥–æ –ª–∞–Ω—Ü—é–∂–∫–∞**, —ñ –≤—ñ–Ω –ø–æ–≤–µ—Ä–Ω–µ —Å–ø–∏—Å–æ–∫ ACL (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `ACLAuhtorizationExportClear` —Ç–∞ —ñ–Ω—à—ñ —Ä–∞–Ω—ñ—à–µ –∑–≥–∞–¥–∞–Ω—ñ), –¥–µ –∫–æ–∂–µ–Ω —Å–ø–∏—Å–æ–∫ –º–∞—î:
* –û–ø–∏—Å
* **–°–ø–∏—Å–æ–∫ –¥–æ–≤—ñ—Ä–µ–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤**. –¶–µ –º–æ–∂–µ –±—É—Ç–∏:
* –î–æ–¥–∞—Ç–æ–∫: /Applications/Slack.app
* –ë—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª: /usr/libexec/airportd
* –ì—Ä—É–ø–∞: group://AirPort

–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö:

* API **`SecKeychainItemCopyContent`** –æ—Ç—Ä–∏–º—É—î —Ç–µ–∫—Å—Ç
* API **`SecItemExport`** –µ–∫—Å–ø–æ—Ä—Ç—É—î –∫–ª—é—á—ñ —Ç–∞ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏, –∞–ª–µ –º–æ–∂–ª–∏–≤–æ –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä–æ–ª—ñ –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É –≤–º—ñ—Å—Ç—É –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º

–Ü –æ—Å—å **–≤–∏–º–æ–≥–∏**, —â–æ–± –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å **–µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç –±–µ–∑ –∑–∞–ø–∏—Ç—É**:

* –Ø–∫—â–æ **1+ –¥–æ–≤—ñ—Ä–µ–Ω–∏—Ö** –¥–æ–¥–∞—Ç–∫—ñ–≤ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ:
* –ü–æ—Ç—Ä—ñ–±–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ **–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó** (**`Nil`**, –∞–±–æ –±—É—Ç–∏ **—á–∞—Å—Ç–∏–Ω–æ—é** —Å–ø–∏—Å–∫—É –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ —É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó)
* –ü–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –ø—ñ–¥–ø–∏—Å –∫–æ–¥—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ **PartitionID**
* –ü–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –ø—ñ–¥–ø–∏—Å –∫–æ–¥—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ –ø—ñ–¥–ø–∏—Å—É –æ–¥–Ω–æ–≥–æ **–¥–æ–≤—ñ—Ä–µ–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞** (–∞–±–æ –±—É—Ç–∏ —á–ª–µ–Ω–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –≥—Ä—É–ø–∏ KeychainAccessGroup)
* –Ø–∫—â–æ **–≤—Å—ñ –¥–æ–¥–∞—Ç–∫–∏ –¥–æ–≤—ñ—Ä–µ–Ω—ñ**:
* –ü–æ—Ç—Ä—ñ–±–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ **–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó**
* –ü–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –ø—ñ–¥–ø–∏—Å –∫–æ–¥—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ **PartitionID**
* –Ø–∫—â–æ **–Ω–µ–º–∞—î PartitionID**, —Ç–æ–¥—ñ —Ü–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ

{% hint style="danger" %}
–û—Ç–∂–µ, —è–∫—â–æ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ **1 –¥–æ–¥–∞—Ç–æ–∫**, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ **–≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –∫–æ–¥ —É —Ü–µ–π –¥–æ–¥–∞—Ç–æ–∫**.

–Ø–∫—â–æ **apple** –≤–∫–∞–∑–∞–Ω–æ –≤ **partitionID**, –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ –Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **`osascript`**, —Ç–æ–º—É –≤—Å–µ, —â–æ –¥–æ–≤—ñ—Ä—è—î –≤—Å—ñ–º –¥–æ–¥–∞—Ç–∫–∞–º –∑ apple –≤ partitionID. **`Python`** —Ç–∞–∫–æ–∂ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è —Ü—å–æ–≥–æ.
{% endhint %}

### –î–≤–∞ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∞—Ç—Ä–∏–±—É—Ç–∏

* **–ù–µ–≤–∏–¥–∏–º–∏–π**: –¶–µ –±—É–ª–µ–≤–∏–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å –¥–ª—è **–ø—Ä–∏—Ö–æ–≤–∞–Ω–Ω—è** –∑–∞–ø–∏—Å—É –≤—ñ–¥ –ø—Ä–æ–≥—Ä–∞–º–∏ **UI** Keychain
* **–ó–∞–≥–∞–ª—å–Ω–∏–π**: –¶–µ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è **–º–µ—Ç–∞–¥–∞–Ω–∏—Ö** (—Ç–æ–º—É —Ü–µ –ù–ï –®–ò–§–†–û–í–ê–ù–û)
* –ö–æ–º–ø–∞–Ω—ñ—è Microsoft –∑–±–µ—Ä—ñ–≥–∞–ª–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π —Ç–µ–∫—Å—Ç –≤—Å—ñ—Ö –æ–Ω–æ–≤–ª—é–≤–∞–ª—å–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ —á—É—Ç–ª–∏–≤–∏—Ö –∫—ñ–Ω—Ü–µ–≤–∏—Ö —Ç–æ—á–æ–∫.

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

* [**#OBTS v5.0: "Lock Picking the macOS Keychain" - Cody Thomas**](https://www.youtube.com/watch?v=jKE1ZW33JpY)

### [WhiteIntel](https://whiteintel.io)

<figure><img src="../../.gitbook/assets/image (1227).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) - —Ü–µ –ø–æ—à—É–∫–æ–≤–∏–π –¥–≤–∏–≥—É–Ω, –∂–∏–≤–ª–µ–Ω–∏–π **—Ç–µ–º–Ω–∏–º –≤–µ–±–æ–º**, —è–∫–∏–π –ø—Ä–æ–ø–æ–Ω—É—î **–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ** —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —á–∏ –±—É–ª–∏ –∫–æ–º–ø–∞–Ω—ñ—è –∞–±–æ —ó—ó –∫–ª—ñ—î–Ω—Ç–∏ **–ø–æ—à–∫–æ–¥–∂–µ–Ω—ñ** **–≤–∏–∫—Ä–∞–¥–∞—á–∞–º–∏ —à–∫—ñ–¥–ª–∏–≤–∏—Ö –ø—Ä–æ–≥—Ä–∞–º**.

–û—Å–Ω–æ–≤–Ω–æ—é –º–µ—Ç–æ—é WhiteIntel —î –±–æ—Ä–æ—Ç—å–±–∞ –∑ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è–º –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ —Ç–∞ –∞—Ç–∞–∫–∞–º–∏ –≤–∏–º–∞–≥–∞–Ω–Ω—è –≤–∏–∫—É–ø—É, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ —à–∫—ñ–¥–ª–∏–≤–∏—Ö –ø—Ä–æ–≥—Ä–∞–º, —è–∫—ñ –∫—Ä–∞–¥—É—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.

–í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ó—Ö –≤–µ–±-—Å–∞–π—Ç —Ç–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —ó—Ö –¥–≤–∏–≥—É–Ω **–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ** –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º:

{% embed url="https://whiteintel.io" %}

{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**–ù–∞–≤—á–∞–Ω–Ω—è HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**–ù–∞–≤—á–∞–Ω–Ω—è HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ—à–∏—Ä—é–π—Ç–µ —Ö–∞–∫–µ—Ä—Å—å–∫—ñ —Ç—Ä—é–∫–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
{% endhint %}
