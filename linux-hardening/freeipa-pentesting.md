# FreeIPA рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ.
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ PRs рдЬрдорд╛ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ.

</details>

рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдЗрди рдкреЛрд╕реНрдЯреНрд╕ рд╕реЗ рд▓реА рдЧрдИ рд╣реИ:

* [https://posts.specterops.io/attacking-freeipa-part-i-authentication-77e73d837d6a](https://posts.specterops.io/attacking-freeipa-part-i-authentication-77e73d837d6a)
* [https://posts.specterops.io/attacking-freeipa-part-ii-enumeration-ad27224371e1](https://posts.specterops.io/attacking-freeipa-part-ii-enumeration-ad27224371e1)
* [https://www.youtube.com/watch?v=9dOu-7BTwPQ\&feature=youtu.be](https://www.youtube.com/watch?v=9dOu-7BTwPQ\&feature=youtu.be)

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

рдпрд╣ Microsoft Windows **Active Directory** рдХрд╛ рдПрдХ рдУрдкрди рд╕реЛрд░реНрд╕ **рд╡рд┐рдХрд▓реНрдк** рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ **Unix** рдкрд░реНрдпрд╛рд╡рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХреАрдХреГрдд рдкреНрд░рдмрдВрдзрди рд╕рдорд╛рдзрд╛рди рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИред Active Directory рдХреА рддрд░рд╣, FreeIPA рдПрдХ рдкреВрд░реНрдг **LDAP рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА** рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдкреАрдЫреЗ MIT **Kerberos** Key Distribution Center рд╣реЛрддрд╛ рд╣реИред рдпрд╣ Dogtag **Certificate System** рдХрд╛ рдЙрдкрдпреЛрдЧ CA & RA рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ **рдорд▓реНрдЯреА-рдлреИрдХреНрдЯрд░** рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реНрдорд╛рд░реНрдЯрдХрд╛рд░реНрдбреНрд╕ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред SSSD рдХрд╛ рдЙрдкрдпреЛрдЧ FreeIPA рдХреЛ рдорд╛рдирдХ Unix рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

## рдлрд┐рдВрдЧрд░рдкреНрд░рд┐рдВрдЯреНрд╕

### рдлрд╛рдЗрд▓реЗрдВ & Env Vars

* **`/etc/krb5.conf`:** `krb5.conf` рдлрд╛рдЗрд▓ рдореЗрдВ Kerberos рдХреНрд▓рд╛рдЗрдВрдЯ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИ рдЬреЛ **рдбреЛрдореЗрди рдореЗрдВ рдирд╛рдорд╛рдВрдХрд┐рдд** рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЗрд╕рдореЗрдВ Kerberos рд░рд┐рдпрд▓реНрдореНрд╕ рдХреЗ KDCs рдФрд░ рдПрдбрдорд┐рди рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ **рд╕реНрдерд╛рди**, рд╡рд░реНрддрдорд╛рди рд░рд┐рдпрд▓реНрдо рдФрд░ Kerberos рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдбрд┐рдлреЙрд▓реНрдЯреНрд╕, рдФрд░ рд╣реЛрд╕реНрдЯрдиреЗрдореНрд╕ рдХреЛ Kerberos рд░рд┐рдпрд▓реНрдореНрд╕ рдкрд░ рдореИрдкрд┐рдВрдЧ рд╢рд╛рдорд┐рд▓ рд╣реИред
* **`/etc/ipa/default.conf`:** рдпрд╣ **IPA рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдбрд┐рдлреЙрд▓реНрдЯ рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдлрд╛рдЗрд▓** рд╣реИ, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ IPA рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдФрд░ рд╕рд░реНрд╡рд░реЛрдВ рдХреЛ рдЪрд▓рд╛рддреЗ рд╕рдордп рд╕рд┐рд╕реНрдЯрдо-рд╡рд╛рдЗрдб рдбрд┐рдлреЙрд▓реНрдЯреНрд╕ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **`/etc/krb5.keytab`:** `krb5.keytab` рдлрд╛рдЗрд▓ **рдбреЛрдореЗрди** рдХреЗ рдЕрдВрджрд░ рд╕рднреА рд╣реЛрд╕реНрдЯреНрд╕ рдкрд░ **рдЖрд╡рд╢реНрдпрдХ** рд╣реЛрддреА рд╣реИред рдпрд╣ KDC рдХреЗ рд▓рд┐рдП **рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред
* **`KRB5CCNAME`:** рдпрджрд┐ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ CCACHE рдЯрд┐рдХрдЯ рдХреЗ **рд╕реНрдерд╛рди** рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рд╣реИред
* **`KRB5_KTNAME`:** рдпрджрд┐ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ Keytab рдлрд╛рдЗрд▓ рдХреЗ **рд╕реНрдерд╛рди** рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рд╣реИред
* **`KRB5_CONFIG`:** рдпрджрд┐ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ Kerberos рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдлрд╛рдЗрд▓ рдХреЗ **рд╕реНрдерд╛рди** рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИред
* **`KRB5_KDC_PROFILE`:** рдпрджрд┐ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ KDC рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдлрд╛рдЗрд▓ рдХреЗ **рд╕реНрдерд╛рди** рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ Key Distribution Center рдбреЗрдорди рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдирд┐рд░реНрджреЗрд╢ рд╣реЛрддреЗ рд╣реИрдВред
* **`KRB5RCACHETYPE`:** рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд░рд┐рдкреНрд▓реЗ рдХреИрд╢ рдХреЗ рдбрд┐рдлреЙрд▓реНрдЯ рдкреНрд░рдХрд╛рд░** рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИред
* **`KRB5RCACHEDIR`:** рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕рд░реНрд╡рд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ **рд░рд┐рдкреНрд▓реЗ рдХреИрд╢реЗрд╕ рдХреЗ рдбрд┐рдлреЙрд▓реНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА** рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИред
* **`KRB5_TRACE`:** рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ рдПрдХ **рдлрд╛рдЗрд▓рдиреЗрдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЯреНрд░реЗрд╕ рд▓реЙрдЧ рдЖрдЙрдЯрдкреБрдЯ рд▓рд┐рдЦрд╛ рдЬрд╛рдПрдЧрд╛**ред рдЯреНрд░реЗрд╕ рд▓реЙрдЧреНрд╕ Kerberos рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬ рджреНрд╡рд╛рд░рд╛ рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ рдХрд┐рдП рдЧрдП рдирд┐рд░реНрдгрдпреЛрдВ рдХреЛ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* **`KRB5_CLIENT_KTNAME`:** рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ **рдбрд┐рдлреЙрд▓реНрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ keytab** рдлрд╛рдЗрд▓ рдирд╛рдо рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред
* **`KPROP_PORT`:** рдпрд╣ рд╡реЗрд░рд┐рдПрдмрд▓ kprop рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП **рдбрд┐рдлреЙрд▓реНрдЯ рдкреЛрд░реНрдЯ** рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред

### рдмрд╛рдЗрдирд░реАрдЬ

* **ipa:** рдпрд╣ рдмрд╛рдЗрдирд░реА **FreeIPA рдбреЛрдореЗрди рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдорд╛рдирдХ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛрд╕реНрдЯреНрд╕, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ, рд╕реБрдбреЛ рдирд┐рдпрдореЛрдВ, рдФрд░ рдмрд╣реБрдд рдХреБрдЫ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* **kdestroy:** kdestroy рдмрд╛рдЗрдирд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рддреНрд░ рдореЗрдВ рдХрд┐рд╕реА рднреА рдореМрдЬреВрджрд╛ **Kerberos рдЯрд┐рдХрдЯреНрд╕** рдХреЛ **рдирд╖реНрдЯ** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **kinit:** kinit рдмрд╛рдЗрдирд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ **Kerberos рдЯрд┐рдХрдЯреНрд╕** рдХреЛ **рд╕реНрдерд╛рдкрд┐рдд** рдХрд░рдиреЗ рдпрд╛ **рдирд╡реАрдиреАрдХреГрдд** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **klist:** klist рдмрд╛рдЗрдирд░реА **рд╕реВрдЪреАрдмрджреНрдз** рдХрд░рддреА рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рдореМрдЬреВрджрд╛ **Kerberos рдЯрд┐рдХрдЯреНрд╕ рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИрдВ**, рдФрд░ рдХреМрди рд╕реЗ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓реНрд╕ рдХреЛ рдЯрд┐рдХрдЯреНрд╕ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред
* **kpasswd:** kpasswd рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ **Kerberos рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдмрджрд▓рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред kpasswd рдкрд╣рд▓реЗ рдореМрдЬреВрджрд╛ Kerberos рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░реЙрдореНрдкреНрдЯ рдХрд░рддрд╛ рд╣реИ, рдлрд┐рд░ рдирдП рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рджреЛ рдмрд╛рд░ рдкреНрд░реЙрдореНрдкреНрдЯ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **ksu:** Ksu рдХрд╛ рдЙрдкрдпреЛрдЧ su рдмрд╛рдЗрдирд░реА рдХреЗ **рд╡рд┐рдХрд▓реНрдк** рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╡рд░реНрддрдорд╛рди **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдВрджрд░реНрдн** рдХреЛ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
* **kswitch:** kswitch рдХрдорд╛рдВрдб **рдореМрдЬреВрджрд╛ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдХреИрд╢** рдХреЛ **рд╕реНрд╡рд┐рдЪ** рдХрд░реЗрдЧрд╛ рдЬреЛ рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИред
* **kvno:** kvno рдмрд╛рдЗрдирд░реА **рдирд┐рд░реНрджрд┐рд╖реНрдЯ Kerberos** рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ **рд╕реЗрд╡рд╛ рдЯрд┐рдХрдЯ** рдкреНрд░рд╛рдкреНрдд рдХрд░рддреА рд╣реИ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рдХреА рд╡рд░реНрдЬрди рдирдВрдмрд░реЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддреА рд╣реИред

### рдиреЗрдЯрд╡рд░реНрдХ

рдпрд╣ FreeIPA рд╕рд░реНрд╡рд░ рдХреИрд╕рд╛ рджрд┐рдЦ рд╕рдХрддрд╛ рд╣реИ:

<figure><img src="../.gitbook/assets/image (197).png" alt=""><figcaption></figcaption></figure>

## рдкреНрд░рдорд╛рдгреАрдХрд░рдг

рдЪреВрдВрдХрд┐ FreeIPA **Kerberos рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИ**, рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ **Active Directory** рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд╕рдорд╛рди рд╣реИред рдбреЛрдореЗрди рдкрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ **рдкрд╣реБрдВрдЪрдиреЗ** рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕ рдЙрд╕ рд╕рдВрд╕рд╛рдзрди рдХреЗ рд▓рд┐рдП рдПрдХ **рд╡реИрдз Kerberos рдЯрд┐рдХрдЯ** рд╣реЛрдирд╛
```
klist /tmp/krb5cc_0
```
<figure><img src="../.gitbook/assets/image (70).png" alt=""><figcaption></figcaption></figure>

рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рд▓рд┐рдП CCACHE рдЯрд┐рдХрдЯ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред рдПрдХ рдорд╛рдиреНрдп CCACHE рдЯрд┐рдХрдЯ рдХреЛ **рдкреБрди: рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, **KRB5CCNAME** рдХреЛ рд╡реИрдз рдЯрд┐рдХрдЯ рдлрд╛рдЗрд▓ рдХреЗ **рдкрде** рдкрд░ **рдирд┐рд░реНрдпрд╛рдд** рдХрд░реЗрдВред рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдкрд░реНрдпрд╛рд╡рд░рдг рд╡реЗрд░рд┐рдПрдмрд▓ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рдбреЛрдореЗрди рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рддреЗ рд╕рдордп рдЙрд╕ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдЧрд╛ред
```bash
export KRB5CCNAME=/tmp/krb5cc_0
klist
```
### **Unix Keyring**

CCACHE Tickets \*\*\*\* рдХреЛ \*\*\*\* Linux **keyring** рдореЗрдВ рднреА **рд╕рдВрдЧреНрд░рд╣рд┐рдд** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред Keyring **рдХрд░реНрдиреЗрд▓** рдХреЗ рдЕрдВрджрд░ рд░рд╣рддрд╛ рд╣реИ, рдФрд░ рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдЯрд┐рдХрдЯреЛрдВ рдХреА рдкреНрд░рд╛рдкреНрддрд┐ рдФрд░ рдЙрдкрдпреЛрдЧ рдкрд░ **рдЕрдзрд┐рдХ рдирд┐рдпрдВрддреНрд░рдг** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдЯрд┐рдХрдЯреЛрдВ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рд╕реЗ рд╕реАрдорд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

* **`KEYRING:name`:** рдЯрд┐рдХрдЯ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд╛рдорд┐рдд Keyring рдХреЗ рд▓рд┐рдП рд╕реАрдорд┐рдд рд╣реИрдВред
* **`KEYRING:process:name`:** рдЯрд┐рдХрдЯ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЖрдИрдбреА рдХреЗ рд▓рд┐рдП рд╕реАрдорд┐рдд рд╣реИрдВред
* **`KEYRING:thread:name`:** рдЯрд┐рдХрдЯ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдереНрд░реЗрдб рдХреЗ рд▓рд┐рдП рд╕реАрдорд┐рдд рд╣реИрдВред
* **`KEYRING:session:name`:** рдЯрд┐рдХрдЯ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рддреНрд░ рдХреЗ рд▓рд┐рдП рд╕реАрдорд┐рдд рд╣реИрдВред
* **`KEYRING:persistent:uidnumber`:** рдЯрд┐рдХрдЯ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рд╕рддреНрд░ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ рд╕реАрдорд┐рдд рд╣реИрдВ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ)ред

рдкреНрд░рд╢рд╛рд╕рдХ рджреНрд╡рд╛рд░рд╛ Unix keyring рдХреЗ рдЕрдВрджрд░ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдЯрд┐рдХрдЯ рдХреЛ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рд╕реАрдорд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЗрд╕реЗ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛ рдХрдард┐рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, Unix keyring рдореЗрдВ CCACHE Tickets рдХреЗ рд▓рд┐рдП **рдбрд┐рдлрд╝реЙрд▓реНрдЯ** **рд╕реНрдХреЛрдк** **`KEYRING:persistent:uidnumber`** рд╣реИред рд╕реМрднрд╛рдЧреНрдп рд╕реЗ рдпрджрд┐ рдЖрдк **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЗ **рд╕рдВрджрд░реНрдн** рдореЗрдВ рд╣реИрдВ, рддреЛ `klist` рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ **рдкрд╛рд░реНрд╕** рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ, Unix **keyring** рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд **CCACHE** Ticket рдХрд╛ **рдкреБрди: рдЙрдкрдпреЛрдЧ** рдХрд░рдирд╛ рдЯрд┐рдХрдЯ рдХреЗ рд╕реНрдХреЛрдк рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХрд╛рдлреА **рдХрдард┐рди** рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рд╕реМрднрд╛рдЧреНрдп рд╕реЗ [@Zer1t0](https://github.com/Zer1t0) рдиреЗ [@Tarlogic](https://twitter.com/Tarlogic) рд╕реЗ рдПрдХ рдЙрдкрдХрд░рдг рдмрдирд╛рдпрд╛ рд╣реИ рдЬреЛ Unix keyring рд╕реЗ Kerberos рдЯрд┐рдХрдЯреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рд╣реИред рдЙрдкрдХрд░рдг рдХрд╛ рдирд╛рдо **Tickey** рд╣реИ рдФрд░ рдЗрд╕реЗ [**рдпрд╣рд╛рдБ**](https://github.com/TarlogicSecurity/tickey) рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### Keytab <a href="#ff38" id="ff38"></a>

{% hint style="warning" %}
рдЖрдорддреМрд░ рдкрд░, рдкреНрд░рддреНрдпреЗрдХ рд╣реЛрд╕реНрдЯ рдХреЛ рдЙрд╕ рд╣реЛрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ keytab рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдХреЗ рд╕рд╛рде рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛрд╕реНрдЯ рд╕реНрд╡рдпрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реИрдз Credential Cache(CCACHE) Ticket Granting Ticket(TGT) рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
{% endhint %}

рдпрд╣ **Kerberos рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓реНрд╕ рдФрд░ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдХреАрдЬрд╝** рдХреА рдЬреЛрдбрд╝рд┐рдпреЛрдВ рд╕реЗ рдмрдирд╛ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рд╕реЗ рдЬреБрдбрд╝реЗ Kerberos рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рдирд┐рдХрд╛рд▓реЗ рдЧрдП рд╣реЛрддреЗ рд╣реИрдВред рдЪреВрдВрдХрд┐ рдпреЗ рдХреАрдЬрд╝ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рдирд┐рдХрд╛рд▓реА рдЧрдИ рд╣реЛрддреА рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рд╡рд╣ **рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓рддрд╛ рд╣реИ рддреЛ keytab рдЕрдорд╛рдиреНрдп рд╣реЛ рдЬрд╛рдПрдЧрд╛**ред

Keytab рдлрд╛рдЗрд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реИрдз рдЯрд┐рдХрдЯ рдЧреНрд░рд╛рдВрдЯрд┐рдВрдЧ рдЯрд┐рдХрдЯ (TGT) рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ **рдкрд╛рд╕рд╡рд░реНрдб рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА**, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗ рдирд┐рдХрд╛рд▓реА рдЧрдИ рдХреАрдЬрд╝ рд╣реЛрддреА рд╣реИрдВред

Keytab рдлрд╛рдЗрд▓ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИ, рдФрд░ рдЗрд╕реЗ рдХреБрдЫ рддрд░реАрдХреЛрдВ рд╕реЗ рдкреВрд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред Keytab рдлрд╛рдЗрд▓ рдХреЛ **рдкрд╛рд░реНрд╕** рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ **klist** рдХреЗ рд╕рд╛рде рд╣реИред рджреВрд╕рд░рд╛ рддрд░реАрдХрд╛ [Cody Thomas](https://medium.com/u/645ffcef8682?source=post\_page-----77e73d837d6a--------------------------------) рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдИ рдЧрдИ рдПрдХ рд╢рд╛рдирджрд╛рд░ рдкрд╛рдпрдерди рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЙрдирдХреА \*\*\*\* [**KeytabParser**](https://github.com/its-a-feature/KeytabParser) \*\*\*\* рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдФрд░ рдЙрд╕рдХреА рд╕рдВрдмрдВрдзрд┐рдд рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдХреАрдЬрд╝ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░реЗрдЧреАред

рд╣рдорд▓рд╛рд╡рд░ keytab рдлрд╛рдЗрд▓реЛрдВ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХрд╛ **рдкреБрди: рдЙрдкрдпреЛрдЧ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, kinit рдмрд╛рдЗрдирд░реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ CCACHE Ticket **рдЬрдирд░реЗрдЯ** рдХрд░рдХреЗред
```powershell
# Parse keytab
klist -k /rtc/krb5.keytab

# Get TGT
kinit -kt /etc/krb5.keytab host/bastion.westeros.local@WESTEROS.LOCAL
```
### Cheatsheet

рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд▓рд┐рдВрдХ рдореЗрдВ рд▓рд┐рдирдХреНрд╕ рдореЗрдВ рдЯрд┐рдХрдЯреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="privilege-escalation/linux-active-directory.md" %}
[linux-active-directory.md](privilege-escalation/linux-active-directory.md)
{% endcontent-ref %}

## рд╕реВрдЪреАрдХрд░рдг (Enumeration)

{% hint style="warning" %}
рдЖрдк **ldap** рдФрд░ рдЕрдиреНрдп **рдмрд╛рдЗрдирд░реА** рдЯреВрд▓реНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдпрд╛ **FreeIPA рд╕рд░реНрд╡рд░ рдХреЗ рдкреЛрд░реНрдЯ 443 рдкрд░ рд╡реЗрдм рдкреЗрдЬ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдХреЗ** **рд╕реВрдЪреАрдХрд░рдг** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
{% endhint %}

### рд╣реЛрд╕реНрдЯреНрд╕, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛, рдФрд░ рд╕рдореВрд╣ <a href="#4b3b" id="4b3b"></a>

**рд╣реЛрд╕реНрдЯреНрд╕**, **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдФрд░ **рд╕рдореВрд╣** рдмрдирд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИред рд╣реЛрд╕реНрдЯреНрд╕ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ тАЬ**рд╣реЛрд╕реНрдЯ рд╕рдореВрд╣**тАЭ рдФрд░ тАЬ**рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдореВрд╣**тАЭ рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдиреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВ рд╡рд░реНрдЧреАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпреЗ **рд╕рдВрдЧрдардирд╛рддреНрдордХ рдЗрдХрд╛рдЗрдпреЛрдВ** (OU) рдХреЗ рд╕рдорд╛рди рд╣реИрдВред

FreeIPA рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, LDAP рд╕рд░реНрд╡рд░ **рдЧреБрдордирд╛рдо рдмрд╛рдЗрдВрдбреНрд╕** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдФрд░ рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдбреЗрдЯрд╛ **рдЕрдкреНрд░рдорд╛рдгрд┐рдд** рд░реВрдк рд╕реЗ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рд╕рднреА рдбреЗрдЯрд╛ рдХреЛ рдЕрдкреНрд░рдорд╛рдгрд┐рдд рд░реВрдк рд╕реЗ рд╕реВрдЪреАрдмрджреНрдз рдХрд░ рд╕рдХрддрд╛ рд╣реИ:
```
ldapsearch -x
```
рдЕрдзрд┐рдХ **рдЬрд╛рдирдХрд╛рд░реА** рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдПрдХ **рдкреНрд░рдорд╛рдгрд┐рдд** рд╕рддреНрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ (рдкреНрд░рдорд╛рдгрд┐рдд рд╕рддреНрд░ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Authentication рдЕрдиреБрднрд╛рдЧ рджреЗрдЦреЗрдВ)ред
```bash
# Get all users of domain
ldapsearch -Y gssapi -b "cn=users,cn=compat,dc=domain_name,dc=local"

# Get users groups
ldapsearch -Y gssapi -b "cn=groups,cn=accounts,dc=domain_name,dc=local"

# Get all the hosts
ldapsearch -Y gssapi -b "cn=computers,cn=accounts,dc=domain_name,dc=local"

# Get hosts groups
ldapsearch -Y gssapi -b "cn=hostgroups,cn=accounts,dc=domain_name,dc=local"
```
рдПрдХ рдбреЛрдореЗрди рд╕реЗ рдЬреБрдбрд╝реА рдорд╢реАрди рд╕реЗ рдЖрдк **рд╕реНрдерд╛рдкрд┐рдд рдмрд╛рдЗрдирд░реАрдЬ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЛрдореЗрди рдХрд╛ рдкрд░рд┐рдЧрдгрдирд╛ рдХрд░ рд╕рдХреЗрдВрдЧреЗ:
```bash
ipa user-find
ipa usergroup-find
ipa host-find
ipa host-group-find

-------------------

ipa user-show <username> --all
ipa usergroup-show <user group> --all
ipa host-find <host> --all
ipa hostgroup-show <host group> --all
```
{% hint style="info" %}
**FreeIPA** рдХрд╛ **admin** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ **AD** рдХреЗ **domain admins** рдХреЗ рд╕рдорд╛рди рд╣реЛрддрд╛ рд╣реИред
{% endhint %}

### рд╣реИрд╢реЗрдЬрд╝ <a href="#482b" id="482b"></a>

**IPA рд╕рд░реНрд╡рд░** рдХрд╛ **root** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб **рд╣реИрд╢реЗрдЬрд╝** рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддрд╛ рд╣реИред

* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢ тАЬ**userPassword**тАЭ **рдПрдЯреНрд░рд┐рдмреНрдпреВрдЯ** рдореЗрдВ **base64** рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рд╣реИрд╢ **SSHA512** (FreeIPA рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ) рдпрд╛ **PBKDF2_SHA256** рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
* рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ **Nthash** тАЬ**ipaNTHash**тАЭ рдореЗрдВ **base64** рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИ рдпрджрд┐ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ **AD** рдХреЗ рд╕рд╛рде **рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди** рд╣реИред

рдЗрди рд╣реИрд╢реЗрдЬрд╝ рдХреЛ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:

тАв рдпрджрд┐ freeIPA AD рдХреЗ рд╕рд╛рде рдЗрдВрдЯреАрдЧреНрд░реЗрдЯреЗрдб рд╣реИ, рддреЛ **ipaNTHash** рдХреЛ рдХреНрд░реИрдХ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ: рдЖрдкрдХреЛ **base64** рдХреЛ **рдбрд┐рдХреЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП -> рдЗрд╕реЗ **ASCII** рд╣реЗрдХреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдкреБрдирдГ рдПрдиреНрдХреЛрдб рдХрд░реЗрдВ -> John The Ripper рдпрд╛ **hashcat** рдЖрдкрдХреА рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЗрд╕реЗ рдЬрд▓реНрджреА рдХреНрд░реИрдХ рдХрд░рдиреЗ рдореЗрдВ

тАв рдпрджрд┐ FreeIPA рдХрд╛ рдкреБрд░рд╛рдирд╛ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ **SSHA512** рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИ: рдЖрдкрдХреЛ **base64** рдХреЛ рдбрд┐рдХреЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП -> SSHA512 **рд╣реИрд╢** рдЦреЛрдЬреЗрдВ -> John The Ripper рдпрд╛ **hashcat** рдЖрдкрдХреА рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЗрд╕реЗ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдореЗрдВ

тАв рдпрджрд┐ FreeIPA рдХрд╛ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ **PBKDF2_SHA256** рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИ: рдЖрдкрдХреЛ **base64** рдХреЛ рдбрд┐рдХреЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП -> PBKDF2_SHA256 рдЦреЛрдЬреЗрдВ -> рдЗрд╕рдХреА **рд▓рдВрдмрд╛рдИ** 256 рдмрд╛рдЗрдЯ рд╣реИред John 256 рдмрд┐рдЯреНрд╕ (32 рдмрд╛рдЗрдЯ) рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ -> SHA-256 рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░реАрдбреЛ-рд░реИрдВрдбрдо рдлрдВрдХреНрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдмреНрд▓реЙрдХ рдХрд╛ рдЖрдХрд╛рд░ 32 рдмрд╛рдЗрдЯ рд╣реИ -> рдЖрдк рд╣рдорд╛рд░реЗ PBKDF2_SHA256 рд╣реИрд╢ рдХреЗ рдХреЗрд╡рд▓ рдкрд╣рд▓реЗ 256 рдмрд┐рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ -> John The Ripper рдпрд╛ hashcat рдЖрдкрдХреА рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЗрд╕реЗ рдХреНрд░реИрдХ рдХрд░рдиреЗ рдореЗрдВ

<figure><img src="../.gitbook/assets/image (33).png" alt=""><figcaption></figcaption></figure>

рд╣реИрд╢реЗрдЬрд╝ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ **FreeIPA рд╕рд░реНрд╡рд░ рдореЗрдВ root** рд╣реЛрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рд╡рд╣рд╛рдБ рдЖрдк **`dbscan`** рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ:

<figure><img src="../.gitbook/assets/image (196).png" alt=""><figcaption></figcaption></figure>

### HBAC-рдирд┐рдпрдо <a href="#482b" id="482b"></a>

рдпреЗ рдирд┐рдпрдо рд╣реИрдВ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдпрд╛ рд╣реЛрд╕реНрдЯреНрд╕ рдХреЛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ (рд╣реЛрд╕реНрдЯреНрд╕, рд╕реЗрд╡рд╛рдПрдВ, рд╕реЗрд╡рд╛ рд╕рдореВрд╣...) рдкрд░ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред
```bash
# Enumerate using ldap
ldapsearch -Y gssapi -b "cn=hbac,dc=domain_name,dc=local"
# Using ipa
ipa hbacrule-find
# Show info of rule
ipa hbacrule-show <hbacrule> --all
```
#### Sudo-рдирд┐рдпрдо

FreeIPA рдПрдХ **рдХреЗрдВрджреНрд░реАрдХреГрдд** рд╕реНрд░реЛрдд рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **sudo рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ** рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ sudo-рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред рдпреЗ рдирд┐рдпрдо рд╕рдореВрд╣ рдбреЛрдореЗрди рдореЗрдВ рдирд╛рдорд╛рдВрдХрд┐рдд рд╣реЛрд╕реНрдЯреНрд╕ рдкрд░ **sudo рдХреЗ рд░реВрдк рдореЗрдВ рдХрдорд╛рдВрдбреНрд╕ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛** рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдпрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ рд╣рдо рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЗрди рдирд┐рдпрдо рд╕рдореВрд╣реЛрдВ рдХреЛ рдХрд┐рди рд╣реЛрд╕реНрдЯреНрд╕ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдХреМрди рд╕реЗ рдХрдорд╛рдВрдбреНрд╕ рдирд┐рдпрдо рд╕рдореВрд╣ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдиреБрдорддрд┐ рдкреНрд░рд╛рдкреНрдд рд╣реИрдВред
```bash
# Enumerate using ldap
ldapsearch -Y gssapi -b "cn=sudorules,cn=sudo,dc=domain_name,dc=local"
# Using ipa
ipa sudorule-find
# Show info of rule
ipa sudorule-show <sudorule> --all
```
### рднреВрдорд┐рдХрд╛-рдЖрдзрд╛рд░рд┐рдд рдкрд╣реБрдБрдЪ рдирд┐рдпрдВрддреНрд░рдг

рдкреНрд░рддреНрдпреЗрдХ **рднреВрдорд┐рдХрд╛** рдореЗрдВ рдПрдХ рд╕реЗрдЯ **рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░** рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдЙрди рд╕рдВрдмрдВрдзрд┐рдд рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдореЗрдВ **рдЕрдиреБрдорддрд┐рдпреЛрдВ** рдХрд╛ рдПрдХ **рд╕реЗрдЯ** рд╣реЛрддрд╛ рд╣реИред рднреВрдорд┐рдХрд╛рдПрдБ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ** рдкрд░, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ **рд╕рдореВрд╣реЛрдВ**, **рд╣реЛрд╕реНрдЯреЛрдВ**, рд╣реЛрд╕реНрдЯ рд╕рдореВрд╣реЛрдВ, рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдкрд░ **рд▓рд╛рдЧреВ** рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВред рдЗрд╕ рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рд╕рдордЭрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд▓рд┐рдП FreeIPA рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ тАЬUser AdministratorтАЭ рднреВрдорд┐рдХрд╛ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░рддреЗ рд╣реИрдВред

<figure><img src="../.gitbook/assets/image (161).png" alt=""><figcaption></figcaption></figure>

рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдХреЗ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ тАЬUser AdministratorтАЭ рднреВрдорд┐рдХрд╛ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

* **User Administrators**
* **Group Administrators**
* **Stage User Administrators**

рд╣рдо рдФрд░ рдЧрд╣рд░рд╛рдИ рдореЗрдВ рдЬрд╛рдХрд░ рдкреНрд░рддреНрдпреЗрдХ **рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░** рдХреЛ рд╕реМрдВрдкреА рдЧрдИ **рдЕрдиреБрдорддрд┐рдпреЛрдВ** рдХрд╛ рд╡рд┐рд╡рд░рдг рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ:

<figure><img src="../.gitbook/assets/image (189).png" alt=""><figcaption></figcaption></figure>

рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ тАЬ**User Administrator**тАЭ рднреВрдорд┐рдХрд╛ рдореЗрдВ рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рднреАрддрд░ рдХрд╛рдлреА **рдЕрдзрд┐рдХ рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рд╢рд╛рдорд┐рд▓ рд╣реИрдВред **рднреВрдорд┐рдХрд╛рдУрдВ**, **рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ**, рдФрд░ **рдЕрдиреБрдорддрд┐рдпреЛрдВ** рдХреА рд╕рд╛рдорд╛рдиреНрдп рдЕрд╡рдзрд╛рд░рдгрд╛ рдФрд░ рд╕рдВрд░рдЪрдирд╛ рдХреЛ рд╕рдордЭрдирд╛ рдкрд░реНрдпрд╛рд╡рд░рдг рднрд░ рдореЗрдВ рд╣рдорд▓реЗ рдХреЗ рдорд╛рд░реНрдЧреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
```bash
# Using ldap
ldapsearch -Y gssapi -b "cn=roles,cn=accounts,dc=westeros,dc=local"
# Using ipa binary
ipa role-find
ipa role-show <role> --all
ipa privilege-find
ipa privilege-show <privilege> --all
ipa permission-find
ipa permission-show <permission> --all
```
### рд╣рдорд▓реЗ рдХреА рдкрд░рд┐рджреГрд╢реНрдп рдЙрджрд╛рд╣рд░рдг

[https://posts.specterops.io/attacking-freeipa-part-iii-finding-a-path-677405b5b95e](https://posts.specterops.io/attacking-freeipa-part-iii-finding-a-path-677405b5b95e) рдореЗрдВ рдЖрдкрдХреЛ рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдорд┐рд▓реЗрдЧрд╛ рдХрд┐ рдХреИрд╕реЗ рдХреБрдЫ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЛрдореЗрди рдХреЛ рд╕рдордЭреМрддрд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### Linikatz/LinikatzV2

* [https://github.com/Orange-Cyberdefense/LinikatzV2](https://github.com/Orange-Cyberdefense/LinikatzV2)
* [https://github.com/CiscoCXSecurity/linikatz](https://github.com/CiscoCXSecurity/linikatz)

## Privesc

### ~~root рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд┐рд░реНрдорд╛рдг~~

{% hint style="warning" %}
рдпрджрд┐ рдЖрдк **рдирдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ `root` рдирд╛рдо рд╕реЗ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ**, рддреЛ рдЖрдк рдЙрд╕рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЖрдк рдХрд┐рд╕реА рднреА рдорд╢реАрди рдореЗрдВ root рдХреЗ рд░реВрдк рдореЗрдВ **SSH рдХрд░ рд╕рдХреЗрдВрдЧреЗред**

**рдЗрд╕реЗ рдкреИрдЪ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред**
{% endhint %}

"**User Administrators**" рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдмрд╣реБрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ рдЗрд╕рдХрд╛ рдирд╛рдо рдмрддрд╛рддрд╛ рд╣реИ):

<figure><img src="../.gitbook/assets/image (182).png" alt=""><figcaption></figcaption></figure>

рдЗрд╕ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдХреЗ рд╕рд╛рде рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рдЕрдВрджрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рдХреА рдмрд╣реБрдд рд╕рд╛рд░реА рд╢рдХреНрддрд┐рдпрд╛рдБ рдЖрддреА рд╣реИрдВред рдЗрд╕ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рдо FreeIPA рдбреЛрдореЗрди рдХреЗ рдЕрдВрджрд░ рдПрдХ рдирдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ \_root**\_ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред

<figure><img src="../.gitbook/assets/image (158).png" alt=""><figcaption></figcaption></figure>

рдПрдХ рдмрд╛рд░ рдЬрдм рдбреЛрдореЗрди рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмрди рдЬрд╛рддрд╛ рд╣реИ, рд╣рдо \_kinit**\_ рдХреЗ рд╕рд╛рде рдЦрд╛рддреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЯрд┐рдХрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

<figure><img src="../.gitbook/assets/image (178).png" alt=""><figcaption></figcaption></figure>

рдЕрдм рд╣рдо рдЕрдкрдиреЗ рдирдП рдмрдирд╛рдП рдЧрдП root рдбреЛрдореЗрди рдЦрд╛рддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **SSH** рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

<figure><img src="../.gitbook/assets/image (176).png" alt=""><figcaption></figcaption></figure>

рдЬреИрд╕рд╛ рдХрд┐ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдпрд╣ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕реНрдерд╛рдиреАрдп root рдЦрд╛рддреЗ рдореЗрдВ рд▓реЗ рдЬрд╛рддрд╛ рд╣реИ**! рдЗрд╕рд▓рд┐рдП рдХреЗрд╡рд▓ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдбреЛрдореЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмрдирд╛рдХрд░ рд╣рдо root@WESTEROS.LOCAL рдЦрд╛рддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдФрд░ рд╕реНрдерд╛рдиреАрдп root рдЦрд╛рддреЗ рдХреЗ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдВрджрд░реНрдн рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдереЗ**_ред_

_рдЗрд╕ рджреЛрд╖ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ_ [_https://posts.specterops.io/attacking-freeipa-part-iv-cve-2020-10747-7c373a1bf66b_](https://posts.specterops.io/attacking-freeipa-part-iv-cve-2020-10747-7c373a1bf66b)\\

<details>

<summary><strong>Learn AWS hacking from zero to hero with</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**official PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**ред
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
