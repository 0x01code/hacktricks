# рд╕реАрдЧреНрд░реБрдкреНрд╕

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛред**

</details>

## рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

**рд▓рд┐рдирдХреНрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕рдореВрд╣**, рдЬрд┐рдиреНрд╣реЗрдВ рд╕реАрдЧреНрд░реБрдкреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдПрдХ рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдирд▓ рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ **рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕реАрдорд┐рдд**, рдкреБрд▓рд┐рд╕ рдФрд░ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рд╕реАрдЧреНрд░реБрдкреНрд╕ рдПрдХ рддрд░реАрдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ **рд╕рдореВрд╣реЛрдВ рдХреЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд╕рдВрд╕рд╛рдзрди рдЙрдкрдпреЛрдЧ** (рд╕реАрдкреАрдпреВ, рдореЗрдореЛрд░реА, рдбрд┐рд╕реНрдХ рдЖрдИрдУ, рдиреЗрдЯрд╡рд░реНрдХ, рдЖрджрд┐) рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХрд╛ред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрдИ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╕рдореВрд╣ рдХреЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рд╕реАрдорд╛ рд▓рдЧрд╛рдирд╛, рдЕрдиреНрдпреЛрдВ рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡рд░реНрдХрд▓реЛрдб рдХреЛ рдЕрд▓рдЧ рдХрд░рдирд╛, рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд╡рд┐рднрд┐рдиреНрди рд╕рдореВрд╣реЛрдВ рдХреЗ рдмреАрдЪ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрдирд╛ред

рд╕реАрдЧреНрд░реБрдкреНрд╕ рдХреЗ рджреЛ рд╕рдВрд╕реНрдХрд░рдг рд╣реИрдВ, 1 рдФрд░ 2, рдФрд░ рджреЛрдиреЛрдВ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИрдВ рдФрд░ рдПрдХ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рд╕рдордп-рд╕рдордп рдкрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рд╕реАрдЧреНрд░реБрдкреНрд╕ рд╕рдВрд╕реНрдХрд░рдг 1 рдФрд░ **рд╕рдВрд╕реНрдХрд░рдг 2** рдХреЗ рдмреАрдЪ рд╕рдмрд╕реЗ **рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрдВрддрд░** рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕рдиреЗ рд╕реАрдЧреНрд░реБрдкреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдкреЗрдбрд╝-рдЬреИрд╕рд╛ рд╕рдВрдЧрдарди рдкреЗрд╢ рдХрд┐рдпрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рд╕рдореВрд╣реЛрдВ рдХреЛ **рдПрдХ рдкреЗрдбрд╝-рдЬреИрд╕реА рд╕рдВрд░рдЪрдирд╛** рдореЗрдВ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдорд╛рддрд╛-рдкрд┐рддрд╛-рдмрд╛рд▓ рд╕рдВрдмрдВрдз рд╣реЛрддреЗ рд╣реИрдВред рдЗрд╕рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдореВрд╣реЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдЖрд╡рдВрдЯрди рдкрд░ рдПрдХ рдФрд░ рд▓рдЪреАрд▓рд╛ рдФрд░ рд╡рд┐рд╕реНрддреГрдд рдирд┐рдпрдВрддреНрд░рдг рд╣реЛрддрд╛ рд╣реИред

рдирдИ рдкреЗрдбрд╝-рдЬреИрд╕реА рд╕рдВрдЧрдарди рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕реАрдЧреНрд░реБрдкреНрд╕ рд╕рдВрд╕реНрдХрд░рдг 2 рдиреЗ рднреА **рдХрдИ рдЕрдиреНрдп рдмрджрд▓рд╛рд╡ рдФрд░ рд╕реБрдзрд╛рд░** рдкреЗрд╢ рдХрд┐рдП рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдирдП рд╕рдВрд╕рд╛рдзрди рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди, рдкреБрд░рд╛рдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рд╕рдорд░реНрдерди, рдФрд░ рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рдиред

рд╕рдордЧреНрд░, рд╕реАрдЧреНрд░реБрдкреНрд╕ **рд╕рдВрд╕реНрдХрд░рдг 2 рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдПрдВ рдФрд░ рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рди** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рд╕рдВрд╕реНрдХрд░рдг 1 рдХреА рддреБрд▓рдирд╛ рдореЗрдВ, рд▓реЗрдХрд┐рди рдЬрд╣рд╛рдВ рдкреБрд░рд╛рдиреЗ рд╕рд┐рд╕реНрдЯрдореЛрдВ рдХреЗ рд╕рдВрдЧрддрддрд╛ рдХреА рдЪрд┐рдВрддрд╛ рд╣реЛрддреА рд╣реИ, рд╡рд╣рд╛рдВ рдЕрднреА рднреА рд╕рдВрд╕реНрдХрд░рдг 1 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЖрдк рдХрд┐рд╕реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП v1 рдФрд░ v2 рд╕реАрдЧреНрд░реБрдкреНрд╕ рдХреА рд╕реВрдЪреА рдЙрд╕рдХреЗ cgroup рдлрд╝рд╛рдЗрд▓ рдореЗрдВ /proc/\<pid> рджреЗрдЦрдХрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдЗрд╕ рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рд╢реИрд▓ рдХреЗ рд╕реАрдЧреНрд░реБрдкреНрд╕ рдкрд░ рдирдЬрд╝рд░ рдбрд╛рд▓рдХрд░ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```shell-session
$ cat /proc/self/cgroup
12:rdma:/
11:net_cls,net_prio:/
10:perf_event:/
9:cpuset:/
8:cpu,cpuacct:/user.slice
7:blkio:/user.slice
6:memory:/user.slice 5:pids:/user.slice/user-1000.slice/session-2.scope 4:devices:/user.slice
3:freezer:/
2:hugetlb:/testcgroup
1:name=systemd:/user.slice/user-1000.slice/session-2.scope
0::/user.slice/user-1000.slice/session-2.scope
```
рдЕрдЧрд░ рдЖрдкрдХреЗ рд╕рд┐рд╕реНрдЯрдо рдкрд░ **рдЖрдЙрдЯрдкреБрдЯ рдХрд╛рдлреА рдХрдо рд╣реИ**, рддреЛ рдЪрд┐рдВрддрд╛ рди рдХрд░реЗрдВ; рдпрд╣ рдмрд╕ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ **рдХреЗрд╡рд▓ cgroups v2** рд╣реИрдВред рдпрд╣рд╛рдВ рд╣рд░ рдкрдВрдХреНрддрд┐ рдПрдХ рдирдВрдмрд░ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ рдФрд░ рдпрд╣ рдПрдХ рдЕрд▓рдЧ-рдЕрд▓рдЧ cgroup рд╣реЛрддреА рд╣реИред рдЗрд╕реЗ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рдХреБрдЫ рд╕рдВрдХреЗрдд рд╣реИрдВ:

* **2 рд╕реЗ 12 рддрдХ рдХреЗ рдирдВрдмрд░ cgroups v1 рдХреЗ рд▓рд┐рдП рд╣реИрдВ**ред рдЗрдирдХреЗ рд╕рд╛рде рдирдВрдмрд░ рдХреЗ рдкрд╢реНрдЪрд╛рдд рдирд┐рдпрдВрддреНрд░рдХ рджрд┐рдП рдЧрдП рд╣реЛрддреЗ рд╣реИрдВред
* **рдирдВрдмрд░ 1** рднреА **рд╡рд░реНрдЬрди 1** рдХреЗ рд▓рд┐рдП рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдореЗрдВ рдХреЛрдИ рдирд┐рдпрдВрддреНрд░рдХ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ cgroup **рдкреНрд░рдмрдВрдзрди рдХреЗ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ** рдХреЗ рд▓рд┐рдП рд╣реЛрддреА рд╣реИ (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, systemd рдиреЗ рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рд╣реИ)ред
* рдЕрдВрддрд┐рдо рдкрдВрдХреНрддрд┐, **рдирдВрдмрд░ 0**, cgroups v2 рдХреЗ рд▓рд┐рдП рд╣реИред рдпрд╣рд╛рдВ рдХреЛрдИ рдирд┐рдпрдВрддреНрд░рдХ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред cgroups v1 рд╡рд╛рд▓реЗ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдпрд╣ рдЖрдЙрдЯрдкреБрдЯ рдХреА рдПрдХрдорд╛рддреНрд░ рдкрдВрдХреНрддрд┐ рд╣реЛрдЧреАред
* **рдирд╛рдо рд╣рд┐рдпрд░рд╛рд░реНрдХрд┐рдпрд▓ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдлрд╝рд╛рдЗрд▓ рдкрде рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреА рддрд░рд╣ рджрд┐рдЦрддреЗ рд╣реИрдВ**ред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреБрдЫ cgroups рдХрд╛ рдирд╛рдо /user.slice рд╣реИ рдФрд░ рдХреБрдЫ /user.slice/user-1000.slice/session-2.scope рд╣реИред
* /testcgroup рдирд╛рдо рдЙрд╕рдХреЛ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ рдХрд┐ cgroups v1 рдореЗрдВ, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП cgroups рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред
* session рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ user.slice рдХреЗ рдирд╛рдо рд▓реЙрдЧрд┐рди рд╕рддреНрд░ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ systemd рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЖрдк рдЬрдм рдПрдХ рд╢реИрд▓ рдХреЗ cgroups рдХреЛ рджреЗрдЦ рд░рд╣реЗ рд╣реЛрдВрдЧреЗ рддреЛ рдЖрдк рдЙрдиреНрд╣реЗрдВ рджреЗрдЦреЗрдВрдЧреЗред рдЖрдкрдХреЗ **рд╕рд┐рд╕реНрдЯрдо рд╕реЗрд╡рд╛рдУрдВ** рдХреЗ **cgroups system.slice рдХреЗ рддрд╣рдд рд╣реЛрдВрдЧреЗ**ред

### cgroups рджреЗрдЦрдирд╛

рд╕рд╛рдорд╛рдиреНрдпрддрдГ cgroups рдХреЛ **рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдпрд╣ рдпреВрдирд┐рдХреНрд╕ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╡рд┐рдкрд░реАрдд рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реНрдирд▓ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред\
рдПрдХ рд╢реИрд▓ рдХреЗ cgroup рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк `/proc/self/cgroup` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ `/sys/fs/cgroup` (рдпрд╛ `/sys/fs/cgroup/unified`) рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЬрд╛рдХрд░ рдЙрд╕реА рдирд╛рдо рдХреЗ рдПрдХ **рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВ** рдЬреИрд╕рд╛ рдХрд┐ cgroup рдХрд╛ рдирд╛рдо рд╣реИред рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЬрд╛рдХрд░ рдЪреЗрдХ рдХрд░рдиреЗ рд╕реЗ рдЖрдкрдХреЛ cgroup рдХреЗ рд╡рд┐рднрд┐рдиреНрди **рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдФрд░ рд╕рдВрд╕рд╛рдзрди рдЙрдкрдпреЛрдЧ рдЬрд╛рдирдХрд╛рд░реА** рджреЗрдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓реЗрдЧреАред

<figure><img src="../../../.gitbook/assets/image (10) (2).png" alt=""><figcaption></figcaption></figure>

рдпрд╣рд╛рдВ рдореМрдЬреВрдж рдЕрдиреЗрдХ рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ, **рдкреНрд░рд╛рдердорд┐рдХ cgroup рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдлрд╝рд╛рдЗрд▓ cgroup рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИрдВ**ред рдкрд╣рд▓реЗ `cgroup.procs` рджреЗрдЦреЗрдВ (cat рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдареАрдХ рд╣реИ), рдЬрд┐рд╕рдореЗрдВ cgroup рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рд╕реВрдЪреАрдмрджреНрдз рд╣реЛрддреА рд╣реИрдВред рдПрдХ рд╕рдорд╛рди рдлрд╝рд╛рдЗрд▓, `cgroup.threads`, рдзрд╛рдЧреЛрдВ рдХреЛ рднреА рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИред

<figure><img src="../../../.gitbook/assets/image (1) (1) (5).png" alt=""><figcaption></figcaption></figure>

рд╢реИрд▓ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ cgroups рдореЗрдВ рдпреЗ рджреЛ рдирд┐рдпрдВрддреНрд░рдХ рд╣реЛрддреЗ рд╣реИрдВ, рдЬреЛ **рдореЗрдореЛрд░реА рдХреА рдорд╛рддреНрд░рд╛** рдФрд░ cgroup рдореЗрдВ **рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛** рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдпрдВрддреНрд░рдХ рдкреНрд░рд┐рдлрд╝рд┐рдХреНрд╕ рдХреЗ рдорд┐рд▓рддреЗ рдЬреБрд▓рддреЗ **рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВ**ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк cgroup рдореЗрдВ рдЪрд▓ рд░рд╣реЗ рдзрд╛рдЧреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ pids.current рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ:

<figure><img src="../../../.gitbook/assets/image (3) (5).png" alt=""><figcaption></figcaption></figure>

**max рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЗрд╕ cgroup рдХрд╛ рдХреЛрдИ рд╡рд┐рд╢реЗрд╖ рд╕реАрдорд╛ рдирд╣реАрдВ рд╣реИ**, рд▓реЗрдХрд┐рди cgroups рд╣рд╛рдпрд░рд╛рд░реНрдХрд┐рдпрд▓ рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдПрдХ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдЪреЗрди рдореЗрдВ рд╡рд╛рдкрд╕ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ cgroup рдЗрд╕реЗ рд╕реАрдорд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

### cgroups рдХреЛ рдорд╛рдирд┐рдкреБрд▓реЗрдЯ рдФрд░ рдмрдирд╛рдирд╛

рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдПрдХ cgroup рдореЗрдВ рдбрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, **рдЙрд╕рдХреЗ PID рдХреЛ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрд╕рдХреА `cgroup.procs` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦреЗрдВ:**
```shell-session
# echo pid > cgroup.procs
```
рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ cgroups рдХреЗ рд▓рд┐рдП рдмрджрд▓рд╛рд╡ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк **cgroup рдХреЗ рдореИрдХреНрд╕рд┐рдордо рдкреАрдЖрдИрдбреА рдХреА рд╕реАрдорд╛ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** (рдорд╛рди рд▓реАрдЬрд┐рдП, 3,000 рдкреАрдЖрдИрдбреАрдПрд╕), рддреЛ рдЗрд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдХрд░реЗрдВ:
```shell-session
# echo 3000 > pids.max
```
**рдХреНрд░рд┐рдПрдЯрд┐рдВрдЧ рд╕реАрдЧреНрд░реБрдкреНрд╕ рдХрдард┐рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ**ред рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ, рдпрд╣ рдПрдХ рд╕рдмрдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреНрд░рд┐рдПрдЯ рдХрд░рдиреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрд╕рд╛рди рд╣реИ рдЬрд╣рд╛рдВ-рдХрд╣реАрдВ рд╕реАрдЧреНрд░реБрдк рдЯреНрд░реА рдореЗрдВ; рдЬрдм рдЖрдк рдРрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ, рдХрд░реНрдирд▓ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдлрд╝рд╛рдЗрд▓реЗрдВ рдмрдирд╛рддрд╛ рд╣реИред рдпрджрд┐ рдХрд┐рд╕реА рд╕реАрдЧреНрд░реБрдк рдореЗрдВ рдХреЛрдИ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдк рдЗрдВрдЯрд░рдлреЗрд╕ рдлрд╝рд╛рдЗрд▓реЗрдВ рдореМрдЬреВрдж рд╣реЛрдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрдж rmdir рдХреЗ рд╕рд╛рде рд╕реАрдЧреНрд░реБрдк рдХреЛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдкрдХреЛ рдЗрди рд╕реАрдЧреНрд░реБрдкреНрд╕ рдХреЛ рдирд┐рдпрдореЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рдХрд░ рд╕рдХрддреА рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

* рдЖрдк **рдХреЗрд╡рд▓ рдмрд╛рд╣рд░реА рд╕реНрддрд░ ("рдкрддреНрддреА") рд╕реАрдЧреНрд░реБрдкреНрд╕ рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ**ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ /my-cgroup рдФрд░ /my-cgroup/my-subgroup рдирд╛рдордХ рд╕реАрдЧреНрд░реБрдкреНрд╕ рд╣реИрдВ, рддреЛ рдЖрдк /my-cgroup рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рдирд╣реАрдВ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди /my-cgroup/my-subgroup рдареАрдХ рд╣реИред (рдПрдХ рдЫреВрдЯ рд╣реИ рдЕрдЧрд░ рд╕реАрдЧреНрд░реБрдкреНрд╕ рдореЗрдВ рдХреЛрдИ рдирд┐рдпрдВрддреНрд░рдХ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЪрд▓реЛ рдФрд░ рдЧрд╣рд░рд╛рдИ рдореЗрдВ рди рдЬрд╛рдПрдВред)
* **рдХрд┐рд╕реА рд╕реАрдЧреНрд░реБрдк рдореЗрдВ рдЙрд╕рдХреЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реАрдЧреНрд░реБрдк рдореЗрдВ рдирд╣реАрдВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдирд┐рдпрдВрддреНрд░рдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ**ред
* рдЖрдкрдХреЛ рдмрд╛рд▓ рд╕реАрдЧреНрд░реБрдкреНрд╕ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдХ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ **рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛**ред рдЖрдк рдЗрд╕реЗ `cgroup.subtree_control` рдлрд╝рд╛рдЗрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ; рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ рдмрд╛рд▓ рд╕реАрдЧреНрд░реБрдк рдореЗрдВ cpu рдФрд░ pids рдирд┐рдпрдВрддреНрд░рдХ рд╣реЛрдВ, рддреЛ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ +cpu +pids рд▓рд┐рдЦреЗрдВред

рдЗрди рдирд┐рдпрдореЛрдВ рдХреА рдПрдХ рдЫреВрдЯ рд╣реИ рдЬреЛ рд╣рд┐рдпрд░рд╛рд░реНрдХреА рдХреЗ рдиреАрдЪреЗ рдкрд╛рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ **рд░реВрдЯ рд╕реАрдЧреНрд░реБрдк** рдореЗрдВ рд╣реЛрддреА рд╣реИред рдЖрдк **рдЗрд╕ рд╕реАрдЧреНрд░реБрдк рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ**ред рдЗрд╕реЗ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдХрд╛рд░рдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ systemd рдХреЗ рдирд┐рдпрдВрддреНрд░рдг рд╕реЗ рдЕрд▓рдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред

рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЛ рд╕рдХреНрд╖рдо рди рдХрд░рдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдЖрдк рдЗрд╕рдХреЗ cpu.stat рдлрд╝рд╛рдЗрд▓ рдХреЛ рджреЗрдЦрдХрд░ рдПрдХ рд╕реАрдЧреНрд░реБрдк рдХрд╛ рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ:

<figure><img src="../../../.gitbook/assets/image (2) (6) (3).png" alt=""><figcaption></figcaption></figure>

рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╕реАрдЧреНрд░реБрдк рдХреЗ рд╕рдВрдкреВрд░реНрдг рдЬреАрд╡рдирдХрд╛рд▓ рдХреЗ рдПрдХрддреНрд░рд┐рдд рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ рд╣реИ, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ рд╕реЗрд╡рд╛ рдкреНрд░реЛрд╕реЗрд╕рд░ рд╕рдордп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░рддреА рд╣реИ, рдпрджрд┐ рдЗрд╕рдореЗрдВ рдХрдИ рд╕рдмрдкреНрд░реЛрд╕реЗрд╕ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдЕрдВрддрддрдГ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ**? рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛** **рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВ**ред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛред**

</details>
