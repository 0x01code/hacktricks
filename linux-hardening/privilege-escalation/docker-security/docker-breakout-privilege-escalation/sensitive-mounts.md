<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдкрд░ PR рдЬрдорд╛ рдХрд░рдХреЗред

</details>


`/proc` рдФрд░ `/sys` рдХреА рдЕрдиреБрдЪрд┐рдд рдиреЗрдорд╕реНрдкреЗрд╕ рдЖрдЗрд╕реЛрд▓реЗрд╢рди рдХреЗ рдмрд┐рдирд╛ рдЙрдЬрд╛рдЧрд░ рд╣реЛрдирд╛, рд╣рдореЗрдВ рдмрдбрд╝реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдореЛрдВ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рд╣рдорд▓реЗ рдХреА рд╕рддрд╣ рд╡рд┐рд╕реНрддрд╛рд░ рдФрд░ рд╕реВрдЪрдирд╛ рдЙрдЬрд╛рдЧрд░реАред рдпреЗ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдБ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рдореЗрдд рд╣реИрдВ рдЬреЛ, рдЕрдЧрд░ рдЧрд▓рдд рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рдпрд╛ рдЕрдирдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдП рдЧрдП, рдХрдВрдЯреЗрдирд░ рдЫреВрдЯ, рд╣реЛрд╕реНрдЯ рдореЗрдВ рд╕рдВрд╢реЛрдзрди, рдпрд╛ рдЖрдЧреЗ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╣рдорд▓реЛрдВ рдХреА рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреА рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, `-v /proc:/host/proc` рдХреЛ рдЧрд▓рддреА рд╕реЗ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛ AppArmor рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХреА рдкрде-рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рдХреГрддрд┐ рдХреЗ рдХрд╛рд░рдг `/host/proc` рд╕реБрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд░рд╣рддрд╛ред

рдЖрдк [https://0xn3va.gitbook.io/cheat-sheets/container/escaping/sensitive-mounts](https://0xn3va.gitbook.io/cheat-sheets/container/escaping/sensitive-mounts) рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрднрд╛рд╡рд┐рдд рджреБрд░реБрдкрдпреЛрдЧ рдХреЗ рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

# procfs рджреБрд░реБрдкрдпреЛрдЧ

## `/proc/sys`
рдпрд╣ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХрд░реНрдиреЗрд▓ рдЪрд░рд┐рддреНрд░рд┐рдпреЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рд╕рд╛рдорд╛рдиреНрдпрдд: `sysctl(2)` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдФрд░ рдХрдИ рдЪрд┐рдВрд╣рд┐рдд рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдБ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

### **`/proc/sys/kernel/core_pattern`**
- [core(5)](https://man7.org/linux/man-pages/man5/core.5.html) рдореЗрдВ рд╡рд░реНрдгрд┐рддред
- рдкрд╣рд▓реЗ 128 рдмрд╛рдЗрдЯ рдХреЗ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдХреЛрд░-рдлрд╝рд╛рдЗрд▓ рдЙрддреНрдкрдиреНрди рд╣реЛрдиреЗ рдкрд░ рдХрд╛рд░реНрдп рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдпрджрд┐ рдлрд╝рд╛рдЗрд▓ рдкрд╛рдЗрдк `|` рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рддреЛ рдпрд╣ рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрди рдореЗрдВ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
- **рдкрд░реАрдХреНрд╖рдг рдФрд░ рджреБрд░реБрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдг**:
```bash
[ -w /proc/sys/kernel/core_pattern ] && echo Yes # рд▓реЗрдЦрди рдкрд╣реБрдВрдЪ рдХреА рдкрд░реАрдХреНрд╖рд╛
cd /proc/sys/kernel
echo "|$overlay/shell.sh" > core_pattern # рдХрд╕реНрдЯрдо рд╣реИрдВрдбрд▓рд░ рд╕реЗрдЯ рдХрд░реЗрдВ
sleep 5 && ./crash & # рд╣реИрдВрдбрд▓рд░ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░реЗрдВ
```

### **`/proc/sys/kernel/modprobe`**
- [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html) рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рддред
- рдХрд░реНрдиреЗрд▓ рдореЙрдбреНрдпреВрд▓ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрд░реНрдиреЗрд▓ рдореЙрдбреНрдпреВрд▓ рд▓реЛрдбрд░ рдХрд╛ рдкрде рд╢рд╛рдорд┐рд▓ рд╣реИред
- **рдкрд╣реБрдВрдЪ рдХреА рдЬрд╛рдВрдЪ рдЙрджрд╛рд╣рд░рдг**:
```bash
ls -l $(cat /proc/sys/kernel/modprobe) # modprobe рдХреА рдкрд╣реБрдВрдЪ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ
```

### **`/proc/sys/vm/panic_on_oom`**
- [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html) рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рддред
- рдПрдХ рд╡реИрд╢реНрд╡рд┐рдХ рдзреНрд╡рдирд┐ рдЬреЛ рдХрд░реНрдиреЗрд▓ рдкреИрдирд┐рдХ рдпрд╛ OOM рдХрд┐рд▓рд░ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рддреА рд╣реИ рдЬрдм рдПрдХ OOM рд╕реНрдерд┐рддрд┐ рдШрдЯрд┐рдд рд╣реЛрддреА рд╣реИред

### **`/proc/sys/fs`**
- [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html) рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рдХрд▓реНрдк рдФрд░ рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рд╣реИред
- рд▓реЗрдЦрди рдкрд╣реБрдВрдЪ рдореЗрдЬрд╝рдмрд╛рди рдХреЗ рдЦрд┐рд▓рд╛рдл рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рднрд╛рдЬрди-рд╕реЗрд╡рд╛ рд╣рдорд▓реЗ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреА рд╣реИред

### **`/proc/sys/fs/binfmt_misc`**
- рдЕрдкрдиреЗ рдореИрдЬрд┐рдХ рдирдВрдмрд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЧреИрд░-рдореВрд▓рднреВрдд рдмрд╛рдЗрдирд░реА рдкреНрд░рд╛рд░реВрдкреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдкреНрд░рдпреЛрдХреНрддрд╛рдУрдВ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
- `/proc/sys/fs/binfmt_misc/register` рд▓рд┐рдЦрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рддреЛ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдпрд╛ рд░реВрдЯ рд╢реИрд▓реА рдПрдХреНрд╕реЗрд╕ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
- рд╕рдВрдмрдВрдзрд┐рдд рджреБрд░реБрдкрдпреЛрдЧ рдФрд░ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг:
- [binfmt_misc рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧрд░реАрдм рдЖрджрдореА рдХрд╛ рд░реВрдЯрдХрд┐рдЯ](https://github.com/toffan/binfmt_misc)
- рд╡рд┐рд╕реНрддреГрдд рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓: [рд╡реАрдбрд┐рдпреЛ рд▓рд┐рдВрдХ](https://www.youtube.com/watch?v=WBC7hhgMvQQ)

## `/proc` рдореЗрдВ рдЕрдиреНрдп

### **`/proc/config.gz`**
- `CONFIG_IKCONFIG_PROC` рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдкрд░ рдХрд░реНрдиреЗрд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
- рдЪрд▓ рд░рд╣реЗ рдХрд░реНрдиреЗрд▓ рдореЗрдВ рджреЛрд╖реЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреАред

### **`/proc/sysrq-trigger`**
- Sysrq рдХрдорд╛рдВрдб рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛ рдЕрдиреНрдп рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
- **рд╣реЛрд╕реНрдЯ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХрд╛ рдЙрджрд╛рд╣рд░рдг**:
```bash
echo b > /proc/sysrq-trigger # рд╣реЛрд╕реНрдЯ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИ
```

### **`/proc/kmsg`**
- рдХрд░реНрдиреЗрд▓ рд░рд┐рдВрдЧ рдмрдлрд░ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рддрд╛ рд╣реИред
- рдХрд░реНрдиреЗрд▓ рджреБрд░реБрдкрдпреЛрдЧ, рдкрддреЗ рд▓реАрдХ, рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╕рд┐рд╕реНрдЯрдо рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИред

### **`/proc/kallsyms`**
- рдХрд░реНрдиреЗрд▓ рдирд┐рд░реНрдпрд╛рддрд┐рдд рдЪрд┐рдиреНрд╣реЛрдВ рдФрд░ рдЙрдирдХреЗ рдкрддреЛрдВ рдХреА рд╕реВрдЪреА рджреЗрддрд╛ рд╣реИред
- рдХрд░реНрдиреЗрд▓ рджреБрд░реБрдкрдпреЛрдЧ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдЕрддреНрдпрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ KASLR рдХреЛ рдкрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
- рдкрддрд╛ рд╕реВрдЪрдирд╛ `kptr_restrict` рдХреЛ `1` рдпрд╛ `2` рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рд╣реИред
- [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html) рдореЗрдВ рд╡рд┐рд╡рд░рдгред

### **`/proc/[pid]/mem`**
- рдХрд░реНрдиреЗрд▓ рдореЗрдореЛрд░реА рдбрд┐рд╡рд╛рдЗрд╕ `/dev/mem` рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рддрд╛ рд╣реИред
- рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд░реВрдк рд╕реЗ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдЙрдиреНрдирддрд┐ рд╣рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╡рдВрд╢рд╛рдиреБрдЧрдд рд░рд╣рд╛ рд╣реИред
- [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html) рдкрд░ рдЕрдзрд┐рдХред

### **`/proc/kcore`**
- рдПрд▓рдПрдл рдХреЛрд░ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╕рд┐рд╕реНрдЯрдо рдХреА рднреМрддрд┐рдХ рдореЗрдореЛрд░реА рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддрд╛ рд╣реИред
- рдкрдврд╝рдиреЗ рд╕реЗ рдореЗрдЬрд╝рдмрд╛рди рд╕рд┐рд╕реНрдЯрдо рдФрд░ рдЕрдиреНрдп рдХрдВрдЯреЗрдирд░реЛрдВ рдХреА рдореЗрдореЛрд░реА рд╕рд╛рдордЧреНрд░реА рдЙрдЬрд╛рдЧрд░ рд╣реЛ рд╕рдХрддреА рд╣реИред
- рдмрдбрд╝реЗ рдлрд╝рд╛рдЗрд▓ рдЖрдХрд╛рд░ рд╕реЗ рдкрдврд╝рдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛рдПрдБ рдпрд╛ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреНрд░реИрд╢ рдХреА рдУрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддреА рд╣реИрдВред
- [2019 рдореЗрдВ /proc/kcore рдХреЛ рдбрдВрдк рдХрд░рдирд╛](https://schlafwandler.github.io/posts/dumping-/proc/kcore/) рдореЗрдВ рд╡рд┐рд╕реНрддреГрдд рдЙрдкрдпреЛрдЧред

### **`/proc/kmem`**
- рдХрд░реНрдиреЗрд▓ рд╡рд░реНрдЪреБрдЕрд▓ рдореЗрдореЛрд░реА рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ `/dev/kmem` рдХреЗ рд▓рд┐рдП рд╡реИрдХрд▓реНрдкрд┐рдХ рдЗрдВрдЯрд░рдлреЗрд╕ред
- рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХрд░реНрдиреЗрд▓ рдореЗрдореЛрд░реА рдХрд╛ рд╕реАрдзрд╛ рд╕рдВрд╢реЛрдзрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИред

### **`/proc/mem`**
- рд╡рд┐рдХрд▓реНрдкрд┐рдХ рдЗрдВрдЯрд░рдлреЗрд╕ `/dev/mem` рдХреЗ рд▓рд┐рдП, рднреМрддрд┐рдХ рдореЗрдореЛрд░реА рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддрд╛ рд╣реИред
- рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд╕рднреА рдореЗрдореЛрд░реА рдХрд╛ рд╕рдВрд╢реЛрдзрди рд╡рд░реНрдЪреБрдЕрд▓ рд╕реЗ рднреМрддрд┐рдХ рдкрддреЗ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред

### **`/proc/sched_debug`**
- рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЕрдиреБрд╕
