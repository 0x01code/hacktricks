<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

- рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!

- рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)

- рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)

- **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗред**

</details>


# рд╕рд╛рд░рд╛рдВрд╢

рдЕрдЧрд░ рдЖрдкрдХреЛ `/etc/ssh_config` рдпрд╛ `$HOME/.ssh/config` рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдХреЛрдИ рднреА рдЦреЛрдЬ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рдЖрдк рдХреНрдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```
ForwardAgent yes
```
рдпрджрд┐ рдЖрдк рдорд╢реАрди рдХреЗ рдЕрдВрджрд░ рд░реВрдЯ рд╣реИрдВ, рддреЛ рдЖрдк рд╢рд╛рдпрдж **/tmp** рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдорд┐рд▓рдиреЗ рд╡рд╛рд▓реЗ рдХрд┐рд╕реА рднреА рдПрдЬреЗрдВрдЯ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЧрдП рдХрд┐рд╕реА рднреА SSH рдХрдиреЗрдХреНрд╢рди рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдмреЙрдм рдХреА рдПрдХ SSH-рдПрдЬреЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмреЙрдм рдХреА рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВ:
```bash
SSH_AUTH_SOCK=/tmp/ssh-haqzR16816/agent.16816 ssh bob@boston
```
## рдпрд╣ рдХрд╛рдо рдХреИрд╕реЗ рдХрд░рддрд╛ рд╣реИ?

рдЬрдм рдЖрдк `SSH_AUTH_SOCK` рдЪрд░ рдХреЛ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдмреЙрдм рдХреА рдХреБрдВрдЬреАрдпреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдЬреЛ рдмреЙрдм рдХреЗ SSH рдХрдиреЗрдХреНрд╢рди рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рд╣реИрдВред рдлрд┐рд░, рдЕрдЧрд░ рдЙрд╕рдХреА рдирд┐рдЬреА рдХреБрдВрдЬреА рд╡рд╣рд╛рдБ рдЕрднреА рднреА рд╣реИ (рд╕рд╛рдорд╛рдиреНрдпрддрдГ рдРрд╕рд╛ рд╣реА рд╣реЛрдЧрд╛), рддреЛ рдЖрдк рдЙрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рднреА рд╣реЛрд╕реНрдЯ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХреЗрдВрдЧреЗред

рдирд┐рдЬреА рдХреБрдВрдЬреА рдПрдЬреЗрдВрдЯ рдХреА рдореЗрдореЛрд░реА рдореЗрдВ рдЕрд╡рд┐рдХреНрд░рд┐рдпрдкрди рдХреЗ рд░реВрдк рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИ, рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЕрдЧрд░ рдЖрдк рдмреЙрдм рд╣реИрдВ рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдирд┐рдЬреА рдХреБрдВрдЬреА рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдирд╣реАрдВ рдкрддрд╛ рд╣реИ, рддреЛ рдЖрдк рдЕрднреА рднреА рдПрдЬреЗрдВрдЯ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдПрдХ рдФрд░ рд╡рд┐рдХрд▓реНрдк рд╣реИ, рдпрд╣ рд╣реИ рдХрд┐ рдПрдЬреЗрдВрдЯ рдХреЗ рдорд╛рд▓рд┐рдХ рдФрд░ рд░реВрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдЬреЗрдВрдЯ рдХреА рдореЗрдореЛрд░реА рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдЬреА рдХреБрдВрдЬреА рдХреЛ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред

# рд╡рд┐рд╕реНрддреГрдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдФрд░ рд╢реЛрд╖рдг

**рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:** [**https://www.clockwork.com/news/2012/09/28/602/ssh\_agent\_hijacking/**](https://www.clockwork.com/news/2012/09/28/602/ssh\_agent\_hijacking/)

## **рдЬрдм ForwardAgent рдкрд░ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**

рдмрд┐рдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ SSH, Unix-рдЬреИрд╕реЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рдЬреАрд╡рди рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛ рджреЗрддрд╛ рд╣реИред рдЕрдЧрд░ рдЖрдкрдХреЗ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдЪреЗрди рдХрд┐рдП рдЧрдП ssh рд╕рддреНрд░ (рдПрдХ рд╕реАрдорд┐рдд рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рддреЛ рдПрдЬреЗрдВрдЯ рдлреЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рдмрд╣реБрдд рдорджрджрдЧрд╛рд░ рд╣реЛрддрд╛ рд╣реИред рдПрдЬреЗрдВрдЯ рдлреЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рдХреЗ рд╕рд╛рде, рдореИрдВ рдЕрдкрдиреЗ рд▓реИрдкрдЯреЙрдк рд╕реЗ рдЕрдкрдиреЗ рдбреЗрд╡ рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБ рдФрд░ рд╡рд╣рд╛рдБ рд╕реЗ рдПрдХ рдФрд░ рд╕рд░реНрд╡рд░ рд╕реЗ svn checkout рдЪрд▓рд╛ рд╕рдХрддрд╛ рд╣реВрдБ, рд╕рдм рдмрд┐рдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ, рдЬрдмрдХрд┐ рдореЗрд░реА рдирд┐рдЬреА рдХреБрдВрдЬреА рдореЗрд░реЗ рд╕реНрдерд╛рдиреАрдп рдХрд╛рд░реНрдпрд╕реНрдерд▓ рдкрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣рддреА рд╣реИред

рдпрд╣ рдЦрддрд░рдирд╛рдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ред рдПрдХ рддреНрд╡рд░рд┐рдд рд╡реЗрдм рд╕рд░реНрдЪ рдЖрдкрдХреЛ рдпрд╣ рджрд┐рдЦрд╛ рд╕рдХрддреА рд╣реИ рдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рддрдм рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ рдЬрдм рдмреАрдЪ рдХреЗ рд╣реЛрд╕реНрдЯ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╣реЛрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдмрд╣реБрдд рдХрдо рдмрд╛рд░ рдЖрдкрдХреЛ рдпрд╣ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдорд┐рд▓реЗрдЧреА рдХрд┐ рдпрд╣ рдХреНрдпреЛрдВ рдЦрддрд░рдирд╛рдХ рд╣реИред

рдпрд╣реА рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд╣реИред рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ, рдХреБрдЫ рдкреГрд╖реНрдарднреВрдорд┐ред

## **рдкрд╛рд╕рд╡рд░реНрдбрд▓реЗрд╕ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ**

рд╕рд╛рдзрд╛рд░рд┐рдд рдореЛрдб рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рддреЗ рд╕рдордп, SSH рдЖрдкрдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рд╡рд╣реАрдВ рд╣реИрдВ рдЬреЛ рдЖрдк рдХрд╣рддреЗ рд╣реИрдВред рд╕рд░реНрд╡рд░ рдЗрд╕ рдкрд╛рд╕рд╡рд░реНрдб рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдПрдХ рд╣реИрд╢ рдХреЛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд░рдЦреЗ рд╣реБрдП рд╣реИрд╢ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╣реИрд╢ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдЖрдкрдХреЛ рдЕрдВрджрд░ рд▓реЗрддрд╛ рд╣реИред

рдпрджрд┐ рдХреЛрдИ рд╣рдорд▓рд╛рд╡рд░ рд╕рд░реНрд╡рд░ рдХреЛ рднреЗрдЬреЗ рдЬрд╛ рд░рд╣реЗ рдЖрдкрдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рддреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреЛ рддреЛрдбрд╝ рджреЗрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЗрд╕реЗ рдЪреБрд░рд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЬрдм рдЪрд╛рд╣реЗрдВ рддрдм рдЖрдкрдХреЗ рд░реВрдк рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ рдХреЛрдИ рд╣рдорд▓рд╛рд╡рд░ рд╕реИрдВрдбрдмреЙрдХреНрд╕ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЕрдВрддрддрдГ рдЖрдкрдХреЗ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЦреЛрдВ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рдПрдХ рдмрд╣реБрдд рд╕реБрд░рдХреНрд╖рд┐рдд рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╡рд┐рдзрд┐ рд╣реИ [рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреБрдВрдЬреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг](http://www.ibm.com/developerworks/library/l-keyc/index.html), рдЬреЛ рдПрдХ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рдмрд┐рдирд╛ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИред рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреБрдВрдЬреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдорд┐рд▓рддреА рдЬреБрд▓рддреА рдЬреЛрдбрд╝реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреБрдВрдЬреА рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рддреА рд╣реИ рдЬреЛ рдХреЗрд╡рд▓ рдирд┐рдЬреА рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рд╣реА рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рджреВрд░рд╕реНрде рдХрдВрдкреНрдпреВрдЯрд░ рдЖрдкрдХреА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреБрдВрдЬреА рдХреА рдХреЙрдкреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдкрдХреЛ рдПрдХ рдЧреБрдкреНрдд рд╕рдВрджреЗрд╢ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рддрд╛ рд╣реИред рдЖрдк рдЕрдкрдиреА рдирд┐рдЬреА рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрджреЗрд╢ рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд░рдХреЗ рджреВрд░рд╕реНрде рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рднреЗрдЬрдХрд░ рдЖрдк рдЦреБрдж рдХреЛ рд╕рд╛рдмрд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдЖрдкрдХреА рдирд┐рдЬреА рдХреБрдВрдЬреА рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣рддреА рд╣реИ рдФрд░ рд╣рдорд▓реЗ рд╕реЗ рдмрдЪреА рд░рд╣рддреА рд╣реИред

рдирд┐рдЬреА рдХреБрдВрдЬреА рдореВрд▓реНрдпрд╡рд╛рди рд╣реЛрддреА рд╣реИ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП, рдЗрд╕рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЗрд╕реЗ рдПрдХ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред рдХрдИ рд▓реЗрдЦ рдЗрд╕ рдЕрд╕реБрд╡рд┐рдзрд╛ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рд╕рд╡рд░реНрдб-рд░
```
mylaptop:~ env|grep SSH_AUTH_SOCK
SSH_AUTH_SOCK=/tmp/launch-oQKpeY/Listeners

mylaptop:~ ls -l /tmp/launch-oQKpeY/Listeners
srwx------  1 alice  wheel  0 Apr  3 11:04 /tmp/launch-oQKpeY/Listeners
```
[ssh-add](http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-add) рдХрд╛рд░реНрдпрдХреНрд░рдо рд╣рдореЗрдВ рдПрдЬреЗрдВрдЯ рдореЗрдВ рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдФрд░ рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ:
```
mylaptop:~ alice$ ssh-add -l
2048 2c:2a:d6:09:bb:55:b3:ca:0c:f1:30:f9:d9:a3:c6:9e /Users/alice/.ssh/id_rsa (RSA)
```
рдореЗрд░реЗ рд▓реИрдкрдЯреЙрдк рдореЗрдВ \~/.ssh/config рдореЗрдВ "ForwardAgent yes" рд╣реИред рдЗрд╕рд▓рд┐рдП ssh рдПрдХ рдЯрдирд▓ рдмрдирд╛рдПрдЧрд╛ рдЬреЛ рд╕реНрдерд╛рдиреАрдп рд╕реЙрдХреЗрдЯ рдХреЛ рд░рд┐рдореЛрдЯ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрдерд╛рдиреАрдп рд╕реЙрдХреЗрдЯ рд╕реЗ рдЬреЛрдбрд╝реЗрдЧрд╛:
```
mylaptop:~ alice$ ssh seattle

seattle:~ $ env|grep SSH_AUTH_SOCK
SSH_AUTH_SOCK=/tmp/ssh-WsKcHa9990/agent.9990
```
рдпрджреНрдпрдкрд┐ рдореЗрд░реА рдХреБрдВрдЬреА "рд╕рд┐рдПрдЯрд▓" рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рдлрд┐рд░ рднреА ssh рдХреНрд▓рд╛рдЗрдВрдЯ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдореЗрд░реЗ рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдЪрд▓ рд░рд╣реЗ рдПрдЬреЗрдВрдЯ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ:
```
seattle:~ alice $ ssh-add -l
2048 2c:2a:d6:09:bb:55:b3:ca:0c:f1:30:f9:d9:a3:c6:9e /Users/alice/.ssh/id_rsa (RSA)
```
рддреЛ... рд╣рдо рдХрд┐рд╕рдХреЗ рд╕рд╛рде рдЙрдЫрд▓ рд╕рдХрддреЗ рд╣реИрдВ?
```
seattle:~ alice $ who
alice   pts/0        2012-04-06 18:24 (office.example.com)
bob     pts/1        2012-04-03 01:29 (office.example.com)
alice   pts/3        2012-04-06 18:31 (office.example.com)
alice   pts/5        2012-04-06 18:31 (office.example.com)
alice   pts/6        2012-04-06 18:33 (office.example.com)
charlie pts/23       2012-04-06 13:10 (office.example.com)
charlie pts/27       2012-04-03 12:32 (office.example.com)
bob     pts/29       2012-04-02 10:58 (office.example.com)
```
рдореБрдЭреЗ рдХрднреА рд╕реЗ рднреА рдмреЙрдм рдкрд╕рдВрдж рдирд╣реАрдВ рдерд╛ред рдЙрд╕рдХреЗ рдПрдЬреЗрдВрдЯ рдХрдиреЗрдХреНрд╢рди рдХреЛ рдвреВрдВрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рдореБрдЭреЗ рдЙрд╕рдХреЗ ssh рд╕рддреНрд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рдмрдЪреНрдЪрд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдвреВрдВрдврд╝рдиреА рд╣реЛрдЧреА:
```
seattle:~ alice $ sudo -s
[sudo] password for alice:

seattle:~ root # pstree -p bob
sshd(16816)тФАтФАтФАbash(16817)

sshd(25296)тФАтФАтФАbash(25297)тФАтФАтФАvim(14308)
```
рдПрдХ рдЪрд▓ рд░рд╣реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЛ рд░реВрдЯ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВред Linux рдкрд░, рдбреЗрдЯрд╛ /proc/\<pid>/environ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реЛрддрд╛ рд╣реИред рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ NULL-terminated рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИ, рдореИрдВ NULLs рдХреЛ рдирдП рд▓рд╛рдЗрди рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП tr рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реВрдВрдЧрд╛:
```
seattle:~ root # tr '' 'n' < /proc/16817/environ | grep SSH_AUTH_SOCK
SSH_AUTH_SOCK=/tmp/ssh-haqzR16816/agent.16816
```
рдореБрдЭреЗ рдЕрдм рдмреЙрдм рдХреЗ ssh-agent рдХреЛ рд╣рд╛рдЗрдЬреИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рднреА рдЬрд╛рдирдХрд╛рд░реА рдЪрд╛рд╣рд┐рдП рд╣реИ, рд╡рд╣ рд╕рдм рдореЗрд░реЗ рдкрд╛рд╕ рд╣реИ:
```
seattle:~ root # SSH_AUTH_SOCK=/tmp/ssh-haqzR16816/agent.16816 ssh-add -l
2048 05:f1:12:f2:e6:ad:cb:0b:60:e3:92:fa:c3:62:19:17 /home/bob/.ssh/id_rsa (RSA)
```
рдпрджрд┐ рдореЗрд░реЗ рдкрд╛рд╕ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд▓рдХреНрд╖реНрдп рд╣реЛ, рддреЛ рдореБрдЭреЗ рдЕрдм рд╕реАрдзреЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред рдЕрдиреНрдпрдерд╛, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реВрдЪреА рдХреЛ рджреЗрдЦрдирд╛ рдпрд╛ рдмреЙрдм рдХреЗ рдЗрддрд┐рд╣рд╛рд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЧреНрд░реЗрдк рдХрд░рдирд╛ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЕрд╡рд╕рд░реЛрдВ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдЧрд╛ред рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореБрдЭреЗ рдкрддрд╛ рд╣реИ рдХрд┐ рдмреЙрдм рдХреЗ рдкрд╛рд╕ рд╕рд░реНрд╡рд░ "рдмреЛрд╕реНрдЯрди" рдореЗрдВ рд╕реБрдкрд░ рдЧреБрдкреНрдд рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рд╣реИрдВ:
```
seattle:~ root # SSH_AUTH_SOCK=/tmp/ssh-haqzR16816/agent.16816 ssh bob@boston
bob@boston:~$ whoami
bob
```
рдореИрдВрдиреЗ "рд╕рд┐рдпрд╛рдЯрд▓" рдкрд░ рдЕрдкрдиреА рд░реВрдЯ рдкреНрд░рд┐рд╡рд┐рд▓реЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ "рдмреЛрд╕реНрдЯрди" рдкрд░ рдмреЙрдм рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИред рдореБрдЭреЗ рд╡рд┐рд╢реНрд╡рд╛рд╕ рд╣реИ рдХрд┐ рдореИрдВ рдЙрд╕реЗ рдиреМрдХрд░реА рд╕реЗ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВред

## **рдЕрдкрдиреЗ рдЖрдк рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦреЗрдВ!**

рдЕрдкрдиреЗ ssh-agent рдХреЛ рдЕрдкрд╛рд░рд┐рдд рд╕рдордп рддрдХ рдЕрдкрдиреА рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рди рдХрд░рдиреЗ рджреЗрдВред OS X рдкрд░, рдЕрдкрдиреЗ Keychain рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдпрддрд╛ рдХреЗ рдмрд╛рдж рдпрд╛ рдЬрдм рдЖрдкрдХреА рд╕реНрдХреНрд░реАрди рд▓реЙрдХ рд╣реЛ рдЬрд╛рдП, рд▓реЙрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред рдЕрдиреНрдп Unix-y рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрд░, ssh-agent рдХреЛ -t рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдкрд╛рд╕ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЗрд╕рдХреА рдХреБрдВрдЬреАрдпреЛрдВ рдХреЛ  рд╕реЗрдХрдВрдб рдХреЗ рдмрд╛рдж рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рдПред

рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╣реЛрд╕реНрдЯреНрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╕рдордп рдПрдЬреЗрдВрдЯ рдлрд╝реЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рдХреЛ рд╕рдХреНрд╖рдо рди рдХрд░реЗрдВред рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рд░реВрдк рд╕реЗ, \~/.ssh/config рд╕рд┐рдВрдЯреИрдХреНрд╕ рдЗрд╕реЗ рдмрд╣реБрдд рд╕рд░рд▓ рдмрдирд╛рддрд╛ рд╣реИ:
```
Host trustworthyhost
ForwardAgent yes
```

```
Host *
ForwardAgent no
```
## **рд╕реБрдЭрд╛рд╡рд┐рдд рдкрдардиреАрдп рд╕рд╛рдордЧреНрд░реА**

* [OpenSSH рдХреА рдкреНрд░рдмрдВрдзрди](http://www.ibm.com/developerworks/library/l-keyc/index.html) - рдбреЗрдирд┐рдпрд▓ рд░реЙрдмрд┐рдиреНрд╕
* [SSH рдПрдЬреЗрдВрдЯ рдлреЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрд┐рддреНрд░рд┐рдд рдЧрд╛рдЗрдб](http://www.unixwiz.net/techtips/ssh-agent-forwarding.html) - рд╕реНрдЯреАрд╡ рдлреНрд░реАрдбрд▓
* [ssh-agent рдореИрдиреБрдЕрд▓](http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent)
* [ssh-add рдореИрдиреБрдЕрд▓](http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-add)


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

- рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!

- рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT рд╕рдВрдЧреНрд░рд╣**](https://opensea.io/collection/the-peass-family)

- рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com)

- **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ**.

</details>
