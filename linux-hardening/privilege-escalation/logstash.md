<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>


## Logstash

Logstash –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **–∑–±–æ—Ä—É, –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∂—É—Ä–Ω–∞–ª—ñ–≤** —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É, –≤—ñ–¥–æ–º—É —è–∫ **–∫–æ–Ω–≤–µ—î—Ä–∏**. –¶—ñ –∫–æ–Ω–≤–µ—î—Ä–∏ —Å–∫–ª–∞–¥–∞—é—Ç—å—Å—è –∑ **–≤—Ö—ñ–¥–Ω–∏—Ö**, **—Ñ—ñ–ª—å—Ç—Ä—É—é—á–∏—Ö** —Ç–∞ **–≤–∏—Ö—ñ–¥–Ω–∏—Ö** –µ—Ç–∞–ø—ñ–≤. –¶—ñ–∫–∞–≤–∏–π –∞—Å–ø–µ–∫—Ç –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ Logstash –ø—Ä–∞—Ü—é—î –Ω–∞ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ–π –º–∞—à–∏–Ω—ñ.

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫–æ–Ω–≤–µ—î—Ä–∞

–ö–æ–Ω–≤–µ—î—Ä–∏ –Ω–∞–ª–∞—à—Ç–æ–≤—É—é—Ç—å—Å—è –≤ —Ñ–∞–π–ª—ñ **/etc/logstash/pipelines.yml**, —è–∫–∏–π –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î –º—ñ—Å—Ü—è —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π –∫–æ–Ω–≤–µ—î—Ä—ñ–≤:
```yaml
# Define your pipelines here. Multiple pipelines can be defined.
# For details on multiple pipelines, refer to the documentation:
# https://www.elastic.co/guide/en/logstash/current/multiple-pipelines.html

- pipeline.id: main
path.config: "/etc/logstash/conf.d/*.conf"
- pipeline.id: example
path.config: "/usr/share/logstash/pipeline/1*.conf"
pipeline.workers: 6
```
–¶–µ–π —Ñ–∞–π–ª —Ä–æ–∑–∫—Ä–∏–≤–∞—î –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ **.conf**, —â–æ –º—ñ—Å—Ç—è—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∫–æ–Ω–≤–µ—î—Ä—ñ–≤. –ü—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –º–æ–¥—É–ª—è –≤–∏–≤–µ–¥–µ–Ω–Ω—è **Elasticsearch**, –∑–∞–∑–≤–∏—á–∞–π **–∫–æ–Ω–≤–µ—î—Ä–∏** –≤–∫–ª—é—á–∞—é—Ç—å **–æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ Elasticsearch**, —è–∫—ñ —á–∞—Å—Ç–æ –º–∞—é—Ç—å —à–∏—Ä–æ–∫—ñ –ø—Ä–∏–≤—ñ–ª–µ—ó —á–µ—Ä–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å Logstash –ø–∏—Å–∞—Ç–∏ –¥–∞–Ω—ñ –≤ Elasticsearch. –î–∂–æ–∫–µ—Ä–∏ –≤ —à–ª—è—Ö–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –¥–æ–∑–≤–æ–ª—è—é—Ç—å Logstash –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≤—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –∫–æ–Ω–≤–µ—î—Ä–∏ –≤ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ.

### –ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —á–µ—Ä–µ–∑ –∑–∞–ø–∏—Å—É–≤–∞–Ω—ñ –∫–æ–Ω–≤–µ—î—Ä–∏

–î–ª—è —Å–ø—Ä–æ–±–∏ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —Å–ø–æ—á–∞—Ç–∫—É —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–π—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –ø—ñ–¥ —è–∫–∏–º –ø—Ä–∞—Ü—é—î —Å–ª—É–∂–±–∞ Logstash, –∑–∞–∑–≤–∏—á–∞–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á **logstash**. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—Ç–µ **–æ–¥–Ω–æ–º—É** –∑ —Ü–∏—Ö –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤:

- –ú–∞—î—Ç–µ **–ø—Ä–∞–≤–æ –Ω–∞ –∑–∞–ø–∏—Å** –¥–æ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∫–æ–Ω–≤–µ—î—Ä–∞ **.conf** **–∞–±–æ**
- –§–∞–π–ª **/etc/logstash/pipelines.yml** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –¥–∂–æ–∫–µ—Ä, —ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ –≤ —Ü—ñ–ª—å–æ–≤—É —Ç–µ–∫—É

–î–æ–¥–∞—Ç–∫–æ–≤–æ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ **–æ–¥–Ω–∞** –∑ —Ü–∏—Ö —É–º–æ–≤:

- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É —Å–ª—É–∂–±–∏ Logstash **–∞–±–æ**
- –£ —Ñ–∞–π–ª—ñ **/etc/logstash/logstash.yml** –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ **config.reload.automatic: true**

–ó —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –¥–∂–æ–∫–µ—Ä–∞ –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ–∞–π–ª—É, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ü—å–æ–º—É –¥–∂–æ–∫–µ—Ä—É, –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:
```bash
input {
exec {
command => "whoami"
interval => 120
}
}

output {
file {
path => "/tmp/output.log"
codec => rubydebug
}
}
```
–¢—É—Ç **—ñ–Ω—Ç–µ—Ä–≤–∞–ª** –≤–∏–∑–Ω–∞—á–∞—î —á–∞—Å—Ç–æ—Ç—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —É —Å–µ–∫—É–Ω–¥–∞—Ö. –£ –¥–∞–Ω–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –∫–æ–º–∞–Ω–¥–∞ **whoami** –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∫–æ–∂–Ω—ñ 120 —Å–µ–∫—É–Ω–¥, –∞ —ó—ó –≤–∏–≤—ñ–¥ —Å–ø—Ä—è–º–æ–≤—É—î—Ç—å—Å—è –≤ **/tmp/output.log**.

–ó **config.reload.automatic: true** –≤ **/etc/logstash/logstash.yml**, Logstash –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–ª—è—Ç–∏–º–µ —Ç–∞ –∑–∞—Å—Ç–æ—Å—É—î –Ω–æ–≤—ñ –∞–±–æ –∑–º—ñ–Ω–µ–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∫–æ–Ω–≤–µ—î—Ä—ñ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É. –Ø–∫—â–æ –Ω–µ–º–∞—î –º–µ—Ç–∞—Å–∏–º–≤–æ–ª—ñ–≤, –∑–º—ñ–Ω–∏ –≤—Å–µ –æ–¥–Ω–æ –º–æ–∂–Ω–∞ –≤–Ω–æ—Å–∏—Ç–∏ –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –±—É—Ç–∏ –æ–±–µ—Ä–µ–∂–Ω–∏–º, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–µ—Ä–µ–±–æ—ó–≤.


## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

* [https://insinuator.net/2021/01/pentesting-the-elk-stack/](https://insinuator.net/2021/01/pentesting-the-elk-stack/)


<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Å–≤–æ—é **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤.

</details>
