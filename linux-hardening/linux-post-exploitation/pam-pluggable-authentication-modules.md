<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рди**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks_live**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, HackTricks** рдХреЛ PRs рдЬрдорд╛ рдХрд░рдХреЗ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>


PAM рдПрдХ рдореЙрдбреНрдпреВрд▓ рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рд╕реЗрд╡рд╛ рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмреАрдЪ рдПрдХ рдмреИрд░рд┐рдпрд░ рдмрдирд╛рддреЗ рд╣реИрдВред рдЗрди рдореЙрдбреНрдпреВрд▓ рдХрд╛ рд╡реНрдпрд╛рдкрдХ рдЙрджреНрджреЗрд╢реНрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдПрдХ рд╡рд┐рд╢реЗрд╖ UNIX рд╕рдореВрд╣ рд╕реЗ рд▓реЙрдЧрд┐рди рдХреЛ рдирд┐рд╖реЗрдзрд┐рдд рдХрд░рдирд╛ \(рдпрд╛ рдиреЗрдЯрдЧреНрд░реБрдк, рдпрд╛ рд╕рдмрдиреЗрдЯтАж\), рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрдиреЗ рдХреЗ рд╕реАрдорд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ред

# рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓реЗрдВ

рд╕реЛрд▓рд░рд┐рд╕ рдФрд░ рдЕрдиреНрдп рд╡рд╛рдгрд┐рдЬреНрдпрд┐рдХ UNIX рд╕рд┐рд╕реНрдЯрдореЛрдВ рдореЗрдВ рдПрдХ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЙрдбрд▓ рд╣реИ, рдЬреЛ рдПрдХ рдПрдХрд▓ рдлрд╝рд╛рдЗрд▓, **`/etc/pam.conf`**, рдХреЗ рдЖрд╕рдкрд╛рд╕ рдХреЗрдВрджреНрд░рд┐рдд рд╣реИред рдЕрдзрд┐рдХрд╛рдВрд╢ Linux рд╕рд┐рд╕реНрдЯрдореЛрдВ рдкрд░, рдпреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВ **`/etc/pam.d`** рдореЗрдВ рд╣реЛрддреА рд╣реИрдВ, рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рдирд╛рдо рдХреЗ рдмрд╛рдж рдирд╛рдорд┐рдд рд╣реЛрддреА рд╣реИрдВ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 'рд▓реЙрдЧрд┐рди' рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЛ **`/etc/pam.d/login`** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдЪрд▓реЛ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдПрдХ рд╕рдВрд╕реНрдХрд░рдг рддреЗрдЬреА рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ:
```text
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```
## **PAM рдкреНрд░рдмрдВрдзрди рдХреНрд╖реЗрддреНрд░**

рдмрд╛рдПрдВ рд╕реНрддрдВрдн рдореЗрдВ рдЪрд╛рд░ рдЕрджреНрд╡рд┐рддреАрдп рд╢рдмреНрдж рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ PAM рдкреНрд░рдмрдВрдзрди рдХреЗ рдЪрд╛рд░ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддреЗ рд╣реИрдВ: **auth**, **account**, **password** рдФрд░ **session**ред рдЬрдмрдХрд┐ рдХрдИ рдореЙрдбреНрдпреВрд▓ рдЗрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ \(рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, pam\_unix рдЗрди рд╕рднреА рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ\), рдЕрдиреНрдп, рдЬреИрд╕реЗ pam\_cracklib рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреЗрд╡рд▓ рдПрдХ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИрдВ \(pam\_cracklib рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ тАШpasswordтАЩ рд╕реБрд╡рд┐рдзрд╛\)

* **auth**: тАШauthтАЩ рдХреНрд╖реЗрддреНрд░ \(рдореИрдВ рдЗрд╕реЗ рдПрдХ рдХреНрд╖реЗрддреНрд░ рдХрд╣рддрд╛ рд╣реВрдВ - рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЗрд╕реЗ тАШрдкреНрд░рдмрдВрдзрди рд╕рдореВрд╣тАЩ рдпрд╛ тАШрд╕реБрд╡рд┐рдзрд╛тАЩ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддреЗ рд╣реИрдВ\) рдЙрд╕рдХреА рдЬрд┐рдореНрдореЗрджрд╛рд░реА рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд╣реА рд╣реИрдВ рдЬреЛ рд╡реЗ рдХрд╣рддреЗ рд╣реИрдВред рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдП рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓реЗ рдореЙрдбреНрдпреВрд▓ **рдЖрдо рддреМрд░ рдкрд░** **рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреВрдЫрддреЗ рд╣реИрдВ**ред
* **account**: рдпрд╣ рдХреНрд╖реЗрддреНрд░ рд╡рд┐рднрд┐рдиреНрди **рдЦрд╛рддрд╛ рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛** рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдХрдИ рдореЙрдбреНрдпреВрд▓ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред **рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рдиреЗ** рдХреА рд╡рд┐рд╡рд┐рдзрддрд╛рдПрдВ, рд╕рдордп рдХрд╛ рджрд┐рди, рдХреНрдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рд╕реНрдерд╛рдиреАрдп рд╣реИ рдпрд╛ рджреВрд░рд╕реНрде, рдЖрджрд┐ рдкрд░ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдЖрдо рддреМрд░ рдкрд░ рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **password**: рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдореЙрдбреНрдпреВрд▓ рдПрдХ рджреА рдЧрдИ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП **рдкрд╛рд╕рд╡рд░реНрдб рдЕрдкрдбреЗрдЯ** рдХрд░рдиреЗ рдХреЗ рджреМрд░рд╛рди рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВред рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕рдордп, рдпрд╣ рдЦрдВрдб рдХрд╛рдлреА рд╕рд╛рдзрд╛рд░рдг рд╣реЛрддрд╛ рд╣реИ, рдмрд╕ рдПрдХ рдореЙрдбреНрдпреВрд▓ рдХреЛ **рд╡рд░реНрддрдорд╛рди рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреВрдЫреЗрдЧрд╛**, рдФрд░, рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рд╕рдлрд▓ рд╣реИ, рддреЛ рдЖрдкрд╕реЗ рдПрдХ рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдкреВрдЫреЗрдЧрд╛ред рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рднреА рдЬреЛрдбрд╝реЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ **рдкрд╛рд╕рд╡рд░реНрдб рдХреА рдЬрдЯрд┐рд▓рддрд╛** рдпрд╛ рд╢рдмреНрджрдХреЛрд╢ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЬреИрд╕реЗ рдХрд┐ pam\_cracklib рдФрд░ pam\_pwcheck рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **session**: рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдореЙрдбреНрдпреВрд▓ рдХрд┐рд╕реА рднреА рд╕рдВрдЦреНрдпрд╛ рдХреА рдЪреАрдЬреЗрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рджрд┐рдП рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рд╕реЗрд╡рд╛ рдХреЗ рд╕реЗрдЯрдЕрдк рдпрд╛ рд╕рдлрд╛рдИ рдХреЗ рджреМрд░рд╛рди рд╣реЛрддреА рд╣реИрдВред рдЗрд╕рдореЗрдВ рдХреЛрдИ рднреА рд╕рдВрдЦреНрдпрд╛ рдХреА рдЪреАрдЬреЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ; рд╕рд┐рд╕реНрдЯрдо-рд╡реНрдпрд╛рдкреА рдкреНрд░рд╛рд░рдВрднреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░рдирд╛, рд╡рд┐рд╢реЗрд╖ рд▓реЙрдЧрд┐рдВрдЧ рдХрд░рдирд╛, **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╣реЛрдо рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛**, рдпрд╛ рд╕рдВрд╕рд╛рдзрди рд╕реАрдорд╛рдПрдВ рд╕реЗрдЯ рдХрд░рдирд╛ред

## **PAM рдореЙрдбреНрдпреВрд▓ рдирд┐рдпрдВрддреНрд░рдг**

**рдордзреНрдп рд╕реНрддрдВрдн** рдореЗрдВ рдПрдХ рдХреАрд╡рд░реНрдб рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдореЙрдбреНрдпреВрд▓ рдпрджрд┐ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ рдпрд╛ рдЕрд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ **PAM рдХреЛ рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП** рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред рдЗрди рдХреАрд╡рд░реНрдб рдХреЛ PAM-рднрд╛рд╖рд╛ рдореЗрдВ тАШ**рдирд┐рдпрдВрддреНрд░рдг**тАЩ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред 90% рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдЖрдк рдЖрдо рдХреАрд╡рд░реНрдб \(**рдЕрдирд┐рд╡рд╛рд░реНрдп**, **рдЖрд╡рд╢реНрдпрдХ**, **рдкрд░реНрдпрд╛рдкреНрдд** рдпрд╛ **рд╡реИрдХрд▓реНрдкрд┐рдХ**\) рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдХреЗрд╡рд▓ PAM рдХреА рд▓рдЪреАрд▓рд╛рдкрди рдФрд░ рд╢рдХреНрддрд┐ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд░реНрдл рдХрд╛ рддрд┐рдк рд╣реИред

* **рдЕрдирд┐рд╡рд╛рд░реНрдп**: рдпрджрд┐ рдПрдХ тАШрдЕрдирд┐рд╡рд╛рд░реНрдптАЩ рдореЙрдбреНрдпреВрд▓ рдПрдХ рд╕реНрдерд┐рддрд┐ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ **тАШрд╕рдлрд▓рддрд╛тАЩ рдирд╣реАрдВ рд╣реИ**, рддреЛ **рдСрдкрд░реЗрд╢рди рд╣рдореЗрд╢рд╛ рдЕрдВрддрддрдГ рд╡рд┐рдлрд▓ рд╣реЛрдЧрд╛**, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЙрд╕рдХреЗ рдиреАрдЪреЗ рдХреЗ рдореЙрдбреНрдпреВрд▓реЛрдВ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рджред рдпрд╣ рдкрд╣рд▓реА рдирдЬрд░ рдореЗрдВ рдмреЗрд╣реВрджрд╛ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ **рд╣рдореЗрд╢рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдПрдХ рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдкреВрд░рд╛ рдХрд░рддрд╛ рд╣реИ**ред рдЗрд╕рдХрд╛ рдиреЗрдЯ рдкреНрд░рднрд╛рд╡ рдпрд╣ рд╣реИ рдХрд┐ рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рдХреНрд░реИрдХрд░ рдХреЗ рд▓рд┐рдП **рдпрд╣ рдЕрд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ** рдХрд┐ **рдХреМрди рд╕рд╛ рдореЙрдбреНрдпреВрд▓** рдиреЗ **рд╡рд┐рдлрд▓рддрд╛** рдХрд╛ **рдХрд╛рд░рдг** рдмрдирд╛рдпрд╛ рд╣реИред
* **рдЖрд╡рд╢реНрдпрдХ**: рдпрджрд┐ рдПрдХ тАШрдЖрд╡рд╢реНрдпрдХтАЩ рдореЙрдбреНрдпреВрд▓ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ **рдСрдкрд░реЗрд╢рди** рди рдХреЗрд╡рд▓ **рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**, рдмрд▓реНрдХрд┐ рдСрдкрд░реЗрд╢рди **рддреБрд░рдВрдд** **рд╕рдорд╛рдкреНрдд** рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд┐рдП рдмрд┐рдирд╛ред
* **рдкрд░реНрдпрд╛рдкреНрдд**: рдпрджрд┐ рдПрдХ **рдкрд░реНрдпрд╛рдкреНрдд** рдореЙрдбреНрдпреВрд▓ **рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**, рддреЛ рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рдореЙрдбреНрдпреВрд▓реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдореЙрдбреНрдпреВрд▓реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ, рдФрд░ **рдЙрд╕рдХреЗ рдиреАрдЪреЗ рд╕реВрдЪреАрдмрджреНрдз рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓реЛрдВ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рднреА тАШрдкрд░реНрдпрд╛рдкреНрддтАЩ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрд▓реНрд▓реЗрдЦрд┐рдд рд╣реИрдВ**ред **рдпрджрд┐ рдпрд╣ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рддрдХ рдЙрд╕рдХреЗ рдмрд╛рдж рдЖрдордВрддреНрд░рд┐рдд рдХреЛрдИ рдореЙрдбреНрдпреВрд▓ рд╕рдлрд▓ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣ред**
* **рд╡реИрдХрд▓реНрдкрд┐рдХ**: рдПрдХ тАШрд╡реИрдХрд▓реНрдкрд┐рдХтАЩ рдореЙрдбреНрдпреВрд▓, pam\(8\) рдореИрдирдкреЗрдЬ рдХреЗ рдЕрдиреБрд╕рд╛рд░, **рдХреЗрд╡рд▓ рддрдм рдСрдкрд░реЗрд╢рди рдХреЛ рд╡рд┐рдлрд▓ рдХрд░реЗрдЧрд╛ рдЕрдЧрд░ рдпрд╣ рдЙрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреИрдХ рдореЗрдВ рдПрдХрдорд╛рддреНрд░ рдореЙрдбреНрдпреВрд▓ рд╣реИ**ред

## рдЙрджрд╛рд╣рд░рдг

рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдСрде рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП рдЪрд╛рд░ рдореЙрдбреНрдпреВрд▓ рд╣реИрдВ:
```text
auth       required     /lib/security/pam_securetty.so
auth       required     /lib/security/pam_env.so
auth       sufficient   /lib/security/pam_ldap.so
auth       required     /lib/security/pam_unix.so try_first_pass
```
1. рдЬреИрд╕реЗ рд╣реА рдореЙрдбреНрдпреВрд▓ рдХреНрд░рдо рдореЗрдВ рдЖрдордВрддреНрд░рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реЛрдЧрд╛:

   1. **`pam_securetty`** рдореЙрдбреНрдпреВрд▓ рдЕрдкрдиреА рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓, **`/etc/securetty`**, рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдЧрд╛ рдФрд░ рджреЗрдЦреЗрдЧрд╛ рдХрд┐ рдЗрд╕ рд▓реЙрдЧрд┐рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рдЯрд░реНрдорд┐рдирд▓ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рд╣реИ рдпрд╛ рдирд╣реАрдВред рдЕрдЧрд░ **рдирд╣реАрдВ рд╣реИ, рддреЛ рд░реВрдЯ рд▓реЙрдЧрд┐рди рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛрдЧреА**ред рдЕрдЧрд░ рдЖрдк рдХрд┐рд╕реА 'рдмреБрд░реЗ' рдЯрд░реНрдорд┐рдирд▓ рдкрд░ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЙрдЧрд┐рди рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдореЙрдбреНрдпреВрд▓ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдпрд╣ 'рдЖрд╡рд╢реНрдпрдХ' рд╣реЛрдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдпрд╣ рдлрд┐рд░ рднреА рд╕реНрдЯреИрдХ рдореЗрдВ рд╕рднреА рдореЙрдбреНрдпреВрд▓реЛрдВ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░реЗрдЧрд╛ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рд╣рд░ рдПрдХ рдЙрдирдореЗрдВ рд╕рдлрд▓ рд╣реЛ рднреА рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд▓реЙрдЧрд┐рди рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдЕрдЧрд░ рдореЙрдбреНрдпреВрд▓ рдХреЛ 'рдЕрдирд┐рд╡рд╛рд░реНрдп' рдХреЗ рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛрддрд╛, рддреЛ рд╕рдВрдЪрд╛рд▓рди рдХрд┐рд╕реА рднреА рд╕реНрдерд┐рддрд┐ рдкрд░ рддреБрд░рдВрдд рдПрдХ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддрд╛, рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд┐рдПред
   2. **`pam_env`** рдореЙрдбреНрдпреВрд▓ **рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░** рд╕реЗрдЯ рдХрд░реЗрдЧрд╛ рдЬреЛ рдкреНрд░рд╢рд╛рд╕рдХ рдиреЗ /etc/security/pam_env.conf рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рд╣реИред Redhat 9, Fedora Core 1, рдФрд░ Mandrake 9.2 рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗрдЯрдЕрдк рдкрд░, рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреЛрдИ рдЪрд░ рдирд╣реАрдВ рд╕реЗрдЯ рдХрд░рддреАред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП DISPLAY рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рд╕реЗрдЯ рдХрд░рдирд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЙрдЧрд┐рди рдХрд░ рд░рд╣рд╛ рд╣реИ рддрд╛рдХрд┐ рд╡реЗ рдЦреБрдж рд╕реЗ рд╕реЗрдЯ рди рдХрд░реЗрдВ рдЕрдЧрд░ рд╡реЗ рдЕрдкрдиреЗ рд░рд┐рдореЛрдЯ рдбреЗрд╕реНрдХрдЯреЙрдк рдкрд░ 'xterm' рд╢реВрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ \(рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ OpenSSH рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ\)
   3. **`pam_ldap`** рдореЙрдбреНрдпреВрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ **рдкрд╛рд╕рд╡рд░реНрдб** рдкреВрдЫреЗрдЧрд╛, рдФрд░ рдлрд┐рд░ **`/etc/ldap.conf`** рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ ldap рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░реЗрдЧрд╛ рддрд╛рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░реЗрдВред рдЕрдЧрд░ рдпрд╣ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ 'pam_unix' рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдлрд▓ рд╣реЛрдиреЗ рдкрд░ рднреА рд╕рдВрдЪрд╛рд▓рди рд╕рдлрд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рдЕрдЧрд░ pam_ldap рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ 'pam_unix' рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред
   4. **`pam_unix`** рдореЙрдбреНрдпреВрд▓, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдкрд╛рд╕рд╡рд░реНрдб рдкреВрдЫреЗрдЧрд╛ рдирд╣реАрдВ**ред 'try_first_pass' рддрд░реНрдХ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдмрддрд╛рдПрдЧрд╛ рдХрд┐ рдпрд╣ **рдкрд┐рдЫрд▓реЗ рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рджрд┐рдП рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ** \(рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, pam_ldap рдХреЗ рджреНрд╡рд╛рд░рд╛\)ред рдпрд╣ рд╕реНрдЯреИрдВрдбрд░реНрдб getpw\* рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛ред рдЕрдЧрд░ pam_unix рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ pam_ldap рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╕рдВрдЪрд╛рд▓рди рд╡рд┐рдлрд▓ рд╣реЛрдЧрд╛ред рдЕрдЧрд░ pam_ldap рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди pam_unix рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╕рдВрдЪрд╛рд▓рди рд╕рдлрд▓ рд╣реЛрдЧрд╛ \(рдпрд╣ рдЙрд╕ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рдмрд╣реБрдд рд╕рд╣рд╛рдпрдХ рд╣реИ рдЬрд╣рд╛рдБ root ldap рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реНрдерд╛рдиреАрдп /etc/passwd рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╣реИ!\)ред
