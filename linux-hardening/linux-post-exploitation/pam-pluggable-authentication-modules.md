<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╢реЗрдпрд░ рдХрд░реЗрдВред

</details>


PAM рдПрдХ рдореЙрдбреНрдпреВрд▓реНрд╕ рдХрд╛ рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬреЛ рдореВрд▓ рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рд╕реЗрд╡рд╛ рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмреАрдЪ рдПрдХ рдмрд╛рдзрд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддрд╛ рд╣реИред рдореЙрдбреНрдпреВрд▓реНрд╕ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдмрд╣реБрдд рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдПрдХ рд╡рд┐рд╢реЗрд╖ UNIX рд╕рдореВрд╣ (рдпрд╛ рдиреЗрдЯрдЧреНрд░реБрдк, рдпрд╛ рд╕рдмрдиреЗрдЯ...) рд╕реЗ рд▓реЙрдЧрд┐рди рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рд╕реЗ рд▓реЗрдХрд░ рд╕рдВрд╕рд╛рдзрди рд╕реАрдорд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рддрдХ рддрд╛рдХрд┐ рдЖрдкрдХрд╛ 'рдЕрдиреБрд╕рдВрдзрд╛рди' рд╕рдореВрд╣ рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧ рди рдХрд░ рд╕рдХреЗред

# рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓реЗрдВ

Solaris рдФрд░ рдЕрдиреНрдп рд╡рд╛рдгрд┐рдЬреНрдпрд┐рдХ UNIX рд╕рд┐рд╕реНрдЯрдореНрд╕ рдореЗрдВ рдПрдХ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЙрдбрд▓ рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдПрдХ рдПрдХрд▓ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЖрд╕рдкрд╛рд╕ рдХреЗрдВрджреНрд░рд┐рдд рд╣реЛрддрд╛ рд╣реИ, **`/etc/pam.conf`**ред рдЕрдзрд┐рдХрд╛рдВрд╢ Linux рд╕рд┐рд╕реНрдЯрдореНрд╕ рдкрд░, рдпреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВ **`/etc/pam.d`** рдореЗрдВ рд░рд╣рддреА рд╣реИрдВ, рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рдирд╛рдо рдкрд░ рд░рдЦреА рдЬрд╛рддреА рд╣реИрдВ тАУ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 'рд▓реЙрдЧрд┐рди' рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЛ **`/etc/pam.d/login`** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдЪрд▓рд┐рдП рдЙрд╕ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдПрдХ рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рддреНрд╡рд░рд┐рдд рдирдЬрд╝рд░ рдбрд╛рд▓рддреЗ рд╣реИрдВ:
```text
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```
## **PAM рдкреНрд░рдмрдВрдзрди рдХреНрд╖реЗрддреНрд░**

рдмрд╛рдпреАрдВ рдУрд░ рдХрд╛ рдХреЙрд▓рдо рдЪрд╛рд░ рдЕрдиреВрдареЗ рд╢рдмреНрджреЛрдВ рдХреЛ рд╕рдореЗрдЯ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ PAM рдкреНрд░рдмрдВрдзрди рдХреЗ рдЪрд╛рд░ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддреЗ рд╣реИрдВ: **auth**, **account**, **password** рдФрд░ **session**ред рдЬрдмрдХрд┐ рдХрдИ рдореЙрдбреНрдпреВрд▓ рдЗрдирдореЗрдВ рд╕реЗ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ (рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, pam_unix рдЗрди рд╕рднреА рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ), рдЕрдиреНрдп, рдЬреИрд╕реЗ рдХрд┐ pam_cracklib, рдХреЗрд╡рд▓ рдПрдХ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реЛрддреЗ рд╣реИрдВ (pam_cracklib рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ 'password' рд╕реБрд╡рд┐рдзрд╛)ред

* **auth**: 'auth' рдХреНрд╖реЗрддреНрд░ (рдореИрдВ рдЗрд╕реЗ рдПрдХ рдХреНрд╖реЗрддреНрд░ рдХрд╣рддрд╛ рд╣реВрдБ - рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЗрд╕реЗ 'рдкреНрд░рдмрдВрдзрди рд╕рдореВрд╣' рдпрд╛ 'рд╕реБрд╡рд┐рдзрд╛' рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддреЗ рд╣реИрдВ) рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд╣реА рд╣реИ рдЬреЛ рд╡реЗ рдХрд╣рддреЗ рд╣реИрдВред рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдореЙрдбреНрдпреВрд▓ **рдЖрдорддреМрд░ рдкрд░** **рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рд╕рдВрдХреЗрдд** рджреЗрдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред
* **account**: рдпрд╣ рдХреНрд╖реЗрддреНрд░ **рдЦрд╛рддрд╛ рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛** рдХреА рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдХрдИ рдореЙрдбреНрдпреВрд▓ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред **рд╕рдореВрд╣ рд╕рджрд╕реНрдпрддрд╛ рдХреА рдЬрд╛рдВрдЪ**, рджрд┐рди рдХрд╛ рд╕рдордп, рдЪрд╛рд╣реЗ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рд╕реНрдерд╛рдиреАрдп рд╣реЛ рдпрд╛ рджреВрд░рд╕реНрде, рдЖрджрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕реЗрд╡рд╛ рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рдЖрдорддреМрд░ рдкрд░ рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рд▓рд╛рдЧреВ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред
* **password**: рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдореЙрдбреНрдпреВрд▓ рдХрд┐рд╕реА рджреА рдЧрдИ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП **рдкрд╛рд╕рд╡рд░реНрдб рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛** рдореЗрдВ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВред рдЬреНрдпрд╛рджрд╛рддрд░ рд╕рдордп, рдпрд╣ рдЦрдВрдб рдХрд╛рдлреА 'рд╕рд╛рдорд╛рдиреНрдп' рд╣реЛрддрд╛ рд╣реИ, рдмрд╕ рдПрдХ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ рдЬреЛ **рд╡рд░реНрддрдорд╛рди рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рд╕рдВрдХреЗрдд** рджреЗрдЧрд╛, рдФрд░, рдорд╛рди рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕рдлрд▓ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдПрдХ рдирдП рдХреЗ рд▓рд┐рдП рд╕рдВрдХреЗрдд рджреЗрдЧрд╛ред рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рднреА рдЬреЛрдбрд╝реЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдХрд┐ **рдкрд╛рд╕рд╡рд░реНрдб рдЬрдЯрд┐рд▓рддрд╛** рдпрд╛ рд╢рдмреНрджрдХреЛрд╢ рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЬреИрд╕реЗ рдХрд┐ pam_cracklib рдФрд░ pam_pwcheck рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **session**: рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдореЙрдбреНрдпреВрд▓ рдХрд┐рд╕реА рджреА рдЧрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдХреА **рд╕реНрдерд╛рдкрдирд╛ рдпрд╛ рд╕рдлрд╛рдИ рдХреЗ рджреМрд░рд╛рди** рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдХрдИ рдЪреАрдЬреЛрдВ рдХреЛ рдХрд░рддреЗ рд╣реИрдВред рдЗрд╕рдореЗрдВ рдХрдИ рдЪреАрдЬреЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ; рд╕рд┐рд╕реНрдЯрдо-рд╡реНрдпрд╛рдкреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓реЙрдиреНрдЪ рдХрд░рдирд╛, рд╡рд┐рд╢реЗрд╖ рд▓реЙрдЧрд┐рдВрдЧ рдХрд░рдирд╛, **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╣реЛрдо рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛**, рдпрд╛ рд╕рдВрд╕рд╛рдзрди рд╕реАрдорд╛рдПрдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ред

## **PAM рдореЙрдбреНрдпреВрд▓ рдирд┐рдпрдВрддреНрд░рдг**

**рдордзреНрдп рдХреЙрд▓рдо** рдПрдХ рдХреАрд╡рд░реНрдб рд░рдЦрддрд╛ рд╣реИ рдЬреЛ рдореВрд▓ рд░реВрдк рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ **PAM рдХреЛ рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдпрджрд┐ рдореЙрдбреНрдпреВрд▓ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ рдпрд╛ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**ред рдЗрди рдХреАрд╡рд░реНрдбреНрд╕ рдХреЛ PAM рдореЗрдВ 'рдирд┐рдпрдВрддреНрд░рдг' рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред 90% рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдЖрдк рдЖрдо рдХреАрд╡рд░реНрдбреНрд╕ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (**requisite**, **required**, **sufficient** рдпрд╛ **optional**\)ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ PAM рдХреА рд▓рдЪреАрд▓рд╛рдкрди рдФрд░ рд╢рдХреНрддрд┐ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреЗрд╡рд▓ рд╢реБрд░реБрдЖрдд рд╣реИред

* **required**: рдпрджрд┐ 'required' рдореЙрдбреНрдпреВрд▓ рдПрдХ рд╕реНрдерд┐рддрд┐ рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИ рдЬреЛ **'рд╕рдлрд▓рддрд╛' рдирд╣реАрдВ рд╣реИ**, рддреЛ **рдСрдкрд░реЗрд╢рди рдЕрдВрддрддрдГ рд╣рдореЗрд╢рд╛ рд╡рд┐рдлрд▓ рд╣реЛрдЧрд╛**, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЙрд╕рдХреЗ рдиреАрдЪреЗ рдХреЗ **рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж**ред рдкрд╣рд▓реА рдирдЬрд░ рдореЗрдВ рдпрд╣ рдмреЗрдорд╛рдиреА рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп **рд╣рдореЗрд╢рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рд╕рдорд╛рди рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рд░реНрдп рдХрд░рдирд╛ рд╣реИ** рдЬреЛ рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИред рдЗрд╕рдХрд╛ рдиреЗрдЯ рдкреНрд░рднрд╛рд╡ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ **рдЕрд╕рдВрднрд╡** рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рдХреНрд░реИрдХрд░ **рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХреЗ** рдХрд┐ **рдХреМрди рд╕рд╛** **рдореЙрдбреНрдпреВрд▓** рдиреЗ **рд╡рд┐рдлрд▓рддрд╛** рдХрд╛ рдХрд╛рд░рдг рдмрдирд╛ред
* **requisite**: рдпрджрд┐ 'requisite' рдореЙрдбреНрдпреВрд▓ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ **рдСрдкрд░реЗрд╢рди** рди рдХреЗрд╡рд▓ **рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**, рдмрд▓реНрдХрд┐ рдСрдкрд░реЗрд╢рди **рддреБрд░рдВрдд** **рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ** рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд┐рдПред
* **sufficient**: рдпрджрд┐ **sufficient** рдореЙрдбреНрдпреВрд▓ **рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**, рддреЛ рдпрд╣ рд╕реЗрд╡рд╛ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рдореЙрдбреНрдпреВрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рд╕рдВрддреБрд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ, рдФрд░ **рдЙрд╕рдХреЗ рдиреАрдЪреЗ рд╕реВрдЪреАрдмрджреНрдз 'sufficient' рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред **рдпрджрд┐ рдпрд╣ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рддрдХ рдХрд┐ рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрдордВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдореЙрдбреНрдпреВрд▓ рд╕рдлрд▓ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ**ред
* **optional**: 'optional' рдореЙрдбреНрдпреВрд▓ рдХреЗ рдЕрдиреБрд╕рд╛рд░, pam(8) рдореИрдирдкреЗрдЬ рдХреЗ рдЕрдиреБрд╕рд╛рд░, **рдХреЗрд╡рд▓ рддрдм рдСрдкрд░реЗрд╢рди рдХреЛ рд╡рд┐рдлрд▓ рдХрд░реЗрдЧрд╛ рдпрджрд┐ рдпрд╣ рдЙрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреИрдХ рдореЗрдВ рдПрдХрдорд╛рддреНрд░ рдореЙрдбреНрдпреВрд▓ рд╣реИ**ред

## рдЙрджрд╛рд╣рд░рдг

рд╣рдорд╛рд░реА рдЙрджрд╛рд╣рд░рдг рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ auth рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП рдЪрд╛рд░ рдореЙрдбреНрдпреВрд▓ рд╕реНрдЯреИрдХреНрдб рд╣реИрдВ:
```text
auth       required     /lib/security/pam_securetty.so
auth       required     /lib/security/pam_env.so
auth       sufficient   /lib/security/pam_ldap.so
auth       required     /lib/security/pam_unix.so try_first_pass
```
рдореЙрдбреНрдпреВрд▓реНрд╕ рдХреЛ рдЬрд┐рд╕ рдХреНрд░рдо рдореЗрдВ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╣рд╛рдБ рдкрд░ рдЬреЛ рд╣реЛрдЧрд╛ рд╡рд╣ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ:

1. '**pam\_securetty**' рдореЙрдбреНрдпреВрд▓ рдЕрдкрдиреА рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓, **`/etc/securetty`**, рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдЧрд╛ рдФрд░ рджреЗрдЦреЗрдЧрд╛ рдХрд┐ рдЗрд╕ рд▓реЙрдЧрд┐рди рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рдЯрд░реНрдорд┐рдирд▓ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рд╣реИ рдпрд╛ рдирд╣реАрдВред рдпрджрд┐ **рдирд╣реАрдВ рд╣реИ, рддреЛ рд░реВрдЯ рд▓реЙрдЧрд┐рдиреНрд╕ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛрдЧреА**ред рдпрджрд┐ рдЖрдк 'рдмреБрд░реЗ' рдЯрд░реНрдорд┐рдирд▓ рдкрд░ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдореЙрдбреНрдпреВрд▓ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдЪреВрдБрдХрд┐ рдпрд╣ 'рдЖрд╡рд╢реНрдпрдХ' рд╣реИ, рдпрд╣ рд╕реНрдЯреИрдХ рдореЗрдВ рд╕рднреА рдореЙрдбреНрдпреВрд▓реНрд╕ рдХреЛ рдмреБрд▓рд╛рдПрдЧрд╛ред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЙрдирдореЗрдВ рд╕реЗ рд╣рд░ рдПрдХ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рднреА рд▓реЙрдЧрд┐рди рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдпрджрд┐ рдореЙрдбреНрдпреВрд▓ рдХреЛ 'рдЕрдирд┐рд╡рд╛рд░реНрдп' рдХреЗ рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛрддрд╛, рддреЛ рдСрдкрд░реЗрд╢рди рддреБрд░рдВрдд рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддрд╛, рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓реНрд╕ рдХреЛ рдмреБрд▓рд╛рдП, рдЪрд╛рд╣реЗ рдЙрдирдХреА рд╕реНрдерд┐рддрд┐ рдХреБрдЫ рднреА рд╣реЛред
2. '**pam\_env**' рдореЙрдбреНрдпреВрд▓ **рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░** рд╕реЗрдЯ рдХрд░реЗрдЧрд╛ рдЬреЛ рдХрд┐ рдкреНрд░рд╢рд╛рд╕рдХ рдиреЗ /etc/security/pam\_env.conf рдореЗрдВ рд╕реЗрдЯрдЕрдк рдХрд┐рдпрд╛ рд╣реИред Redhat 9, Fedora Core 1, рдФрд░ Mandrake 9.2 рдХреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗрдЯрдЕрдк рдкрд░, рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреЛрдИ рдЪрд░ рд╕реЗрдЯ рдирд╣реАрдВ рдХрд░рддреА рд╣реИред рдЗрд╕рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬреЛ SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЙрдЧ рдЗрди рдХрд░ рд░рд╣рд╛ рд╣реИ, рдЙрд╕рдХреЗ рд▓рд┐рдП рдПрдХ DISPLAY рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдХрд░рдирд╛ рддрд╛рдХрд┐ рдЕрдЧрд░ рд╡реЗ рдЕрдкрдиреЗ рд░рд┐рдореЛрдЯ рдбреЗрд╕реНрдХрдЯреЙрдк рдкрд░ рдПрдХ 'xterm' рд╡рд╛рдкрд╕ рднреЗрдЬрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдЙрдиреНрд╣реЗрдВ рдЦреБрдж рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реЛрддреА (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ OpenSSH рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рддрдГ рд╣реА рд╕рдВрднрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ)ред
3. '**pam\_ldap**' рдореЙрдбреНрдпреВрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ **рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░реЙрдореНрдкреНрдЯ** рдХрд░реЗрдЧрд╛, рдФрд░ рдлрд┐рд░ **`/etc/ldap.conf`** рдореЗрдВ рджрд░реНрд╢рд╛рдП рдЧрдП ldap рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреА рдЬрд╛рдБрдЪ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░реЗрдЧрд╛ред рдпрджрд┐ рдпрд╣ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рдЕрднреА рднреА рд╕рдлрд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдпрджрд┐ 'pam\_unix' рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИред рдпрджрд┐ pam\_ldap рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ 'pam\_unix' рдХреЛ рдмреБрд▓рд╛рдпрд╛ рдирд╣реАрдВ рдЬрд╛рдПрдЧрд╛ред
4. рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ '**pam\_unix**' рдореЙрдбреНрдпреВрд▓, **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░реЙрдореНрдкреНрдЯ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛**ред 'try\_first\_pass' рддрд░реНрдХ рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдмрддрд╛рдПрдЧрд╛ рдХрд┐ **рдкрд╣рд▓реЗ рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рджрд┐рдП рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ** \(рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, pam\_ldap\). рдпрд╣ рдорд╛рдирдХ getpw\* рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛ред рдпрджрд┐ pam\_unix рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ pam\_ldap рднреА рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдпрджрд┐ pam\_ldap рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди pam\_unix рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рд╕рдлрд▓ рд╣реЛрдЧрд╛ \(рдпрд╣ рдЙрди рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдмрд╣реБрдд рдорджрджрдЧрд╛рд░ рд╣реИ рдЬрд╣рд╛рдБ рд░реВрдЯ ldap рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рднреА рд╕реНрдерд╛рдиреАрдп /etc/passwd рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╣реИ!\).

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ рдореБрдЭреЗ **Twitter** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдкрд░ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**ред
* **HackTricks** рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
