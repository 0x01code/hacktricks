<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

- рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛** рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ? [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!

- рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)

- рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)

- **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **Twitter** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks repo](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗред**

</details>


PAM рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬреЛ рдореВрд▓ рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рд╕реЗрд╡рд╛ рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмреАрдЪ рдПрдХ рдмреИрд░рд┐рдпрд░ рдмрдирд╛рддреЗ рд╣реИрдВред рдЗрди рдореЙрдбреНрдпреВрд▓реЛрдВ рдХрд╛ рд╡реНрдпрд╛рдкрдХ рдЙрджреНрджреЗрд╢реНрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдПрдХ рд╡рд┐рд╢реЗрд╖ UNIX рд╕рдореВрд╣ (рдпрд╛ рдиреЗрдЯрдЧреНрд░реБрдк, рдпрд╛ рд╕рдмрдиреЗрдЯ...) рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд▓реЙрдЧрд┐рди рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрдирд╛, рдпрд╛ рд╕рдВрд╕рд╛рдзрди рд╕реАрдорд╛рдПрдВ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рддрд╛рдХрд┐ рдЖрдкрдХрд╛ 'рдЕрдиреБрд╕рдВрдзрд╛рди' рд╕рдореВрд╣ рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рди рдЦрд╛рдПрдВред

# рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓реЗрдВ

рд╕реЛрд▓рд░рд┐рд╕ рдФрд░ рдЕрдиреНрдп рд╡рд╛рдгрд┐рдЬреНрдпрд┐рдХ UNIX рд╕рд┐рд╕реНрдЯрдореЛрдВ рдореЗрдВ, рдПрдХ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЙрдбрд▓ рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдПрдХ рдПрдХрд▓ рдлрд╝рд╛рдЗрд▓, **`/etc/pam.conf`** рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдХреЗрдВрджреНрд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред рдЕрдзрд┐рдХрд╛рдВрд╢ Linux рд╕рд┐рд╕реНрдЯрдореЛрдВ рдкрд░, рдпреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВ **`/etc/pam.d`** рдореЗрдВ рд░рд╣рддреА рд╣реИрдВ, рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рдирд╛рдо рдХреЗ рдмрд╛рдж рдирд╛рдорд┐рдд рд╣реЛрддреА рд╣реИрдВ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 'рд▓реЙрдЧрд┐рди' рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЛ **`/etc/pam.d/login`** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдЖрдЗрдП рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдПрдХ рдЭрд▓рдХ рд▓реЗрддреЗ рд╣реИрдВ:
```text
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```
## **PAM рдкреНрд░рдмрдВрдзрди рдХреНрд╖реЗрддреНрд░**

рдмрд╛рдПрдВ рд╕реНрддрдВрдн рдореЗрдВ рдЪрд╛рд░ рдЕрджреНрд╡рд┐рддреАрдп рд╢рдмреНрдж рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ PAM рдкреНрд░рдмрдВрдзрди рдХреЗ рдЪрд╛рд░ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ рдкреНрд░рддрд┐рд╖реНрдард╛рдирд┐рдд рдХрд░рддреЗ рд╣реИрдВ: **auth**, **account**, **password** рдФрд░ **session**. рд╣рд╛рд▓рд╛рдВрдХрд┐, рдмрд╣реБрдд рд╕реЗ рдореЙрдбреНрдпреВрд▓ рд╣реИрдВ рдЬреЛ рдЗрдирдореЗрдВ рд╕реЗ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХреНрд╖реЗрддреНрд░ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ \(рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, pam\_unix рдЗрди рд╕рднреА рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ\), рджреВрд╕рд░реЗ, рдЬреИрд╕реЗ pam\_cracklib рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреЗрд╡рд▓ рдПрдХ рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИрдВ \(pam\_cracklib рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ 'password' рд╕реБрд╡рд┐рдзрд╛\).

* **auth**: 'auth' рдХреНрд╖реЗрддреНрд░ \(рдореИрдВ рдЗрд╕реЗ рдПрдХ рдХреНрд╖реЗрддреНрд░ рдХрд╣рддрд╛ рд╣реВрдБ - рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдореЗрдВ рдЗрд╕реЗ 'рдкреНрд░рдмрдВрдзрди рд╕рдореВрд╣' рдпрд╛ 'рд╕реБрд╡рд┐рдзрд╛' рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ\) рдЙрд╕реЗ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд╣реА рд╣реИрдВ рдЬреЛ рд╡реЗ рдХрд╣рддреЗ рд╣реИрдВ. рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдП рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓реЗ рдореЙрдбреНрдпреВрд▓ **рдЖрдо рддреМрд░ рдкрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢реНрди рдкреВрдЫрдиреЗ** рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред
* **account**: рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХреА рдЬрд┐рдореНрдореЗрджрд╛рд░реА рд╡рд┐рднрд┐рдиреНрди рд╕рдВрднрд╛рд╡рд┐рдд **рдЦрд╛рддрд╛ рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛** рдХреЗ рд▓рд┐рдП рд╣реЛрддреА рд╣реИред рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдХрдИ рдореЙрдбреНрдпреВрд▓ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред рд╕реЗрд╡рд╛ рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ **рд╕рдореВрд╣ рд╕рджрд╕реНрдпрддрд╛ рдХреА рдЬрд╛рдВрдЪ**, рджрд┐рди рдХреЗ рд╕рдордп, рдХреНрдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рд╕реНрдерд╛рдиреАрдп рдпрд╛ рджреВрд░рд╕реНрде рд╣реИ, рдЖрджрд┐ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рдЖрдорддреМрд░ рдкрд░ рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╡рд░реНрддрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред
* **password**: рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдореЙрдбреНрдпреВрд▓ рдПрдХ рджрд┐рдП рдЧрдП рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП **рдкрд╛рд╕рд╡рд░реНрдб рдЕрджреНрдпрддрди** рдХреЗ рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВред рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕рдордп рдореЗрдВ, рдпрд╣ рдЦрдВрдб рдмрд╣реБрдд рд╣реА 'рд╕рд╛рдзрд╛рд░рдг' рд╣реЛрддрд╛ рд╣реИ, рдмрд╕ рдПрдХ рдореЙрдбреНрдпреВрд▓ рдХреЛ **рд╡рд░реНрддрдорд╛рди рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢реНрди рдкреВрдЫреЗрдЧрд╛**, рдФрд░, рдпрджрд┐ рд╡рд╣ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЖрдкрд╕реЗ рдПрдХ рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдкреВрдЫреЗрдЧрд╛ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕рдореЗрдВ рдкрд╛рд╕рд╡рд░реНрдб рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдпрд╛ рд╢рдмреНрджрдХреЛрд╢ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдЬреИрд╕реА рдЕрдиреНрдп рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛рдПрдВ рднреА рд╢рд╛рдорд┐рд▓ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ, рдЬреИрд╕реЗ pam\_cracklib рдФрд░ pam\_pwcheck рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЬрд╛рдВрдЪред
* **session**: рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдореЙрдбреНрдпреВрд▓ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реЗрд╡рд╛ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдпрд╛ рд╕рдлрд╛рдИ рдХреЗ рджреМрд░рд╛рди рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдХрд┐рд╕реА рднреА рдЪреАрдЬрд╝ рдХреЛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдореЗрдВ рдХреБрдЫ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ; рдПрдХ рд╕рд┐рд╕реНрдЯрдо-рд╡реНрдпрд╛рдкреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓реЙрдиреНрдЪ рдХрд░рдирд╛, рд╡рд┐рд╢реЗрд╖ рд▓реЙрдЧрд┐рдВрдЧ рдХрд░рдирд╛, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╣реЛрдо рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛, рдпрд╛ рд╕рдВрд╕рд╛рдзрди рд╕реАрдорд╛рдПрдВ рд╕реЗрдЯ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

## **PAM рдореЙрдбреНрдпреВрд▓ рдирд┐рдпрдВрддреНрд░рдг**

**рдордзреНрдп рд╕реНрддрдВрдн** рдореЗрдВ рдПрдХ рдХреАрд╡рд░реНрдб рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдореВрд▓ рд░реВрдк рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ **PAM рдХреЛ рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдЕрдЧрд░ рдореЙрдбреНрдпреВрд▓ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ рдпрд╛ рдЕрд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**ред рдЗрди рдХреАрд╡рд░реНрдб рдХреЛ PAM-рднрд╛рд╖рд╛ рдореЗрдВ 'рдирд┐рдпрдВрддреНрд░рдг' рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред 90% рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдЖрдк рдЖрдо рдХреАрд╡рд░реНрдб \(**requisite**, **required**, **sufficient** рдпрд╛ **optional**\) рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ PAM рдХреА рд▓рдЪреАрд▓рд╛рдкрди рдФрд░ рд╢рдХреНрддрд┐ рдХреЛ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдмрд░реНрдл рдХреА рдЯрд┐рдк рд╣реИред

* **required**: рдпрджрд┐ 'required' рдореЙрдбреНрдпреВрд▓ рдПрдХ рд╕реНрдерд┐рддрд┐ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ **'рд╕рдлрд▓рддрд╛' рдирд╣реАрдВ рд╣реИ**, рддреЛ **рдСрдкрд░реЗрд╢рди рд╣рдореЗрд╢рд╛ рдЕрд╕рдлрд▓ рд╣реЛрдЧрд╛**, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЙрд╕рдХреЗ рдиреАрдЪреЗ рдХреЗ рдореЙрдбреНрдпреВрд▓реЛрдВ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рджред рд╢рд╛рдпрдж рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ рдпрд╣ рдмреЗрд╣рдж рдмреЗрд╣рдж рдЕрд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд▓рдЧрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рд╣рдореЗрд╢рд╛ рдПрдХ рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдкреВрд░рд╛ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рдХреНрд░реИрдХрд░ рдХреЗ рд▓рд┐рдП **рдпрд╣ рдЕрд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ** рдХрд┐ рд╡рд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ **рдХреМрди рд╕рд╛ рдореЙрдбреНрдпреВрд▓** рдиреЗ **рдЕрд╕рдлрд▓рддрд╛** рдХрд╛ **рдХрд╛рд░рдг** рдХрд┐рдпрд╛ рд╣реИред
* **requisite**: рдпрджрд┐ 'requisite' рдореЙрдбреНрдпреВрд▓ рдЕрд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ **рдСрдкрд░реЗрд╢рди** рди рдХреЗрд╡рд▓ **рдЕрд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**, рдмрд▓реНрдХрд┐ рдСрдкрд░реЗрд╢рди **рддреБрд░рдВрдд рдЕрд╕рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ** рдФрд░ рдХрд┐рд╕реА рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред
* **sufficient**: рдпрджрд┐ **sufficient** рдореЙрдбреНрдпреВрд▓ **рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ**, рддреЛ рдЗрд╕рд╕реЗ рд╕реЗрд╡рд╛ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ sufficient рдореЙрдбреНрдпреВрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рдФрд░ **рдЗрд╕рдХреЗ рдиреАрдЪреЗ рд╕реВрдЪреАрдмрджреНрдз рдЕрдиреНрдп 'sufficient' рдореЙрдбреНрдпреВрд▓ рдЖрдордВрддреНрд░рд┐рдд рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ**ред **рдпрджрд┐ рдпрд╣ рдЕрд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рдЕрд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рддрдХ рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрдордВрддреНрд░рд┐рдд рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ рдореЙрдбреНрдпреВрд▓ рд╕рдлрд▓ рди рд╣реЛ**ред
* **optional**: 'optional' рдореЙрдбреНрдпреВрд▓, pam\(8\) рдореИрдирдкреЗрдЬ рдХреЗ рдЕрдиреБрд╕рд╛рд░, **рдХреЗрд╡рд▓ рддрдм рдСрдкрд░реЗрд╢рди рдХреЛ рдЕрд╕рдлрд▓ рдХрд░реЗрдЧрд╛ рдЬрдм рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреИрдХ рдореЗрдВ рдХреЗрд╡рд▓ рдореЙрдбреНрдпреВрд▓ рд╣реЛ**ред

## рдЙрджрд╛рд╣рд░рдг

рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЪрд╛рд░ рдореЙрдбреНрдпреВрд▓ рд╣реИрдВ рдЬреЛ auth рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреИрдХ рдХрд┐рдП рдЧрдП рд╣реИрдВ:
```text
auth       required     /lib/security/pam_securetty.so
auth       required     /lib/security/pam_env.so
auth       sufficient   /lib/security/pam_ldap.so
auth       required     /lib/security/pam_unix.so try_first_pass
```
рдЬреИрд╕рд╛ рдХрд┐ рдореЙрдбреНрдпреВрд▓ рдХреНрд░рдо рдореЗрдВ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╣рд╛рдВ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╣реЛрдЧрд╛:

1. 'pam_securetty' рдореЙрдбреНрдпреВрд▓ рдЕрдкрдиреА рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓, '/etc/securetty', рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдЧрд╛ рдФрд░ рджреЗрдЦреЗрдЧрд╛ рдХрд┐ рдЗрд╕ рд▓реЙрдЧрд┐рди рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреА рдЬрд╛ рд░рд╣реА рдЯрд░реНрдорд┐рдирд▓ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рд╣реИ рдпрд╛ рдирд╣реАрдВред рдпрджрд┐ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рд░реВрдЯ рд▓реЙрдЧрд┐рди рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛрдЧреАред рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА 'рдмреБрд░реА' рдЯрд░реНрдорд┐рдирд▓ рдкрд░ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдореЙрдбреНрдпреВрд▓ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдпрд╣рд╛рдВ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдореЙрдбреНрдпреВрд▓ 'рдЕрдирд┐рд╡рд╛рд░реНрдп' рдХреЗ рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рд╣реЛрддрд╛, рддреЛ рдСрдкрд░реЗрд╢рди рдХрд┐рд╕реА рднреА рд╕реНрдерд┐рддрд┐ рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рдмрд┐рдирд╛ рддрддреНрдХрд╛рд▓ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрд╣реНрд╡рд╛рди рдХрд┐рдПред
2. 'pam_env' рдореЙрдбреНрдпреВрд▓ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рджреНрд╡рд╛рд░рд╛ /etc/security/pam_env.conf рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рдЖрдзрд╛рд░ рдкрд░ рдкрд░реНрдпрд╛рдкреНрдд рдорд╛рдиреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░реЗрдЧрд╛ред Redhat 9, Fedora Core 1 рдФрд░ Mandrake 9.2 рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗрдЯрдЕрдк рдкрд░, рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреЛрдИ рдорд╛рди рд╕реЗрдЯ рдирд╣реАрдВ рдХрд░рддреА рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЙрдЧ рдЗрди рд╣реЛрдиреЗ рдкрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ DISPLAY рдкрд░реНрдпрд╛рд╡рд░рдг рдорд╛рди рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡реЗ рдЕрдЧрд░ рд╡реЗ рдЕрдкрдиреЗ рд░рд┐рдореЛрдЯ рдбреЗрд╕реНрдХрдЯреЙрдк рдкрд░ 'xterm' рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдЦреБрдж рд╕реЗрдЯ рдирд╣реАрдВ рдХрд░рдирд╛ рдкрдбрд╝реЗ \(рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕реЗ OpenSSH рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рджреЗрдЦрднрд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ\)
3. 'pam_ldap' рдореЙрдбреНрдпреВрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢реНрди рдкреВрдЫреЗрдЧрд╛ рдФрд░ рдлрд┐рд░ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП ldap рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдЧрд╛ рдЬреЛ '/etc/ldap.conf' рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИред рдпрджрд┐ рдпрд╣ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рдЕрдЧрд░ 'pam_unix' рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░рдорд╛рдгрд┐рддрд╛ рдореЗрдВ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ рддреЛ рднреА рд╕рдлрд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ pam_ldap рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ 'pam_unix' рдХреЛ рдЖрд╣реНрд╡рд╛рди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред
4. 'pam_unix' рдореЙрдбреНрдпреВрд▓, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢реНрди рдкреВрдЫрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред 'try_first_pass' рддрд░реНрдХ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдмрддрд╛рдПрдЧрд╛ рдХрд┐ рдпрд╣ рдкрд┐рдЫрд▓реЗ рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рджрд┐рдП рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ \(рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, pam_ldap\)ред рдпрд╣ рдорд╛рдиреНрдпрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░рдорд╛рдгрд┐рддрд╛ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдЧрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдорд╛рдирдХ getpw\* рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред рдпрджрд┐ pam_unix рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ рдФрд░ pam_ldap рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рд╡рд┐рдлрд▓ рд╣реЛрдЧрд╛ред рдпрджрд┐ pam_ldap рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди pam_unix рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдСрдкрд░реЗрд╢рди рд╕рдлрд▓ рд╣реЛрдЧрд╛ \(рдпрд╣ рдмрд╣реБрдд рдорджрджрдЧрд╛рд░ рд╣реИ рдЬрдм рд░реВрдЯ ldap рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╡рд╣ рдЕрднреА рднреА рд╕реНрдерд╛рдиреАрдп /etc/passwd рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╣реИ!\)ред
