<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>


## Βασικές Πληροφορίες

Το **PAM (Pluggable Authentication Modules)** λειτουργεί ως ένας μηχανισμός ασφαλείας που **επαληθεύει την ταυτότητα των χρηστών που προσπαθούν να έχουν πρόσβαση σε υπηρεσίες υπολογιστή**, ελέγχοντας την πρόσβασή τους βάσει διάφορων κριτηρίων. Είναι παρόμοιο με έναν ψηφιακό πύλη, εξασφαλίζοντας ότι μόνο εξουσιοδοτημένοι χρήστες μπορούν να αλληλεπιδράσουν με συγκεκριμένες υπηρεσίες, ενώ πιθανώς περιορίζει τη χρήση τους για να αποτρέψει την υπερφόρτωση του συστήματος.

### Αρχεία Διαμόρφωσης

- **Τα συστήματα Solaris και UNIX-based** συνήθως χρησιμοποιούν ένα κεντρικό αρχείο διαμόρφωσης που βρίσκεται στο `/etc/pam.conf`.
- **Τα συστήματα Linux** προτιμούν μια προσέγγιση με κατάλογο, αποθηκεύοντας τις ρυθμίσεις για κάθε υπηρεσία στον κατάλογο `/etc/pam.d`. Για παράδειγμα, το αρχείο διαμόρφωσης για την υπηρεσία σύνδεσης βρίσκεται στο `/etc/pam.d/login`.

Ένα παράδειγμα μιας διαμόρφωσης PAM για την υπηρεσία σύνδεσης μπορεί να φαίνεται ως εξής:
```text
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```
### **Πραγματικοί Τομείς Διαχείρισης PAM**

Αυτοί οι τομείς, ή ομάδες διαχείρισης, περιλαμβάνουν τους **auth**, **account**, **password** και **session**, ο καθένας υπεύθυνος για διάφορες πτυχές της διαδικασίας πιστοποίησης και διαχείρισης συνεδρίας:

- **Auth**: Επαληθεύει την ταυτότητα του χρήστη, συχνά με την ζήτηση κωδικού πρόσβασης.
- **Account**: Χειρίζεται τον έλεγχο του λογαριασμού, ελέγχοντας συνθήκες όπως η ομαδική συμμετοχή ή περιορισμούς ως προς την ώρα της ημέρας.
- **Password**: Διαχειρίζεται την ενημέρωση του κωδικού πρόσβασης, συμπεριλαμβανομένων ελέγχων πολυπλοκότητας ή πρόληψης επιθέσεων με λεξικό.
- **Session**: Διαχειρίζεται τις ενέργειες κατά την έναρξη ή το τέλος μιας συνεδρίας υπηρεσίας, όπως η προσάρτηση καταλόγων ή ορισμός ορίων πόρων.

### **Έλεγχοι Ενοτήτων PAM**

Οι έλεγχοι καθορίζουν την αντίδραση της ενότητας σε επιτυχία ή αποτυχία, επηρεάζοντας τη συνολική διαδικασία πιστοποίησης. Αυτοί περιλαμβάνουν:

- **Required**: Η αποτυχία μιας απαιτούμενης ενότητας οδηγεί σε τελική αποτυχία, αλλά μόνο μετά τον έλεγχο όλων των επόμενων ενοτήτων.
- **Requisite**: Άμεση τερματισμός της διαδικασίας μετά από αποτυχία.
- **Sufficient**: Η επιτυχία παρακάμπτει τους υπόλοιπους ελέγχους του ίδιου τομέα, εκτός εάν αποτύχει μια επόμενη ενότητα.
- **Optional**: Προκαλεί αποτυχία μόνο εάν είναι η μοναδική ενότητα στη στοίβα.

### Παράδειγμα Σεναρίου

Σε μια ρύθμιση με πολλές ενότητες πιστοποίησης, η διαδικασία ακολουθεί μια αυστηρή σειρά. Εάν η ενότητα `pam_securetty` βρει το τερματικό σύνδεσης μη εξουσιοδοτημένο, οι συνδέσεις ως root αποκλείονται, αλλά όλες οι ενότητες εξακολουθούν να επεξεργάζονται λόγω της "απαιτούμενης" κατάστασής της. Η ενότητα `pam_env` ορίζει μεταβλητές περιβάλλοντος, που μπορεί να βοηθήσουν στην εμπειρία του χρήστη. Οι ενότητες `pam_ldap` και `pam_unix` συνεργάζονται για την πιστοποίηση του χρήστη, με την `pam_unix` να προσπαθεί να χρησιμοποιήσει έναν προηγουμένως παρεχόμενο κωδικό πρόσβασης, βελτιώνοντας την αποδοτικότητα και ευελιξία των μεθόδων πιστοποίησης.

## Αναφορές
* [https://hotpotato.tistory.com/434](https://hotpotato.tistory.com/434)


<details>

<summary><strong>Μάθετε το hacking στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Συμμετάσχετε** 💬 στην [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας στο hacking υποβάλλοντας PRs** στα αποθετήρια του [**HackTricks**](https://github.com/carlospolop/hacktricks) και του [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github.

</details>
