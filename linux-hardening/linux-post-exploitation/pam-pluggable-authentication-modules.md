# PAM - Modules d'authentification enfichables

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert Red Team AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks:

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>

#### [WhiteIntel](https://whiteintel.io)

<figure><img src="../../.gitbook/assets/image (1227).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) est un moteur de recherche aliment√© par le **dark web** qui offre des fonctionnalit√©s **gratuites** pour v√©rifier si une entreprise ou ses clients ont √©t√© **compromis** par des **logiciels malveillants voleurs**.

Le but principal de WhiteIntel est de lutter contre les prises de contr√¥le de compte et les attaques de ransomware r√©sultant de logiciels malveillants volant des informations.

Vous pouvez consulter leur site Web et essayer leur moteur **gratuitement** sur :

{% embed url="https://whiteintel.io" %}

***

### Informations de base

**PAM (Pluggable Authentication Modules)** agit comme un m√©canisme de s√©curit√© qui **v√©rifie l'identit√© des utilisateurs tentant d'acc√©der aux services informatiques**, contr√¥lant leur acc√®s en fonction de divers crit√®res. C'est comme un gardien num√©rique, garantissant que seuls les utilisateurs autoris√©s peuvent interagir avec des services sp√©cifiques tout en limitant potentiellement leur utilisation pour √©viter les surcharges syst√®me.

#### Fichiers de configuration

* Les **syst√®mes Solaris et UNIX** utilisent g√©n√©ralement un fichier de configuration central situ√© √† `/etc/pam.conf`.
* Les **syst√®mes Linux** pr√©f√®rent une approche bas√©e sur les r√©pertoires, stockant les configurations sp√©cifiques aux services dans `/etc/pam.d`. Par exemple, le fichier de configuration pour le service de connexion se trouve √† `/etc/pam.d/login`.

Un exemple de configuration PAM pour le service de connexion pourrait ressembler √† ceci :
```
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```
#### **Royaumes de gestion PAM**

Ces royaumes, ou groupes de gestion, comprennent **auth**, **account**, **password** et **session**, chacun √©tant responsable de diff√©rents aspects du processus d'authentification et de gestion de session :

- **Auth** : Valide l'identit√© de l'utilisateur, souvent en demandant un mot de passe.
- **Account** : G√®re la v√©rification du compte, v√©rifiant des conditions telles que l'appartenance √† un groupe ou les restrictions horaires.
- **Password** : G√®re les mises √† jour de mot de passe, y compris les v√©rifications de complexit√© ou la pr√©vention des attaques par dictionnaire.
- **Session** : G√®re les actions au d√©but ou √† la fin d'une session de service, telles que le montage de r√©pertoires ou la d√©finition de limites de ressources.

#### **Contr√¥les des modules PAM**

Les contr√¥les dictent la r√©ponse du module en cas de succ√®s ou d'√©chec, influen√ßant le processus d'authentification global. Ils comprennent :

- **Requis** : L'√©chec d'un module requis entra√Æne √©ventuellement un √©chec, mais seulement apr√®s v√©rification de tous les modules suivants.
- **Requis** : Arr√™t imm√©diat du processus en cas d'√©chec.
- **Suffisant** : Le succ√®s contourne le reste des v√©rifications du m√™me royaume √† moins qu'un module ult√©rieur ne √©choue.
- **Facultatif** : Ne provoque un √©chec que s'il est le seul module dans la pile.

#### Exemple de sc√©nario

Dans une configuration avec plusieurs modules d'authentification, le processus suit un ordre strict. Si le module `pam_securetty` trouve le terminal de connexion non autoris√©, les connexions root sont bloqu√©es, mais tous les modules sont toujours trait√©s en raison de son statut "requis". Le `pam_env` d√©finit des variables d'environnement, aidant potentiellement √† l'exp√©rience utilisateur. Les modules `pam_ldap` et `pam_unix` travaillent ensemble pour authentifier l'utilisateur, `pam_unix` tentant d'utiliser un mot de passe pr√©c√©demment fourni, am√©liorant l'efficacit√© et la flexibilit√© des m√©thodes d'authentification.

### R√©f√©rences

* [https://hotpotato.tistory.com/434](https://hotpotato.tistory.com/434)

#### [WhiteIntel](https://whiteintel.io)

<figure><img src="../../.gitbook/assets/image (1227).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) est un moteur de recherche aliment√© par le **dark web** qui offre des fonctionnalit√©s **gratuites** pour v√©rifier si une entreprise ou ses clients ont √©t√© **compromis** par des **logiciels malveillants voleurs**.

Le but principal de WhiteIntel est de lutter contre les prises de contr√¥le de compte et les attaques de ransomware r√©sultant de logiciels malveillants voleurs d'informations.

Vous pouvez consulter leur site Web et essayer leur moteur **gratuitement** sur :

{% embed url="https://whiteintel.io" %}

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

- Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
- Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
- D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
- **Rejoignez** üí¨ le groupe Discord](https://discord.gg/hRep4RUj7f) ou le [groupe Telegram](https://t.me/peass) ou **suivez** nous sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
- **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
