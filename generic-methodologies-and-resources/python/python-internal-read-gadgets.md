# Python рдЖрдВрддрд░рд┐рдХ рд░реАрдб рдЧреИрдЬреЗрдЯреНрд╕

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ.

</details>

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

рд╡рд┐рднрд┐рдиреНрди рдХрдордЬреЛрд░рд┐рдпрд╛рдВ рдЬреИрд╕реЗ рдХрд┐ [**Python Format Strings**](bypass-python-sandboxes/#python-format-string) рдпрд╛ [**Class Pollution**](class-pollution-pythons-prototype-pollution.md) рдЖрдкрдХреЛ **python рдЖрдВрддрд░рд┐рдХ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗ рд╕рдХрддреА рд╣реИрдВ рд▓реЗрдХрд┐рди рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдирд╣реАрдВ**. рдЗрд╕рд▓рд┐рдП, рдПрдХ рдкреЗрдВрдЯреЗрд╕реНрдЯрд░ рдХреЛ рдЗрди рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рддрд╛рдХрд┐ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВ рдФрд░ рдХрдордЬреЛрд░реА рдХреЛ рдмрдврд╝рд╛ рд╕рдХреЗрдВ**.

### Flask - рд╕реАрдХреНрд░реЗрдЯ рдХреА рдкрдврд╝реЗрдВ

Flask рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдореБрдЦреНрдп рдкреГрд╖реНрда рд╕рдВрднрд╡рддрдГ **`app`** рдЧреНрд▓реЛрдмрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реЛрдЧрд╛ рдЬрд╣рд╛рдВ рдпрд╣ **рд╕реАрдХреНрд░реЗрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ**.
```python
app = Flask(__name__, template_folder='templates')
app.secret_key = '(:secret:)'
```
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдк рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рддрдХ рд╕рд┐рд░реНрдл рдХрд┐рд╕реА рднреА рдЧреИрдЬреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдЧреНрд▓реЛрдмрд▓ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ** рдХреЗ рд▓рд┐рдП [**Bypass Python sandboxes рдкреЗрдЬ**](bypass-python-sandboxes/) рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЬрд┐рд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ **рд╡рд▓реНрдирд░реЗрдмрд┐рд▓рд┐рдЯреА рдПрдХ рдЕрд▓рдЧ рдкрд╛рдпрдерди рдлрд╛рдЗрд▓ рдореЗрдВ рд╣реЛ**, рдЖрдкрдХреЛ рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рдЯреНрд░реИрд╡рд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЧреИрдЬреЗрдЯ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рддрд╛рдХрд┐ рдореБрдЦреНрдп рдлрд╛рдЗрд▓ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреЗрдВ рдФрд░ **рдЧреНрд▓реЛрдмрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ `app.secret_key` рддрдХ рдкрд╣реБрдБрдЪ** рд╕рдХреЗрдВ рддрд╛рдХрд┐ Flask рд╕реАрдХреНрд░реЗрдЯ рдХреА рдХреЛ рдмрджрд▓ рд╕рдХреЗрдВ рдФрд░ [**рдЗрд╕ рдХреА рдХреЛ рдЬрд╛рдирдХрд░ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдмрдврд╝рд╛ рд╕рдХреЗрдВ**](../../network-services-pentesting/pentesting-web/flask.md#flask-unsign)ред

рдЗрд╕ рддрд░рд╣ рдХрд╛ рдПрдХ рдкреЗрд▓реЛрдб [рдЗрд╕ рд░рд╛рдЗрдЯрдЕрдк рд╕реЗ](https://ctftime.org/writeup/36082):

{% code overflow="wrap" %}
```python
__init__.__globals__.__loader__.__init__.__globals__.sys.modules.__main__.app.secret_key
```
{% endcode %}

рдЗрд╕ рдкреЗрд▓реЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **`app.secret_key` рдХреЛ рдмрджрд▓реЗрдВ** (рдЖрдкрдХреЗ рдРрдк рдореЗрдВ рдирд╛рдо рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ) рддрд╛рдХрд┐ рдЖрдк рдирдП рдФрд░ рдЕрдзрд┐рдХ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рд╡рд╛рд▓реЗ flask рдХреБрдХреАрдЬрд╝ рдХреЛ рд╕рд╛рдЗрди рдХрд░ рд╕рдХреЗрдВред

### Werkzeug - machine\_id рдФрд░ node uuid

[**рдЗрд╕ рд▓реЗрдЦ рд╕реЗ рдЗрди рдкреЗрд▓реЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ**](https://vozec.fr/writeups/tweedle-dum-dee/) рдЖрдк **machine\_id** рдФрд░ **uuid** рдиреЛрдб рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдХрд┐ [**Werkzeug рдкрд┐рди рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдореБрдЦреНрдп рд░рд╣рд╕реНрдп**](../../network-services-pentesting/pentesting-web/werkzeug.md) рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк `/console` рдореЗрдВ рдкрд╛рдпрдерди рдХрдВрд╕реЛрд▓ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдЕрдЧрд░ **рдбреАрдмрдЧ рдореЛрдб рд╕рдХреНрд╖рдо рд╣реИ:**
```python
{ua.__class__.__init__.__globals__[t].sys.modules[werkzeug.debug]._machine_id}
{ua.__class__.__init__.__globals__[t].sys.modules[werkzeug.debug].uuid._node}
```
{% hint style="warning" %}
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЖрдк **`app.py` рдХреЗ рд╕рд░реНрд╡рд░ рдХреЗ рд╕реНрдерд╛рдиреАрдп рдкрде** рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╡реЗрдм рдкреЗрдЬ рдореЗрдВ рдХреБрдЫ **рддреНрд░реБрдЯрд┐** рдЙрддреНрдкрдиреНрди рдХрд░рдХреЗ рдЖрдкрдХреЛ рдкрде **рджрд┐рдЦрд╛рдПрдЧрд╛**ред
{% endhint %}

рдпрджрд┐ рд╕рдорд╕реНрдпрд╛ рдПрдХ рдЕрд▓рдЧ python рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╣реИ, рддреЛ рдореБрдЦреНрдп python рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд┐рдЫрд▓реА Flask рдЯреНрд░рд┐рдХ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рдирд╛рдпрдХ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рдЕрдиреНрдп рддрд░реАрдХреЛрдВ рд╕реЗ рд╕рдорд░реНрдерди рдХрд░реЗрдВ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) **рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**ред
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
