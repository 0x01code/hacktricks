<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünleri**](https://peass.creator-spring.com)'ni edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keşfedin, özel [**NFT'ler**](https://opensea.io/collection/the-peass-family)
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek** paylaşın.

</details>


# IPv6 Temel teori

## Ağlar

IPv6 adresleri, ağ organizasyonunu ve cihaz etkileşimini geliştirmek için yapılandırılmıştır. Bir IPv6 adresi şu şekilde bölünmüştür:

1. **Ağ Öneki**: Ağı belirleyen ilk 48 bit.
2. **Alt Ağ Kimliği**: Ağ içinde belirli alt ağları tanımlamak için kullanılan 16 bit.
3. **Arayüz Tanımlayıcı**: Alt ağ içinde benzersiz olarak bir cihazı tanımlayan son 64 bit.

IPv6, IPv4'te bulunan ARP protokolünü atlayarak, iki temel mesaj içeren **ICMPv6**'yı tanıtır:
- **Komşu İstemi (NS)**: Adres çözümlemesi için çoklu mesajlar.
- **Komşu İlanı (NA)**: NS'ye veya kendiliğinden yapılan duyurulara tekli yanıtlar.

IPv6 ayrıca özel adres türlerini de içerir:
- **Döngü Adresi (`::1`)**: İç iletişim için IPv4'ün `127.0.0.1`'ine eşdeğerdir.
- **Bağ Yerel Adresler (`FE80::/10`)**: İnternet yönlendirmesi için değil, yerel ağ etkinlikleri için kullanılır. Aynı yerel ağdaki cihazlar, bu aralığı kullanarak birbirlerini keşfedebilir.

### Ağ Komutlarında IPv6'nın Pratik Kullanımı

IPv6 ağlarıyla etkileşim kurmak için çeşitli komutlar kullanabilirsiniz:
- **Bağ Yerel Adreslerini Pingleme**: `ping6` kullanarak yerel cihazların varlığını kontrol edin.
- **Komşu Keşfi**: Bağ katmanında keşfedilen cihazları görüntülemek için `ip neigh` kullanın.
- **alive6**: Aynı ağdaki cihazları keşfetmek için alternatif bir araç.

Aşağıda bazı komut örnekleri bulunmaktadır:
```bash
ping6 –I eth0 -c 5 ff02::1 > /dev/null 2>&1
ip neigh | grep ^fe80

# Alternatively, use alive6 for neighbor discovery
alive6 eth0
```
IPv6 adresleri, yerel iletişim için bir cihazın MAC adresinden türetilebilir. İşte bilinen bir MAC adresinden Link-local IPv6 adresini nasıl türeteceğinize dair basitleştirilmiş bir kılavuz ve bir ağ içinde IPv6 adreslerini keşfetmek için kullanılan yöntemlerin kısa bir genel bakışı.

## **MAC Adresinden Link-local IPv6 Türetme**

Bir MAC adresi **`12:34:56:78:9a:bc`** verildiğinde, Link-local IPv6 adresini aşağıdaki gibi oluşturabilirsiniz:

1. MAC adresini IPv6 formatına dönüştürün: **`1234:5678:9abc`**
2. `fe80::` ön ekini ekleyin ve ortaya `fffe` ekleyin: **`fe80::1234:56ff:fe78:9abc`**
3. Soldan yedinci biti ters çevirerek `1234`'ü `1034` olarak değiştirin: **`fe80::1034:56ff:fe78:9abc`**

## **IPv6 Adres Türleri**

- **Unique Local Address (ULA)**: Yerel iletişim için, genel internet yönlendirmesi için değil. Önek: **`FEC00::/7`**
- **Multicast Adresi**: Birçok cihaza iletişim için. Multicast grubundaki tüm arayüzlere iletilir. Önek: **`FF00::/8`**
- **Anycast Adresi**: Birbirine en yakın iletişim için. Yönlendirme protokolüne göre en yakın arayüze gönderilir. **`2000::/3`** küresel unicast aralığının bir parçasıdır.

## **Adres Önekleri**
- **fe80::/10**: Link-Local adresleri (169.254.x.x'ye benzer)
- **fc00::/7**: Unique Local-Unicast (10.x.x.x, 172.16.x.x, 192.168.x.x gibi özel IPv4 aralıklarına benzer)
- **2000::/3**: Global Unicast
- **ff02::1**: Multicast Tüm Düğümler
- **ff02::2**: Multicast Yönlendirici Düğümler

## **Bir Ağ İçinde IPv6 Adreslerini Keşfetme**

### Yöntem 1: Link-local Adresleri Kullanma
1. Ağ içindeki bir cihazın MAC adresini edinin.
2. MAC adresinden Link-local IPv6 adresini türetin.

### Yöntem 2: Multicast Kullanma
1. Yerel ağdaki IPv6 adreslerini keşfetmek için `ff02::1` multicast adresine bir ping gönderin.
```bash
service ufw stop # Stop the firewall
ping6 -I <IFACE> ff02::1 # Send a ping to multicast address
ip -6 neigh # Display the neighbor table
```
## IPv6 Orta Adam (MitM) Saldırıları
IPv6 ağlarında MitM saldırılarını gerçekleştirmek için birkaç teknik bulunmaktadır, bunlar şunlardır:

- ICMPv6 komşu veya yönlendirici reklamlarını sahtecilik yapma.
- Yönlendirmeyi manipüle etmek için ICMPv6 yönlendirme veya "Paket Çok Büyük" mesajlarını kullanma.
- Mobil IPv6 saldırısı (genellikle IPSec'in devre dışı bırakılması gerekmektedir).
- Sahte bir DHCPv6 sunucusu kurma.


# IPv6 Adreslerini Bulma

## Alt Alanları Keşfetme
IPv6 adresleriyle potansiyel olarak ilişkili olan alt alanları bulmanın bir yöntemi, arama motorlarını kullanmaktır. Örneğin, `ipv6.*` gibi bir sorgu deseni kullanmak etkili olabilir. Özellikle, aşağıdaki arama komutu Google'da kullanılabilir:
```bash
site:ipv6./
```
## DNS Sorguları Kullanma
IPv6 adreslerini belirlemek için belirli DNS kayıt türleri sorgulanabilir:
- **AXFR**: Geniş bir DNS kaydı yelpazesini ortaya çıkarabilecek şekilde tam bir bölge transferi isteği yapar.
- **AAAA**: Doğrudan IPv6 adreslerini arar.
- **ANY**: Mevcut tüm DNS kayıtlarını döndüren geniş bir sorgu.

## Ping6 ile Sondaj Yapma
Bir kuruluşla ilişkilendirilmiş IPv6 adreslerini belirledikten sonra, sondaj için `ping6` aracı kullanılabilir. Bu araç, belirlenen IPv6 adreslerinin yanıt verme yeteneğini değerlendirmeye yardımcı olur ve aynı zamanda yanıt veren IPv6 cihazları keşfetmede de yardımcı olabilir.


## Referanslar

* [http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html](http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html)
* [https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904](https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904)


<details>

<summary><strong>AWS hacklemeyi sıfırdan kahramanla öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek veya HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya bizi **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>
