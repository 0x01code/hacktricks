<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>


# Βασική θεωρία IPv6

## Δίκτυα

Οι διευθύνσεις IPv6 είναι δομημένες για να βελτιώσουν την οργάνωση του δικτύου και την αλληλεπίδραση των συσκευών. Μια διεύθυνση IPv6 χωρίζεται σε:

1. **Πρόθεμα Δικτύου**: Τα πρώτα 48 bits, που καθορίζουν το τμήμα του δικτύου.
2. **Ταυτότητα Υποδικτύου**: Τα επόμενα 16 bits, που χρησιμοποιούνται για τον καθορισμό συγκεκριμένων υποδικτύων εντός του δικτύου.
3. **Αναγνωριστικό Διεπαφής**: Τα τελευταία 64 bits, που αναγνωρίζουν μοναδικά μια συσκευή εντός του υποδικτύου.

Ενώ η IPv6 παραλείπει το πρωτόκολλο ARP που βρίσκεται στην IPv4, εισάγει το **ICMPv6** με δύο κύρια μηνύματα:
- **Αίτηση Γείτονα (NS)**: Πολυεκπομπή μηνύματα για την ανάλυση διεύθυνσης.
- **Απάντηση Γείτονα (NA)**: Μονοεκπομπή απαντήσεις σε NS ή αυθόρμητες ανακοινώσεις.

Η IPv6 ενσωματώνει επίσης ειδικούς τύπους διευθύνσεων:
- **Διεύθυνση Επιστροφής (`::1`)**: Αντίστοιχη με το `127.0.0.1` της IPv4, για εσωτερική επικοινωνία εντός του κεντρικού υπολογιστή.
- **Τοπικές Διευθύνσεις Δικτύου (`FE80::/10`)**: Για τις τοπικές δραστηριότητες του δικτύου, όχι για δρομολόγηση στο διαδίκτυο. Οι συσκευές στο ίδιο τοπικό δίκτυο μπορούν να ανακαλύψουν η μία την άλλη χρησιμοποιώντας αυτό το εύρος.

### Πρακτική Χρήση του IPv6 σε Εντολές Δικτύου

Για να αλληλεπιδράσετε με δίκτυα IPv6, μπορείτε να χρησιμοποιήσετε διάφορες εντολές:
- **Ping Link-Local Διευθύνσεις**: Ελέγξτε την παρουσία τοπικών συσκευών χρησιμοποιώντας το `ping6`.
- **Ανακάλυψη Γείτονα**: Χρησιμοποιήστε το `ip neigh` για να δείτε τις συσκευές που ανακαλύφθηκαν στο επίπεδο σύνδεσης.
- **alive6**: Ένα εναλλακτικό εργαλείο για την ανακάλυψη συσκευών στο ίδιο δίκτυο.

Παρακάτω παρουσιάζονται μερικά παραδείγματα εντολών:
```bash
ping6 –I eth0 -c 5 ff02::1 > /dev/null 2>&1
ip neigh | grep ^fe80

# Alternatively, use alive6 for neighbor discovery
alive6 eth0
```
Οι διευθύνσεις IPv6 μπορούν να προκύψουν από τη διεύθυνση MAC ενός συσκευής για τοπική επικοινωνία. Παρακάτω παρέχεται ένας απλοποιημένος οδηγός για το πώς να προκύψετε τη διεύθυνση Link-local IPv6 από μια γνωστή διεύθυνση MAC, καθώς και μια σύντομη επισκόπηση των τύπων διευθύνσεων IPv6 και των μεθόδων ανακάλυψης διευθύνσεων IPv6 εντός ενός δικτύου.

## **Προκύπτοντας τη Link-local IPv6 από τη διεύθυνση MAC**

Δεδομένης μιας διεύθυνσης MAC **`12:34:56:78:9a:bc`**, μπορείτε να κατασκευάσετε τη διεύθυνση Link-local IPv6 ως εξής:

1. Μετατρέψτε τη MAC σε μορφή IPv6: **`1234:5678:9abc`**
2. Προσθέστε το `fe80::` και εισαγάγετε το `fffe` στη μέση: **`fe80::1234:56ff:fe78:9abc`**
3. Αντιστρέψτε τον έβδομο ψηφίο από αριστερά, αλλάζοντας το `1234` σε `1034`: **`fe80::1034:56ff:fe78:9abc`**

## **Τύποι Διευθύνσεων IPv6**

- **Unique Local Address (ULA)**: Για τοπική επικοινωνία, δεν προορίζεται για δρομολόγηση στο διαδίκτυο. Πρόθεμα: **`FEC00::/7`**
- **Διεύθυνση Πολυεκπομπής**: Για επικοινωνία ενός προς πολλούς. Παραδίδεται σε όλες τις διεπαφές της ομάδας πολυεκπομπής. Πρόθεμα: **`FF00::/8`**
- **Διεύθυνση Οποιασδήποτε Προορισμού**: Για επικοινωνία ενός προς τον πλησιέστερο προορισμό. Αποστέλλεται στην πλησιέστερη διεπαφή σύμφωνα με το πρωτόκολλο δρομολόγησης. Ανήκει στο εύρος παγκόσμιας μοναδικής διεύθυνσης **`2000::/3`**.

## **Προθέματα Διευθύνσεων**
- **fe80::/10**: Διευθύνσεις Link-Local (παρόμοιες με τις 169.254.x.x)
- **fc00::/7**: Μοναδική Τοπική-Μοναδική (παρόμοιες με τις ιδιωτικές περιοχές IPv4 όπως 10.x.x.x, 172.16.x.x, 192.168.x.x)
- **2000::/3**: Παγκόσμια Μοναδική
- **ff02::1**: Πολυεκπομπή Όλοι Οι Κόμβοι
- **ff02::2**: Πολυεκπομπή Κόμβοι Δρομολογητή

## **Ανακάλυψη Διευθύνσεων IPv6 εντός ενός Δικτύου**

### Τρόπος 1: Χρησιμοποιώντας Διευθύνσεις Link-local
1. Αποκτήστε τη διεύθυνση MAC μιας συσκευής εντός του δικτύου.
2. Προκύψτε τη διεύθυνση Link-local IPv6 από τη διεύθυνση MAC.

### Τρόπος 2: Χρησιμοποιώντας Πολυεκπομπή
1. Αποστείλετε ένα ping στη διεύθυνση πολυεκπομπής `ff02::1` για να ανακαλύψετε διευθύνσεις IPv6 στο τοπικό δίκτυο.
```bash
service ufw stop # Stop the firewall
ping6 -I <IFACE> ff02::1 # Send a ping to multicast address
ip -6 neigh # Display the neighbor table
```
## Επιθέσεις Man-in-the-Middle (MitM) σε IPv6
Υπάρχουν αρκετές τεχνικές για την εκτέλεση επιθέσεων MitM σε δίκτυα IPv6, όπως:

- Πλαστογραφώντας διαφημίσεις γείτονα ή δρομολογητή ICMPv6.
- Χρησιμοποιώντας μηνύματα ανακατεύθυνσης ICMPv6 ή "Packet Too Big" για την παραπλάνηση της δρομολόγησης.
- Επιτίθεται στο κινητό IPv6 (συνήθως απαιτείται η απενεργοποίηση του IPSec).
- Δημιουργία ενός ψεύτικου διακομιστή DHCPv6.

# Αναγνώριση διευθύνσεων IPv6 στο πεδίο

## Εξερεύνηση υποτομέων
Μια μέθοδος για την εύρεση υποτομέων που ενδεχομένως συνδέονται με διευθύνσεις IPv6 εμπλέκει την αξιοποίηση μηχανών αναζήτησης. Για παράδειγμα, η χρήση ενός προτύπου ερωτήματος όπως `ipv6.*` μπορεί να είναι αποτελεσματική. Συγκεκριμένα, το παρακάτω ερωτηματικό μπορεί να χρησιμοποιηθεί στο Google:
```bash
site:ipv6./
```
## Χρήση ερωτήσεων DNS
Για την εντοπισμό των διευθύνσεων IPv6, μπορούν να γίνουν ερωτήσεις σε συγκεκριμένους τύπους εγγραφών DNS:
- **AXFR**: Ζητά μια πλήρη μεταφορά ζώνης, αποκαλύπτοντας πιθανώς μια ευρεία γκάμα εγγραφών DNS.
- **AAAA**: Αναζητά απευθείας διευθύνσεις IPv6.
- **ANY**: Μια ευρεία ερώτηση που επιστρέφει όλες τις διαθέσιμες εγγραφές DNS.

## Εξερεύνηση με το Ping6
Αφού εντοπιστούν οι διευθύνσεις IPv6 που σχετίζονται με μια οργάνωση, μπορεί να χρησιμοποιηθεί το εργαλείο `ping6` για εξερεύνηση. Αυτό το εργαλείο βοηθά στην αξιολόγηση της ανταπόκρισης των εντοπισμένων διευθύνσεων IPv6 και μπορεί επίσης να βοηθήσει στην ανακάλυψη γειτονικών συσκευών IPv6.

## Αναφορές

* [http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html](http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html)
* [https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904](https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904)


<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΠΑΚΕΤΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
