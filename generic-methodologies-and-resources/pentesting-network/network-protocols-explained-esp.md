<details>

<summary><strong>ゼロからヒーローまでのAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法：

* **HackTricksで企業を宣伝したい**または**HackTricksをPDFでダウンロードしたい場合**は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksスウォッグ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見る
* **💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)をフォローする
* **HackTricks**（https://github.com/carlospolop/hacktricks）と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出して、あなたのハッキングテクニックを共有する

</details>


# マルチキャストDNS（mDNS）

**マルチキャストDNS**（**mDNS**）プロトコルは、ローカルネームサーバーを持たない小規模ネットワーク内でホスト名をIPアドレスに解決します。

mDNSクライアントがホスト名を解決する必要がある場合、その名前を持つホストに自己識別を要求するIpマルチキャストクエリメッセージを送信します。そのターゲットマシンは、自身のIPアドレスを含むメッセージをマルチキャストします。そのサブネット内のすべてのマシンは、その情報を使用して自身のmDNSキャッシュを更新できます。

任意のホストは、TTL（Time To Live）がゼロに等しい応答パケットを送信することで、ドメイン名への権利を放棄できます。

デフォルトでは、mDNSは**.local**トップレベルドメイン（TLD）で終わるホスト名のみを解決します。これは、そのドメインにmDNSを実装していないが従来のユニキャストDNSサーバーを介して見つけることができるホストが含まれている場合に問題を引き起こす可能性があります。このような競合を解決するには、ネットワーク構成の変更が必要です。

* イーサネットフレームを使用する場合、標準のマルチキャストMACアドレスはIPv4の _01:00:5E:00:00:FB_ またはIPv6の _33:33:00:00:00:FB_ です。
* IPv4アドレス _224.0.0.251_ またはIPv6アドレス _ff02::fb_ 。
* UDPポート5353。

mDNSクエリはルータを通過しません（イーサネット内でブロードキャストされます）。

# DNS-SD（サービスディスカバリ）

このプロトコルはネットワーク内のホストを発見するために使用できます。特定のドメイン名（例： _\_printers\_tcp.local_\）をリクエストし、その名前に関連するすべてのドメインが応答します（この場合、プリンター） 。この特別な名前の完全なリストは[こちら](http://www.dns-sd.org/ServiceTypes.html)で見つけることができます。

# SSDP

Simple Service Discovery Protocolは、主にUPnPプロトコルを使用してネットワーク内のサービスを発見するために使用されます。

SSDPは、UDPを基にしたテキストベースのプロトコルで、特定のIPマルチキャストアドレスにUDPポート番号1900でマルチキャストアドレスを使用してホストシステムによってサービスが広告されます。IPv4では、マルチキャストアドレスは239.255.255.250です。

# WSD

**デバイス向けWebサービス**。
このサービスは、ネットワークに接続されたデバイスがネットワーク内で利用可能なサービス（プリンターなど）を発見できるようにします。

クライアントは、特定の種類のサービスを要求するためにブロードキャストUDPパケットを送信するか、サービスプロバイダーが提供していることを示すブロードキャストパケットを送信できます。

# OAuth2.0

Googleなどの情報を他のサービスと共有できるプロトコル。

基本的には、1つのサービスに保存されている適切で必要な情報を別のサービスと共有できるようにします。これにより、ログインが迅速に行われ、データが1か所にのみ保存され、ユーザー名やパスワードをあちこちに入力する必要がなくなります。

動作方法：

まず、Googleにログインしている必要があります。または、ログインするためのウィンドウが開きます。その後、サービスはGoogleサーバーに情報にアクセスするためのトークンを要求します。 Googleは、「アプリケーションXXXXXがあなたのこの情報にアクセスすることを要求しています：...」という画面を表示します。承認をクリックすると、Googleはアプリケーションにコードで応答し、アプリケーションはそのコードを使用してGoogleからトークンを要求します。アプリケーションがトークンを取得すると、Google APIを使用して要求した情報を取得できます。

# RADIUS

ネットワークへのアクセスの認証および承認プロトコル。 \(UDPポート1813を使用\)

主に、インターネットサービスプロバイダが顧客のネットワークアクセスを管理するために使用されます。

認証、承認、注釈を許可します。

動作方法：

ユーザーは最初にNAS（サーバーへのゲートウェイ）と話し合い、送信された名前とパスワードが有効かどうかをRADIUSサーバーに問い合わせます。

より高いセキュリティを確保するために、サーバーのネットワークアドレスや電話番号を確認して、一致するかどうかを確認できます。

RADIUSサーバーと接続しようとするユーザーは、「共有シークレット」と呼ばれるものを持っています。このように、RADIUSサーバーはNASにチャレンジを送信し、ユーザーがログインしようとしている間にそれを暗号化し、それをNASに転送します。そして、RADIUSが行った暗号化と一致する場合、ユーザーは自分のアイデンティティを証明しました。

アイデンティティが証明されると、RADIUSユーザーはNASにユーザーにIPアドレスを割り当てるよう指示します。また、これが完了すると、NASは記録するためにRADIUSに開始メッセージを送信します。ユーザーがログアウトすると、NASは終了メッセージを送信します。このようにして、RADIUSはセッションの消費を記録して請求できるようになります（このデータは統計目的にも使用されます）


# SMBとNetBIOS

##  **SMB**

ファイル/プリンター/ポート共有プロトコル...

これは、TCPポート445上で直接実行するか、UDP 137、138またはTCP 137、138上でNetBIOS over TCPを使用することができます（netbios-ssnと呼ばれます）。

SMBがTCPのみまたはNetBIOS + TCP上で実装される目的は、他のどちらかをサポートする機器との通信能力を向上させることです。

## **NetBIOS**

その機能は、セッションを確立し、接続を維持してネットワークリソースを共有することですが、1つの場所から別の場所にパケットを送信するにはIPC/IPXまたはNetBEUIまたはTCP/IPが必要です。

NetBIOSを使用するすべてのマシンは、他と区別する一意の**名前**を持っている必要があります。したがって、新しいマシンが入ってきた場合、使用しようとしている名前を誰も使用していないかどうかが最初にチェックされます。また、複数のステーションが使用できる**グループ名**がありますが、同じ名前のグループが2つあってはいけません。これは、複数のマシンにメッセージを送信できる方法です。したがって、ユーザー、グループ、またはブロードキャストにメッセージを送信できます。

接続は接続指向または非接続指向になります：

**非接続指向：** 宛先にデータグラムが送信されますが、挨拶や受信メッセージはありません。宛先マシンはデータグラムを受信できるように構成されている必要があります。

**接続指向：** 2つの名前間でセッションが作成されます（同じマシンの2つの名前間でも可能です）。受信またはエラーメッセージが送信されます。

**NetBEUI**は実際にはNetBEUI上のNetBIOSであり、NetBIOSにつながるネットワークおよびトランスポートプロトコルです。高速でしたが、非常にノイズが多かったため、多くのブロードキャストが行われました。NetBEUI上でSMBを実行することもできますが、NetBIOSがTCP上で実行されるよりも一般的です。

# LDAP

TCP/IPを介してディレクトリを管理し、ユーザー情報ベースにアクセスすることを可能にするプロトコル。

異なるコマンドを介して情報を抽出および導入することができます。

したがって、このプロトコルは、このプロトコルを話すように準備されたさまざまなデータベースにアクセスするために使用されるプロトコルです。

# Active Directory

基本的には、ユーザー、グループ、特権、リソースなどの情報を持つオブジェクトのデータベースであり、ネットワークからアクセス可能（ドメインを介して）であり、その情報にアクセスして管理できるようにするためのものです。

オブジェクトを保存するサーバー。これらのオブジェクトは、ドメインを介してネットワーク上で見えます。ドメイン内には、実装されているサーバー、グループ、ユーザーなどが含まれます...

サブドメインも持つことができ、それぞれにグループ、ユーザーなどに関連付けられたサーバーがあります...

このように、ネットワークのユーザーの管理が中央集権化されており、ログインできるユーザーはこのサーバーで生成でき、アクセス権を持っているかどうかを知るために、特定のネットワークリソースにアクセスできるかどうかを知ることができ、すべてが簡単な方法で制御できます。

このように、ユーザー名を指定してディレクトリを照会し、メールアドレスや電話番号などの情報を取得することができます。また、プリンターはどこにありますか？ドメイン名は何ですか？などの一般的な照会も行うことができます。


<details>

<summary><strong>ゼロからヒーローまでのAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法：

* **HackTricksで企業を宣伝したい**または**HackTricksをPDFでダウンロードしたい場合**は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksスウォッグ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見る
* **💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)をフォローする
* **HackTricks**（https://github.com/carlospolop/hacktricks）と[**HackTricks Cloud**](https://github.com/carlospol
