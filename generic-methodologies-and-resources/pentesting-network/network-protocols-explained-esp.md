<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

- **サイバーセキュリティ企業**で働いていますか？ **HackTricksで会社を宣伝**したいですか？または、**PEASSの最新バージョンにアクセスしたり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見しましょう。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです。

- [**公式のPEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を手に入れましょう。

- [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**テレグラムグループ**](https://t.me/peass)に**参加**するか、**Twitter**で**フォロー**する[**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**。**

- **ハッキングのトリックを共有するには、[hacktricksリポジトリ](https://github.com/carlospolop/hacktricks)と[hacktricks-cloudリポジトリ](https://github.com/carlospolop/hacktricks-cloud)**にPRを提出してください。

</details>


# マルチキャストDNS（mDNS）

**マルチキャストDNS**（**mDNS**）プロトコルは、ローカルネームサーバを含まない小規模ネットワーク内でホスト名をIPアドレスに解決します。

mDNSクライアントがホスト名を解決する必要がある場合、その名前を持つホストに自己識別するようにIpマルチキャストクエリメッセージを送信します。そのターゲットマシンは、IPアドレスを含むメッセージをマルチキャストします。そのサブネット内のすべてのマシンは、その情報を使用して自分のmDNSキャッシュを更新できます。

任意のホストは、TTL（Time To Live）がゼロと等しい応答パケットを送信することで、ドメイン名の所有権を放棄することができます。

デフォルトでは、mDNSは**.local**トップレベルドメイン（TLD）で終わるホスト名のみを解決します。これは、そのドメインにmDNSを実装していないが、従来のユニキャストDNSサーバーを介して見つけることができるホストが含まれている場合に問題が発生する可能性があります。このような競合を解決するには、ネットワーク構成の変更が必要です。

* イーサネットフレームを使用する場合、標準のマルチキャストMACアドレスは_01:00:5E:00:00:FB_（IPv4用）または_33:33:00:00:00:FB_（IPv6用）です。
* IPv4アドレスは_224.0.0.251_、IPv6アドレスは_ff02::fb_です。
* UDPポート5353。

mDNSクエリはルーターを通過しません（イーサネットでのブロードキャストのみ）。

# DNS-SD（サービスディスカバリ）

このプロトコルは、ネットワーク内のホストを検出するために使用できます。そのためには、特別なドメイン名（例：_\_printers\_tcp.local\_）を要求し、その名前に関連するすべてのドメインが応答します（この場合、プリンター）。この特別な名前の完全なリストは[こちら](http://www.dns-sd.org/ServiceTypes.html)で確認できます。

# SSDP

Simple Service Discovery Protocolは、主にUPnPプロトコルを使用してネットワーク内のサービスを検出するために使用されます。

SSDPは、[HTTPU](https://en.wikipedia.org/wiki/HTTPU)に基づいたテキストベースのプロトコルです。UDPを基にしたトランスポートプロトコルとして使用されます。サービスは、ホストシステムによってマルチキャストアドレッシングを使用して広告され、UDPポート番号1900で特定のIPマルチキャストアドレスに対して送信されます。IPv4では、マルチキャストアドレスは239.255.255.250です。

# WSD

**Web Service for Devices**。
このサービスは、ネットワークに接続されたデバイスがネットワーク内で利用可能なサービス（プリンターなど）を検出できるようにします。

クライアントは、特定の種類のサービスを要求するためにブロードキャストUDPパケットを送信することができます。また、サービスプロバイダーは、サービスを提供していることを示すブロードキャストパケットを送信することができます。

# OAuth2.0

このプロトコルは、たとえばGoogleの情報を他のサービスと共有することを可能にします。

基本的には、あるサービスに格納されている公正で必要な情報を別のサービスと共有することができます。これにより、より速くログインでき、データは1か所にのみ保存され、ユーザー名とパスワードをいたるところに入力する必要はありません。

動作方法は次のとおりです：

まず、すでにGoogleにログインしている必要があります。ログインしていない場合は、ログインするためのウィンドウが表示されます。その直後、サービスはGoogleサーバーに情報にアクセスするためのトークンを要求します。Googleは、「_アプリケーションXXXXXがあなたのこの情報にアクセスしたいです_」という画面を表示します。承諾をクリックすると、Googleはアプリケーションにコードを返し、アプリケーションはそのコードを使用してトークンを要求します。アプリケーションがトークンを取得すると、Google APIと共に使用して要求した情報を取得することができます。

# RADIUS

ネットワークへのアクセスのための認証および承認プロトコルです（UDPポート1813を使用）。

これは、主にインターネットサービスプロバイダが顧客のネットワークアクセスを管理するために使用されます。

認証、承認、注釈を許可します。

動作方法：

ユーザーはまずNAS（サーバーへのゲートウェイ）と話し、送信された名前とパスワードがRADIUSサーバーによって有効であるかどうかを確認します。

より高いセキュリティを確保するために、サーバーのネットワークアドレスや電話番号をチェックして一致するかどうかを確認することもできます。

RADIUSサーバーと接続しようとするユーザーの両方には、「共有シークレット」と呼ばれるものがあります。これにより、RADIUSサーバーはNASにチャレンジを送信し、ログインしようとしているユーザーに転送します。ユーザ
# SMBとNetBIOS

## **SMB**

これはファイル/プリンター/ポート共有プロトコルです...

これは直接TCP上のポート445で実行することができます（Windowsスキャンを実行すると、これがmicrosoft-dsと呼ばれることがわかります）

またはUDP 137、138またはTCP 137、138を介して実行することができます。これはNetBIOS over TCP（netbios-ssnと呼ばれる）を使用します。

SMBがTCPのみで実装されるか、NetBIOS + TCPで実装されるのは、一方しかサポートしていないより多くの機器との通信容量を増やすためです。

## **NetBIOS**

その機能はセッションを確立し、接続を維持してネットワークリソースを共有することですが、パケットを1つの場所から別の場所に送信するにはIPC/IPXまたはNetBEUIまたはTCP/IPが必要です。

NetBIOSを使用するすべてのマシンは、他と区別するために一意の**名前**を持っている必要があります。したがって、新しいマシンが入ってくると、使用しようとしている名前を誰も使用していないかどうかを最初にチェックします。また、複数のステーションで使用できる**グループ名**もありますが、同じ名前の2つのグループは存在できません。これは複数のマシンにメッセージを送信するための方法です。したがって、ユーザー、グループ、またはブロードキャストにメッセージを送信できます。

接続は接続型または非接続型になります：

**非接続型：**宛先にデータグラムが送信されますが、挨拶やメッセージの受信はありません。宛先マシンはデータグラムを受信できるように設定する必要があります。

**接続型：**2つの名前（同じマシンの名前でもかまいません）の間にセッションが作成され、受信またはエラーメッセージが送信されます。

**NetBEUI**は実際にはNetBIOS over NetBEUIであり、NetBIOSにつながるネットワークおよびトランスポートプロトコルです。これは高速ですが、非常にノイズが多く、多くのブロードキャストを行います。NetBEUI上でSMBを実行することもできますが、NetBIOSがTCP上で実行されるよりも一般的です。

# LDAP

TCP/IPを介してディレクトリを管理し、ユーザー情報ベースにアクセスするためのプロトコルです。

異なるコマンドを介して情報を抽出および入力することができます。

したがって、このプロトコルを話すように準備されたさまざまなデータベースにアクセスするために使用されるプロトコルです。

# Active Directory

基本的には、ユーザー、グループ、特権、リソースなどの情報を持つオブジェクトのデータベースであり、ネットワークからアクセス可能です（ドメインを介して）。これにより、該当する情報にネットワークからアクセスして管理することができます。

オブジェクトを保存するサーバーです。これらのオブジェクトはドメインを介してネットワーク上で表示されます。ドメイン内には、実装されているサーバー、グループ、ユーザーなどが含まれる場合があります...

また、グループ、ユーザーなどに関連付けられた独自のサーバーを持つサブドメインも作成できます...

これにより、ネットワークのユーザーの管理が一元化されます。ログインできるユーザーはこのサーバー上で生成でき、ネットワークリソースにアクセスできるかどうかを知るための権限を持っているため、これを簡単な方法で制御できます。

このように、ユーザー名でディレクトリを検索し、電子メールや電話番号などの情報を取得することができます。また、プリンターはどこにありますか？ドメイン名は何ですか？などの一般的な問い合わせも行うことができます。


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

- **サイバーセキュリティ企業**で働いていますか？ **HackTricksで会社を宣伝**したいですか？または、**PEASSの最新バージョンにアクセスしたり、HackTricksをPDFでダウンロード**したいですか？[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見しましょう。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです。

- [**公式のPEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を手に入れましょう。

- [**💬**](https://emojipedia.org/speech-balloon/) [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**テレグラムグループ**](https://t.me/peass)に参加するか、**Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**をフォロー**してください。

- **ハッキングのトリックを共有するには、[hacktricksリポジトリ](https://github.com/carlospolop/hacktricks)と[hacktricks-cloudリポジトリ](https://github.com/carlospolop/hacktricks-cloud)**にPRを提出してください。

</details>
