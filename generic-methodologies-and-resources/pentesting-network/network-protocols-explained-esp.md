<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

- ¬øTrabajas en una **empresa de ciberseguridad**? ¬øQuieres ver tu **empresa anunciada en HackTricks**? ¬øO quieres tener acceso a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF**? ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!

- Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Obt√©n el [**swag oficial de PEASS y HackTricks**](https://peass.creator-spring.com)

- **√önete al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Comparte tus trucos de hacking enviando PRs al [repositorio de hacktricks](https://github.com/carlospolop/hacktricks) y al [repositorio de hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>


# Multicast DNS \(mDNS\)

El protocolo **multicast DNS** \(**mDNS**\) resuelve los nombres de host a direcciones IP dentro de redes peque√±as que no incluyen un servidor de nombres local.

Cuando un cliente mDNS necesita resolver un nombre de host, env√≠a un mensaje de consulta de multidifusi√≥n IP que solicita al host que tiene ese nombre que se identifique. Esa m√°quina objetivo luego env√≠a en multidifusi√≥n un mensaje que incluye su direcci√≥n IP. Todas las m√°quinas en esa subred pueden utilizar esa informaci√≥n para actualizar sus cach√©s de mDNS.

Cualquier host puede renunciar a su reclamo sobre un nombre de dominio enviando un paquete de respuesta con un Tiempo de Vida \(TTL\) igual a cero.

Por defecto, mDNS resuelve exclusivamente los nombres de host que terminan con el dominio de nivel superior \(TLD\) **.local**. Esto puede causar problemas si ese dominio incluye hosts que no implementan mDNS pero que se pueden encontrar a trav√©s de un servidor DNS unicast convencional. Resolver tales conflictos requiere cambios en la configuraci√≥n de la red.

* Al utilizar tramas Ethernet, la direcci√≥n MAC de multidifusi√≥n est√°ndar es _01:00:5E:00:00:FB_ \(para IPv4\) o _33:33:00:00:00:FB_ \(para IPv6\).
* Direcci√≥n IPv4 _224.0.0.251_ o direcci√≥n IPv6 _ff02::fb_.
* Puerto UDP 5353.

Las consultas mDNS no pasar√°n a trav√©s de enrutadores \(solo se transmiten en Ethernet\).

# DNS-SD \(Service Discovery\)

Este protocolo se puede utilizar para descubrir hosts en la red. Para hacer esto, puede solicitar nombres de dominio especiales \(por ejemplo, _\_printers\_tcp.local_\) y todos los dominios relacionados con ese nombre responder√°n \(en este caso, impresoras\). Se puede encontrar una lista completa con estos nombres especiales [aqu√≠](http://www.dns-sd.org/ServiceTypes.html).

# SSDP

El Protocolo Simple de Descubrimiento de Servicios se utiliza para descubrir servicios en una red, principalmente para utilizar el protocolo UPnP.

SSDP es un protocolo basado en texto basado en [HTTPU](https://en.wikipedia.org/wiki/HTTPU). Utiliza UDP como protocolo de transporte subyacente. Los servicios se anuncian por el sistema de alojamiento con direccionamiento de multidifusi√≥n a una direcci√≥n IP de multidifusi√≥n espec√≠ficamente designada en el n√∫mero de puerto UDP 1900. En IPv4, la direcci√≥n de multidifusi√≥n es 239.255.255.250.

# WSD

**Servicio web para dispositivos**.
Este servicio permite que un dispositivo conectado en una red descubra qu√© servicios \(como impresoras\) est√°n disponibles en la red.

El cliente puede enviar un paquete UDP de difusi√≥n preguntando por alg√∫n tipo de servicio o el proveedor de servicios puede enviar un paquete de difusi√≥n diciendo que est√° ofreciendo un servicio.

# OAuth2.0

Protocolo que te permite compartir tu informaci√≥n, por ejemplo, de Google con otros servicios.

B√°sicamente **te permite compartir la informaci√≥n justa** y necesaria que se almacena en un servicio, con otro. De esta manera, puedes iniciar sesi√≥n m√°s r√°pido y tus **datos solo se almacenan en un lugar** y no tienes que poner nombres de usuario/contrase√±as en todas partes.

Funciona de la siguiente manera:

Primero, ya debes haber iniciado sesi√≥n en Google o se abrir√° una ventana para que inicies sesi√≥n. Inmediatamente despu√©s, el servicio solicitar√° al servidor de Google un token para acceder a tu informaci√≥n. Google mostrar√° una de esas pantallas de "_La aplicaci√≥n XXXXX quiere acceder a esta informaci√≥n tuya: ..._" cuando hagas clic en aceptar, Google responder√° a la aplicaci√≥n con un c√≥digo que la aplicaci√≥n utilizar√° para solicitar un token con el cual Google responder√°. Una vez que la aplicaci√≥n tiene un token, puede usarlo con la API de Google para obtener la informaci√≥n que solicit√≥.

# RADIUS

Protocolo de autenticaci√≥n y autorizaci√≥n para acceder a una red. \(Utiliza el puerto UDP 1813\)

Se utiliza principalmente por los proveedores de servicios de Internet para gestionar el acceso a la red de sus clientes.

Permite la autenticaci√≥n, autorizaci√≥n y anotaci√≥n.

¬øC√≥mo funciona?

El usuario primero se comunica con el NAS \(puerta de enlace al servidor\), verifica que el nombre y la contrase√±a enviados sean v√°lidos al preguntar al servidor RADIUS.

Opcionalmente, para mayor seguridad, se puede verificar la direcci√≥n de red o el n√∫mero de tel√©fono del servidor para ver si coincide.

Tanto el servidor RADIUS como el usuario que intenta conectarse tienen un "secreto compartido", de esta manera el servidor RADIUS env√≠a un desaf√≠o al NAS que lo reenv√≠a al usuario que est√° iniciando sesi√≥n, este lo cifra con dicho secreto y lo reenv√≠a al NAS y si coincide con el cifrado que ha hecho RADIUS, el usuario ha demostrado su identidad.

Una vez que se ha demostrado la identidad, el usuario RADIUS instruye al NAS para asignar al usuario una direcci√≥n IP. Adem√°s, cuando esto se hace, el NAS env√≠a un mensaje de inicio a RADIUS para que lo registre. Cuando el usuario cierra la sesi√≥n, el NAS env√≠a un mensaje de terminaci√≥n. De esta manera, RADIUS registra el consumo de la sesi√≥n para poder facturar en consecuencia \ (estos datos tambi√©n se utilizan por razones estad√≠sticas \)
# SMB y NetBIOS

## **SMB**

Es un protocolo de intercambio de archivos/impresoras/puertos...

Esto puede ejecutarse directamente sobre TCP en el puerto 445 \(que si haces un escaneo de Windows ver√°s que se llama microsoft-ds\)

O sobre UDP 137, 138 o TCP 137, 138 que utiliza NetBIOS sobre TCP \(llamado netbios-ssn\)

El objetivo de implementar SMB solo sobre TCP o sobre NetBIOS + TCP es aumentar la capacidad de comunicaci√≥n con m√°s equipos que solo admiten uno u otro.

## **NetBIOS**

Su funci√≥n es establecer sesiones y mantener conexiones para compartir recursos de red, pero para enviar paquetes de un sitio a otro requiere IPC/IPX o NetBEUI o TCP/IP.

Cada m√°quina que utiliza NetBIOS debe tener un **nombre** √∫nico que la distinga del resto. Por lo tanto, cuando llega una nueva m√°quina, primero se verifica que nadie est√© utilizando el nombre que est√° solicitando usar. Tambi√©n hay **nombres de grupo** que pueden ser utilizados por tantas estaciones como se desee, pero no puede haber dos grupos con el mismo nombre. Es una forma de poder enviar mensajes a varias m√°quinas. Por lo tanto, se pueden enviar mensajes a un usuario, a un grupo o a todos.

La conexi√≥n puede ser sin conexi√≥n o orientada a la conexi√≥n:

**Sin conexi√≥n:** Se env√≠a un datagrama al destino, pero no hay una forma de recibir un saludo o mensaje. La m√°quina de destino debe estar configurada para poder recibir datagramas.

**Orientada a la conexi√≥n:** Se crea una sesi√≥n entre dos nombres \(incluso puede ser entre dos nombres de la misma m√°quina\) si se env√≠a un mensaje recibido o de error.

**NetBEUI** realmente consiste en NetBIOS sobre NetBEUI, que es un protocolo de red y transporte que lleva a NetBIOS, era r√°pido pero muy ruidoso porque transmit√≠a muchos mensajes de difusi√≥n, tambi√©n se puede tener SMB sobre NetBEUI, pero es m√°s com√∫n que NetBIOS se ejecute sobre TCP.

# LDAP

Protocolo que permite gestionar directorios y acceder a bases de datos de informaci√≥n de usuarios a trav√©s de TCP/IP.

Permite tanto extraer informaci√≥n como introducirla a trav√©s de diferentes comandos.

Por lo tanto, es un protocolo que se utiliza para acceder a varias bases de datos que est√°n preparadas para hablar este protocolo.

# Active Directory

B√°sicamente, es una base de datos de objetos con informaci√≥n como usuarios, grupos, privilegios y recursos que es accesible desde la red \(a trav√©s de un dominio\) para que dicha informaci√≥n pueda ser accedida y gestionada de forma centralizada.

Servidor que guarda objetos. Estos objetos son visibles en la red a trav√©s de un dominio. Un dominio puede tener dentro de √©l su propio servidor donde se implementa, grupos, usuarios...

Tambi√©n se pueden tener subdominios que tienen su propio servidor asociado con sus grupos, usuarios...

De esta manera, la gesti√≥n de los usuarios de una red est√° centralizada, ya que los usuarios que pueden iniciar sesi√≥n pueden generarse en este servidor, con los permisos que tienen para saber si pueden acceder a ciertos recursos de la red y as√≠ todo esto se puede controlar de manera sencilla.

De esta manera, se puede consultar el directorio con un nombre de usuario y obtener informaci√≥n como el correo electr√≥nico o el n√∫mero de tel√©fono. Tambi√©n se pueden realizar consultas generales como: ¬ød√≥nde est√°n las impresoras? ¬øCu√°les son los nombres de dominio?
