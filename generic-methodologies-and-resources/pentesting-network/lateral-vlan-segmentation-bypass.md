# Διάβασε το βιβλίο "Χάκερ από το μηδέν" και γίνε ειδικός στο χάκινγκ στο AWS με το htARTE (HackTricks AWS Red Team Expert)!

* Εργάζεσαι σε μια εταιρεία κυβερνοασφάλειας; Θέλεις να δεις την εταιρεία σου να διαφημίζεται στο HackTricks; Ή θέλεις να έχεις πρόσβαση στην τελευταία έκδοση του PEASS ή να κατεβάσεις το HackTricks σε μορφή PDF; Ελέγξτε τα [ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ](https://github.com/sponsors/carlospolop)!
* Ανακαλύψτε [την Οικογένεια PEASS](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [NFTs](https://opensea.io/collection/the-peass-family)
* Αποκτήστε το [επίσημο PEASS & HackTricks swag](https://peass.creator-spring.com)
* Εγγραφείτε στην [💬](https://emojipedia.org/speech-balloon/) [ομάδα Discord](https://discord.gg/hRep4RUj7f) ή στην [ομάδα telegram](https://t.me/peass) ή ακολουθήστε με στο Twitter 🐦[@carlospolopm](https://twitter.com/hacktricks_live).
* Μοιραστείτε τα κόλπα σας στο χάκινγκ υποβάλλοντας PRs στο [αποθετήριο hacktricks](https://github.com/carlospolop/hacktricks) και [αποθετήριο hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud).

</details>

Εάν υπάρχει άμεση πρόσβαση σε ένα switch, μπορεί να παρακαμφθεί η διαχωρισμένη VLAN. Αυτό περιλαμβάνει την αναδιαμόρφωση της συνδεδεμένης θύρας σε λειτουργία trunk, τη δημιουργία εικονικών διεπαφών για τις επιθυμητές VLAN και την ορισμό διευθύνσεων IP, είτε δυναμικά (DHCP) είτε στατικά, ανάλογα με το σενάριο (**για περισσότερες λεπτομέρειες δείτε [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)).**

Αρχικά, απαιτείται η εντοπισμός της συγκεκριμένης συνδεδεμένης θύρας. Αυτό μπορεί συνήθως να επιτευχθεί μέσω μηνυμάτων CDP ή αναζητώντας τη θύρα μέσω της μάσκας **include**.

**Εάν το CDP δεν είναι λειτουργικό, μπορεί να προσπαθηθεί η εντοπισμός της θύρας μέσω της διεύθυνσης MAC**:
```
SW1(config)# show mac address-table | include 0050.0000.0500
```
Πριν από τη μετάβαση σε λειτουργία trunk, πρέπει να συγκεντρωθεί μια λίστα με τις υπάρχουσες VLAN και να προσδιοριστούν οι αναγνωριστικοί τους. Αυτοί οι αναγνωριστικοί αντιστοιχίζονται στη διεπαφή, επιτρέποντας την πρόσβαση σε διάφορες VLAN μέσω του trunk. Για παράδειγμα, η χρησιμοποιούμενη θύρα συσχετίζεται με τη VLAN 10.
```
SW1# show vlan brief
```
**Η μετάβαση στη λειτουργία trunk περιλαμβάνει την είσοδο στη λειτουργία διαμόρφωσης διεπαφής**:
```
SW1(config)# interface GigabitEthernet 0/2
SW1(config-if)# switchport trunk encapsulation dot1q
SW1(config-if)# switchport mode trunk
```
Η μετάβαση στη λειτουργία τροφοδοσίας θα διακόψει προσωρινά τη συνδεσιμότητα, αλλά αυτό μπορεί να αποκατασταθεί αργότερα.

Στη συνέχεια δημιουργούνται εικονικές διεπαφές, ανατίθενται αναγνωριστικά VLAN και ενεργοποιούνται:
```bash
sudo vconfig add eth0 10
sudo vconfig add eth0 20
sudo vconfig add eth0 50
sudo vconfig add eth0 60
sudo ifconfig eth0.10 up
sudo ifconfig eth0.20 up
sudo ifconfig eth0.50 up
sudo ifconfig eth0.60 up
```
Στη συνέχεια, γίνεται μια αίτηση διεύθυνσης μέσω του πρωτοκόλλου DHCP. Εναλλακτικά, σε περιπτώσεις όπου το DHCP δεν είναι εφικτό, οι διευθύνσεις μπορούν να ρυθμιστούν χειροκίνητα:
```bash
sudo dhclient -v eth0.10
sudo dhclient -v eth0.20
sudo dhclient -v eth0.50
sudo dhclient -v eth0.60
```
Παράδειγμα για τη χειροκίνητη ρύθμιση ενός στατικού διεύθυνσης IP σε μια διεπαφή (VLAN 10):

```plaintext
sudo ifconfig eth0.10 192.168.1.100 netmask 255.255.255.0 up
```

Σημείωση: Βεβαιωθείτε ότι η διεπαφή που αναφέρεται (στην περίπτωσή μας, `eth0.10`) είναι η σωστή για την VLAN 10. Επίσης, προσαρμόστε τη διεύθυνση IP (`192.168.1.100`) και τη μάσκα υποδικτύου (`255.255.255.0`) σύμφωνα με τις ανάγκες σας.
```bash
sudo ifconfig eth0.10 10.10.10.66 netmask 255.255.255.0
```
Η συνδεσιμότητα ελέγχεται με την εκκίνηση αιτημάτων ICMP στις προεπιλεγμένες πύλες για τις VLAN 10, 20, 50 και 60.

Τελικά, αυτή η διαδικασία επιτρέπει την παράκαμψη της διαχωριστικής λειτουργίας των VLAN, διευκολύνοντας έτσι την απεριόριστη πρόσβαση σε οποιοδήποτε δίκτυο VLAN και δημιουργώντας τις προϋποθέσεις για επόμενες ενέργειες.

## Αναφορές

* [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)

<details>

<summary><strong>Μάθετε το hacking στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Εργάζεστε σε μια **εταιρεία κυβερνοασφάλειας**; Θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks**; Ή θέλετε να έχετε πρόσβαση στην **τελευταία έκδοση του PEASS ή να κατεβάσετε το HackTricks σε μορφή PDF**; Ελέγξτε τα [**ΠΑΚΕΤΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Ανακαλύψτε την [**Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Συμμετάσχετε** στην [**💬**](https://emojipedia.org/speech-balloon/) [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** με στο **Twitter** 🐦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας στο hacking υποβάλλοντας PRs στο [αποθετήριο hacktricks](https://github.com/carlospolop/hacktricks) και [αποθετήριο hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
