---
description: >-
Esta é a página principal. Aqui você pode encontrar o fluxo de trabalho típico para o pentesting de uma máquina
---

# Metodologia de Pentesting

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* Você trabalha em uma **empresa de segurança cibernética**? Você quer ver sua **empresa anunciada no HackTricks**? ou você quer ter acesso à **última versão do PEASS ou baixar o HackTricks em PDF**? Verifique os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Descubra [**A Família PEASS**](https://opensea.io/collection/the-peass-family), nossa coleção exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Adquira o [**swag oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* **Junte-se ao** [**💬**](https://emojipedia.org/speech-balloon/) [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe seus truques de hacking enviando PRs para o** [**repositório hacktricks**](https://github.com/carlospolop/hacktricks) **e** [**repositório hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="../.gitbook/assets/i3.png" alt=""><figcaption></figcaption></figure>

\
**Dica de bug bounty**: **inscreva-se** no **Intigriti**, uma plataforma premium de **bug bounty criada por hackers, para hackers**! Junte-se a nós em [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) hoje mesmo e comece a ganhar recompensas de até **$100.000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

## Metodologia de Pentesting

<figure><img src="../.gitbook/assets/HACKTRICKS-logo.svg" alt=""><figcaption></figcaption></figure>

_Logos do Hacktricks projetados por_ [_@ppiernacho_](https://www.instagram.com/ppieranacho/)_._

### 0- Ataques Físicos

Você tem **acesso físico** à máquina que deseja atacar? Você deve ler alguns [**truques sobre ataques físicos**](../physical-attacks/physical-attacks.md) e outros sobre [**escapando de aplicativos GUI**](../physical-attacks/escaping-from-gui-applications/).

### 1 - [Descobrindo hosts dentro da rede](pentesting-network/#discovering-hosts)/ [Descobrindo Ativos da empresa](external-recon-methodology/)

**Dependendo** se o **teste** que você está realizando é um **teste interno ou externo**, você pode estar interessado em encontrar **hosts dentro da rede da empresa** (teste interno) ou **encontrar ativos da empresa na internet** (teste externo).

{% hint style="info" %}
Observe que se você estiver realizando um teste externo e conseguir acessar a rede interna da empresa, você deve reiniciar este guia.
{% endhint %}

### **2-** [**Diversão com a rede**](pentesting-network/) **(Interno)**

**Esta seção se aplica apenas se você estiver realizando um teste interno.**\
Antes de atacar um host, talvez você prefira **roubar algumas credenciais** **da rede** ou **capturar** alguns **dados** para aprender **passivamente/ativamente(MitM)** o que você pode encontrar dentro da rede. Você pode ler [**Pentesting Network**](pentesting-network/#sniffing).

### 3- [Varredura de Portas - Descoberta de Serviços](pentesting-network/#scanning-hosts)

A primeira coisa a fazer ao **procurar vulnerabilidades em um host** é saber quais **serviços estão em execução** em quais portas. Vamos ver as [**ferramentas básicas para escanear portas de hosts**](pentesting-network/#scanning-hosts).

### **4-** [Pesquisando exploits de versões de serviço](search-exploits.md)

Depois de saber quais serviços estão em execução e talvez sua versão, você precisa **procurar por vulnerabilidades conhecidas**. Talvez você tenha sorte e encontre um exploit para obter um shell...

### **5-** Pentesting de Serviços

Se não houver nenhum exploit interessante para nenhum serviço em execução, você deve procurar **configurações incorretas comuns em cada serviço em execução**.

**Dentro deste livro, você encontrará um guia para pentestear os serviços mais comuns** (e outros que não são tão comuns)**. Por favor, procure no índice à esquerda a seção** _**PENTESTING**_ **(os serviços estão ordenados por suas portas padrão).**

**Quero fazer uma menção especial à parte de** [**Pentesting Web**](../network-services-pentesting/pentesting-web/) **(pois é a mais extensa).**\
Além disso, um pequeno guia sobre como [**encontrar vulnerabilidades conhecidas em software**](search-exploits.md) pode ser encontrado aqui.

**Se o seu serviço não estiver no índice, pesquise no Google** por outros tutoriais e **me avise se você quiser que eu adicione.** Se você **não encontrar nada** no Google, faça seu **próprio pentesting às cegas**, você pode começar **conectando-se ao serviço, fuzzing e lendo as respostas** (se houver).

#### 5.1 Ferramentas Automáticas

Também existem várias ferramentas que podem realizar **avaliações automáticas de vulnerabilidades**. **Eu recomendaria que você experimentasse** [**Legion**](https://github.com/carlospolop/legion)**, que é a ferramenta que eu criei e é baseada nas anotações sobre pentesting de serviços que você pode encontrar neste livro.**
#### **5.2 Forçando serviços**

Em alguns cenários, um **Ataque de Força Bruta** pode ser útil para **comprometer** um **serviço**. [**Encontre aqui uma lista de diferentes serviços para forçar**](brute-force.md)**.**

<img src="../.gitbook/assets/i3.png" alt="" data-size="original">\
**Dica de recompensa por bugs**: **inscreva-se** no **Intigriti**, uma plataforma premium de **recompensa por bugs criada por hackers, para hackers**! Junte-se a nós em [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) hoje mesmo e comece a ganhar recompensas de até **$100.000**!\\

{% embed url="https://go.intigriti.com/hacktricks" %}

### 6- [Phishing](phishing-methodology/)

Se até este ponto você não encontrou nenhuma vulnerabilidade interessante, **talvez seja necessário tentar algum phishing** para entrar na rede. Você pode ler minha metodologia de phishing [aqui](phishing-methodology/):

### **7-** [**Obtendo Shell**](shells/)

De alguma forma, você deve ter encontrado **alguma maneira de executar código** na vítima. Em seguida, [uma lista de ferramentas possíveis dentro do sistema que você pode usar para obter um shell reverso seria muito útil](shells/).

Especialmente no Windows, você pode precisar de alguma ajuda para **evitar antivírus**: [**Confira esta página**](../windows-hardening/av-bypass.md)**.**\\

### 8- Interno

Se você está tendo problemas com o shell, aqui você encontrará uma pequena **compilação dos comandos mais úteis** para pentesters:

* [**Linux**](../linux-hardening/useful-linux-commands/)
* [**Windows (CMD)**](../windows-hardening/basic-cmd-for-pentesters.md)
* [**Windows (PS)**](../windows-hardening/basic-powershell-for-pentesters/)

### **9 -** [**Exfiltração**](exfiltration.md)

Provavelmente você precisará **extrair alguns dados da vítima** ou até mesmo **inserir algo** (como scripts de escalonamento de privilégios). **Aqui você tem um** [**post sobre ferramentas comuns que você pode usar com esses propósitos**](exfiltration.md)**.**

### **10- Escalonamento de Privilégios**

#### **10.1- Escalonamento Local**

Se você **não é root/Administrador** dentro do sistema, você deve encontrar uma maneira de **escalar privilégios**.\
Aqui você pode encontrar um **guia para escalar privilégios localmente no** [**Linux**](../linux-hardening/privilege-escalation/) **e no** [**Windows**](../windows-hardening/windows-local-privilege-escalation/)**.**\
Você também deve verificar estas páginas sobre como o **Windows funciona**:

* [**Autenticação, Credenciais, Privilégios de Token e UAC**](../windows-hardening/authentication-credentials-uac-and-efs.md)
* Como o [**NTLM funciona**](../windows-hardening/ntlm/)
* Como [**roubar credenciais**](broken-reference/) no Windows
* Alguns truques sobre [_**Active Directory**_](../windows-hardening/active-directory-methodology/)

**Não se esqueça de conferir as melhores ferramentas para enumerar caminhos de escalonamento de privilégios locais do Windows e Linux:** [**Suite PEAS**](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite)

#### **10.2- Escalonamento de Domínio**

Aqui você pode encontrar uma [**metodologia explicando as ações mais comuns para enumerar, escalar privilégios e persistir em um Active Directory**](../windows-hardening/active-directory-methodology/). Mesmo que esta seja apenas uma subseção de uma seção, esse processo pode ser **extremamente delicado** em uma atribuição de Pentesting/Red Team.

### 11 - POST

#### **11**.1 - Saqueando

Verifique se você pode encontrar mais **senhas** dentro do host ou se tem **acesso a outras máquinas** com os **privilégios** do seu **usuário**.\
Encontre aqui diferentes maneiras de [**extrair senhas no Windows**](broken-reference/).

#### 11.2 - Persistência

**Use 2 ou 3 tipos diferentes de mecanismos de persistência para não precisar explorar o sistema novamente.**\
**Aqui você pode encontrar alguns** [**truques de persistência no Active Directory**](../windows-hardening/active-directory-methodology/#persistence)**.**

TODO: Completar o Post de persistência no Windows e Linux&#x20;

### 12 - Pivoting

Com as **credenciais coletadas**, você pode ter acesso a outras máquinas, ou talvez precise **descobrir e escanear novos hosts** (iniciar a Metodologia de Pentesting novamente) em novas redes onde sua vítima está conectada.\
Nesse caso, o tunelamento pode ser necessário. Aqui você pode encontrar [**um post sobre tunelamento**](tunneling-and-port-forwarding.md).\
Você definitivamente também deve conferir o post sobre [Metodologia de Pentesting do Active Directory](../windows-hardening/active-directory-methodology/). Lá você encontrará truques legais para se mover lateralmente, escalar privilégios e extrair credenciais.\
Confira também a página sobre [**NTLM**](../windows-hardening/ntlm/), pode ser muito útil para pivotar em ambientes Windows..

### MAIS

#### [Aplicativos Android](../mobile-pentesting/android-app-pentesting/)

#### **Explorando**

* [**Exploração Básica do Linux**](../exploiting/linux-exploiting-basic-esp/)
* [**Exploração Básica do Windows**](../exploiting/windows-exploiting-basic-guide-oscp-lvl.md)
* [**Ferramentas Básicas de Exploração**](../exploiting/tools/)

#### [**Python Básico**](python/)

#### **Truques de Criptografia**

* [**ECB**](../cryptography/electronic-code-book-ecb.md)
* [**CBC-MAC**](../cryptography/cipher-block-chaining-cbc-mac-priv.md)
* [**Padding Oracle**](../cryptography/padding-oracle-priv.md)

<img src="../.gitbook/assets/i3.png" alt="" data-size="original">\
**Dica de recompensa por bugs**: **inscreva-se** no **Intigriti**, uma plataforma premium de **recompensa por bugs criada por hackers, para hackers**! Junte-se a nós em [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) hoje mesmo e comece a ganhar recompensas de até **$100.000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>☁️ HackTricks Cloud ☁️</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>🐦 Twitter 🐦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>🎙️ Twitch 🎙️</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>🎥 Youtube 🎥</strong></a></summary>

* Você trabalha em uma **empresa de segurança cibernética**? Você quer ver sua **empresa anunciada no HackTricks**? Ou você quer ter acesso à **última versão do PEASS ou baixar o HackTricks em PDF**? Confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Descubra [**A Família PEASS**](https://opensea.io/collection/the-peass-family), nossa coleção exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)
* **Junte-se ao** [**💬**](https://emojipedia.org/speech-balloon/) [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do Telegram**](https://t.me/peass) ou **siga-me no Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe suas técnicas de hacking enviando PRs para o** [**repositório hacktricks**](https://github.com/carlospolop/hacktricks) **e o** [**repositório hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
