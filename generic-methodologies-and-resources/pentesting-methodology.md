---
description: >-
Esta es la p√°gina principal. Aqu√≠ puedes encontrar el flujo de trabajo t√≠pico para la prueba de penetraci√≥n de una m√°quina
---

# Metodolog√≠a de Prueba de Penetraci√≥n

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* ¬øTrabajas en una **empresa de ciberseguridad**? ¬øQuieres ver tu **empresa anunciada en HackTricks**? ¬øO quieres tener acceso a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF**? ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obt√©n el [**swag oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* **√önete al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Comparte tus trucos de hacking enviando PRs al** [**repositorio de hacktricks**](https://github.com/carlospolop/hacktricks) **y al** [**repositorio de hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="../.gitbook/assets/i3.png" alt=""><figcaption></figcaption></figure>

\
**Consejo de recompensa por errores**: **reg√≠strate** en **Intigriti**, una plataforma premium de **recompensas por errores creada por hackers, para hackers**. √önete a nosotros en [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) hoy mismo y comienza a ganar recompensas de hasta **$100,000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

## Metodolog√≠a de Prueba de Penetraci√≥n

<figure><img src="../.gitbook/assets/HACKTRICKS-logo.svg" alt=""><figcaption></figcaption></figure>

_Logos de Hacktricks dise√±ados por_ [_@ppiernacho_](https://www.instagram.com/ppieranacho/)_._

### 0- Ataques F√≠sicos

¬øTienes **acceso f√≠sico** a la m√°quina que quieres atacar? Deber√≠as leer algunos [**trucos sobre ataques f√≠sicos**](../physical-attacks/physical-attacks.md) y otros sobre [**escapar de aplicaciones GUI**](../physical-attacks/escaping-from-gui-applications/).

### 1 - [Descubriendo hosts dentro de la red](pentesting-network/#discovering-hosts)/ [Descubriendo activos de la empresa](external-recon-methodology/)

**Dependiendo** de si la **prueba** que est√°s realizando es una **prueba interna o externa**, es posible que est√©s interesado en encontrar **hosts dentro de la red de la empresa** (prueba interna) o **encontrar activos de la empresa en Internet** (prueba externa).

{% hint style="info" %}
Ten en cuenta que si est√°s realizando una prueba externa, una vez que logres obtener acceso a la red interna de la empresa, debes reiniciar esta gu√≠a.
{% endhint %}

### **2-** [**Divi√©rtete con la red**](pentesting-network/) **(Interno)**

**Esta secci√≥n solo se aplica si est√°s realizando una prueba interna.**\
Antes de atacar un host, tal vez prefieras **robar algunas credenciales** **de la red** o **espiar** algunos **datos** para aprender de forma **pasiva/activa (MitM)** lo que puedes encontrar dentro de la red. Puedes leer [**Pentesting Network**](pentesting-network/#sniffing).

### 3- [Escaneo de puertos - Descubrimiento de servicios](pentesting-network/#scanning-hosts)

Lo primero que debes hacer al **buscar vulnerabilidades en un host** es saber qu√© **servicios se est√°n ejecutando** en qu√© puertos. Veamos las [**herramientas b√°sicas para escanear puertos de hosts**](pentesting-network/#scanning-hosts).

### **4-** [Buscar exploits de versiones de servicios](search-exploits.md)

Una vez que sepas qu√© servicios se est√°n ejecutando, y tal vez su versi√≥n, debes **buscar vulnerabilidades conocidas**. Tal vez tengas suerte y haya un exploit que te d√© una shell...

### **5-** Prueba de Penetraci√≥n de Servicios

Si no hay ning√∫n exploit interesante para ning√∫n servicio en ejecuci√≥n, debes buscar **configuraciones incorrectas comunes en cada servicio en ejecuci√≥n**.

**Dentro de este libro encontrar√°s una gu√≠a para probar los servicios m√°s comunes** (y otros que no son tan comunes)**. Por favor, busca en el √≠ndice izquierdo la secci√≥n** _**PENTESTING**_ **(los servicios est√°n ordenados por sus puertos predeterminados).**

**Quiero hacer una menci√≥n especial de la** [**parte de Pentesting Web**](../network-services-pentesting/pentesting-web/) **(ya que es la m√°s extensa).**\
Tambi√©n se puede encontrar una peque√±a gu√≠a sobre c√≥mo [**encontrar vulnerabilidades conocidas en software**](search-exploits.md) aqu√≠.

**Si tu servicio no est√° en el √≠ndice, busca en Google** otros tutoriales y **hazme saber si quieres que lo agregue**. Si **no puedes encontrar nada** en Google, realiza tu **propia prueba de penetraci√≥n a ciegas**, podr√≠as comenzar **conect√°ndote al servicio, fuzzing y leyendo las respuestas** (si las hay).

#### 5.1 Herramientas Autom√°ticas

Tambi√©n hay varias herramientas que pueden realizar **evaluaciones autom√°ticas de vulnerabilidades**. **Te recomendar√≠a que pruebes** [**Legion**](https://github.com/carlospolop/legion)**, que es la herramienta que he creado y se basa en las notas sobre pruebas de penetraci√≥n de servicios que puedes encontrar en este libro.**
#### **5.2 Fuerza bruta de servicios**

En algunos escenarios, la **fuerza bruta** puede ser √∫til para **comprometer** un **servicio**. [**Encuentra aqu√≠ una hoja de trucos de fuerza bruta para diferentes servicios**](brute-force.md)**.**

<img src="../.gitbook/assets/i3.png" alt="" data-size="original">\
**Consejo de recompensa por errores**: ¬°**reg√≠strate** en **Intigriti**, una plataforma premium de **recompensas por errores creada por hackers, para hackers**! ¬°√önete a nosotros en [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) hoy mismo y comienza a ganar recompensas de hasta **$100,000**!\\

{% embed url="https://go.intigriti.com/hacktricks" %}

### 6- [Phishing](phishing-methodology/)

Si en este punto no has encontrado ninguna vulnerabilidad interesante, **puede que necesites probar algo de phishing** para ingresar a la red. Puedes leer mi metodolog√≠a de phishing [aqu√≠](phishing-methodology/):

### **7-** [**Obtener Shell**](shells/)

De alguna manera, deber√≠as haber encontrado **alguna forma de ejecutar c√≥digo** en la v√≠ctima. Luego, [una lista de posibles herramientas dentro del sistema que puedes usar para obtener una shell inversa ser√≠a muy √∫til](shells/).

Especialmente en Windows, podr√≠as necesitar ayuda para **evitar los antivirus**: [**Consulta esta p√°gina**](../windows-hardening/av-bypass.md)**.**\\

### 8- Interior

Si tienes problemas con la shell, aqu√≠ puedes encontrar una peque√±a **recopilaci√≥n de los comandos m√°s √∫tiles** para pentesters:

* [**Linux**](../linux-hardening/useful-linux-commands/)
* [**Windows (CMD)**](../windows-hardening/basic-cmd-for-pentesters.md)
* [**Windows (PS)**](../windows-hardening/basic-powershell-for-pentesters/)

### **9 -** [**Exfiltraci√≥n**](exfiltration.md)

Probablemente necesitar√°s **extraer algunos datos de la v√≠ctima** o incluso **introducir algo** (como scripts de escalada de privilegios). **Aqu√≠ tienes un** [**post sobre herramientas comunes que puedes usar con estos prop√≥sitos**](exfiltration.md)**.**

### **10- Escalada de privilegios**

#### **10.1- Escalada de privilegios local**

Si no eres **root/Administrador** dentro del sistema, debes encontrar una forma de **elevar privilegios**.\
Aqu√≠ puedes encontrar una **gu√≠a para elevar privilegios localmente en** [**Linux**](../linux-hardening/privilege-escalation/) **y en** [**Windows**](../windows-hardening/windows-local-privilege-escalation/)**.**\
Tambi√©n debes consultar estas p√°ginas sobre c√≥mo funciona **Windows**:

* [**Autenticaci√≥n, credenciales, privilegios de token y UAC**](../windows-hardening/authentication-credentials-uac-and-efs.md)
* C√≥mo funciona [**NTLM**](../windows-hardening/ntlm/)
* C√≥mo [**robar credenciales**](broken-reference/) en Windows
* Algunos trucos sobre [_**Active Directory**_](../windows-hardening/active-directory-methodology/)

**No olvides consultar las mejores herramientas para enumerar las rutas de escalada de privilegios locales en Windows y Linux:** [**Suite PEAS**](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite)

#### **10.2- Escalada de privilegios de dominio**

Aqu√≠ puedes encontrar una [**metodolog√≠a que explica las acciones m√°s comunes para enumerar, elevar privilegios y persistir en un Active Directory**](../windows-hardening/active-directory-methodology/). Aunque esto sea solo una subsecci√≥n de una secci√≥n, este proceso puede ser **extremadamente delicado** en una asignaci√≥n de Pentesting/Red Team.

### 11 - POST

#### **11**.1 - Saqueo

Verifica si puedes encontrar m√°s **contrase√±as** dentro del host o si tienes **acceso a otras m√°quinas** con los **privilegios** de tu **usuario**.\
Encuentra aqu√≠ diferentes formas de [**extraer contrase√±as en Windows**](broken-reference/).

#### 11.2 - Persistencia

**Utiliza 2 o 3 tipos diferentes de mecanismos de persistencia para no tener que explotar el sistema nuevamente.**\
**Aqu√≠ puedes encontrar algunos** [**trucos de persistencia en Active Directory**](../windows-hardening/active-directory-methodology/#persistence)**.**

TODO: Completar el post de persistencia en Windows y Linux&#x20;

### 12 - Pivoteo

Con las **credenciales recopiladas**, podr√≠as tener acceso a otras m√°quinas, o tal vez necesites **descubrir y escanear nuevos hosts** (comenzar de nuevo la metodolog√≠a de Pentesting) dentro de nuevas redes a las que est√° conectada tu v√≠ctima.\
En este caso, el t√∫nel puede ser necesario. Aqu√≠ puedes encontrar [**un post sobre el t√∫nel**](tunneling-and-port-forwarding.md).\
Definitivamente, tambi√©n debes consultar el post sobre [Metodolog√≠a de pentesting de Active Directory](../windows-hardening/active-directory-methodology/). All√≠ encontrar√°s trucos geniales para moverte lateralmente, elevar privilegios y extraer credenciales.\
Tambi√©n consulta la p√°gina sobre [**NTLM**](../windows-hardening/ntlm/), puede ser muy √∫til para pivotar en entornos de Windows..

### M√ÅS

#### [Aplicaciones de Android](../mobile-pentesting/android-app-pentesting/)

#### **Explotaci√≥n**

* [**Explotaci√≥n b√°sica de Linux**](../exploiting/linux-exploiting-basic-esp/)
* [**Explotaci√≥n b√°sica de Windows**](../exploiting/windows-exploiting-basic-guide-oscp-lvl.md)
* [**Herramientas b√°sicas de explotaci√≥n**](../exploiting/tools/)

#### [**Python b√°sico**](python/)

#### **Trucos de criptograf√≠a**

* [**ECB**](../cryptography/electronic-code-book-ecb.md)
* [**CBC-MAC**](../cryptography/cipher-block-chaining-cbc-mac-priv.md)
* [**Padding Oracle**](../cryptography/padding-oracle-priv.md)

<img src="../.gitbook/assets/i3.png" alt="" data-size="original">\
**Consejo de recompensa por errores**: ¬°**reg√≠strate** en **Intigriti**, una plataforma premium de **recompensas por errores creada por hackers, para hackers**! ¬°√önete a nosotros en [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) hoy mismo y comienza a ganar recompensas de hasta **$100,000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

* ¬øTrabajas en una **empresa de ciberseguridad**? ¬øQuieres ver tu **empresa anunciada en HackTricks**? ¬øO quieres tener acceso a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF**? ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Obt√©n el [**swag oficial de PEASS y HackTricks**](https://peass.creator-spring.com)
* **√önete al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Comparte tus trucos de hacking enviando PRs al** [**repositorio de hacktricks**](https://github.com/carlospolop/hacktricks) **y al** [**repositorio de hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).
