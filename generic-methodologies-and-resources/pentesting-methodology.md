# Metodologia di Pentesting

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata in HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT**](https://opensea.io/collection/the-peass-family) esclusivi
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR** ai repository di [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github.

</details>

<figure><img src="../.gitbook/assets/i3.png" alt=""><figcaption></figcaption></figure>

\
**Suggerimento per il bug bounty**: **iscriviti** a **Intigriti**, una **piattaforma premium di bug bounty creata da hacker, per hacker**! Unisciti a noi su [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) oggi stesso e inizia a guadagnare ricompense fino a **$100,000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

## Metodologia di Pentesting

<figure><img src="../.gitbook/assets/HACKTRICKS-logo.svg" alt=""><figcaption></figcaption></figure>

_Loghi di Hacktricks progettati da_ [_@ppiernacho_](https://www.instagram.com/ppieranacho/)_._

### 0- Attacchi Fisici

Hai **accesso fisico** alla macchina che vuoi attaccare? Dovresti leggere alcuni [**trucchi sugli attacchi fisici**](../physical-attacks/physical-attacks.md) e altri su [**come sfuggire dalle applicazioni GUI**](../physical-attacks/escaping-from-gui-applications/).

### 1 - [Scoprire gli host all'interno della rete](pentesting-network/#discovering-hosts)/ [Scoprire le risorse dell'azienda](external-recon-methodology/)

**A seconda** se il **test** che stai eseguendo √® un **test interno o esterno**, potresti essere interessato a trovare **host all'interno della rete aziendale** (test interno) o a **trovare risorse dell'azienda su Internet** (test esterno).

{% hint style="info" %}
Nota che se stai eseguendo un test esterno, una volta che riesci ad ottenere l'accesso alla rete interna dell'azienda dovresti riavviare questa guida.
{% endhint %}

### **2-** [**Divertiti con la rete**](pentesting-network/) **(Interno)**

**Questa sezione si applica solo se stai eseguendo un test interno.**\
Prima di attaccare un host potresti preferire **rubare alcune credenziali** **dalla rete** o **sniffare** alcuni **dati** per apprendere **passivamente/attivamente(MitM)** cosa puoi trovare all'interno della rete. Puoi leggere [**Pentesting Network**](pentesting-network/#sniffing).

### 3- [Scansione delle porte - Scoperta dei servizi](pentesting-network/#scanning-hosts)

La prima cosa da fare quando **cerchi vulnerabilit√† in un host** √® sapere quali **servizi sono in esecuzione** su quali porte. Vediamo gli [**strumenti di base per scansionare le porte degli host**](pentesting-network/#scanning-hosts).

### **4-** [Ricerca di exploit delle versioni dei servizi](search-exploits.md)

Una volta che sai quali servizi sono in esecuzione, e forse la loro versione, devi **ricercare vulnerabilit√† conosciute**. Forse hai fortuna e c'√® un exploit che ti permette di ottenere una shell...

### **5-** Pentesting dei Servizi

Se non c'√® alcun exploit interessante per un servizio in esecuzione, dovresti cercare **comuni configurazioni errate in ogni servizio in esecuzione**.

**All'interno di questo libro troverai una guida per il pentesting dei servizi pi√π comuni** (e altri meno comuni)**. Per favore, cerca nell'indice a sinistra la sezione** _**PENTESTING**_ **(i servizi sono ordinati in base alle loro porte predefinite).**

**Voglio fare una menzione speciale alla** [**Pentesting Web**](../network-services-pentesting/pentesting-web/) **(poich√© √® la pi√π estesa).**\
Inoltre, puoi trovare una piccola guida su [**come trovare vulnerabilit√† conosciute nel software**](search-exploits.md) qui.

**Se il tuo servizio non √® nell'indice, cerca su Google** altri tutorial e **fammi sapere se vuoi che lo aggiunga**. Se **non riesci a trovare nulla** su Google, esegui il tuo **pentesting cieco**, potresti iniziare **connetendoti al servizio, fuzzing e leggendo le risposte** (se presenti).

#### 5.1 Strumenti Automatici

Ci sono anche diversi strumenti che possono eseguire **valutazioni automatiche delle vulnerabilit√†**. **Ti consiglierei di provare** [**Legion**](https://github.com/carlospolop/legion)**, che √® lo strumento che ho creato ed √® basato sulle note sul pentesting dei servizi che puoi trovare in questo libro.**

#### **5.2 Brute-Force dei servizi**

In alcuni scenari un **Brute-Force** potrebbe essere utile per **compromettere** un **servizio**. [**Trova qui una CheatSheet per il Brute-Force di diversi servizi**](brute-force.md)**.**

<img src="../.gitbook/assets/i3.png" alt="" data-size="original">\
**Suggerimento per il bug bounty**: **iscriviti** a **Intigriti**, una **piattaforma premium di bug bounty creata da hacker, per hacker**! Unisciti a noi su [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) oggi stesso e inizia a guadagnare ricompense fino a **$100,000**!\\

{% embed url="https://go.intigriti.com/hacktricks" %}

### 6- [Phishing](phishing-methodology/)

Se a questo punto non hai trovato alcuna vulnerabilit√† interessante, **potresti aver bisogno di provare qualche phishing** per entrare nella rete. Puoi leggere la mia metodologia di phishing [qui](phishing-methodology/):

### **7-** [**Ottenere una Shell**](shells/)

In qualche modo dovresti aver trovato **un modo per eseguire del codice** sulla vittima. Quindi, [una lista di possibili strumenti all'interno del sistema che puoi usare per ottenere una shell inversa sarebbe molto utile](shells/).

In particolare su Windows potresti aver bisogno di aiuto per **evitare gli antivirus**: [**Controlla questa pagina**](../windows-hardening/av-bypass.md)**.**\\

### 8- All'interno

Se hai problemi con la shell, puoi trovare qui una piccola **raccolta dei comandi pi√π utili** per i pentester:

* [**Linux**](../linux-hardening/useful-linux-commands/)
* [**Windows (CMD)**](../windows-hardening/basic-cmd-for-pentesters.md)
* [**Winodows (PS)**](../windows-hardening/basic-powershell-for-pentesters/)
### **9 -** [**Esfiltrazione**](exfiltration.md)

Probabilmente avrai bisogno di **estrarre alcuni dati dalla vittima** o addirittura **introdurre qualcosa** (come script di escalation dei privilegi). **Qui hai un** [**post su strumenti comuni che puoi utilizzare a questi scopi**](exfiltration.md)**.**

### **10- Escalation dei privilegi**

#### **10.1- Privesc locale**

Se non sei **root/Administrator** all'interno della macchina, dovresti trovare un modo per **aumentare i privilegi**.\
Qui puoi trovare una **guida per aumentare i privilegi localmente in** [**Linux**](../linux-hardening/privilege-escalation/) **e in** [**Windows**](../windows-hardening/windows-local-privilege-escalation/)**.**\
Dovresti anche controllare queste pagine su come funziona **Windows**:

* [**Autenticazione, credenziali, privilegi del token e UAC**](../windows-hardening/authentication-credentials-uac-and-efs.md)
* Come funziona [**NTLM**](../windows-hardening/ntlm/)
* Come [**rubare credenziali**](broken-reference/) in Windows
* Alcuni trucchi su [_**Active Directory**_](../windows-hardening/active-directory-methodology/)

**Non dimenticare di controllare gli strumenti migliori per enumerare i percorsi di escalation dei privilegi locali di Windows e Linux:** [**Suite PEAS**](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite)

#### **10.2- Privesc di dominio**

Qui puoi trovare una [**metodologia che spiega le azioni pi√π comuni per enumerare, aumentare i privilegi e persistere su un Active Directory**](../windows-hardening/active-directory-methodology/). Anche se questa √® solo una sottosezione di una sezione, questo processo potrebbe essere **estremamente delicato** in un incarico di Pentesting/Red Team.

### 11 - POST

#### **11**.1 - Saccheggio

Verifica se puoi trovare altre **password** all'interno dell'host o se hai **accesso ad altre macchine** con i **privilegi** del tuo **utente**.\
Trova qui diversi modi per [**dumpare le password in Windows**](broken-reference/).

#### 11.2 - Persistenza

**Utilizza 2 o 3 tipi diversi di meccanismi di persistenza in modo da non dover sfruttare nuovamente il sistema.**\
**Qui puoi trovare alcuni** [**trucchi di persistenza su Active Directory**](../windows-hardening/active-directory-methodology/#persistence)**.**

TODO: Completare il post sulla persistenza in Windows e Linux&#x20;

### 12 - Pivoting

Con le **credenziali raccolte** potresti avere accesso ad altre macchine, o forse devi **scoprire e scansionare nuovi host** (avviare nuovamente la metodologia di Pentesting) all'interno di nuove reti a cui √® connessa la tua vittima.\
In questo caso potrebbe essere necessario il tunneling. Qui puoi trovare [**un post che parla di tunneling**](tunneling-and-port-forwarding.md).\
Dovresti sicuramente controllare anche il post sulla [Metodologia di pentesting di Active Directory](../windows-hardening/active-directory-methodology/). Troverai trucchi interessanti per muoverti lateralmente, aumentare i privilegi e dumpare le credenziali.\
Controlla anche la pagina su [**NTLM**](../windows-hardening/ntlm/), potrebbe essere molto utile per pivotare su ambienti Windows..

### ALTRO

#### [Applicazioni Android](../mobile-pentesting/android-app-pentesting/)

#### **Sfruttamento**

* [**Sfruttamento di base di Linux**](../exploiting/linux-exploiting-basic-esp/)
* [**Sfruttamento di base di Windows**](../exploiting/windows-exploiting-basic-guide-oscp-lvl.md)
* [**Strumenti di sfruttamento di base**](../exploiting/tools/)

#### [**Python di base**](python/)

#### **Trucchi di crittografia**

* [**ECB**](../cryptography/electronic-code-book-ecb.md)
* [**CBC-MAC**](../cryptography/cipher-block-chaining-cbc-mac-priv.md)
* [**Padding Oracle**](../cryptography/padding-oracle-priv.md)

<img src="../.gitbook/assets/i3.png" alt="" data-size="original">\
**Consiglio per bug bounty**: **iscriviti** a **Intigriti**, una piattaforma premium per **bug bounty creata da hacker, per hacker**! Unisciti a noi su [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) oggi stesso e inizia a guadagnare taglie fino a **$100,000**!

{% embed url="https://go.intigriti.com/hacktricks" %}

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata in HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di esclusive [**NFT**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository github di** [**HackTricks**](https://github.com/carlospolop/hacktricks) **e** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
