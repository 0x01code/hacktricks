# рдбреЛрдореЗрди/рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ.

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics\&utm_medium=banner\&utm_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рд╡рд░реНрдХрдлреНрд▓реЛ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдирд╛рдПрдВ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░реЗрдВ**.\
рдЖрдЬ рд╣реА рдПрдХреНрд╕реЗрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## рдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░

рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА рдбреЛрдореЗрди (domain.tld) рдХреА рдЦреЛрдЬ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ **рдХрд┐рд╕реА рд╕реЗрд╡рд╛ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИ рдЬреЛ рд╕реНрдХреЛрдк рдХреЗ рдЕрдВрджрд░ рд╣реИ** рд▓реЗрдХрд┐рди **рдХрдВрдкрдиреА** рдиреЗ рдЗрд╕рдХрд╛ **рдорд╛рд▓рд┐рдХрд╛рдирд╛ рд╣рдХ** рдЦреЛ рджрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕реЗ **рд░рдЬрд┐рд╕реНрдЯрд░** рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдпрджрд┐ рдкрд░реНрдпрд╛рдкреНрдд рд╕рд╕реНрддрд╛ рд╣реЛ) рдФрд░ рдХрдВрдкрдиреА рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ рдпрд╣ рдбреЛрдореЗрди рдХрд┐рд╕реА **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд░рд╣рд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рд╕рддреНрд░ рдХреБрдХреА **GET** рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдпрд╛ **Referer** рд╣реЗрдбрд░ рдореЗрдВ, рддреЛ рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдПрдХ **рднреЗрджреНрдпрддрд╛** рд╣реИред

### рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░

рдХрдВрдкрдиреА рдХрд╛ рдПрдХ рд╕рдмрдбреЛрдореЗрди рдХрд┐рд╕реА **рддреГрддреАрдп-рдкрдХреНрд╖ рд╕реЗрд╡рд╛ рдХреА рдУрд░ рдЗрд╢рд╛рд░рд╛ рдХрд░ рд░рд╣рд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдирд╛рдо рдкрдВрдЬреАрдХреГрдд рдирд╣реАрдВ рд╣реИ**ред рдпрджрд┐ рдЖрдк рдЗрд╕ **рддреГрддреАрдп-рдкрдХреНрд╖ рд╕реЗрд╡рд╛** рдореЗрдВ рдПрдХ **рдЦрд╛рддрд╛ рдмрдирд╛** рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ **рдирд╛рдо рдХреЛ рдкрдВрдЬреАрдХреГрдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рд╕рдВрднрд╛рд╡рд┐рдд рдЯреЗрдХрдУрд╡рд░реНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдХрдИ рдЙрдкрдХрд░рдг рдФрд░ рд╢рдмреНрджрдХреЛрд╢ рд╣реИрдВ:

* [https://github.com/EdOverflow/can-i-take-over-xyz](https://github.com/EdOverflow/can-i-take-over-xyz)
* [https://github.com/blacklanternsecurity/bbot](https://github.com/blacklanternsecurity/bbot)
* [https://github.com/punk-security/dnsReaper](https://github.com/punk-security/dnsReaper)
* [https://github.com/haccer/subjack](https://github.com/haccer/subjack)
* [https://github.com/anshumanbh/tko-subs](https://github.com/anshumanbh/tko-subs)
* [https://github.com/ArifulProtik/sub-domain-takeover](https://github.com/ArifulProtik/sub-domain-takeover)
* [https://github.com/SaadAhmedx/Subdomain-Takeover](https://github.com/SaadAhmedx/Subdomain-Takeover)
* [https://github.com/Ice3man543/SubOver](https://github.com/Ice3man543/SubOver)
* [https://github.com/m4ll0k/takeover](https://github.com/m4ll0k/takeover)
* [https://github.com/antichown/subdomain-takeover](https://github.com/antichown/subdomain-takeover)
* [https://github.com/musana/mx-takeover](https://github.com/musana/mx-takeover)

#### [BBOT](https://github.com/blacklanternsecurity/bbot) рдХреЗ рд╕рд╛рде Hijackable рд╕рдмрдбреЛрдореЗрдиреНрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрдХреИрдирд┐рдВрдЧ:

рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рдЬрд╛рдВрдЪ BBOT рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдмрдбреЛрдореЗрди рдПрдиреНрдпреВрдорд░реЗрд╢рди рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рд╕рд┐рдЧреНрдиреЗрдЪрд░ рд╕реАрдзреЗ [https://github.com/EdOverflow/can-i-take-over-xyz](https://github.com/EdOverflow/can-i-take-over-xyz) рд╕реЗ рд▓рд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред
```bash
bbot -t evilcorp.com -f subdomain-enum
```
### DNS Wildcard рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ Subdomain Takeover рдЬрдирд░реЗрд╢рди

рдЬрдм рдХрд┐рд╕реА рдбреЛрдореЗрди рдореЗрдВ DNS wildcard рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрд╕ рдбреЛрдореЗрди рдХрд╛ рдХреЛрдИ рднреА рдЕрдиреБрд░реЛрдзрд┐рдд subdomain рдЬрд┐рд╕рдХрд╛ рдЕрд▓рдЧ рд╕реЗ рдкрддрд╛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ рд╣реИ, **рдПрдХ рд╣реА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╣рд▓ рдХрд░реЗрдЧрд╛**ред рдпрд╣ A ip рдкрддрд╛, CNAME рд╣реЛ рд╕рдХрддрд╛ рд╣реИ...

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЕрдЧрд░ `*.testing.com` рдХреЛ `1.1.1.1` рдкрд░ wilcarded рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рддреЛ, `not-existent.testing.com` `1.1.1.1` рдкрд░ pointing рд╣реЛрдЧрд╛ред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдЧрд░ IP рдкрддреЗ рдХреА рдмрдЬрд╛рдп, sysadmin рдЗрд╕реЗ **CNAME рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рддреГрддреАрдп рдкрдХреНрд╖ рд╕реЗрд╡рд╛ рдкрд░ point рдХрд░рддрд╛ рд╣реИ**, рдЬреИрд╕реЗ рдХрд┐ **github subdomain** рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП (`sohomdatta1.github.io`). рдПрдХ рд╣рдорд▓рд╛рд╡рд░ **рдЕрдкрдирд╛ рдЦреБрдж рдХрд╛ рддреГрддреАрдп рдкрдХреНрд╖ рдкреЗрдЬ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ** (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ Gihub рдореЗрдВ) рдФрд░ рдХрд╣ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ `something.testing.com` рд╡рд╣рд╛рдВ pointing рд╣реИред рдХреНрдпреЛрдВрдХрд┐, **CNAME wildcard** рд╕рд╣рдордд рд╣реЛрдЧрд╛ рд╣рдорд▓рд╛рд╡рд░ **рдкреАрдбрд╝рд┐рдд рдХреЗ рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рдордирдорд╛рдиреЗ subdomains рдЬрдирд░реЗрдЯ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛ рдЬреЛ рдЙрд╕рдХреЗ рдкреЗрдЬреЛрдВ рдкрд░ pointing рдХрд░рддреЗ рд╣реИрдВ**ред

рдЗрд╕ рдХрдордЬреЛрд░реА рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЖрдк CTF write-up рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ: [https://ctf.zeyu2001.com/2022/nitectf-2022/undocumented-js-api](https://ctf.zeyu2001.com/2022/nitectf-2022/undocumented-js-api)

## Subdomain takeover рдХрд╛ рд╢реЛрд╖рдг

**рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА** [**https://0xpatrik.com/subdomain-takeover/**](https://0xpatrik.com/subdomain-takeover/) **рд╕реЗ рдХреЙрдкреА рдХреА рдЧрдИ рдереА**

рд╣рд╛рд▓ рд╣реА рдореЗрдВ, рдореИрдВрдиреЗ subdomain takeover рдХреЗ рдореВрд▓ рдмрд╛рддреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ [рд▓рд┐рдЦрд╛](https://0xpatrik.com/subdomain-takeover-basics/) рдерд╛ред рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЕрдм рдпрд╣ рдЕрд╡рдзрд╛рд░рдгрд╛ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд╕рдордЭреА рдЬрд╛ рдЪреБрдХреА рд╣реИ, рдореИрдВрдиреЗ рджреЗрдЦрд╛ рдХрд┐ рд▓реЛрдЧ рдЖрдорддреМрд░ рдкрд░ subdomain takeover рдХреЗ рдЬреЛрдЦрд┐рдореЛрдВ рдХреЛ рд╕рдордЭрдиреЗ рдореЗрдВ рд╕рдВрдШрд░реНрд╖ рдХрд░рддреЗ рд╣реИрдВред рдЗрд╕ рдкреЛрд╕реНрдЯ рдореЗрдВ, рдореИрдВ рдЧрд╣рд░рд╛рдИ рд╕реЗ рдЬрд╛рдХрд░ _subdomain takeover_ рдХреЗ рд╕рдмрд╕реЗ рдЙрд▓реНрд▓реЗрдЦрдиреАрдп рдЬреЛрдЦрд┐рдореЛрдВ рдХреЛ рдореЗрд░реЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдХрд╡рд░ рдХрд░рддрд╛ рд╣реВрдБред

_рдиреЛрдЯ: рдХреБрдЫ рдЬреЛрдЦрд┐рдореЛрдВ рдХреЛ рдХреНрд▓рд╛рдЙрдб рдкреНрд░рджрд╛рддрд╛ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рддрдГ рд╣реА рдХрдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм Amazon CloudFront рдкрд░ subdomain takeover рд╕рдВрднрд╡ рд╣реИ, рддреЛ рдЖрдк SPF рдЬрд╛рдВрдЪреЛрдВ рдХреЛ рдмрд╛рдпрдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП TXT рд░рд┐рдХреЙрд░реНрдб рд╕реЗрдЯ рдЕрдк рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред рдЗрд╕рд▓рд┐рдП, рдкреЛрд╕реНрдЯ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд╕рд╛рдорд╛рдиреНрдп subdomain takeover рдкрд░ рдЬреЛрдЦрд┐рдо рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рд╣реИред рдлрд┐рд░ рднреА, рдЗрдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдХреНрд▓рд╛рдЙрдб рдкреНрд░рджрд╛рддрд╛рдУрдВ рдкрд░ рднреА рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВред_

### рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рд▓рд┐рдП рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ <a href="#transparencytoabrowser" id="transparencytoabrowser"></a>

рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдЗрдП DNS рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдкрд░ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ рдЬрд╣рд╛рдВ CNAME рд╢рд╛рдорд┐рд▓ рд╣реИ:

![DNS resolution](https://0xpatrik.com/content/images/2018/05/resolution-2.png)

рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ рдХрджрдо #7 _sub.example.com_ рдХреА рдмрдЬрд╛рдп _anotherdomain.com_ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рддрд╛ рд╣реИред рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рдпрд╣ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ _anotherdomain.com_ рдХрд╛ рдЕрд╕реНрддрд┐рддреНрд╡ рднреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐ CNAME рд░рд┐рдХреЙрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ URL рдмрд╛рд░ рдЕрднреА рднреА _sub.example.com_ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИред рдпрд╣ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рд▓рд┐рдП **рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛** рд╣реИред рдпрджрд┐ рдЖрдк рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪреЗрдВ, рддреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ DNS рд░рд┐рдЬрд╝реЙрд▓реНрд╡рд░ рдкрд░ рд╕рднреА рднрд░реЛрд╕рд╛ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдбреЛрдореЗрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдЯреАрдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░реЗрдЧрд╛ред рд╕рд░рд▓реАрдХреГрдд, subdomain takeover рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП DNS рд╕реНрдкреВрдлрд┐рдВрдЧ рд╣реИред рдХреНрдпреЛрдВ? рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░рднрд╛рд╡рд┐рдд рдбреЛрдореЗрди рдкрд░ DNS рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдХреЛрдИ рднреА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╣рдорд▓рд╛рд╡рд░ рджреНрд╡рд╛рд░рд╛ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП A рд░рд┐рдХреЙрд░реНрдб рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдлрд┐рд░ рдЦреБрд╢реА рд╕реЗ рдЬреЛ рдХреБрдЫ рднреА рдЗрд╕ рд╕рд░реНрд╡рд░ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ рдЙрд╕реЗ рджрд┐рдЦрд╛рддрд╛ рд╣реИ (рд╕реЛрдЪрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╡реИрдз рд╣реИ)ред

рдРрд╕рд╛ рдбреЛрдореЗрди рдлрд╝рд┐рд╢рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдХрджрдо рд╕рд╣реА рдкрд░рд┐рджреГрд╢реНрдп рдмрдирд╛рддрд╛ рд╣реИред рд╣рдорд▓рд╛рд╡рд░ рдЕрдХреНрд╕рд░ рдлрд╝рд┐рд╢рд┐рдВрдЧ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╡реИрдз рдбреЛрдореЗрди/рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреА рдирдХрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП [_typosquatting_](https://en.wikipedia.org/wiki/Typosquatting) рдпрд╛ рддрдерд╛рдХрдерд┐рдд [_Doppelganger domains_](https://en.wikipedia.org/wiki/Doppelg%C3%A4nger) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рджреНрд╡рд╛рд░рд╛ рдХрд┐рд╕реА рд╡реИрдз рдбреЛрдореЗрди рдирд╛рдо рдХреЛ рдЕрдзрд┐рдЧреНрд░рд╣рдг рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдпрд╣ рдмрддрд╛рдирд╛ рд▓рдЧрднрдЧ рдЕрд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдбреЛрдореЗрди рдкрд░ рд╕рд╛рдордЧреНрд░реА рд╡реИрдз рдкрдХреНрд╖ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИ рдпрд╛ рд╣рдорд▓рд╛рд╡рд░ рджреНрд╡рд╛рд░рд╛ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдмреИрдВрдХ рд▓реЗрдВред рдпрджрд┐ рдмреИрдВрдХ рдХреЗ рдХрд┐рд╕реА subdomain рдХреЛ subdomain takeover рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реИ, рддреЛ рд╣рдорд▓рд╛рд╡рд░ рдПрдХ HTML рдлреЙрд░реНрдо рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдмреИрдВрдХ рдХреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдмреИрдВрдХрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓реЙрдЧрд┐рди рдлреЙрд░реНрдо рдХреА рдирдХрд▓ рдХрд░рддрд╛ рд╣реИред рдлрд┐рд░, рд╣рдорд▓рд╛рд╡рд░ рд╕реНрдкреАрдпрд░ рдлрд╝рд┐рд╢рд┐рдВрдЧ рдпрд╛ рдорд╛рд╕ рдлрд╝рд┐рд╢рд┐рдВрдЧ рдЕрднрд┐рдпрд╛рди рдЪрд▓рд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдФрд░ рдЕрдкрдиреЗ рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕ рд╕реНрддрд░ рдкрд░, рдкрд╛рд╕рд╡рд░реНрдб рд╣рдорд▓рд╛рд╡рд░ рджреНрд╡рд╛рд░рд╛ рдкрдХрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВ рдЬреЛ рдкреНрд░рд╢реНрди рдореЗрдВ рдбреЛрдореЗрди рдХрд╛ рдирд┐рдпрдВрддреНрд░рдг рд░рдЦрддрд╛ рд╣реИред рдлрд╝рд┐рд╢рд┐рдВрдЧ рдИ-рдореЗрд▓ рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ URL рдПрдХ рдмреИрдВрдХ рдХрд╛ рд╡реИрдз subdomain рд╣реИред рдЗрд╕рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреБрдЫ рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг рд╣реЛрдиреЗ рдХрд╛ рдЖрднрд╛рд╕ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред рд╕реНрдкреИрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдФрд░ рдЕрдиреНрдп рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдп рднреА рдИ-рдореЗрд▓ рдХреЛ рд╕реНрдкреИрдо рдпрд╛ рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг рдХреЗ рд░реВрдк рдореЗрдВ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХрдо рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдЙрдЪреНрдЪ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХреЗ рд╕рд╛рде рдбреЛрдореЗрди рдирд╛рдо рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдбреЛрдореЗрди рдирд╛рдо рд╕реНрд╡рдпрдВ рдПрдХ рд╕рдлрд▓ рдЕрднрд┐рдпрд╛рди рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддрд╛ рд╣реИред 5рд╡реЗрдВ рд╕реНрддрд░ рдХреЗ subdomain рдХреЛ subdomain takeover рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛрдирд╛ рдмрд╣реБрдд рдХрдо _"рд╡реИрдз"_ рд╣реИ рдХрд┐ рдХреБрдЫ рдЕрдиреБрдХреВрд▓ subdomain рдирд╛рдо рдХреЗ рд╕рд╛рде 2nd рд╕реНрддрд░ рдХреЗ subdomain рд╣реЛрдирд╛ред рдореИрдВрдиреЗ рдлрд╝рд┐рд╢рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╕рд╣реА subdomains рдХреЗ рдХрдИ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

* _purchases.SOMETHING.com_
* _www.SOMETHING.com_
* _online.SOMETHING.com_
* _shop.SOMETHING.com_

рдЗрди рд╕рднреА рдХреЛ subdomain takeover рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдкрд╛рдпрд╛ рдЧрдпрд╛ред рдпреЗ рд╕рднреА рдмрдбрд╝реЗ рдмреНрд░рд╛рдВрдб рдереЗред рдлрд╝рд┐рд╢рд┐рдВрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдирд╛?

рдлрд┐рд░ рднреА, рд╣рд╛рд▓ рдХреЗ рдлрд╝рд┐рд╢рд┐рдВрдЧ рдЕрднрд┐рдпрд╛рдиреЛрдВ рдореЗрдВ рд▓рдВрдмреЗ рдбреЛрдореЗрди рдирд╛рдореЛрдВ рдХреЗ рд╕рд╛рде рдбреЛрдореЗрди рдкрд░ рд╕рд╛рдордЧреНрд░реА рд╣реЛрд╕реНрдЯ рдХреА рдЬрд╛рддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдмреНрд░рд╛рдВрдб рдХрд╛ рдирд╛рдо рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИ (рджреЗрдЦреЗрдВ [Apple рдЙрджрд╛рд╣рд░рдг](https://www.phishtank.com/target\_search.php?target\_id=183\&valid=y\&active=All\&Search=Search))ред рд╡реИрдз SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░ (рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдиреАрдЪреЗ рдФрд░ рдЕрдзрд┐рдХ), рдбреЛрдореЗрди рдирд╛рдо рдореЗрдВ рдХреАрд╡рд░реНрдб рдФрд░ рд▓рдХреНрд╖рд┐рдд рдмреНрд░рд╛рдВрдб рдХреА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреА рдирдХрд▓ рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рд╕рд╛рде, рд▓реЛрдЧ рдЗрди рд╣рдорд▓реЛрдВ рдореЗрдВ рдлрдВрд╕ рдЬрд╛рддреЗ рд╣реИрдВред рдЗрд╕ рдмреНрд░рд╛рдВрдб рдХреЗ рдПрдХ рд╡реИрдз subdomain рдХреЗ рд╕рд╛рде рдореМрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪреЗрдВред

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА
```
HTTP/1.1 200 OK
Set-Cookie: name=value
```
рдпрджрд┐ рдпрд╣ рдХреБрдХреА _example.com_ рдкрд░ рд╕реНрдерд┐рдд рд╡реЗрдм рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХреА рдЧрдИ рд╣реИ, рддреЛ рдХреЗрд╡рд▓ рдпрд╣ рд╕рд░реНрд╡рд░ рдмрд╛рдж рдореЗрдВ рдЗрд╕ рдХреБрдХреА рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреБрдХреА рдХреЛ рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдб рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП (рдКрдкрд░ рдмрддрд╛рдП рдЧрдП рдХрд╛рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП) рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```
HTTP/1.1 200 OK
Set-Cookie: name=value; domain=example.com
```
```markdown
рдХреБрдХреА HTTP рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ _example.com_ рдХреЗ рд▓рд┐рдП рд╢рд╛рдорд┐рд▓ рдХреА рдЬрд╛рдПрдЧреА, рд▓реЗрдХрд┐рди _subdomain.example.com_ рдЬреИрд╕реЗ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕рдмрдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рднреАред рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рд╕реЗ рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдЪреНрдЪ рдЧрдВрднреАрд░рддрд╛ рдХреЗ рд╣рдорд▓реЛрдВ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдмрдирддреА рд╣реИред рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдбреЛрдореЗрди рдореЗрдВ рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдб рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рд╕рддреНрд░ рдХреБрдХреАрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛ рд░рд╣рд╛ рд╣реИред рдпрджрд┐ рдХреЛрдИ рдПрдХ рд╕рдмрдбреЛрдореЗрди рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реИ, рддреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рддреНрд░ рдЯреЛрдХрди рдХреЛ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдЙрд╕реЗ рдпрд╛ рдЙрд╕реЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╕рдмрдбреЛрдореЗрди рдкрд░ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд╛рд▓рд╛рдХреА рдХрд░рдирд╛ рд╣реИред рд╕рддреНрд░ рдХреБрдХреА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ HTTP рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде рднреЗрдЬреА рдЬрд╛рддреА рд╣реИред

рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреБрдХреАрдЬрд╝ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реБрд░рдХреНрд╖рд╛ рддрдВрддреНрд░ рднреА рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ:

* **HttpOnly рдХреБрдХреА** тАФ рдХреБрдХреАрдЬрд╝ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╡реЗрдмрд╕рд╛рдЗрдЯ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдИ рдЧрдИ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб рджреНрд╡рд╛рд░рд╛ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреБрдХреАрдЬрд╝ рдХреЛ рдкрдврд╝, рдЕрдкрдбреЗрдЯ рдФрд░ рд╣рдЯрд╛ рд╕рдХрддреА рд╣реИред _HttpOnly_ рдХреБрдХреА рдлреНрд▓реИрдЧ (рд╡реЗрдм рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ рд╕реЗрдЯ) рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рд╢реЗрд╖ рдХреБрдХреА рдХреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб рджреНрд╡рд╛рд░рд╛ рдПрдХреНрд╕реЗрд╕ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ HTTP рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реЗрдбрд░реНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реИред
* **Secure рдХреБрдХреА** тАФ рдЬрдм рдХреБрдХреА рдореЗрдВ рд╡реЗрдм рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ _Secure_ рдлреНрд▓реИрдЧ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдХреЗрд╡рд▓ HTTPS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХреЛ рд╡рд╛рдкрд╕ рд╕рдВрд╡рд╛рдж рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдпрджрд┐ рдбреЛрдореЗрди рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реИ, рддреЛ рд╣рдорд▓рд╛рд╡рд░ рдЙрд╕ рдбреЛрдореЗрди рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХреА рдЧрдИ рдХреБрдХреАрдЬрд╝ рдХреЛ рдЕрддреАрдд рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЙрд╕ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд╛рд▓рд╛рдХреА рдХрд░рдХреЗ рдПрдХрддреНрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред HttpOnly рдФрд░ Secure рдлреНрд▓реИрдЧ рдорджрдж рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдХреБрдХреА рдХреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХреНрд╕реЗрд╕ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдФрд░ SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХреЛ рд▓рд┐рдП рдЧрдП рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рдиреА рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

Arne Swinnen рджреНрд╡рд╛рд░рд╛ рдмрдЧ рдмрд╛рдЙрдВрдЯреА [рд░рд┐рдкреЛрд░реНрдЯ](https://hackerone.com/reports/172137) рдореЗрдВ рдЯреЗрдХрдУрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреБрдХреА рдЪреЛрд░реА рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреА рдЧрдИ рдереАред рд░рд┐рдкреЛрд░реНрдЯ рдореЗрдВ _Ubiquiti Networks_ рдХреЗ рд╕рдмрдбреЛрдореЗрди (_ping.ubnt.com_) рдХреА рд╕рдорд╕реНрдпрд╛ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреА рдЧрдИ рд╣реИред рдпрд╣ рд╕рдмрдбреЛрдореЗрди рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдерд╛, рдЬреЛ рдЕрдирдХреНрд▓реЗрдореНрдб AWS CloudFront рд╡рд┐рддрд░рдг рдХреА рдУрд░ рдЗрд╢рд╛рд░рд╛ рдХрд░ рд░рд╣рд╛ рдерд╛ред рдЪреВрдВрдХрд┐ Ubiquiti Networks SSO рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдб рд╕рддреНрд░ рдХреБрдХреАрдЬрд╝ рдХреЗ рд╕рд╛рде, _ping.ubnt.com_ рдкрд░ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рддреНрд░ рдХреБрдХреАрдЬрд╝ рдЪреЛрд░реА рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдпрджреНрдпрдкрд┐ рдпрд╣ рдбреЛрдореЗрди AWS CloudFront рдХреА рдУрд░ рдЗрд╢рд╛рд░рд╛ рдХрд░ рд░рд╣рд╛ рд╣реИ, CloudFront рд╡рд┐рддрд░рдг рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде рдХреБрдХреАрдЬрд╝ рдХреЛ рд▓реЙрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИрдВред рдЗрд╕рд▓рд┐рдП AWS CloudFront рдХреА рдУрд░ рдЗрд╢рд╛рд░рд╛ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рдмрдбреЛрдореЗрдиреНрд╕ рдХреЗ рд╕рд╛рде рднреА рд╕рддреНрд░ рдХреБрдХреАрдЬрд╝ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдкрд░рд┐рджреГрд╢реНрдп рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдВрднрд╡ рд╣реИред 2017 рдореЗрдВ, Arne рдиреЗ [Uber рдХреЗ SSO рд╕рд┐рд╕реНрдЯрдо](https://www.arneswinnen.net/2017/06/authentication-bypass-on-ubers-sso-via-subdomain-takeover/) рдХреЗ рдЦрд┐рд▓рд╛рдл рд╕рдорд╛рди рд╣рдорд▓рд╛ рд╡реЗрдХреНрдЯрд░ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд┐рдпрд╛ред

рдКрдкрд░ рд╕рдордЭрд╛рдпрд╛ рдЧрдпрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЗрд╡рд▓ рдХреБрдХреАрдЬрд╝ рддрдХ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд╣реИред рдЪреВрдВрдХрд┐ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдХреЛ рд╡реЗрдмрд╕рд╛рдЗрдЯреЛрдВ рдкрд░ рдкреВрд░рд╛ рдирд┐рдпрдВрддреНрд░рдг рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рди рдкрд░ рд╡реЗ рдЪрд▓рд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ, рд╡реИрдз рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдРрд╕реА рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╡рд┐рдирд╛рд╢рдХрд╛рд░реА рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рдУрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддреА рд╣реИред рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╡реЗрдмрд╕рд╛рдЗрдЯ _script_ рдЯреИрдЧ рдФрд░ _src_ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рд╣рд░реА рдкреНрд░рджрд╛рддрд╛ рд╕реЗ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реА рд╣реИред рдЬрдм рдмрд╛рд╣рд░реА рдкреНрд░рджрд╛рддрд╛ рдХреЗ рдбреЛрдореЗрди рдХреА рд╕рдорд╛рдкреНрддрд┐ рд╣реЛрддреА рд╣реИ, рддреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЪреБрдкрдЪрд╛рдк рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╛рдиреА рдпрд╣ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдпрдорд╛рди рдХреЛрдИ рднреА рдЪреЗрддрд╛рд╡рдиреА рдЯреНрд░рд┐рдЧрд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ рдмрд╛рд╣рд░реА рдХреЛрдб рдХреЛрдИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХреЗрд╡рд▓ рдЯреНрд░реИрдХрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) рддреЛ рдРрд╕рд╛ рдмрд╛рд╣рд░реА рдкреНрд░рджрд╛рддрд╛ рд▓рдВрдмреА рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд░рд╣ рд╕рдХрддрд╛ рд╣реИред рд╣рдорд▓рд╛рд╡рд░ рдЗрд╕ рд╕рдорд╛рдкреНрдд рдбреЛрдореЗрди рдХреЛ рд▓реЗ рд╕рдХрддрд╛ рд╣реИ, рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб рдХреЗ URL рдкрде рд╕реЗ рдореЗрд▓ рдЦрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдореВрд▓ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╣рд░ рдЖрдЧрдВрддреБрдХ рдкрд░ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЕрдЦрдВрдбрддрд╛ рдХреА рд░рдХреНрд╖рд╛ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИред _Subresource Integrity_ [рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рдХрд┐рдпрд╛ рдЧрдпрд╛](https://www.w3.org/TR/2016/REC-SRI-20160623/) рдПрдХ рддрдВрддреНрд░ рдХреЗ рд░реВрдк рдореЗрдВ HTML5 рдореЗрдВ _script_ рдЯреИрдЧ рдХреЗ рд▓рд┐рдП _integrity_ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдХреНрд░рд┐рдкреНрдЯреЛрдЧреНрд░рд╛рдлрд┐рдХ рд╣реИрд╢ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдЬрдм рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдХреНрд░рд┐рдкреНрдЯреЛрдЧреНрд░рд╛рдлрд┐рдХ рд╣реИрд╢ рдбрд╛рдЙрдирд▓реЛрдб рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддрд╛ рд╣реИ, рддреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЗрд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдЗрдирдХрд╛рд░ рдХрд░ рджреЗрддрд╛ рд╣реИред

### рдИ-рдореЗрд▓реНрд╕ <a href="#emails" id="emails"></a>

рдЬрдм CNAME рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рд╕рдВрднрд╡ рд╣реИ, рддреЛ MX рд░рд┐рдХреЙрд░реНрдбреНрд╕ рдХреЛ рднреА рд╣рдорд▓рд╛рд╡рд░ рджреНрд╡рд╛рд░рд╛ рдХрд┐рд╕реА рдордирдорд╛рдиреЗ рд╡реЗрдм рд╕рд░реНрд╡рд░ рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдХрд┐рд╕реА рдмреНрд░рд╛рдВрдб рдХреЗ рд╡реИрдз рд╕рдмрдбреЛрдореЗрди рдкрд░ рдИ-рдореЗрд▓реНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ - рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ (рд╕реНрдкреАрдпрд░) рдлрд╝рд┐рд╢рд┐рдВрдЧ рд╣рдорд▓реЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧреА рдЬрд╣рд╛рдВ рд╣рдорд▓рд╛рд╡рд░ рдФрд░ рдкреАрдбрд╝рд┐рдд рдХреЗ рдмреАрдЪ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдЖрд╡рд╢реНрдпрдХ рд╣реИред рд╣рдорд▓рд╛рд╡рд░ рдЖрдорддреМрд░ рдкрд░ `Return-Path` рд╣реЗрдбрд░ рдХреЛ рд╕реНрдкреВрдл рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдИ-рдореЗрд▓ рдХреЗ рдЬрд╡рд╛рдм рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВред рд╕рд╣реА MX рд░рд┐рдХреЙрд░реНрдбреНрд╕ рдХреЗ рд╕рд╛рде, рдпрд╣ рд╕рдорд╕реНрдпрд╛ рджрд░рдХрд┐рдирд╛рд░ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред

рджреВрд╕рд░реА рдУрд░, рдИ-рдореЗрд▓реНрд╕ рднреЗрдЬрдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐ `From` рд╣реЗрдбрд░ рдХреЛ рдХрд┐рд╕реА рднреА рдИ-рдореЗрд▓ рдкрддреЗ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдкреВрдл рдХрд░рдирд╛ рддреБрдЪреНрдЫ рд╣реИ, SPF рдлрд╝рд┐рд▓реНрдЯрд░реНрд╕ рдЖрдорддреМрд░ рдкрд░ `Return-Path` рд╣реЗрдбрд░ рдФрд░ рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рдЕрдиреБрдордд рдореЗрд▓-рднреЗрдЬрдиреЗ рд╡рд╛рд▓реЗ рд╣реЛрд╕реНрдЯреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВред SPF DNS TXT рд░рд┐рдХреЙрд░реНрдбреНрд╕ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реНрдЯреЛрд░ рдХрд░рддрд╛ рд╣реИред рд╕рдмрдбреЛрдореЗрди рдЯреЗрдХрдУрд╡рд░ рдХреЗ рд╕рд╛рде, TXT рд░рд┐рдХреЙрд░реНрдбреНрд╕ рднреА рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рдирд┐рдпрдВрддреНрд░рдг рдореЗрдВ рд╣реЛрддреЗ рд╣реИрдВ - SPF рдЬрд╛рдВрдЪ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

_рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рд╢реБрд░реБрдЖрдд рдореЗрдВ рдиреЛрдЯ рдХрд┐рдпрд╛, рдпреЗ рддрдХрдиреАрдХ
