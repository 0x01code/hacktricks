# Kusawazisha Unicode

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## WhiteIntel

<figure><img src=".gitbook/assets/image (1224).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) ni injini ya utaftaji inayotumia **dark-web** ambayo inatoa huduma za **bure** kuchunguza ikiwa kampuni au wateja wake wameathiriwa na **malware za wizi**.

Lengo kuu la WhiteIntel ni kupambana na utekaji wa akaunti na mashambulio ya ransomware yanayotokana na programu hasidi za kuiba taarifa.

Unaweza kutembelea tovuti yao na kujaribu injini yao **bure** kwa:

{% embed url="https://whiteintel.io" %}

---

**Hii ni muhtasari wa:** [**https://appcheck-ng.com/unicode-normalization-vulnerabilities-the-special-k-polyglot/**](https://appcheck-ng.com/unicode-normalization-vulnerabilities-the-special-k-polyglot/). Angalia kwa undani zaidi (picha zimetolewa hapo).

## Kuelewa Unicode na Usawazishaji

Usawazishaji wa Unicode ni mchakato unaohakikisha uwakilishi tofauti wa binary wa wahusika unastandadishwa kwa thamani sawa ya binary. Mchakato huu ni muhimu katika kushughulikia herufi katika programu na usindikaji wa data. Kiwango cha Unicode hufafanua aina mbili za usawa wa wahusika:

1. **Usawa wa Kanoni**: Wahusika wanachukuliwa kuwa sawa kwa kanoni ikiwa wanaonekana na kumaanisha sawa wakati wa kuchapishwa au kuonyeshwa.
2. **Usawa wa Ulinganifu**: Aina dhaifu ya usawa ambapo wahusika wanaweza kuwakilisha wahusika sawa wa kimaarufu lakini wanaweza kuonyeshwa tofauti.

Kuna **algoritimu nne za usawazishaji wa Unicode**: NFC, NFD, NFKC, na NFKD. Kila algoritimu hutumia mbinu tofauti za usawazishaji wa kanoni na ufanani. Kwa uelewa zaidi, unaweza kuchunguza mbinu hizi kwenye [Unicode.org](https://unicode.org/).

### Mambo Muhimu kuhusu Ufananuzi wa Unicode

Kuelewa ufananuzi wa Unicode ni muhimu, hasa unaposhughulikia masuala ya kuingiliana kati ya mifumo au lugha tofauti. Hapa kuna mambo muhimu:

* **Pointi za Kanuni na Wahusika**: Katika Unicode, kila herufi au alama imepewa thamani ya nambari inayoitwa "pointi ya kanuni".
* **Uwakilishi wa Bayti**: Pointi ya kanuni (au herufi) inawakilishwa na bayti moja au zaidi kwenye kumbukumbu. Kwa mfano, herufi za LATIN-1 (zinazotumiwa sana katika nchi zinazozungumza Kiingereza) zinawakilishwa kwa kutumia bayti moja. Walakini, lugha zenye seti kubwa ya wahusika zinahitaji bayti zaidi kwa uwakilishi.
* **Ufananuzi**: Kauli hii inahusu jinsi wahusika wanavyobadilishwa kuwa mfululizo wa bayti. UTF-8 ni kiwango cha kawaida cha ufananuzi ambapo herufi za ASCII zinawakilishwa kwa kutumia bayti moja, na hadi bayti nne kwa wahusika wengine.
* **Usindikaji wa Data**: Mifumo inayosindika data lazima iwe na ufahamu wa ufananuzi unaotumiwa ili kubadilisha mfululizo wa bayti kuwa wahusika.
* **Toleo za UTF**: Mbali na UTF-8, kuna viwango vingine vya ufananuzi kama UTF-16 (ikiwa na angalau bayti 2, hadi 4) na UTF-32 (ikiwa na bayti 4 kwa wahusika wote).

Ni muhimu kuelewa dhana hizi ili kushughulikia na kupunguza masuala yanayoweza kutokea kutokana na utata wa Unicode na njia zake mbalimbali za ufananuzi.

Mfano wa jinsi Unicode inavyosawazisha bayti mbili tofauti zinazowakilisha herufi sawa:
```python
unicodedata.normalize("NFKD","chloe\u0301") == unicodedata.normalize("NFKD", "chlo\u00e9")
```
**Orodha ya wahusika sawa wa Unicode inaweza kupatikana hapa:** [https://appcheck-ng.com/wp-content/uploads/unicode\_normalization.html](https://appcheck-ng.com/wp-content/uploads/unicode\_normalization.html) na [https://0xacb.com/normalization\_table](https://0xacb.com/normalization\_table)

### Kugundua

Ikiwa unaweza kupata ndani ya programu-jalizi ya wavuti thamani ambayo inarudiwa, unaweza kujaribu kutuma **'KELVIN SIGN' (U+0212A)** ambayo **inahitaji "K"** (unaweza kutuma kama `%e2%84%aa`). **Ikiwa "K" inarudiwa**, basi, aina fulani ya **kawaida ya Unicode** inafanywa.

**Mfano mwingine**: `%F0%9D%95%83%E2%85%87%F0%9D%99%A4%F0%9D%93%83%E2%85%88%F0%9D%94%B0%F0%9D%94%A5%F0%9D%99%96%F0%9D%93%83` baada ya **unicode** ni `Leonishan`.

## **Mifano ya Kudhoofika**

### **Kizuizi cha Uvujaji wa SQL Injection**

Fikiria ukurasa wa wavuti unatumia herufi `'` kuunda maswali ya SQL na mchango wa mtumiaji. Wavuti hii, kama hatua ya usalama, **inafuta** matukio yote ya herufi **`'`** kutoka kwa mchango wa mtumiaji, lakini **baada ya kufuta** na **kabla ya uundaji** wa swali, inafanya **kawaida** kutumia **Unicode** mchango wa mtumiaji.

Kisha, mtumiaji mwenye nia mbaya anaweza kuingiza herufi tofauti ya Unicode inayolingana na `' (0x27)` kama `%ef%bc%87`, wakati mchango unapopata kawaida, alama ya nukta moja inaundwa na **kutokuwa na usalama wa SQLInjection** unaonekana:

![https://appcheck-ng.com/unicode-normalization-vulnerabilities-the-special-k-polyglot/](<../../.gitbook/assets/image (699).png>)

**Baadhi ya wahusika wa Unicode wa kuvutia**

* `o` -- %e1%b4%bc
* `r` -- %e1%b4%bf
* `1` -- %c2%b9
* `=` -- %e2%81%bc
* `/` -- %ef%bc%8f
* `-`-- %ef%b9%a3
* `#`-- %ef%b9%9f
* `*`-- %ef%b9%a1
* `'` -- %ef%bc%87
* `"` -- %ef%bc%82
* `|` -- %ef%bd%9c
```
' or 1=1-- -
%ef%bc%87+%e1%b4%bc%e1%b4%bf+%c2%b9%e2%81%bc%c2%b9%ef%b9%a3%ef%b9%a3+%ef%b9%a3

" or 1=1-- -
%ef%bc%82+%e1%b4%bc%e1%b4%bf+%c2%b9%e2%81%bc%c2%b9%ef%b9%a3%ef%b9%a3+%ef%b9%a3

' || 1==1//
%ef%bc%87+%ef%bd%9c%ef%bd%9c+%c2%b9%e2%81%bc%e2%81%bc%c2%b9%ef%bc%8f%ef%bc%8f

" || 1==1//
%ef%bc%82+%ef%bd%9c%ef%bd%9c+%c2%b9%e2%81%bc%e2%81%bc%c2%b9%ef%bc%8f%ef%bc%8f
```
#### Kigezo cha sqlmap

{% embed url="https://github.com/carlospolop/sqlmap_to_unicode_template" %}

### XSS (Udukuzi wa Msalaba wa Tovuti)

Unaweza kutumia moja ya herufi zifuatazo kudanganya programu ya wavuti na kutumia XSS:

![https://appcheck-ng.com/unicode-normalization-vulnerabilities-the-special-k-polyglot/](<../../.gitbook/assets/image (312) (2).png>)

Tambua kwamba kwa mfano herufi ya kwanza ya Unicode inaweza kutumwa kama: `%e2%89%ae` au kama `%u226e`

![https://appcheck-ng.com/unicode-normalization-vulnerabilities-the-special-k-polyglot/](<../../.gitbook/assets/image (215) (1) (1).png>)

### Fuzzing Regexes

Wakati seva ya nyuma ina **angalia kuingia kwa mtumiaji na regex**, inaweza kuwa inawezekana kwamba **kuingia** ina **kawaida** kwa **regex** lakini **sio** kwa mahali ambapo inatumika. Kwa mfano, katika Uelekezaji wa Wazi au SSRF regex inaweza kuwa **kawaida URL iliyotumwa** lakini kisha **kuiweka kama ilivyo**.

Zana [**recollapse**](https://github.com/0xacb/recollapse) inaruhusu **kuzalisha mabadiliko ya kuingia** kufanya fuzzing kwa seva ya nyuma. Kwa habari zaidi angalia **github** na hii [**chapisho**](https://0xacb.com/2022/11/21/recollapse/).

## Marejeo

* [**https://labs.spotify.com/2013/06/18/creative-usernames/**](https://labs.spotify.com/2013/06/18/creative-usernames/)
* [**https://security.stackexchange.com/questions/48879/why-does-directory-traversal-attack-c0af-work**](https://security.stackexchange.com/questions/48879/why-does-directory-traversal-attack-c0af-work)
* [**https://jlajara.gitlab.io/posts/2020/02/19/Bypass\_WAF\_Unicode.html**](https://jlajara.gitlab.io/posts/2020/02/19/Bypass\_WAF\_Unicode.html)

## WhiteIntel

<figure><img src=".gitbook/assets/image (1224).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) ni injini ya utaftaji inayotumia **dark-web** ambayo inatoa huduma za **bure** kuchunguza ikiwa kampuni au wateja wake wameathiriwa na **malware za wizi**.

Lengo kuu la WhiteIntel ni kupambana na utekaji wa akaunti na mashambulio ya ransomware yanayotokana na programu hasidi ya kuiba habari.

Unaweza kutembelea tovuti yao na kujaribu injini yao **bure** hapa:

{% embed url="https://whiteintel.io" %}

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
