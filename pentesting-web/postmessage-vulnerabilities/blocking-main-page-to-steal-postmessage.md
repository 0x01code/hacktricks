# рдбрд╛рд▓рдирд╛ рдореБрдЦреНрдп рдкреГрд╖реНрда рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рдирд╛ postmessage рдЪреБрд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рди**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ред
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** **Twitter** **ЁЯРж**[**@carlospolopm**](https://twitter.com/hacktricks_live)** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [hacktricks рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks) рдФрд░ [hacktricks-cloud рд░реЗрдкреЛ](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ**ред

</details>

## Iframes рдХреЗ рд╕рд╛рде RCs рдЬреАрддрдирд╛

рдЗрд╕ [**Terjanq writeup**](https://gist.github.com/terjanq/7c1a71b83db5e02253c218765f96a710) рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдирд▓ рдЙрддреНрдкрддреНрддрд┐рдпреЛрдВ рд╕реЗ рдмрдирд╛рдП рдЧрдП рдмреНрд▓реЙрдм рджрд╕реНрддрд╛рд╡реЗрдЬ рд╕реБрд░рдХреНрд╖рд╛ рд▓рд╛рднреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрджрд┐ рдЖрдк рдореБрдЦреНрдп рдкреГрд╖реНрда рдХреЛ рд╡реНрдпрд╕реНрдд рд░рдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдИрдлреНрд░реЗрдо рдкреГрд╖реНрда рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

рдореВрд▓ рд░реВрдк рд╕реЗ рдЙрд╕ рдЪреБрдиреМрддреА рдореЗрдВ рдПрдХ **рдЕрд▓рдЧ рдЖрдИрдлреНрд░реЗрдо рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рд╣реЛрддрд╛ рд╣реИ рдФрд░ **рдЙрд╕рдХреЗ рдмрд╛рдж** рдпрд╣ **рд▓реЛрдб** рд╣реЛрддрд╛ рд╣реИ, **рдореБрдЦреНрдп** рдкреГрд╖реНрда **рдПрдХ рдкреЛрд╕реНрдЯ** рд╕рдВрджреЗрд╢ рднреЗрдЬреЗрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ **рдзреНрд╡рдЬ** рд╣реЛрдЧрд╛ред\
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ postmessage рд╕рдВрдЪрд╛рд░ рдореЗрдВ **XSS рдХреЗ рд▓рд┐рдП рд╡рдВрд╢рд╛рдиреБрдЧрдд** рд╣реИ (рдЖрдИрдлреНрд░реЗрдо JS рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ)ред

рдЗрд╕рд▓рд┐рдП, рд╣рдорд▓реЗ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрд╛ рд▓рдХреНрд╖реНрдп рд╣реИ рдХрд┐ **рдореБрдЦреНрдп рдЖрдИрдлреНрд░реЗрдо рдмрдирд╛рдПрдВ**, рд▓реЗрдХрд┐рди **рдкрд╣рд▓реЗ** **рдореБрдЦреНрдп** рдкреГрд╖реНрда рдХреЛ **рд╡реНрдпрд╕реНрдд рд░рдЦреЗрдВ** рдФрд░ **рдЖрдИрдлреНрд░реЗрдо рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ** **рдореБрдЦреНрдп** рдкреГрд╖реНрда **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ (рдзреНрд╡рдЬ) рднреЗрдЬреЗрдВ** рдХреЗ рд▓рд┐рдП **рдЗрд╕реЗ рд╡реНрдпрд╕реНрдд рд░рдЦреЗрдВ** рдФрд░ **рдЖрдИрдлреНрд░реЗрдо рдХреЛ рдкреЗрд╢ рдХрд░реЗрдВ**ред рдЬрдм рддрдХ **рдореБрдЦреНрдп рд╡реНрдпрд╕реНрдд рд╣реИ**, **рдЖрдИрдлреНрд░реЗрдо рдкреЗрд╢ рдХрд░реЗрдЧрд╛** рдЬреЛ рдХреБрдЫ JS рд╣реЛрдЧрд╛ рдЬреЛ **рдореБрдЦреНрдп postmessage рд╕рдВрджреЗрд╢ рдХреЗ рд▓рд┐рдП рд╕реБрдиреЗрдЧрд╛ рдФрд░ рдзреНрд╡рдЬ рд▓реАрдХ рдХрд░реЗрдЧрд╛**ред\
рдЕрдВрддрддрдГ, рдЖрдИрдлреНрд░реЗрдо рдиреЗ рдкреЗрд▓реЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рд╣реИ рдФрд░ рдореБрдЦреНрдп рдкреГрд╖реНрда рд╡реНрдпрд╕реНрдд рд╣реЛрдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╡рд╣ рдзреНрд╡рдЬ рднреЗрдЬрддрд╛ рд╣реИ рдФрд░ рдкреЗрд▓реЛрдб рдЗрд╕реЗ рд▓реАрдХ рдХрд░рддрд╛ рд╣реИред

рд▓реЗрдХрд┐рди рдЖрдк рдореБрдЦреНрдп рдХреЛ **рд╡реНрдпрд╕реНрдд рдХреИрд╕реЗ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдЙрд╕рдиреЗ рдЖрдИрдлреНрд░реЗрдо рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рд╣реИ рдФрд░ рдмрд╕ рдЬрдм рд╡рд╣ рдЖрдИрдлреНрд░реЗрдо рдХреЛ рддреИрдпрд╛рд░ рд╣реЛрдиреЗ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣рд╛ рд╣реИ, рддрдм**? рдореВрд▓ рд░реВрдк рд╕реЗ, рдЖрдкрдХреЛ **рд╡реНрдпрд╕реНрдд** **рдХреНрд░рд┐рдпрд╛** рдвреВрдВрдврдиреА рд╣реЛрдЧреА рдЬрд┐рд╕реЗ рдЖрдк рдореБрдЦреНрдп **рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрд╕ рдЪреБрдиреМрддреА рдореЗрдВ рдореБрдЦреНрдп **postmessages** рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реБрди рд░рд╣рд╛ рдерд╛:
```javascript
window.addEventListener('message', (e) => {
if (e.data == 'blob loaded') {
$("#previewModal").modal();
}
});
```
рдЗрд╕рд▓рд┐рдП рдПрдХ **рдмрдбрд╝рд╛ рдкреВрд░реНрдгрд╛рдВрдХ postmessage рдореЗрдВ рднреЗрдЬрдирд╛ рд╕рдВрднрд╡ рдерд╛** рдЬреЛ рдЙрд╕ рддреБрд▓рдирд╛ рдореЗрдВ **рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд** рд╣реЛрдЧрд╛, рдЬрд┐рд╕рд╕реЗ рдХреБрдЫ рд╕рдордп рд▓рдЧреЗрдЧрд╛:
```bash
const buffer = new Uint8Array(1e7);
win?.postMessage(buffer, '*', [buffer.buffer]);
```
рдФрд░ рд╕рдЯреАрдХ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ **рдкреЛрд╕реНрдЯрдореИрд╕реЗрдЬ** рдХреЛ **рднреЗрдЬрдиреЗ** рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ **рдЖрдИрдлреНрд░реЗрдо** рдмрдирд╛рдП рдЬрд╛рдиреЗ рдХреЗ рдареАрдХ рдмрд╛рдж рдФрд░ рдбреЗрдЯрд╛ рдкреЗрдпрд░реЗрдВрдЯ рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛрдиреЗ рд╕реЗ **рдкрд╣рд▓реЗ** рдЖрдкрдХреЛ **`setTimeout`** рдХреЗ рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдХреЗ рд╕рд╛рде рдЦреЗрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред
