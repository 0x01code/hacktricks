<details>

<summary><strong>AWS hackleme becerilerini sıfırdan ileri seviyeye öğrenmek için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>'a göz atın!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINA**](https://github.com/sponsors/carlospolop) göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimizden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>

### PostgreSQL Büyük Nesneler

PostgreSQL, resimler veya PDF belgeleri gibi büyük veri tiplerini depolamak için tasarlanmış olan `pg_largeobject` tablosuna erişilebilen **büyük nesneler** adı verilen bir yapı sunar. Bu yaklaşım, verilerin dosya sistemine geri **aktarılmasını** sağlayan `COPY TO` işlevine göre avantajlıdır ve orijinal dosyanın tam bir kopyasının korunmasını sağlar.

Bu tabloya **bir tam dosya depolamak** için, bir nesne (LOID tarafından tanımlanan) `pg_largeobject` tablosunda oluşturulmalı ve ardından bu nesneye 2KB boyutunda her biri veri parçaları eklenmelidir. Bu parçaların tam olarak 2KB boyutunda olması (son parça hariç) ihracat işlevinin doğru şekilde çalışmasını sağlamak için önemlidir.

Binary verilerinizi **2KB'lık parçalara bölmek** için aşağıdaki komutlar kullanılabilir:
```bash
split -b 2048 your_file # Creates 2KB sized files
```
Her bir dosyanın Base64 veya Hex formatına kodlanması için aşağıdaki komutlar kullanılabilir:
```bash
base64 -w 0 <Chunk_file> # Encodes in Base64 in one line
xxd -ps -c 99999999999 <Chunk_file> # Encodes in Hex in one line
```
**Önemli**: Bu işlemi otomatikleştirirken, açık metin baytlarının 2KB'lık parçalarını gönderdiğinizden emin olun. Hex kodlu dosyaların boyutu ikiye katlandığı için her parça için 4KB veri gerekecektir, Base64 kodlu dosyalar ise `ceil(n / 3) * 4` formülünü takip eder.

Büyük nesnelerin içeriği hata ayıklama amaçlı olarak görüntülenebilir:
```sql
select loid, pageno, encode(data, 'escape') from pg_largeobject;
```
#### `lo_creat` ve Base64 Kullanımı

Binary verileri depolamak için öncelikle bir LOID oluşturulur:
```sql
SELECT lo_creat(-1);       -- Creates a new, empty large object
SELECT lo_create(173454);  -- Attempts to create a large object with a specific OID
```
Hassas kontrol gerektiren durumlarda, örneğin Kör SQL Enjeksiyonu söz konusu olduğunda, sabit bir LOID belirtmek için `lo_create` tercih edilir.

Veri parçaları aşağıdaki gibi eklenir:
```sql
INSERT INTO pg_largeobject (loid, pageno, data) VALUES (173454, 0, decode('<B64 chunk1>', 'base64'));
INSERT INTO pg_largeobject (loid, pageno, data) VALUES (173454, 1, decode('<B64 chunk2>', 'base64'));

```
Büyük nesneyi kullanımdan sonra dışa aktarmak ve potansiyel olarak silmek için:
```sql
SELECT lo_export(173454, '/tmp/your_file');
SELECT lo_unlink(173454);  -- Deletes the specified large object
```
#### `lo_import` ve Hex Kullanımı

`lo_import` fonksiyonu, büyük bir nesne için bir LOID oluşturmak ve belirtmek için kullanılabilir:
```sql
select lo_import('/path/to/file');
select lo_import('/path/to/file', 173454);
```
Aşağıdaki nesne oluşturulduktan sonra, her sayfa için veri eklenir ve her parça 2KB'ı geçmez:
```sql
update pg_largeobject set data=decode('<HEX>', 'hex') where loid=173454 and pageno=0;
update pg_largeobject set data=decode('<HEX>', 'hex') where loid=173454 and pageno=1;
```
İşlemi tamamlamak için veriler dışa aktarılır ve büyük nesne silinir:
```sql
select lo_export(173454, '/path/to/your_file');
select lo_unlink(173454);  -- Deletes the specified large object
```
### Sınırlamalar

**Büyük nesnelerin ACL'leri** (Erişim Kontrol Listeleri) olabileceği belirtilmektedir ve bu, kullanıcınız tarafından oluşturulan nesnelere bile erişimi kısıtlayabilir. Bununla birlikte, daha eski ve izin verici ACL'lere sahip nesneler hala içerik sızdırma için erişilebilir olabilir.

<details>

<summary><strong>AWS hacklemeyi sıfırdan kahraman olmak için öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamını görmek** veya HackTricks'i **PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya bizi **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**'da takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>
