# Pi√®ges Iframe

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert en √©quipe rouge AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFT**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>

## Informations de base

Cette forme d'abus de XSS via des iframes pour voler des informations √† l'utilisateur se d√©pla√ßant √† travers la page web a √©t√© initialement publi√©e dans ces 2 articles de trustedsec.com : [**ici**](https://trustedsec.com/blog/persisting-xss-with-iframe-traps) **et** [**ici**](https://trustedsec.com/blog/js-tap-weaponizing-javascript-for-red-teams).

L'attaque commence dans une page vuln√©rable au XSS o√π il est possible de faire en sorte que les **victimes ne quittent pas le XSS** en les faisant **naviguer dans un iframe** qui occupe toute l'application web.

L'attaque XSS chargera essentiellement la page web dans un iframe √† 100% de l'√©cran. Par cons√©quent, la victime **ne remarquera pas qu'elle se trouve √† l'int√©rieur d'un iframe**. Ensuite, si la victime navigue dans la page en cliquant sur des liens √† l'int√©rieur de l'iframe (√† l'int√©rieur du web), elle **naviguera √† l'int√©rieur de l'iframe** avec le JS arbitraire charg√© volant des informations de cette navigation.

De plus, pour le rendre plus r√©aliste, il est possible d'utiliser certains **√©couteurs** pour v√©rifier quand un iframe change l'emplacement de la page, et mettre √† jour l'URL du navigateur avec ces emplacements que l'utilisateur pense qu'il est en train de naviguer en utilisant le navigateur.

<figure><img src="../.gitbook/assets/image (1248).png" alt=""><figcaption><p><a href="https://www.trustedsec.com/wp-content/uploads/2022/04/regEvents.png">https://www.trustedsec.com/wp-content/uploads/2022/04/regEvents.png</a></p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (1249).png" alt=""><figcaption><p><a href="https://www.trustedsec.com/wp-content/uploads/2022/04/fakeAddress-1.png">https://www.trustedsec.com/wp-content/uploads/2022/04/fakeAddress-1.png</a></p></figcaption></figure>

De plus, il est possible d'utiliser des √©couteurs pour voler des informations sensibles, non seulement les autres pages visit√©es par la victime, mais aussi les donn√©es utilis√©es pour **remplir des formulaires** et les envoyer (identifiants ?) ou pour **voler le stockage local**...

Bien s√ªr, les principales limitations sont qu'une **victime fermant l'onglet ou saisissant une autre URL dans le navigateur √©chappera √† l'iframe**. Une autre fa√ßon de faire cela serait de **rafra√Æchir la page**, cependant, cela pourrait √™tre partiellement **emp√™ch√©** en d√©sactivant le menu contextuel du clic droit chaque fois qu'une nouvelle page est charg√©e √† l'int√©rieur de l'iframe ou en remarquant lorsque la souris de l'utilisateur quitte l'iframe, potentiellement pour cliquer sur le bouton de rechargement du navigateur et dans ce cas l'URL du navigateur est mise √† jour avec l'URL d'origine vuln√©rable au XSS donc si l'utilisateur la recharge, elle sera √† nouveau empoisonn√©e (notez que cela n'est pas tr√®s discret).

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert en √©quipe rouge AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFT**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
