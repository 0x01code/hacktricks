# Ferramenta Web - WFuzz

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

- Voc√™ trabalha em uma **empresa de seguran√ßa cibern√©tica**? Voc√™ quer ver sua **empresa anunciada no HackTricks**? ou voc√™ quer ter acesso √† **√∫ltima vers√£o do PEASS ou baixar o HackTricks em PDF**? Confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!

- Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)

- **Junte-se ao** [**üí¨**](https://emojipedia.org/speech-balloon/) [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Compartilhe suas t√©cnicas de hacking enviando PRs para o [reposit√≥rio hacktricks](https://github.com/carlospolop/hacktricks) e [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

Uma ferramenta para FUZZ em aplica√ß√µes web em qualquer lugar.

> O Wfuzz foi criado para facilitar a tarefa em avalia√ß√µes de aplica√ß√µes web e √© baseado em um conceito simples: ele substitui qualquer refer√™ncia √† palavra-chave FUZZ pelo valor de uma carga √∫til fornecida.

## Instala√ß√£o

Instalado no Kali

Github: [https://github.com/xmendez/wfuzz](https://github.com/xmendez/wfuzz)
```
pip install wfuzz
```
## Op√ß√µes de filtragem
```bash
--hs/ss "regex" #Hide/Show
#Simple example, match a string: "Invalid username"
#Regex example: "Invalid *"

--hc/sc CODE #Hide/Show by code in response
--hl/sl NUM #Hide/Show by number of lines in response
--hw/sw NUM #Hide/Show by number of words in response
--hh/sh NUM #Hide/Show by number of chars in response
--hc/sc NUM #Hide/Show by response code
```
## Op√ß√µes de sa√≠da
```bash
wfuzz -e printers #Prints the available output formats
-f /tmp/output,csv #Saves the output in that location in csv format
```
### Op√ß√µes de Codificadores

#### URL Encoding

O URL encoding √© uma t√©cnica de codifica√ß√£o que substitui cada caractere n√£o-ASCII por uma sequ√™ncia de caracteres seguros para serem transmitidos pela internet. Isso √© √∫til para evitar problemas com caracteres especiais em URLs.

#### HTML Encoding

O HTML encoding √© uma t√©cnica de codifica√ß√£o que substitui cada caractere especial do HTML por uma sequ√™ncia de caracteres que o navegador pode exibir corretamente. Isso √© √∫til para evitar problemas com caracteres especiais em p√°ginas da web.

#### Base64 Encoding

O Base64 encoding √© uma t√©cnica de codifica√ß√£o que converte dados bin√°rios em uma sequ√™ncia de caracteres ASCII. Isso √© √∫til para transmitir dados bin√°rios em um formato que pode ser facilmente lido e transmitido pela internet.

#### Hex Encoding

O Hex encoding √© uma t√©cnica de codifica√ß√£o que converte dados bin√°rios em uma sequ√™ncia de caracteres hexadecimais. Isso √© √∫til para transmitir dados bin√°rios em um formato que pode ser facilmente lido e transmitido pela internet.

#### UTF-8 Encoding

O UTF-8 encoding √© uma t√©cnica de codifica√ß√£o que permite representar caracteres Unicode usando uma sequ√™ncia de bytes. Isso √© √∫til para transmitir texto em diferentes idiomas pela internet.
```bash
wfuzz -e encoders #Prints the available encoders
#Examples: urlencode, md5, base64, hexlify, uri_hex, doble urlencode
```
Para usar um codificador, voc√™ deve indic√°-lo na op√ß√£o **"-w"** ou **"-z"**.

Exemplos:
```bash
-z file,/path/to/file,md5 #Will use a list inside the file, and will transform each value into its md5 hash before sending it
-w /path/to/file,base64 #Will use a list, and transform to base64
-z list,each-element-here,hexlify #Inline list and to hex before sending values
```
## CheetSheet

### Bruteforce em formul√°rios de login

#### **POST, Lista √∫nica, filtro de string (ocultar)**
```bash
wfuzz -c -w users.txt --hs "Login name" -d "name=FUZZ&password=FUZZ&autologin=1&enter=Sign+in" http://zipper.htb/zabbix/index.php
#Here we have filtered by line
```
#### **POST, 2 listas, c√≥digo de filtro (mostrar)**
```bash
wfuzz.py -c -z file,users.txt -z file,pass.txt --sc 200 -d "name=FUZZ&password=FUZ2Z&autologin=1&enter=Sign+in" http://zipper.htb/zabbix/index.php
#Here we have filtered by code
```
#### **GET, 2 listas, filtro de string (show), proxy, cookies**

Esta t√©cnica envolve o uso da ferramenta wfuzz para enviar solicita√ß√µes GET para um servidor web. A t√©cnica usa duas listas, uma para as URLs e outra para os par√¢metros. A lista de URLs cont√©m as URLs que ser√£o testadas e a lista de par√¢metros cont√©m os par√¢metros que ser√£o injetados nas URLs. A t√©cnica tamb√©m usa um filtro de string para mostrar apenas as respostas que cont√™m uma determinada string.

Al√©m disso, a t√©cnica pode ser executada usando um proxy para ocultar o endere√ßo IP do atacante e tamb√©m pode usar cookies para simular uma sess√£o de usu√°rio v√°lida.
```bash
wfuzz -c -w users.txt -w pass.txt --ss "Welcome " -p 127.0.0.1:8080:HTTP -b "PHPSESSIONID=1234567890abcdef;customcookie=hey" "http://example.com/index.php?username=FUZZ&password=FUZ2Z&action=sign+in"
```
### Bruteforce de diret√≥rios/Bruteforce RESTful

[Lista de palavras-chave de par√¢metros do Arjun](https://raw.githubusercontent.com/s0md3v/Arjun/master/arjun/db/params.txt)
```
wfuzz -c -w /tmp/tmp/params.txt --hc 404 https://domain.com/api/FUZZ
```
### Par√¢metros de Caminho BF
```bash
wfuzz -c -w ~/git/Arjun/db/params.txt --hw 11 'http://example.com/path%3BFUZZ=FUZZ'
```
### Autentica√ß√£o de Cabe√ßalho

#### **B√°sico, 2 listas, filtro de string (show), proxy**
```bash
wfuzz -c -w users.txt -w pass.txt -p 127.0.0.1:8080:HTTP --ss "Welcome" --basic FUZZ:FUZ2Z "http://example.com/index.php"
```
#### **NTLM, 2 listas, filtro de string (mostrar), proxy**

O par√¢metro `--ntlm` pode ser usado para especificar que o servidor usa autentica√ß√£o NTLM. Se voc√™ tiver duas listas, uma com nomes de usu√°rios e outra com senhas, pode us√°-las com os par√¢metros `--user-list` e `--pass-list`, respectivamente.

Voc√™ tamb√©m pode usar o par√¢metro `--filter` para filtrar a resposta do servidor e mostrar apenas as respostas que contenham uma determinada string. Por exemplo, `--filter="Invalid"` mostrar√° apenas as respostas que contenham a palavra "Invalid".

Se voc√™ estiver usando um proxy, pode especific√°-lo com o par√¢metro `--proxy`.
```bash
wfuzz -c -w users.txt -w pass.txt -p 127.0.0.1:8080:HTTP --ss "Welcome" --ntlm 'domain\FUZZ:FUZ2Z' "http://example.com/index.php"
```
### Bruteforce de Cookie/Header (vhost brute)

#### **Cookie, c√≥digo de filtro (show), proxy**
```bash
wfuzz -c -w users.txt -p 127.0.0.1:8080:HTTP --ss "Welcome " -H "Cookie:id=1312321&user=FUZZ"  "http://example.com/index.php"
```
#### **User-Agent, c√≥digo de filtro (ocultar), proxy**

O cabe√ßalho User-Agent √© usado para identificar o software que est√° sendo usado para enviar a solicita√ß√£o. √â poss√≠vel alterar o User-Agent para ocultar a identidade do atacante ou para simular uma solicita√ß√£o de um navegador espec√≠fico. 

O c√≥digo de filtro √© usado para ocultar informa√ß√µes confidenciais, como senhas ou tokens de autentica√ß√£o, que podem ser inclu√≠dos na solicita√ß√£o. √â importante garantir que o c√≥digo de filtro esteja funcionando corretamente para evitar vazamentos de informa√ß√µes.

O uso de um proxy pode ajudar a ocultar o endere√ßo IP do atacante e a evitar a detec√ß√£o. No entanto, √© importante escolher um proxy confi√°vel e garantir que ele esteja configurado corretamente.
```bash
wfuzz -c -w user-agents.txt -p 127.0.0.1:8080:HTTP --ss "Welcome " -H "User-Agent: FUZZ"  "http://example.com/index.php"
```
#### **Host (Anfitri√£o)**
```bash
wfuzz -c -w /usr/share/wordlists/SecLists/Discovery/DNS/subdomains-
top1million-20000.txt --hc 400,404,403 -H "Host: FUZZ.example.com" -u 
http://example.com -t 100
```
#### **Usando arquivo**

Para realizar um ataque de for√ßa bruta em verbos HTTP, podemos usar o wfuzz em conjunto com um arquivo que contenha uma lista de verbos HTTP. O wfuzz ir√° iterar sobre cada linha do arquivo e enviar uma requisi√ß√£o HTTP para o alvo usando o verbo especificado na linha atual. 

Para usar um arquivo com verbos HTTP, basta usar a op√ß√£o `-z file,<arquivo>` seguida da URL alvo. Por exemplo:

```
wfuzz -z file,verbs.txt http://example.com/FUZZ
```

Onde `verbs.txt` √© o arquivo que cont√©m a lista de verbos HTTP e `http://example.com/FUZZ` √© a URL alvo com o marcador `FUZZ` indicando onde o wfuzz deve substituir cada linha do arquivo.
```bash
wfuzz -c -w methods.txt -p 127.0.0.1:8080:HTTP --sc 200 -X FUZZ "http://example.com/index.php"
```
#### **Usando lista inline**

Para fornecer uma lista de palavras-chave para o wfuzz, voc√™ pode usar a op√ß√£o `-w` seguida por uma lista de palavras separadas por v√≠rgulas. Por exemplo:

```
wfuzz -c -w wordlist.txt http://example.com/FUZZ
```

Voc√™ tamb√©m pode usar uma lista inline, colocando as palavras-chave entre chaves `{}` e separando-as por v√≠rgulas. Por exemplo:

```
wfuzz -c -w {admin,user,test}{,123}@example.com http://example.com/FUZZ
```

Isso gerar√° as seguintes combina√ß√µes:

```
admin@example.com
user@example.com
test@example.com
admin123@example.com
user123@example.com
test123@example.com
```
```bash
$ wfuzz -z list,GET-HEAD-POST-TRACE-OPTIONS -X FUZZ http://testphp.vulnweb.com/
```
### Bruteforce de Diret√≥rios e Arquivos

#### wfuzz

O wfuzz √© uma ferramenta de bruteforce de diret√≥rios e arquivos que pode ser usada para encontrar arquivos e diret√≥rios ocultos em um site. Ele pode ser usado para testar a seguran√ßa de um site e encontrar vulnerabilidades.

Para usar o wfuzz, voc√™ precisa especificar uma lista de diret√≥rios e arquivos para testar e uma lista de palavras-chave para usar como entrada. O wfuzz ent√£o tentar√° todas as combina√ß√µes poss√≠veis de diret√≥rios, arquivos e palavras-chave para encontrar arquivos e diret√≥rios ocultos.

#### Exemplo de uso

```
wfuzz -c -z file,/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --hc 404 http://example.com/FUZZ
```

Este comando usa o wfuzz para testar a exist√™ncia de diret√≥rios e arquivos ocultos no site http://example.com. Ele usa a lista de diret√≥rios e arquivos em /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt e tenta todas as combina√ß√µes poss√≠veis de diret√≥rios e arquivos com palavras-chave para encontrar arquivos e diret√≥rios ocultos. O par√¢metro --hc 404 √© usado para ignorar as respostas HTTP 404 (n√£o encontradas) e mostrar apenas as respostas HTTP bem-sucedidas.
```bash
#Filter by whitelisting codes
wfuzz -c -z file,/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --sc 200,202,204,301,302,307,403 http://example.com/uploads/FUZZ
```
## Ferramenta para burlar Webs

[https://github.com/carlospolop/fuzzhttpbypass](https://github.com/carlospolop/fuzzhttpbypass)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

- Voc√™ trabalha em uma **empresa de ciberseguran√ßa**? Quer ver sua **empresa anunciada no HackTricks**? ou quer ter acesso √† **√∫ltima vers√£o do PEASS ou baixar o HackTricks em PDF**? Confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!

- Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)

- **Junte-se ao** [**üí¨**](https://emojipedia.org/speech-balloon/) [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Compartilhe seus truques de hacking enviando PRs para o [reposit√≥rio hacktricks](https://github.com/carlospolop/hacktricks) e [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
