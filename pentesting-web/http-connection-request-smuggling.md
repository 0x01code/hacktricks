# HTTP Verbindingsversoek Smokkelary

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Werk jy in 'n **cybersecurity-maatskappy**? Wil jy jou **maatskappy adverteer in HackTricks**? Of wil jy toegang h√™ tot die **nuutste weergawe van die PEASS of laai HackTricks in PDF af**? Kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Sluit aan by die** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacktruuks deur PR's in te dien by die [hacktricks repo](https://github.com/carlospolop/hacktricks) en [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

**Hierdie is 'n opsomming van die berig [https://portswigger.net/research/browser-powered-desync-attacks](https://portswigger.net/research/browser-powered-desync-attacks)**

## Verbindingsstaat Aanvalle <a href="#state" id="state"></a>

### Eerste-versoek Validering

Wanneer versoek gerouteer word, kan omgekeerde proksi√´ afhang van die **Host-kop** om die bestemmingsagterste bediener te bepaal, dikwels met behulp van 'n witlys van gasheername wat toegang toegelaat word. Daar bestaan egter 'n kwesbaarheid in sommige proksi√´ waar die witlys slegs afgedwing word op die aanvanklike versoek in 'n verbinding. Gevolglik kan aanvallers dit uitbuit deur eers 'n versoek na 'n toegelate gasheer te maak en dan 'n interne webwerf deur dieselfde verbinding aan te vra:
```text
GET / HTTP/1.1
Host: [allowed-external-host]

GET / HTTP/1.1
Host: [internal-host]
```
Hierdie kwesbaarheid is gelukkig nie wydverspreid nie.

### Eerste-versoek Roeteverdeling

In sommige konfigurasies kan 'n voorserver die **Host-kop van die eerste versoek** gebruik om die agterste roetering vir daardie versoek te bepaal, en dan al die volgende versoek van dieselfde klientverbinding volhardend na dieselfde agterste verbinding roeteer. Dit kan gedemonstreer word as:
```text
GET / HTTP/1.1
Host: example.com

POST /pwreset HTTP/1.1
Host: psres.net
```
Hierdie probleem kan potensieel gekombineer word met [Host-kop-aanvalle](https://portswigger.net/web-security/host-header), soos wagwoord-herstelvergiftiging of [web-cache-vergiftiging](https://portswigger.net/web-security/web-cache-poisoning), om ander kwesbaarhede uit te buit of ongemagtigde toegang tot addisionele virtuele gasheer te verkry.

{% hint style="info" %}
Om hierdie kwesbaarhede te identifiseer, kan die 'connection-state probe'-funksie in HTTP Request Smuggler gebruik word.
{% endhint %}


<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Werk jy in 'n **cybersecurity-maatskappy**? Wil jy jou **maatskappy geadverteer sien in HackTricks**? Of wil jy toegang h√™ tot die **nuutste weergawe van die PEASS of HackTricks aflaai in PDF-formaat**? Kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Sluit aan by die** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacktruuks deur PR's in te dien by die [hacktricks-repo](https://github.com/carlospolop/hacktricks) en [hacktricks-cloud-repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
