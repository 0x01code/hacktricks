# Preuzimanje naloga

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**PLANOVE ZA PRIJAVU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks suvenir**](https://peass.creator-spring.com)
* Otkrijte [**Porodicu PEASS**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitteru** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## **Problemi sa ovlašćenjem**

Email naloga treba pokušati promeniti, a proces potvrde **mora biti ispitano**. Ako se utvrdi da je **slab**, email treba promeniti u email žrtve i zatim potvrditi.

## **Problemi sa normalizacijom Unicode-a**

1. Nalog namenjene žrtve `victim@gmail.com`
2. Nalog treba kreirati koristeći Unicode\
na primer: `vićtim@gmail.com`

Za više detalja, pogledajte dokument o normalizaciji Unicode-a:

[unicode-normalization.md](unicode-injection/unicode-normalization.md)

## **Ponovna upotreba reset tokena**

Ako ciljni sistem dozvoljava **ponovnu upotrebu reset linka**, treba uložiti napore da se **pronađu dodatni reset linkovi** koristeći alate poput `gau`, `wayback`, ili `scan.io`.

## **Pre preuzimanja naloga**

1. Email žrtve treba koristiti za registraciju na platformi, i postaviti šifru (treba pokušati potvrditi je, iako nedostatak pristupa emailovima žrtve može učiniti ovo nemogućim).
2. Treba sačekati da žrtva se registruje koristeći OAuth i potvrdi nalog.
3. Nadamo se da će se redovna registracija potvrditi, omogućavajući pristup nalogu žrtve.

## **CORS loša konfiguracija za preuzimanje naloga**

Ako stranica sadrži **CORS loše konfiguracije** možda ćete moći **ukrasti osetljive informacije** od korisnika za **preuzimanje njegovog naloga** ili ga naterati da promeni autentifikacione informacije u iste svrhe:

{% content-ref url="cors-bypass.md" %}
[cors-bypass.md](cors-bypass.md)
{% endcontent-ref %}

## **Csrf za preuzimanje naloga**

Ako je stranica ranjiva na CSRF možda ćete moći da naterate **korisnika da promeni svoju šifru**, email ili autentifikaciju kako biste zatim pristupili tome:

{% content-ref url="csrf-cross-site-request-forgery.md" %}
[csrf-cross-site-request-forgery.md](csrf-cross-site-request-forgery.md)
{% endcontent-ref %}

## **XSS za preuzimanje naloga**

Ako pronađete XSS u aplikaciji možda ćete moći da ukradete kolačiće, lokalno skladište, ili informacije sa web stranice koje bi vam omogućile preuzimanje naloga:

{% content-ref url="xss-cross-site-scripting/" %}
[xss-cross-site-scripting](xss-cross-site-scripting/)
{% endcontent-ref %}

## **Isti izvor + Kolačići**

Ako pronađete ograničeni XSS ili preuzimanje poddomena, možete manipulisati kolačićima (fiksirati ih na primer) kako biste pokušali da kompromitujete nalog žrtve:

{% content-ref url="hacking-with-cookies/" %}
[hacking-with-cookies](hacking-with-cookies/)
{% endcontent-ref %}

## **Napad na mehanizam resetovanja šifre**

{% content-ref url="reset-password.md" %}
[reset-password.md](reset-password.md)
{% endcontent-ref %}

## **Manipulacija odgovorom**

Ako se autentifikacioni odgovor može **svedeti na jednostavni boolean pokušajte da promenite false u true** i vidite da li dobijate pristup.

## OAuth za preuzimanje naloga

{% content-ref url="oauth-to-account-takeover.md" %}
[oauth-to-account-takeover.md](oauth-to-account-takeover.md)
{% endcontent-ref %}

## Umetanje zaglavlja domaćina

1. Zaglavlje domaćina se menja prilikom iniciranja zahteva za resetovanje šifre.
2. `X-Forwarded-For` proxy zaglavlje se menja u `attacker.com`.
3. Zaglavlja Domaćina, Referrera i Porekla se istovremeno menjaju u `attacker.com`.
4. Nakon iniciranja resetovanja šifre, a zatim izbora za ponovno slanje emaila, koriste se sva tri navedena metoda.

## Manipulacija odgovorom

1. **Manipulacija koda**: Statusni kod se menja u `200 OK`.
2. **Manipulacija koda i tela**:
* Statusni kod se menja u `200 OK`.
* Telo odgovora se menja u `{"success":true}` ili prazan objekat `{}`.

Ove tehnike manipulacije su efikasne u scenarijima gde se JSON koristi za prenos i prijem podataka.

## Promena emaila trenutne sesije

Iz [ovog izveštaja](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea):

* Napadač zahteva promenu svog emaila sa novim
* Napadač dobija link za potvrdu promene emaila
* Napadač šalje žrtvi link da ga klikne
* Email žrtve se menja na onaj koji je naznačio napadač
* Napad može povratiti šifru i preuzeti nalog

Ovo se takođe desilo u [**ovom izveštaju**](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea).

## Reference

* [https://infosecwriteups.com/firing-8-account-takeover-methods-77e892099050](https://infosecwriteups.com/firing-8-account-takeover-methods-77e892099050)
* [https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea)

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**PLANOVE ZA PRIJAVU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks suvenir**](https://peass.creator-spring.com)
* Otkrijte [**Porodicu PEASS**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitteru** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
