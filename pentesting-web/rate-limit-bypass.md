# 요금 제한 우회

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)를 사용하여 세계에서 가장 **고급** 커뮤니티 도구로 구동되는 **워크플로우를 쉽게 구축**하고 **자동화**할 수 있습니다.\
오늘 바로 액세스하세요:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**를** **팔로우**하세요.
* **Hacking 트릭을 공유하려면** [**HackTricks**](https://github.com/carlospolop/hacktricks) **및** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github 저장소에 PR을 제출**하세요.

</details>

## 요금 제한 우회 기법

### 유사한 엔드포인트 탐색
대상 엔드포인트의 변형인 `/api/v3/sign-up`과 같은 다른 엔드포인트에 대해 무차별 대입 공격을 시도해야 합니다. `/Sing-up`, `/SignUp`, `/singup`, `/api/v1/sign-up`, `/api/sign-up` 등과 같은 대체 옵션도 포함해야 합니다.

### 코드 또는 매개변수에 공백 문자 삽입
코드 또는 매개변수에 `%00`, `%0d%0a`, `%0d`, `%0a`, `%09`, `%0C`, `%20`과 같은 공백 바이트를 삽입하는 것은 유용한 전략일 수 있습니다. 예를 들어, 매개변수를 `code=1234%0a`로 조정하면 이메일 주소에 개행 문자를 추가하여 시도 제한을 우회할 수 있습니다.

### 헤더를 통한 IP 출처 조작
헤더를 수정하여 인식된 IP 출처를 변경하면 IP 기반의 요금 제한을 회피할 수 있습니다. `X-Originating-IP`, `X-Forwarded-For`, `X-Remote-IP`, `X-Remote-Addr`, `X-Client-IP`, `X-Host`, `X-Forwared-Host`와 같은 헤더를 수정하여 다른 IP에서의 요청을 시뮬레이션할 수 있습니다. `X-Forwarded-For`의 여러 인스턴스를 사용하는 것도 조정할 수 있습니다.
```bash
X-Originating-IP: 127.0.0.1
X-Forwarded-For: 127.0.0.1
X-Remote-IP: 127.0.0.1
X-Remote-Addr: 127.0.0.1
X-Client-IP: 127.0.0.1
X-Host: 127.0.0.1
X-Forwared-Host: 127.0.0.1

# Double X-Forwarded-For header example
X-Forwarded-For:
X-Forwarded-For: 127.0.0.1
```
### 다른 헤더 변경하기
사용자 에이전트와 쿠키와 같은 다른 요청 헤더를 변경하는 것이 권장됩니다. 이러한 헤더는 요청 패턴을 식별하고 추적하는 데 사용될 수 있습니다. 이러한 헤더를 변경하면 요청자의 활동을 인식하고 추적하는 것을 방지할 수 있습니다.

### API 게이트웨이 동작 활용하기
일부 API 게이트웨이는 엔드포인트와 매개변수의 조합을 기반으로 한 속도 제한을 적용합니다. 매개변수 값을 다양하게 변화시키거나 요청에 무의미한 매개변수를 추가함으로써 게이트웨이의 속도 제한 로직을 우회할 수 있으며, 이를 통해 각 요청이 고유하게 보일 수 있습니다.
예를 들어 `/resetpwd?someparam=1`입니다.

### 각 시도 전에 계정에 로그인하기
각 시도 또는 일련의 시도 전에 계정에 로그인하는 것은 속도 제한 카운터를 재설정할 수 있습니다. 특히 로그인 기능을 테스트할 때 유용합니다. Burp Suite와 같은 도구에서 Pitchfork 공격을 활용하여 일부 시도마다 자격 증명을 교체하고 리디렉션을 표시하도록 설정하여 속도 제한 카운터를 효과적으로 재시작할 수 있습니다.

### 프록시 네트워크 활용하기
여러 IP 주소에 걸쳐 요청을 분산시키기 위해 프록시 네트워크를 배치하면 IP 기반 속도 제한을 우회할 수 있습니다. 다양한 프록시를 통해 트래픽을 라우팅함으로써 각 요청이 다른 출처에서 시작한 것처럼 보이며, 속도 제한의 효과를 약화시킬 수 있습니다.

### 공격을 다른 계정이나 세션으로 분할하기
대상 시스템이 계정 또는 세션 단위로 속도 제한을 적용하는 경우, 공격이나 테스트를 여러 계정이나 세션으로 분산시키면 감지를 피하는 데 도움이 될 수 있습니다. 이 접근 방식은 여러 신원이나 세션 토큰을 관리해야 하지만, 허용 가능한 제한 내에 유지하기 위해 부하를 분산시킬 수 있습니다.


<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요!</summary>

HackTricks를 지원하는 다른 방법:

* HackTricks에서 **회사 광고를 보거나 PDF로 HackTricks를 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 상품**](https://peass.creator-spring.com)을 구매하세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFT**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter**에서 **팔로우**하세요. 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)
* **HackTricks**와 **HackTricks Cloud** github 저장소에 PR을 제출하여 **자신의 해킹 기법을 공유**하세요.

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)를 사용하여 세계에서 가장 고급스러운 커뮤니티 도구를 활용한 **워크플로우를 쉽게 구축하고 자동화**하세요.
오늘 바로 액세스하세요:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
