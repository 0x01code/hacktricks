# 绕过支付流程

<details>

<summary><strong>从零开始学习AWS黑客技术，成为专家</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS红队专家）</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想看到您的**公司在HackTricks中做广告**或**下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)!
* 获取[**官方PEASS & HackTricks周边产品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFTs**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群**](https://discord.gg/hRep4RUj7f) 或 [**电报群**](https://t.me/peass) 或 **关注**我的**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* 通过向[**HackTricks**](https://github.com/carlospolop/hacktricks)和[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>

<figure><img src="/.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

找到最重要的漏洞，以便更快修复它们。Intruder跟踪您的攻击面，运行主动威胁扫描，发现整个技术堆栈中的问题，从API到Web应用程序和云系统。[**立即免费试用**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks)。

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}

***

## 支付绕过技术

### 请求拦截
在交易过程中，监视客户端和服务器之间交换的数据至关重要。这可以通过拦截所有请求来实现。在这些请求中，要注意具有重要影响的参数，例如：

- **Success**：此参数通常表示交易的状态。
- **Referrer**：可能指向请求来源的源。
- **Callback**：通常用于在交易完成后重定向用户。

### URL分析
如果遇到包含URL的参数，特别是遵循模式_example.com/payment/MD5HASH_的参数，需要进行更仔细的检查。以下是逐步方法：

1. **复制URL**：从参数值中提取URL。
2. **新窗口检查**：在新浏览器窗口中打开复制的URL。这一步骤对于理解交易结果至关重要。

### 参数操纵
1. **更改参数值**：尝试通过更改_Success_、_Referrer_或_Callback_等参数的值来进行实验。例如，将参数从`false`更改为`true`有时可以揭示系统如何处理这些输入。
2. **删除参数**：尝试完全删除某些参数，以查看系统的反应。当缺少预期参数时，某些系统可能具有回退或默认行为。

### Cookie篡改
1. **检查Cookie**：许多网站在Cookie中存储关键信息。检查这些Cookie是否包含与支付状态或用户身份验证相关的任何数据。
2. **修改Cookie值**：更改Cookie中存储的值，并观察网站的响应或行为如何变化。

### 会话劫持
1. **会话令牌**：如果在支付过程中使用会话令牌，请尝试捕获并操纵它们。这可能会揭示会话管理漏洞的见解。

### 响应篡改
1. **拦截响应**：使用工具拦截并分析服务器的响应。查找可能指示成功交易或揭示支付流程中下一步的任何数据。
2. **修改响应**：尝试在浏览器或应用程序处理响应之前修改响应，以模拟成功交易场景。


<figure><img src="/.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

找到最重要的漏洞，以便更快修复它们。Intruder跟踪您的攻击面，运行主动威胁扫描，发现整个技术堆栈中的问题，从API到Web应用程序和云系统。[**立即免费试用**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks)。 

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}

***

<details>

<summary><strong>从零开始学习AWS黑客技术，成为专家</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS红队专家）</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想看到您的**公司在HackTricks中做广告**或**下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)!
* 获取[**官方PEASS & HackTricks周边产品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFTs**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群**](https://discord.gg/hRep4RUj7f) 或 [**电报群**](https://t.me/peass) 或 **关注**我的**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* 通过向[**HackTricks**](https://github.com/carlospolop/hacktricks)和[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>
