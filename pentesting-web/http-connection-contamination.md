# HTTP Bağlantı Kontaminasyonu

<details>

<summary><strong>AWS hacklemeyi sıfırdan kahraman seviyesine öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)**'ı takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>

**Bu, yazının özeti: [https://portswigger.net/research/http-3-connection-contamination](https://portswigger.net/research/http-3-connection-contamination)**. Daha fazla ayrıntı için kontrol edin!

Web tarayıcıları, paylaşılan IP adresleri ve ortak bir TLS sertifikası ile farklı web siteleri için tek bir HTTP/2+ bağlantısını [HTTP bağlantı birleştirme](https://daniel.haxx.se/blog/2016/08/18/http2-connection-coalescing) aracılığıyla yeniden kullanabilir. Bununla birlikte, bu, ters proxy'lerdeki **ilk istek yönlendirmesi** ile çelişebilir, burada ardışık istekler ilk isteğe göre belirlenen arka uca yönlendirilir. Bu yanlış yönlendirme, özellikle joker TLS sertifikaları ve `*.example.com` gibi alan adları ile birleştiğinde güvenlik açıklarına yol açabilir.

Örneğin, `wordpress.example.com` ve `secure.example.com` aynı ters proxy tarafından sunuluyor ve ortak bir joker sertifikası varsa, bir tarayıcının bağlantı birleştirmesi, `secure.example.com` isteklerinin yanlışlıkla WordPress arka ucu tarafından işlenmesine neden olabilir ve XSS gibi güvenlik açıklarını sömürme imkanı sağlar.

Bağlantı birleştirmesini gözlemlemek için Chrome'un Ağ sekmesi veya Wireshark gibi araçlar kullanılabilir. İşte test için bir örnek:
```javascript
fetch('//sub1.hackxor.net/', {mode: 'no-cors', credentials: 'include'}).then(()=>{ fetch('//sub2.hackxor.net/', {mode: 'no-cors', credentials: 'include'}) })
```
Tehdit şu anda ilk istek yönlendirmesinin nadir olması ve HTTP/2'nin karmaşıklığı nedeniyle sınırlıdır. Bununla birlikte, IP adresi eşleme gereksinimini gevşeten HTTP/3'teki önerilen değişiklikler, MITM saldırısı olmadan daha fazla saldırı yüzeyi oluşturabilir ve özellikle joker sertifikası olan sunucuları daha savunmasız hale getirebilir.

En iyi uygulamalar, ters proxylerde ilk istek yönlendirmesinden kaçınmayı ve özellikle HTTP/3'ün ortaya çıkmasıyla joker TLS sertifikalarına dikkat etmeyi içerir. Bu karmaşık, birbirine bağlı zayıflıkların düzenli olarak test edilmesi ve farkında olunması, web güvenliğini korumak için önemlidir.

<details>

<summary><strong>AWS hackleme konusunda sıfırdan kahraman olmak için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>'ı öğrenin!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya HackTricks'i **PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* Hacking hilelerinizi paylaşarak PR'lar göndererek [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
