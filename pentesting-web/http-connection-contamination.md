# Contamination de la connexion HTTP

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert Red Team AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>

**Il s'agit d'un r√©sum√© de l'article : [https://portswigger.net/research/http-3-connection-contamination](https://portswigger.net/research/http-3-connection-contamination)**. Consultez-le pour plus de d√©tails !

Les navigateurs Web peuvent r√©utiliser une seule connexion HTTP/2+ pour diff√©rents sites Web gr√¢ce √† la [coalescence des connexions HTTP](https://daniel.haxx.se/blog/2016/08/18/http2-connection-coalescing), en pr√©sence d'adresses IP partag√©es et d'un certificat TLS commun. Cependant, cela peut entrer en conflit avec le **routage de la premi√®re requ√™te** dans les reverse-proxies, o√π les requ√™tes ult√©rieures sont dirig√©es vers l'arri√®re-plan d√©termin√© par la premi√®re requ√™te. Ce mauvais routage peut entra√Æner des vuln√©rabilit√©s de s√©curit√©, notamment lorsqu'il est combin√© avec des certificats TLS g√©n√©riques et des domaines tels que `*.example.com`.

Par exemple, si `wordpress.example.com` et `secure.example.com` sont tous deux servis par le m√™me reverse proxy et ont un certificat g√©n√©rique commun, la coalescence de connexion du navigateur pourrait amener les requ√™tes vers `secure.example.com` √† √™tre trait√©es √† tort par l'arri√®re-plan WordPress, exploitant des vuln√©rabilit√©s telles que XSS.

Pour observer la coalescence de connexion, l'onglet R√©seau de Chrome ou des outils comme Wireshark peuvent √™tre utilis√©s. Voici un extrait pour les tests :
```javascript
fetch('//sub1.hackxor.net/', {mode: 'no-cors', credentials: 'include'}).then(()=>{ fetch('//sub2.hackxor.net/', {mode: 'no-cors', credentials: 'include'}) })
```
La menace est actuellement limit√©e en raison de la raret√© du routage de la premi√®re requ√™te et de la complexit√© de HTTP/2. Cependant, les changements propos√©s dans HTTP/3, qui assouplissent l'exigence de correspondance des adresses IP, pourraient √©largir la surface d'attaque, rendant les serveurs avec un certificat g√©n√©rique plus vuln√©rables sans n√©cessiter une attaque de l'homme du milieu.

Les meilleures pratiques incluent l'√©vitement du routage de la premi√®re requ√™te dans les proxies inverses et la prudence avec les certificats TLS g√©n√©riques, surtout avec l'av√®nement de HTTP/3. Des tests r√©guliers et une prise de conscience de ces vuln√©rabilit√©s complexes et interconnect√©es sont cruciaux pour maintenir la s√©curit√© web.

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks:

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF** Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** nous sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts github.

</details>
