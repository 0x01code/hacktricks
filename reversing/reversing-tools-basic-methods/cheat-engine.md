<details>

<summary><strong>AWSハッキングをゼロからヒーローまで学ぶには</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見る
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* **HackTricks**のGitHubリポジトリにPRを提出して、あなたのハッキングのコツを共有してください。

</details>


[**Cheat Engine**](https://www.cheatengine.org/downloads.php)は、実行中のゲームのメモリ内に重要な値が保存されている場所を見つけて変更するのに役立つプログラムです。\
ダウンロードして実行すると、ツールの使用方法に関する**チュートリアル**が**表示されます**。このツールの使用方法を学びたい場合は、それを完了することを強くお勧めします。

# 何を探していますか？

![](<../../.gitbook/assets/image (580).png>)

このツールは、プログラムのメモリ内に**ある値**（通常は数字）が**どこに保存されているか**を見つけるのに非常に役立ちます。\
**通常、数字**は**4バイト**形式で保存されますが、**ダブル**や**フロート**形式で見つかることもありますし、数字**以外のもの**を探したい場合もあります。そのため、何を**検索するか**を選択する必要があります：

![](<../../.gitbook/assets/image (581).png>)

また、**異なる**タイプの**検索**を指定することもできます：

![](<../../.gitbook/assets/image (582).png>)

メモリをスキャンしている間にゲームを**停止する**ためのチェックボックスもあります：

![](<../../.gitbook/assets/image (584).png>)

## ホットキー

_**編集 --> 設定 --> ホットキー**_ で、ゲームを**停止する**などの異なる目的のための**ホットキー**を設定できます。他のオプションも利用可能です：

![](<../../.gitbook/assets/image (583).png>)

# 値の変更

**見つけた**値を**探している**場所（次のステップで詳しく説明します）をダブルクリックして、その値をダブルクリックして**変更する**ことができます：

![](<../../.gitbook/assets/image (585).png>)

そして、最後にチェックを**マークして**メモリに変更を適用します：

![](<../../.gitbook/assets/image (586).png>)

メモリへの**変更**は即座に**適用されます**（ゲームがこの値を再び使用するまで、ゲーム内の値は**更新されません**）。

# 値の検索

したがって、ユーザーのライフのような重要な値を改善したいと考えており、その値をメモリで探しているとします。

## 既知の変更を通じて

値100を探しているとしましょう。スキャンを**実行**してその値を探し、多くの一致を見つけます：

![](<../../.gitbook/assets/image (587).png>)

次に、**値が変更される**ようなことをして、ゲームを**停止**して、**次のスキャン**を**実行**します：

![](<../../.gitbook/assets/image (588).png>)

Cheat Engineは、100から新しい値に**変わった値**を検索します。おめでとうございます、探していた値の**アドレス**を**見つけました**。これで変更できます。\
_まだいくつかの値がある場合は、その値を再度変更する何かをして、別の「次のスキャン」を実行してアドレスをフィルタリングします。_

## 未知の値、既知の変更

**値がわからない**が、**それを変更する方法を知っている**場合（変更の値さえも）、その数値を探すことができます。

まず、「**未知の初期値**」のタイプでスキャンを実行します：

![](<../../.gitbook/assets/image (589).png>)

次に、値を変更し、**値がどのように変更されたか**を指定し（私の場合は1減少しました）、**次のスキャン**を実行します：

![](<../../.gitbook/assets/image (590).png>)

選択した方法で**変更されたすべての値**が表示されます：

![](<../../.gitbook/assets/image (591).png>)

値を見つけたら、それを変更できます。

**多くの可能な変更**があり、結果をフィルタリングするためにこれらの**ステップを何度でも実行できる**ことに注意してください：

![](<../../.gitbook/assets/image (592).png>)

## ランダムメモリアドレス - コードの検索

これまでに、値を保存しているアドレスを見つける方法を学びましたが、**ゲームの異なる実行ではそのアドレスがメモリの異なる場所にある**可能性が高いです。では、そのアドレスを常に見つける方法を見てみましょう。

前述のトリックのいくつかを使用して、現在のゲームが重要な値を保存しているアドレスを見つけます。次に（ゲームを停止したい場合は停止して）、見つかった**アドレス**を右クリックして、「**このアドレスにアクセスするものを見つける**」または「**このアドレスに書き込むものを見つける**」を選択します：

![](<../../.gitbook/assets/image (593).png>)

**最初のオプション**は、この**アドレス**を**使用しているコード**の**部分**を知るのに役立ちます（ゲームのコードを**変更する場所**など、より多くのことに役立ちます）。\
**2番目のオプション**はより**具体的**で、この場合はこの値が**どこから書き込まれているか**を知ることに興味があるため、より役立ちます。

これらのオプションのいずれかを選択すると、**デバッガー**がプログラムに**アタッチ**され、新しい**空のウィンドウ**が表示されます。今、**ゲームをプレイ**してその**値を変更**してください（ゲームを再起動せずに）。**ウィンドウ**は、値を**変更しているアドレス**で**埋め尽くされる**はずです：

![](<../../.gitbook/assets/image (594).png>)

値を変更しているアドレスが見つかったら、**自由にコードを変更できます**（Cheat EngineではNOPsをすばやく変更することができます）：

![](<../../.gitbook/assets/image (595).png>)

したがって、コードがあなたの数値に影響を与えないように、または常に肯定的な方法で影響を与えるように変更できます。

## ランダムメモリアドレス - ポインターの検索

前のステップに従って、興味のある値がどこにあるかを見つけます。次に、「**このアドレスに書き込むものを見つける**」を使用して、この値に書き込むアドレスを見つけ、ディスアセンブリビューを取得するためにダブルクリックします：

![](<../../.gitbook/assets/image (596).png>)

次に、「\[]」の間の16進数の値を**検索する**ために新しいスキャンを実行します（この場合は$edxの値）：

![](<../../.gitbook/assets/image (597).png>)

（_複数表示される場合は、通常はアドレスが最小のものが必要です_）\
これで、興味のある値を変更する**ポインターを見つけました**。

「**手動でアドレスを追加**」をクリックします：

![](<../../.gitbook/assets/image (598).png>)

次に、「ポインター」のチェックボックスをクリックし、テキストボックスに見つかったアドレスを追加します（このシナリオでは、前の画像で見つかったアドレスは「Tutorial-i386.exe」+2426B0でした）：

![](<../../.gitbook/assets/image (599).png>)

（最初の「アドレス」は、あなたが導入するポインターアドレスから自動的に生成されることに注意してください）

OKをクリックすると、新しいポインターが作成されます：

![](<../../.gitbook/assets/image (600).png>)

これで、値が保存されているメモリアドレスが異なる場合でも、その値を変更するたびに**重要な値を変更しています。**

## コードインジェクション

コードインジェクションは、ターゲットプロセスにコードの一部を注入し、実行されるコードのルートを変更して、自分で書いたコードを通過させる技術です（ポイントを減らす代わりに与えるなど）。

プレイヤーのライフから1を引くアドレスを見つけたと想像してください：

![](<../../.gitbook/assets/image (601).png>)

**ディスアセンブルコード**を取得するには、ディスアセンブラを表示をクリックします。\
次に、**CTRL+a**を押してオートアセンブルウィンドウを呼び出し、_**テンプレート --> コードインジェクション**_ を選択します

![](<../../.gitbook/assets/image (602).png>)

変更したい命令の**アドレスを記入**します（これは通常自動的に記入されます）：

![](<../../.gitbook/assets/image (603).png>)

テンプレートが生成されます：

![](<../../.gitbook/assets/image (604).png>)

したがって、「**newmem**」セクションに新しいアセンブリコードを挿入し、「**originalcode**」から元のコードを削除します（実行されたくない場合）。この例では、注入されたコードは1を引く代わりに2ポイントを追加します：

![](<../../.gitbook/assets/image (605).png>)

**実行をクリックして続行すると、プログラムの機能の動作が変更されたコードがプログラムに注入されるはずです！**

# **参考文献**

* **Cheat Engineチュートリアル、Cheat Engineの使い方を学ぶために完了してください**



<details>

<summary><strong>AWSハッキングをゼロからヒーローまで学ぶには</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見る
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* **HackTricks**のGitHubリポジトリにPRを提出して、あなたのハッキングのコツを共有してください。

</details>
